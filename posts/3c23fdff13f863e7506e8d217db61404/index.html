<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>HECI-Securtiy 防火墙路由技术 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="HECI-Securtiy 防火墙路由技术" />
<meta property="og:description" content="目录
一、防火墙路由基本原理
1.路由分类
2.路由优先级
3.路由查询先后顺序
4.静态路由基本原理
（1）指定出接口场景
（2）指定下一跳地址场景
5.静态路由与多出口
（1）主备备份
（2）均衡式负载分担
（3）溢出式负载分担
二、逐流与逐包报文分担方式
三、OSPF链路状态路由协议
1.基本原理
2.OSPF的优点
3.网络类型
4.各网络类型拓扑
5.OSPF认证
（1）两种验证方式
（2）支持的验证模式按加密算法不同分为
四、BGP路由协议
1.介绍
2.特点
3.自治系统（Autonomous System）
4.BGP的运行方式
5.BGP的报文类型
6.BGP状态机
7.BGP通告原则
8.BGP路径属性
9常见BGP路由属性
五、策略路由
1.原理
2.策略路由支持的匹配过程
（1）匹配条件
（2）匹配后的动作
3.智能选路基本原理
4.ISP选路基本原理
五、命令配置
1.配置多出口：主备模式
2.配置多出口：均衡负载分担
3.配置多出口：溢出式负载分担
4.配置OSPF基本功能
（1）配置route id
（2）配置区域及宣告网络
（3）配置接口类型及开销
（4）通告默认路由，强制通告默认路由
（5）配置安全策略
5.配置OSPF高级功能
（1）配置vlink-peer
（2）配置ABR汇总
（3）配置ASBR汇总
（4）配置认证
6.配置BGP基本功能
（1）配置IBGP对等体
（2）配置EBGP对待体，配置认证
（3）宣告路由引入路由
7.配置BGP高级功能
（1）配置BGP反射器
（2）配置BGP路由过滤
（3）配置BGP属性
8.配置策略路由
（1）配置IPlink
（2）配置策略路由
9.配置ISP选路
一、防火墙路由基本原理 1.路由分类 （1）策略路由、智能选路" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/3c23fdff13f863e7506e8d217db61404/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-08-10T20:32:03+08:00" />
<meta property="article:modified_time" content="2023-08-10T20:32:03+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">HECI-Securtiy 防火墙路由技术</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E4%B8%80%E3%80%81%E9%98%B2%E7%81%AB%E5%A2%99%E8%B7%AF%E7%94%B1%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81%E9%98%B2%E7%81%AB%E5%A2%99%E8%B7%AF%E7%94%B1%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86" rel="nofollow">一、防火墙路由基本原理</a></p> 
<p id="1.%E8%B7%AF%E7%94%B1%E5%88%86%E7%B1%BB-toc" style="margin-left:40px;"><a href="#1.%E8%B7%AF%E7%94%B1%E5%88%86%E7%B1%BB" rel="nofollow">1.路由分类</a></p> 
<p id="2.%E8%B7%AF%E7%94%B1%E4%BC%98%E5%85%88%E7%BA%A7-toc" style="margin-left:40px;"><a href="#2.%E8%B7%AF%E7%94%B1%E4%BC%98%E5%85%88%E7%BA%A7" rel="nofollow">2.路由优先级</a></p> 
<p id="3.%E8%B7%AF%E7%94%B1%E6%9F%A5%E8%AF%A2%E5%85%88%E5%90%8E%E9%A1%BA%E5%BA%8F-toc" style="margin-left:40px;"><a href="#3.%E8%B7%AF%E7%94%B1%E6%9F%A5%E8%AF%A2%E5%85%88%E5%90%8E%E9%A1%BA%E5%BA%8F" rel="nofollow">3.路由查询先后顺序</a></p> 
<p id="4.%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-toc" style="margin-left:40px;"><a href="#4.%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86" rel="nofollow">4.静态路由基本原理</a></p> 
<p id="%EF%BC%881%EF%BC%89%E6%8C%87%E5%AE%9A%E5%87%BA%E6%8E%A5%E5%8F%A3%E5%9C%BA%E6%99%AF-toc" style="margin-left:80px;"><a href="#%EF%BC%881%EF%BC%89%E6%8C%87%E5%AE%9A%E5%87%BA%E6%8E%A5%E5%8F%A3%E5%9C%BA%E6%99%AF" rel="nofollow">（1）指定出接口场景</a></p> 
<p id="%EF%BC%882%EF%BC%89%E6%8C%87%E5%AE%9A%E4%B8%8B%E4%B8%80%E8%B7%B3%E5%9C%B0%E5%9D%80%E5%9C%BA%E6%99%AF-toc" style="margin-left:80px;"><a href="#%EF%BC%882%EF%BC%89%E6%8C%87%E5%AE%9A%E4%B8%8B%E4%B8%80%E8%B7%B3%E5%9C%B0%E5%9D%80%E5%9C%BA%E6%99%AF" rel="nofollow">（2）指定下一跳地址场景</a></p> 
<p id="5.%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E4%B8%8E%E5%A4%9A%E5%87%BA%E5%8F%A3-toc" style="margin-left:40px;"><a href="#5.%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E4%B8%8E%E5%A4%9A%E5%87%BA%E5%8F%A3" rel="nofollow">5.静态路由与多出口</a></p> 
<p id="%EF%BC%881%EF%BC%89%E4%B8%BB%E5%A4%87%E5%A4%87%E4%BB%BD-toc" style="margin-left:80px;"><a href="#%EF%BC%881%EF%BC%89%E4%B8%BB%E5%A4%87%E5%A4%87%E4%BB%BD" rel="nofollow">（1）主备备份</a></p> 
<p id="%EF%BC%882%EF%BC%89%E5%9D%87%E8%A1%A1%E5%BC%8F%E8%B4%9F%E8%BD%BD%E5%88%86%E6%8B%85-toc" style="margin-left:80px;"><a href="#%EF%BC%882%EF%BC%89%E5%9D%87%E8%A1%A1%E5%BC%8F%E8%B4%9F%E8%BD%BD%E5%88%86%E6%8B%85" rel="nofollow">（2）均衡式负载分担</a></p> 
<p id="%EF%BC%883%EF%BC%89%E6%BA%A2%E5%87%BA%E5%BC%8F%E8%B4%9F%E8%BD%BD%E5%88%86%E6%8B%85-toc" style="margin-left:80px;"><a href="#%EF%BC%883%EF%BC%89%E6%BA%A2%E5%87%BA%E5%BC%8F%E8%B4%9F%E8%BD%BD%E5%88%86%E6%8B%85" rel="nofollow">（3）溢出式负载分担</a></p> 
<p id="%E4%BA%8C%E3%80%81%E9%80%90%E6%B5%81%E4%B8%8E%E9%80%90%E5%8C%85%E6%8A%A5%E6%96%87%E5%88%86%E6%8B%85%E6%96%B9%E5%BC%8F-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81%E9%80%90%E6%B5%81%E4%B8%8E%E9%80%90%E5%8C%85%E6%8A%A5%E6%96%87%E5%88%86%E6%8B%85%E6%96%B9%E5%BC%8F" rel="nofollow">二、逐流与逐包报文分担方式</a></p> 
<p id="%E4%B8%89%E3%80%81OSPF%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81OSPF%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE" rel="nofollow">三、OSPF链路状态路由协议</a></p> 
<p id="1.%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-toc" style="margin-left:40px;"><a href="#1.%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86" rel="nofollow">1.基本原理</a></p> 
<p id="2.OSPF%E7%9A%84%E4%BC%98%E7%82%B9-toc" style="margin-left:40px;"><a href="#2.OSPF%E7%9A%84%E4%BC%98%E7%82%B9" rel="nofollow">2.OSPF的优点</a></p> 
<p id="3.%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B-toc" style="margin-left:40px;"><a href="#3.%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B" rel="nofollow">3.网络类型</a></p> 
<p id="4.%E5%90%84%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B%E6%8B%93%E6%89%91-toc" style="margin-left:40px;"><a href="#4.%E5%90%84%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B%E6%8B%93%E6%89%91" rel="nofollow">4.各网络类型拓扑</a></p> 
<p id="5.OSPF%E8%AE%A4%E8%AF%81-toc" style="margin-left:40px;"><a href="#5.OSPF%E8%AE%A4%E8%AF%81" rel="nofollow">5.OSPF认证</a></p> 
<p id="%EF%BC%881%EF%BC%89%E4%B8%A4%E7%A7%8D%E9%AA%8C%E8%AF%81%E6%96%B9%E5%BC%8F-toc" style="margin-left:80px;"><a href="#%EF%BC%881%EF%BC%89%E4%B8%A4%E7%A7%8D%E9%AA%8C%E8%AF%81%E6%96%B9%E5%BC%8F" rel="nofollow">（1）两种验证方式</a></p> 
<p id="%EF%BC%882%EF%BC%89%E6%94%AF%E6%8C%81%E7%9A%84%E9%AA%8C%E8%AF%81%E6%A8%A1%E5%BC%8F%E6%8C%89%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95%E4%B8%8D%E5%90%8C%E5%88%86%E4%B8%BA-toc" style="margin-left:80px;"><a href="#%EF%BC%882%EF%BC%89%E6%94%AF%E6%8C%81%E7%9A%84%E9%AA%8C%E8%AF%81%E6%A8%A1%E5%BC%8F%E6%8C%89%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95%E4%B8%8D%E5%90%8C%E5%88%86%E4%B8%BA" rel="nofollow">（2）支持的验证模式按加密算法不同分为</a></p> 
<p id="%E5%9B%9B%E3%80%81BGP%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81BGP%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE" rel="nofollow">四、BGP路由协议</a></p> 
<p id="1.%E4%BB%8B%E7%BB%8D-toc" style="margin-left:40px;"><a href="#1.%E4%BB%8B%E7%BB%8D" rel="nofollow">1.介绍</a></p> 
<p id="2.%E7%89%B9%E7%82%B9-toc" style="margin-left:40px;"><a href="#2.%E7%89%B9%E7%82%B9" rel="nofollow">2.特点</a></p> 
<p id="3.%E8%87%AA%E6%B2%BB%E7%B3%BB%E7%BB%9F%EF%BC%88Autonomous%20System%EF%BC%89-toc" style="margin-left:40px;"><a href="#3.%E8%87%AA%E6%B2%BB%E7%B3%BB%E7%BB%9F%EF%BC%88Autonomous%20System%EF%BC%89" rel="nofollow">3.自治系统（Autonomous System）</a></p> 
<p id="4.BGP%E7%9A%84%E8%BF%90%E8%A1%8C%E6%96%B9%E5%BC%8F-toc" style="margin-left:40px;"><a href="#4.BGP%E7%9A%84%E8%BF%90%E8%A1%8C%E6%96%B9%E5%BC%8F" rel="nofollow">4.BGP的运行方式</a></p> 
<p id="5.BGP%E7%9A%84%E6%8A%A5%E6%96%87%E7%B1%BB%E5%9E%8B-toc" style="margin-left:40px;"><a href="#5.BGP%E7%9A%84%E6%8A%A5%E6%96%87%E7%B1%BB%E5%9E%8B" rel="nofollow">5.BGP的报文类型</a></p> 
<p id="6.BGP%E7%8A%B6%E6%80%81%E6%9C%BA-toc" style="margin-left:40px;"><a href="#6.BGP%E7%8A%B6%E6%80%81%E6%9C%BA" rel="nofollow">6.BGP状态机</a></p> 
<p id="7.BGP%E9%80%9A%E5%91%8A%E5%8E%9F%E5%88%99-toc" style="margin-left:40px;"><a href="#7.BGP%E9%80%9A%E5%91%8A%E5%8E%9F%E5%88%99" rel="nofollow">7.BGP通告原则</a></p> 
<p id="8.BGP%E8%B7%AF%E5%BE%84%E5%B1%9E%E6%80%A7-toc" style="margin-left:40px;"><a href="#8.BGP%E8%B7%AF%E5%BE%84%E5%B1%9E%E6%80%A7" rel="nofollow">8.BGP路径属性</a></p> 
<p id="9%E5%B8%B8%E8%A7%81BGP%E8%B7%AF%E7%94%B1%E5%B1%9E%E6%80%A7-toc" style="margin-left:40px;"><a href="#9%E5%B8%B8%E8%A7%81BGP%E8%B7%AF%E7%94%B1%E5%B1%9E%E6%80%A7" rel="nofollow">9常见BGP路由属性</a></p> 
<p id="%E4%BA%94%E3%80%81%E7%AD%96%E7%95%A5%E8%B7%AF%E7%94%B1-toc" style="margin-left:0px;"><a href="#%E4%BA%94%E3%80%81%E7%AD%96%E7%95%A5%E8%B7%AF%E7%94%B1" rel="nofollow">五、策略路由</a></p> 
<p id="1.%E5%8E%9F%E7%90%86-toc" style="margin-left:40px;"><a href="#1.%E5%8E%9F%E7%90%86" rel="nofollow">1.原理</a></p> 
<p id="2.%E7%AD%96%E7%95%A5%E8%B7%AF%E7%94%B1%E6%94%AF%E6%8C%81%E7%9A%84%E5%8C%B9%E9%85%8D%E8%BF%87%E7%A8%8B-toc" style="margin-left:40px;"><a href="#2.%E7%AD%96%E7%95%A5%E8%B7%AF%E7%94%B1%E6%94%AF%E6%8C%81%E7%9A%84%E5%8C%B9%E9%85%8D%E8%BF%87%E7%A8%8B" rel="nofollow">2.策略路由支持的匹配过程</a></p> 
<p id="%EF%BC%881%EF%BC%89%E5%8C%B9%E9%85%8D%E6%9D%A1%E4%BB%B6-toc" style="margin-left:80px;"><a href="#%EF%BC%881%EF%BC%89%E5%8C%B9%E9%85%8D%E6%9D%A1%E4%BB%B6" rel="nofollow">（1）匹配条件</a></p> 
<p id="%EF%BC%882%EF%BC%89%E5%8C%B9%E9%85%8D%E5%90%8E%E7%9A%84%E5%8A%A8%E4%BD%9C-toc" style="margin-left:80px;"><a href="#%EF%BC%882%EF%BC%89%E5%8C%B9%E9%85%8D%E5%90%8E%E7%9A%84%E5%8A%A8%E4%BD%9C" rel="nofollow">（2）匹配后的动作</a></p> 
<p id="3.%E6%99%BA%E8%83%BD%E9%80%89%E8%B7%AF%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-toc" style="margin-left:40px;"><a href="#3.%E6%99%BA%E8%83%BD%E9%80%89%E8%B7%AF%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86" rel="nofollow">3.智能选路基本原理</a></p> 
<p id="4.ISP%E9%80%89%E8%B7%AF%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86-toc" style="margin-left:40px;"><a href="#4.ISP%E9%80%89%E8%B7%AF%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86" rel="nofollow">4.ISP选路基本原理</a></p> 
<p id="%E4%BA%94%E3%80%81%E5%91%BD%E4%BB%A4%E9%85%8D%E7%BD%AE-toc" style="margin-left:0px;"><a href="#%E4%BA%94%E3%80%81%E5%91%BD%E4%BB%A4%E9%85%8D%E7%BD%AE" rel="nofollow">五、命令配置</a></p> 
<p id="1.%E9%85%8D%E7%BD%AE%E5%A4%9A%E5%87%BA%E5%8F%A3%EF%BC%9A%E4%B8%BB%E5%A4%87%E6%A8%A1%E5%BC%8F-toc" style="margin-left:40px;"><a href="#1.%E9%85%8D%E7%BD%AE%E5%A4%9A%E5%87%BA%E5%8F%A3%EF%BC%9A%E4%B8%BB%E5%A4%87%E6%A8%A1%E5%BC%8F" rel="nofollow">1.配置多出口：主备模式</a></p> 
<p id="2.%E9%85%8D%E7%BD%AE%E5%A4%9A%E5%87%BA%E5%8F%A3%EF%BC%9A%E5%9D%87%E8%A1%A1%E8%B4%9F%E8%BD%BD%E5%88%86%E6%8B%85-toc" style="margin-left:40px;"><a href="#2.%E9%85%8D%E7%BD%AE%E5%A4%9A%E5%87%BA%E5%8F%A3%EF%BC%9A%E5%9D%87%E8%A1%A1%E8%B4%9F%E8%BD%BD%E5%88%86%E6%8B%85" rel="nofollow">2.配置多出口：均衡负载分担</a></p> 
<p id="3.%E9%85%8D%E7%BD%AE%E5%A4%9A%E5%87%BA%E5%8F%A3%EF%BC%9A%E6%BA%A2%E5%87%BA%E5%BC%8F%E8%B4%9F%E8%BD%BD%E5%88%86%E6%8B%85-toc" style="margin-left:40px;"><a href="#3.%E9%85%8D%E7%BD%AE%E5%A4%9A%E5%87%BA%E5%8F%A3%EF%BC%9A%E6%BA%A2%E5%87%BA%E5%BC%8F%E8%B4%9F%E8%BD%BD%E5%88%86%E6%8B%85" rel="nofollow">3.配置多出口：溢出式负载分担</a></p> 
<p id="4.%E9%85%8D%E7%BD%AEOSPF%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD-toc" style="margin-left:40px;"><a href="#4.%E9%85%8D%E7%BD%AEOSPF%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD" rel="nofollow">4.配置OSPF基本功能</a></p> 
<p id="%EF%BC%881%EF%BC%89%E9%85%8D%E7%BD%AEroute%20id-toc" style="margin-left:80px;"><a href="#%EF%BC%881%EF%BC%89%E9%85%8D%E7%BD%AEroute%20id" rel="nofollow">（1）配置route id</a></p> 
<p id="%EF%BC%882%EF%BC%89%E9%85%8D%E7%BD%AE%E5%8C%BA%E5%9F%9F%E5%8F%8A%E5%AE%A3%E5%91%8A%E7%BD%91%E7%BB%9C-toc" style="margin-left:80px;"><a href="#%EF%BC%882%EF%BC%89%E9%85%8D%E7%BD%AE%E5%8C%BA%E5%9F%9F%E5%8F%8A%E5%AE%A3%E5%91%8A%E7%BD%91%E7%BB%9C" rel="nofollow">（2）配置区域及宣告网络</a></p> 
<p id="%EF%BC%883%EF%BC%89%E9%85%8D%E7%BD%AE%E6%8E%A5%E5%8F%A3%E7%B1%BB%E5%9E%8B%E5%8F%8A%E5%BC%80%E9%94%80-toc" style="margin-left:80px;"><a href="#%EF%BC%883%EF%BC%89%E9%85%8D%E7%BD%AE%E6%8E%A5%E5%8F%A3%E7%B1%BB%E5%9E%8B%E5%8F%8A%E5%BC%80%E9%94%80" rel="nofollow">（3）配置接口类型及开销</a></p> 
<p id="%EF%BC%884%EF%BC%89%E9%80%9A%E5%91%8A%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1%EF%BC%8C%E5%BC%BA%E5%88%B6%E9%80%9A%E5%91%8A%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1-toc" style="margin-left:80px;"><a href="#%EF%BC%884%EF%BC%89%E9%80%9A%E5%91%8A%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1%EF%BC%8C%E5%BC%BA%E5%88%B6%E9%80%9A%E5%91%8A%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1" rel="nofollow">（4）通告默认路由，强制通告默认路由</a></p> 
<p id="%EF%BC%885%EF%BC%89%E9%85%8D%E7%BD%AE%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5-toc" style="margin-left:80px;"><a href="#%EF%BC%885%EF%BC%89%E9%85%8D%E7%BD%AE%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5" rel="nofollow">（5）配置安全策略</a></p> 
<p id="5.%E9%85%8D%E7%BD%AEOSPF%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD-toc" style="margin-left:40px;"><a href="#5.%E9%85%8D%E7%BD%AEOSPF%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD" rel="nofollow">5.配置OSPF高级功能</a></p> 
<p id="%EF%BC%881%EF%BC%89%E9%85%8D%E7%BD%AEvlink-peer-toc" style="margin-left:80px;"><a href="#%EF%BC%881%EF%BC%89%E9%85%8D%E7%BD%AEvlink-peer" rel="nofollow">（1）配置vlink-peer</a></p> 
<p id="%EF%BC%882%EF%BC%89%E9%85%8D%E7%BD%AEABR%E6%B1%87%E6%80%BB-toc" style="margin-left:80px;"><a href="#%EF%BC%882%EF%BC%89%E9%85%8D%E7%BD%AEABR%E6%B1%87%E6%80%BB" rel="nofollow">（2）配置ABR汇总</a></p> 
<p id="%EF%BC%883%EF%BC%89%E9%85%8D%E7%BD%AEASBR%E6%B1%87%E6%80%BB-toc" style="margin-left:80px;"><a href="#%EF%BC%883%EF%BC%89%E9%85%8D%E7%BD%AEASBR%E6%B1%87%E6%80%BB" rel="nofollow">（3）配置ASBR汇总</a></p> 
<p id="%EF%BC%884%EF%BC%89%E9%85%8D%E7%BD%AE%E8%AE%A4%E8%AF%81-toc" style="margin-left:80px;"><a href="#%EF%BC%884%EF%BC%89%E9%85%8D%E7%BD%AE%E8%AE%A4%E8%AF%81" rel="nofollow">（4）配置认证</a></p> 
<p id="6.%E9%85%8D%E7%BD%AEBGP%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD-toc" style="margin-left:40px;"><a href="#6.%E9%85%8D%E7%BD%AEBGP%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD" rel="nofollow">6.配置BGP基本功能</a></p> 
<p id="%EF%BC%881%EF%BC%89%E9%85%8D%E7%BD%AEIBGP%E5%AF%B9%E7%AD%89%E4%BD%93-toc" style="margin-left:80px;"><a href="#%EF%BC%881%EF%BC%89%E9%85%8D%E7%BD%AEIBGP%E5%AF%B9%E7%AD%89%E4%BD%93" rel="nofollow">（1）配置IBGP对等体</a></p> 
<p id="%EF%BC%882%EF%BC%89%E9%85%8D%E7%BD%AEEBGP%E5%AF%B9%E5%BE%85%E4%BD%93%EF%BC%8C%E9%85%8D%E7%BD%AE%E8%AE%A4%E8%AF%81-toc" style="margin-left:80px;"><a href="#%EF%BC%882%EF%BC%89%E9%85%8D%E7%BD%AEEBGP%E5%AF%B9%E5%BE%85%E4%BD%93%EF%BC%8C%E9%85%8D%E7%BD%AE%E8%AE%A4%E8%AF%81" rel="nofollow">（2）配置EBGP对待体，配置认证</a></p> 
<p id="%EF%BC%883%EF%BC%89%E5%AE%A3%E5%91%8A%E8%B7%AF%E7%94%B1%E5%BC%95%E5%85%A5%E8%B7%AF%E7%94%B1-toc" style="margin-left:80px;"><a href="#%EF%BC%883%EF%BC%89%E5%AE%A3%E5%91%8A%E8%B7%AF%E7%94%B1%E5%BC%95%E5%85%A5%E8%B7%AF%E7%94%B1" rel="nofollow">（3）宣告路由引入路由</a></p> 
<p id="7.%E9%85%8D%E7%BD%AEBGP%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD-toc" style="margin-left:40px;"><a href="#7.%E9%85%8D%E7%BD%AEBGP%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD" rel="nofollow">7.配置BGP高级功能</a></p> 
<p id="%EF%BC%881%EF%BC%89%E9%85%8D%E7%BD%AEBGP%E5%8F%8D%E5%B0%84%E5%99%A8-toc" style="margin-left:80px;"><a href="#%EF%BC%881%EF%BC%89%E9%85%8D%E7%BD%AEBGP%E5%8F%8D%E5%B0%84%E5%99%A8" rel="nofollow">（1）配置BGP反射器</a></p> 
<p id="%EF%BC%882%EF%BC%89%E9%85%8D%E7%BD%AEBGP%E8%B7%AF%E7%94%B1%E8%BF%87%E6%BB%A4-toc" style="margin-left:80px;"><a href="#%EF%BC%882%EF%BC%89%E9%85%8D%E7%BD%AEBGP%E8%B7%AF%E7%94%B1%E8%BF%87%E6%BB%A4" rel="nofollow">（2）配置BGP路由过滤</a></p> 
<p id="%EF%BC%883%EF%BC%89%E9%85%8D%E7%BD%AEBGP%E5%B1%9E%E6%80%A7-toc" style="margin-left:80px;"><a href="#%EF%BC%883%EF%BC%89%E9%85%8D%E7%BD%AEBGP%E5%B1%9E%E6%80%A7" rel="nofollow">（3）配置BGP属性</a></p> 
<p id="8.%E9%85%8D%E7%BD%AE%E7%AD%96%E7%95%A5%E8%B7%AF%E7%94%B1-toc" style="margin-left:0px;"><a href="#8.%E9%85%8D%E7%BD%AE%E7%AD%96%E7%95%A5%E8%B7%AF%E7%94%B1" rel="nofollow">8.配置策略路由</a></p> 
<p id="%EF%BC%881%EF%BC%89%E9%85%8D%E7%BD%AEIPlink-toc" style="margin-left:80px;"><a href="#%EF%BC%881%EF%BC%89%E9%85%8D%E7%BD%AEIPlink" rel="nofollow">（1）配置IPlink</a></p> 
<p id="%EF%BC%882%EF%BC%89%E9%85%8D%E7%BD%AE%E7%AD%96%E7%95%A5%E8%B7%AF%E7%94%B1-toc" style="margin-left:80px;"><a href="#%EF%BC%882%EF%BC%89%E9%85%8D%E7%BD%AE%E7%AD%96%E7%95%A5%E8%B7%AF%E7%94%B1" rel="nofollow">（2）配置策略路由</a></p> 
<p id="9.%E9%85%8D%E7%BD%AEISP%E9%80%89%E8%B7%AF-toc" style="margin-left:40px;"><a href="#9.%E9%85%8D%E7%BD%AEISP%E9%80%89%E8%B7%AF" rel="nofollow">9.配置ISP选路</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E4%B8%80%E3%80%81%E9%98%B2%E7%81%AB%E5%A2%99%E8%B7%AF%E7%94%B1%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86">一、防火墙路由基本原理</h2> 
<h3 id="1.%E8%B7%AF%E7%94%B1%E5%88%86%E7%B1%BB">1.路由分类</h3> 
<p>（1）策略路由、智能选路</p> 
<p>（2）静态路由、静态路由多出口</p> 
<p>（3）动态路由</p> 
<p>按作用范围分</p> 
<p>IGP路由：RIP,OSPF,ISIS</p> 
<p>EGP路由：BGP</p> 
<p>按使用算法分</p> 
<p>链路状态协议：OSPF,ISIS</p> 
<p>距离矢量协议：RIP,BGP</p> 
<p></p> 
<h3 id="2.%E8%B7%AF%E7%94%B1%E4%BC%98%E5%85%88%E7%BA%A7">2.路由优先级</h3> 
<table><tbody><tr><td> <p>协议</p> </td><td> <p>优先级</p> </td></tr><tr><td> <p>DIRECT</p> </td><td> <p>0</p> </td></tr><tr><td> <p>OSPF</p> </td><td> <p>10</p> </td></tr><tr><td> <p>IS-IS</p> </td><td> <p>15</p> </td></tr><tr><td> <p>STATIC</p> </td><td> <p>60</p> </td></tr><tr><td> <p>RIP</p> </td><td> <p>100</p> </td></tr><tr><td> <p>OSPF ASE</p> </td><td> <p>150</p> </td></tr><tr><td> <p>OSPF NSSA</p> </td><td> <p>150</p> </td></tr><tr><td> <p>IBGP</p> </td><td> <p>255</p> </td></tr><tr><td> <p>EBGP</p> </td><td> <p>255</p> </td></tr><tr><td> <p>UNKNOWN</p> </td><td> <p>255</p> </td></tr></tbody></table> 
<h4></h4> 
<h3 id="3.%E8%B7%AF%E7%94%B1%E6%9F%A5%E8%AF%A2%E5%85%88%E5%90%8E%E9%A1%BA%E5%BA%8F">3.路由查询先后顺序</h3> 
<p>NGFW进行流量转发时，查询路由的先后顺序是策略路由、明细路由、缺省路由。其中，明细路由是子常用的，包括动态动态路由和静态路由</p> 
<h4></h4> 
<h3 id="4.%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86">4.静态路由基本原理</h3> 
<p>配置静态路由可以在路由选择中国实施非常精确的控制，但是当网络发生变化或者故障时需要手工配置</p> 
<p>静态路由可以指定出接口或指定下一跳地址</p> 
<h4 id="%EF%BC%881%EF%BC%89%E6%8C%87%E5%AE%9A%E5%87%BA%E6%8E%A5%E5%8F%A3%E5%9C%BA%E6%99%AF">（1）指定出接口场景</h4> 
<p>PPP，PPPoE</p> 
<h4 id="%EF%BC%882%EF%BC%89%E6%8C%87%E5%AE%9A%E4%B8%8B%E4%B8%80%E8%B7%B3%E5%9C%B0%E5%9D%80%E5%9C%BA%E6%99%AF">（2）指定下一跳地址场景</h4> 
<p>NBMA接口，以太网接口，Virtual-template</p> 
<p></p> 
<h3 id="5.%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E4%B8%8E%E5%A4%9A%E5%87%BA%E5%8F%A3">5.静态路由与多出口</h3> 
<p>多出口指的是USG通过多个接口连接到internat或其他网络，多个接口之间形成主备备份或负载分担关系，从而提高了业务可靠性</p> 
<p>多出口功能生效的前提是USG上存在多条等价路由</p> 
<p>多出口支持的模式：主备模式、负载分担模式：均衡式（缺省模式）、溢出式</p> 
<h4 id="%EF%BC%881%EF%BC%89%E4%B8%BB%E5%A4%87%E5%A4%87%E4%BB%BD">（1）主备备份</h4> 
<p>在主备备份方式下，主接口正常工作时，所有流量都通过主接口传输。只有当主接口故障时，流量才暂时由从接口传输以避免业务中断。一旦主接口恢复正常，设备就将流量重新交由主接口传输。</p> 
<p>USG放在智能选路中来实现</p> 
<h4 id="%EF%BC%882%EF%BC%89%E5%9D%87%E8%A1%A1%E5%BC%8F%E8%B4%9F%E8%BD%BD%E5%88%86%E6%8B%85">（2）均衡式负载分担</h4> 
<p>在均衡式负载分担方式下，所有接口同时承担流量，USG最多支持8个接口进行负载分担</p> 
<p>按百分比负载</p> 
<p>按分担方式负载</p> 
<h4 id="%EF%BC%883%EF%BC%89%E6%BA%A2%E5%87%BA%E5%BC%8F%E8%B4%9F%E8%BD%BD%E5%88%86%E6%8B%85">（3）溢出式负载分担</h4> 
<p>在溢出式负载分担方式下，正常情况下主接口传输流量，只有当主接口流量超过一定阈值时，才启用从接口共同承担流量。</p> 
<p>USG已经不支持，AR路由器仍支持</p> 
<p></p> 
<h2 id="%E4%BA%8C%E3%80%81%E9%80%90%E6%B5%81%E4%B8%8E%E9%80%90%E5%8C%85%E6%8A%A5%E6%96%87%E5%88%86%E6%8B%85%E6%96%B9%E5%BC%8F">二、逐流与逐包报文分担方式</h2> 
<p>根据同一条数据流的多个报文是否由同一个接口转发，负载分担的报文分担方式又分为逐流转发与逐包转发两种</p> 
<p>逐包转发可能会导致报文来回路径不一致，这回对依赖于状态检测的特性或者场景的正常使用有影响（比如NAT）</p> 
<p>当需要保证报文来回路径一致的情况下请不要选择逐包负载分担方式</p> 
<table><tbody><tr><td> <p>负载分担方式</p> </td><td> <p>报文分担方式</p> </td></tr><tr><td> <p>均衡式负载分担（按百分比）</p> </td><td> <p>逐包转发和逐流转发都支持，缺省使用逐流转发</p> </td></tr><tr><td> <p>均衡式负载分担（按分担方式负载分担）</p> </td><td> <p>逐流转发</p> </td></tr><tr><td> <p>溢出式负载分担</p> </td><td> <p>逐包转发</p> </td></tr></tbody></table> 
<p></p> 
<h2 id="%E4%B8%89%E3%80%81OSPF%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE">三、OSPF链路状态路由协议</h2> 
<h3 id="1.%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86">1.基本原理</h3> 
<p>OSPF(Open Shortest Path First)是IETF组织开发的一个 基于链路状态的内部网关协议。目前针对IPv4协议使用的是 OSPF Version 2(RFC2328)。OSPF是不属于任何一个厂 商或组织私有的路由协议，使用Dijkstra的最短路径(SPF) 算法计算路由。</p> 
<h4></h4> 
<h3 id="2.OSPF%E7%9A%84%E4%BC%98%E7%82%B9">2.OSPF的优点</h3> 
<p>适应范围广、快速收敛、无自环</p> 
<p>区域划分、路由分级、等价路由</p> 
<p>支持验证、组播发送</p> 
<h4></h4> 
<h3 id="3.%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B">3.网络类型</h3> 
<p>支持广播，NBMA（非广播多路访问），P2MP（点到多点），P2P（点到点）四种网络类型</p> 
<table><tbody><tr><td> <p>类型</p> </td><td> <p>缺省支持链路</p> </td><td> <p>组播发送报文</p> </td><td> <p>单播发送的报文</p> </td></tr><tr><td> <p>广播</p> </td><td> <p>以太网</p> </td><td> <p>Hello,LSU,LSAck</p> </td><td> <p>DD,LSR</p> </td></tr><tr><td> <p>NBMA</p> </td><td> <p>帧中继</p> </td><td> <p>无</p> </td><td> <p>Hello,LSU,LSAck,DD,LSR</p> </td></tr><tr><td> <p>P2MP</p> </td><td> <p>无</p> </td><td> <p>Hello</p> </td><td> <p>LSU,LSAck,DD,LSR</p> </td></tr><tr><td> <p>P2P</p> </td><td> <p>PPP,HDLC,LAPB</p> </td><td> <p>Hello,LSU,LSAck,DD,LSR</p> </td><td> <p>无</p> </td></tr></tbody></table> 
<h4></h4> 
<h3 id="4.%E5%90%84%E7%BD%91%E7%BB%9C%E7%B1%BB%E5%9E%8B%E6%8B%93%E6%89%91">4.各网络类型拓扑</h3> 
<p><img alt="" height="313" src="https://images2.imgbox.com/fb/7a/IMHwRs6G_o.png" width="651"></p> 
<p> <img alt="" height="393" src="https://images2.imgbox.com/8e/91/EFaEmh9Q_o.png" width="542"></p> 
<p> <img alt="" height="383" src="https://images2.imgbox.com/94/b3/gh9DrH5H_o.png" width="582"></p> 
<p></p> 
<h3 id="5.OSPF%E8%AE%A4%E8%AF%81">5.OSPF认证</h3> 
<p>OSPF支持报文验证功能，只有通过验证的OSPF报文才能接受，否则将不能正常建立邻居</p> 
<h4 id="%EF%BC%881%EF%BC%89%E4%B8%A4%E7%A7%8D%E9%AA%8C%E8%AF%81%E6%96%B9%E5%BC%8F">（1）两种验证方式</h4> 
<p>区域验证方式，接口验证方式</p> 
<h4 id="%EF%BC%882%EF%BC%89%E6%94%AF%E6%8C%81%E7%9A%84%E9%AA%8C%E8%AF%81%E6%A8%A1%E5%BC%8F%E6%8C%89%E5%8A%A0%E5%AF%86%E7%AE%97%E6%B3%95%E4%B8%8D%E5%90%8C%E5%88%86%E4%B8%BA">（2）支持的验证模式按加密算法不同分为</h4> 
<p>Null，Simple，MD5，HMAC-MD5</p> 
<p>当两种验证方式都存在时，优先使用接口验证方式</p> 
<p></p> 
<h2 id="%E5%9B%9B%E3%80%81BGP%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE">四、BGP路由协议</h2> 
<h3 id="1.%E4%BB%8B%E7%BB%8D">1.介绍</h3> 
<p>BPG是一种自治系统AS之间的动态路由协议</p> 
<h4></h4> 
<h3 id="2.%E7%89%B9%E7%82%B9">2.特点</h3> 
<p>EGP协议：在AS之间进行路由选择和控制</p> 
<p>可靠性高：使用TCP作为传输层协议，侦听端口号为179</p> 
<p>支持CIDR，增量更新</p> 
<p>路径矢量，避免环路</p> 
<p>提供防止路由震荡机制</p> 
<p></p> 
<h3 id="3.%E8%87%AA%E6%B2%BB%E7%B3%BB%E7%BB%9F%EF%BC%88Autonomous%20System%EF%BC%89">3.自治系统（Autonomous System）</h3> 
<p><img alt="" height="318" src="https://images2.imgbox.com/11/c9/UV33hQkJ_o.png" width="898"></p> 
<p></p> 
<p>自治系统是由一个技术管理机构、使用统一选录策略的一些路由器的集合</p> 
<p>自治系统内部的路由协议——IGP</p> 
<p>自治系统之间的路由协议——EGP</p> 
<p></p> 
<h3 id="4.BGP%E7%9A%84%E8%BF%90%E8%A1%8C%E6%96%B9%E5%BC%8F">4.BGP的运行方式</h3> 
<p>IBGP和EBGP</p> 
<p><img alt="" height="396" src="https://images2.imgbox.com/e2/5c/gdbuLgUZ_o.png" width="553"></p> 
<p></p> 
<h3 id="5.BGP%E7%9A%84%E6%8A%A5%E6%96%87%E7%B1%BB%E5%9E%8B">5.BGP的报文类型</h3> 
<table><tbody><tr><td> <p>报文类型</p> </td><td> <p>功能</p> </td></tr><tr><td> <p>Open</p> </td><td> <p>负责和对等体建立邻居关系</p> </td></tr><tr><td> <p>KeepAlive</p> </td><td> <p>该消息在对等体之间周期性地发送，用以维护连接</p> </td></tr><tr><td> <p>Update</p> </td><td> <p>被用作在BGP对等体之间传递路由信息</p> </td></tr><tr><td> <p>Notification</p> </td><td> <p>当BGP Speaker检测到错误的时候，就发送该消息给对等体</p> </td></tr><tr><td> <p>Route-refresh</p> </td><td> <p>Route-refresh报文用来通知对等体自己支持路由刷新能力，并触发对方重新发送其路由信息</p> </td></tr></tbody></table> 
<h4></h4> 
<h3 id="6.BGP%E7%8A%B6%E6%80%81%E6%9C%BA">6.BGP状态机</h3> 
<p><img alt="" height="602" src="https://images2.imgbox.com/c6/1b/Y6MoP1ez_o.png" width="962"></p> 
<h4></h4> 
<h3 id="7.BGP%E9%80%9A%E5%91%8A%E5%8E%9F%E5%88%99">7.BGP通告原则</h3> 
<p>（1）存在多条有效路由时，BGP Speaker只将最优路由发布给对等体</p> 
<p>（2）BGP Speaker只把自己使用的路由发布给对等体</p> 
<p>（3）BGP Speaker从EBGP获得的路由会向它所有BGP对等体发布（包括EBGP对等体和IBGP对等体）</p> 
<p>（4）BGP Speaker从IBGP获得的路由不向它的IBGP对等体发布</p> 
<p>（5）BGP Speaker从IBGP获得路由发布给它的EBGP对等体</p> 
<p>（6）连接一旦建立，BGP Speaker将把自己所有BGP路由发布给新对等体</p> 
<h4></h4> 
<h3 id="8.BGP%E8%B7%AF%E5%BE%84%E5%B1%9E%E6%80%A7">8.BGP路径属性</h3> 
<p>BGP路径属性是一组描述BGP前缀特性的参数</p> 
<p>BGP路径属性可以被分为四大类:</p> 
<p>公认必遵(Well-known mandatory)</p> 
<p>公认任意(Wel-known discretionary)</p> 
<p>可选过渡(Optional transitive)</p> 
<p>可选非过渡(Optional non-transitive)</p> 
<p></p> 
<h3 id="9%E5%B8%B8%E8%A7%81BGP%E8%B7%AF%E7%94%B1%E5%B1%9E%E6%80%A7">9常见BGP路由属性</h3> 
<p>1、Origin</p> 
<p>2、AS_PATH</p> 
<p>3. Next hop</p> 
<p>4、MED</p> 
<p>5、Local-Preference</p> 
<p>6、Atomic_Aggregate</p> 
<p>7、Aggregator</p> 
<p>8、Community</p> 
<p>9、Originator_ID</p> 
<p>10、Cluster-List</p> 
<p>11、MP_Reach_NLRI</p> 
<p>12、MP_Unreach_NLRI</p> 
<p>13、Extended_Communities</p> 
<p></p> 
<h2 id="%E4%BA%94%E3%80%81%E7%AD%96%E7%95%A5%E8%B7%AF%E7%94%B1">五、策略路由</h2> 
<h3 id="1.%E5%8E%9F%E7%90%86">1.原理</h3> 
<p>策略路由是在路由表已经产生的情况下，不按照现有的路由 表进行转发，而是根据用户制定的策略进行路由选择的机制 策略路由并没有替代路由表机制，而是优先于路由表生效 ，为某些特殊业务指定转发方向。</p> 
<p>场景：基于用户的选路，基于协议、应用的选路</p> 
<h3 id="2.%E7%AD%96%E7%95%A5%E8%B7%AF%E7%94%B1%E6%94%AF%E6%8C%81%E7%9A%84%E5%8C%B9%E9%85%8D%E8%BF%87%E7%A8%8B">2.策略路由支持的匹配过程</h3> 
<h4 id="%EF%BC%881%EF%BC%89%E5%8C%B9%E9%85%8D%E6%9D%A1%E4%BB%B6">（1）匹配条件</h4> 
<p>源安全域，入接口，IP地址，服务类型，应用类型，用户</p> 
<h4 id="%EF%BC%882%EF%BC%89%E5%8C%B9%E9%85%8D%E5%90%8E%E7%9A%84%E5%8A%A8%E4%BD%9C">（2）匹配后的动作</h4> 
<p>策略路由：发送报文到指定下一跳，发送报文到指定出口</p> 
<p>不做策略路由</p> 
<p><img alt="" height="525" src="https://images2.imgbox.com/93/89/xPdGOSdT_o.png" width="411"></p> 
<h3 id="3.%E6%99%BA%E8%83%BD%E9%80%89%E8%B7%AF%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86">3.智能选路基本原理</h3> 
<p>智能选路功能是一种基于策略的选路技术，可以按照不同的需求设 置相应的智能选路方式，从而达到理想的分流效果。NGFW支持以 下4种智能选路方式:</p> 
<p>根据链路带宽负载分担 ，根据链路权重负载分担 ，根据链路优先级主备备份 ，根据链路质量负载分担</p> 
<p></p> 
<h3 id="4.ISP%E9%80%89%E8%B7%AF%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86">4.ISP选路基本原理</h3> 
<p>ISP选路功能的实现原理是:生成ISP对应的IP地址文件，并上传到防火墙上，通过指定IP地址文件的下一跳，批量生成静态路由，用户的访问流量按照该静态路由，被分别转发到对应运营商网络。</p> 
<p>设备出厂时默认支持如下ISP的IP文件:</p> 
<p>china-mobile:中国移动</p> 
<p>china-telecom:中国电信</p> 
<p>china-educationnet:中国教育网</p> 
<p>china-unicom:中国联通</p> 
<p></p> 
<h2 id="%E4%BA%94%E3%80%81%E5%91%BD%E4%BB%A4%E9%85%8D%E7%BD%AE">五、命令配置</h2> 
<h3 id="1.%E9%85%8D%E7%BD%AE%E5%A4%9A%E5%87%BA%E5%8F%A3%EF%BC%9A%E4%B8%BB%E5%A4%87%E6%A8%A1%E5%BC%8F">1.配置多出口：主备模式</h3> 
<pre><code class="language-bash">1.配置负载分担模式 
load-balance multi-interface standby 

2.配置主接口 
interface g1/0/1 
ip add 1.1.1.1 255.255.255.0 
standby ineterface g1/0/7 255 

3.配置从接口 
interface g1/0/7 
ip add 2.2.2.2 255.255.255.0 

4.配置路由 
ip route-static 0.0.0.0 0 10.1.1.2 
ip-route-static 0.0.0.0 0 10.1.2.2 

5.配置验证 
display standby state</code></pre> 
<p><img alt="" height="203" src="https://images2.imgbox.com/b1/db/zeqMkKnn_o.png" width="648"></p> 
<p></p> 
<h3 id="2.%E9%85%8D%E7%BD%AE%E5%A4%9A%E5%87%BA%E5%8F%A3%EF%BC%9A%E5%9D%87%E8%A1%A1%E8%B4%9F%E8%BD%BD%E5%88%86%E6%8B%85">2.配置多出口：均衡负载分担</h3> 
<pre><code class="language-bash">1.配置接口 
interface g1/0/1 
ip add 1.1.1.1 255.255.255.0 
route weigh 50 

2.配置负载分担方式 
load-balance multi-interface flow 

3.配置路由 
ip route-static 0.0.0.0 10.1.1.2 
ip route-static 0.0.0.0 10.1.2.2</code></pre> 
<p><img alt="" height="202" src="https://images2.imgbox.com/c3/6c/IX4kkOba_o.png" width="674"></p> 
<p></p> 
<h3 id="3.%E9%85%8D%E7%BD%AE%E5%A4%9A%E5%87%BA%E5%8F%A3%EF%BC%9A%E6%BA%A2%E5%87%BA%E5%BC%8F%E8%B4%9F%E8%BD%BD%E5%88%86%E6%8B%85">3.配置多出口：溢出式负载分担</h3> 
<pre><code class="language-bash">1.配置主用接口
interface g1/0/1
ip add 10.1.1.1 255.255.255.0
standby interface g1/0/2
standby threshold 80 30

2.配置分担接口
interface g1/0/2
ip add 10.2.1.1 255.255.255.0

3.配置负载分担方式
load-balance multi-interface packet

4.配置路由
ip route-static 0.0.0.0 0 10.1.1.2
ip route-static 0.0.0.0 0 10.1.2.2

5.验证配置
display standby state</code></pre> 
<p><img alt="" height="229" src="https://images2.imgbox.com/25/da/xyoSomVn_o.png" width="669"></p> 
<p></p> 
<h3 id="4.%E9%85%8D%E7%BD%AEOSPF%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD">4.配置OSPF基本功能</h3> 
<h4 id="%EF%BC%881%EF%BC%89%E9%85%8D%E7%BD%AEroute%20id">（1）配置route id</h4> 
<pre><code class="language-bash">系统视图下
router id 1.1.1.1 或 ospf 1 route-id 1.1.1.</code></pre> 
<p></p> 
<h4 id="%EF%BC%882%EF%BC%89%E9%85%8D%E7%BD%AE%E5%8C%BA%E5%9F%9F%E5%8F%8A%E5%AE%A3%E5%91%8A%E7%BD%91%E7%BB%9C">（2）配置区域及宣告网络</h4> 
<pre><code class="language-bash">ospf 1
area 0.0.0.1
network 10.1.1.0 0.0.255.255
stub
area 0.0.0.3
stub no-summary</code></pre> 
<p></p> 
<h4 id="%EF%BC%883%EF%BC%89%E9%85%8D%E7%BD%AE%E6%8E%A5%E5%8F%A3%E7%B1%BB%E5%9E%8B%E5%8F%8A%E5%BC%80%E9%94%80">（3）配置接口类型及开销</h4> 
<pre><code class="language-bash">inter g1/0/1
ospf network-type p2p
ospf cost 20</code></pre> 
<p></p> 
<h4 id="%EF%BC%884%EF%BC%89%E9%80%9A%E5%91%8A%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1%EF%BC%8C%E5%BC%BA%E5%88%B6%E9%80%9A%E5%91%8A%E9%BB%98%E8%AE%A4%E8%B7%AF%E7%94%B1">（4）通告默认路由，强制通告默认路由</h4> 
<pre><code class="language-bash">default-route-advertise
default-route-advertuse always</code></pre> 
<p></p> 
<h4 id="%EF%BC%885%EF%BC%89%E9%85%8D%E7%BD%AE%E5%AE%89%E5%85%A8%E7%AD%96%E7%95%A5">（5）配置安全策略</h4> 
<p>安全策略要放行OSPF协议</p> 
<p></p> 
<h3 id="5.%E9%85%8D%E7%BD%AEOSPF%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD">5.配置OSPF高级功能</h3> 
<h4 id="%EF%BC%881%EF%BC%89%E9%85%8D%E7%BD%AEvlink-peer">（1）配置vlink-peer</h4> 
<pre><code class="language-bash">本端配置 
ospf 1 router-id 1.1.1.1 
area 2 
vlink-peer 2.2.2.2 

对端配置 
ospf 1 router-id 2.2.2.2 
area 2 
vlink-peer 1.1.1.1</code></pre> 
<p></p> 
<h4 id="%EF%BC%882%EF%BC%89%E9%85%8D%E7%BD%AEABR%E6%B1%87%E6%80%BB">（2）配置ABR汇总</h4> 
<pre><code class="language-bash">ospf 100
area 1
network 36.42.10.0 0.0.0.255
netwokr 36.42.11.0 0.0.0.255
abr-summary 36.42.0.0 0.0.0.255</code></pre> 
<p></p> 
<h4 id="%EF%BC%883%EF%BC%89%E9%85%8D%E7%BD%AEASBR%E6%B1%87%E6%80%BB">（3）配置ASBR汇总</h4> 
<pre><code class="language-bash">ospf 100
asbr-summary 10.2.0.0 255.255.0.0
asbr-summary 10.3.0.0 255.255.0.0 not-advertise
asbr-summary 10.4.0.0 255.255.0.0 tag 2 cost 100</code></pre> 
<p></p> 
<h4 id="%EF%BC%884%EF%BC%89%E9%85%8D%E7%BD%AE%E8%AE%A4%E8%AF%81">（4）配置认证</h4> 
<pre><code class="language-bash">本段配置
interface g1/0/1
ospf authentication-mode md5 15 cipher huawei@123

对端配置
interface g1/0/1
ospf authentication-mode md5 15 cipher huawei@123</code></pre> 
<p></p> 
<h3 id="6.%E9%85%8D%E7%BD%AEBGP%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD">6.配置BGP基本功能</h3> 
<h4 id="%EF%BC%881%EF%BC%89%E9%85%8D%E7%BD%AEIBGP%E5%AF%B9%E7%AD%89%E4%BD%93">（1）配置IBGP对等体</h4> 
<pre><code class="language-bash">本端
bgp 10
router-id 1.1.1.1
peer 2.2.2.2 as-number 10
peer 2.2.2.2 connect-interface loopbacke 0

对端
bgp 10
router-id 2.2.2.2
peer 1.1.1.1 as-number 10
peer 1.1.1.1 connect-interface loopback 0</code></pre> 
<p></p> 
<h4 id="%EF%BC%882%EF%BC%89%E9%85%8D%E7%BD%AEEBGP%E5%AF%B9%E5%BE%85%E4%BD%93%EF%BC%8C%E9%85%8D%E7%BD%AE%E8%AE%A4%E8%AF%81">（2）配置EBGP对待体，配置认证</h4> 
<pre><code class="language-bash">本端
bgp 10
router-id 2.2.2.2
peer 23.1.1.2 as-number 30
peer 1.1.1.2 password simple huawei123

对端
bgp 30
router-id 3.3.3.3
peer 23.1.1.1 as-number 10
peer 1.1.1.2 password simple huawei123</code></pre> 
<p></p> 
<h4 id="%EF%BC%883%EF%BC%89%E5%AE%A3%E5%91%8A%E8%B7%AF%E7%94%B1%E5%BC%95%E5%85%A5%E8%B7%AF%E7%94%B1">（3）宣告路由引入路由</h4> 
<pre><code class="language-bash">本端
bgp 10
network 23.1.1.0 255.255.255.0
import route ospf 
import route direct 

对端
bgp 30
netwokr 23.1.1.0 255.255.255.0
import route isis
import route direcr</code></pre> 
<p></p> 
<h3 id="7.%E9%85%8D%E7%BD%AEBGP%E9%AB%98%E7%BA%A7%E5%8A%9F%E8%83%BD">7.配置BGP高级功能</h3> 
<h4 id="%EF%BC%881%EF%BC%89%E9%85%8D%E7%BD%AEBGP%E5%8F%8D%E5%B0%84%E5%99%A8">（1）配置BGP反射器</h4> 
<pre><code class="language-bash">本地
bgp 10
router-id 2.2.2.2
peer 3.3.3.3 as-number 10
peer 3.3.3.3 connect-interface

bgp 10
router-id 4.4.4.4
peer 3.3.3.3 as-number 1-
peer 3.3.3.3 connect-interface

对端
bgp 10
router-id 3.3.3.3
peer 2.2.2.2 as-number 10
peer 2.2.2.2 connect-interface loopback 0
peer 4.4.4.4 as-number 10
peer 4.4.4.4 connect-interface loopback 0
peer 2.2.2.2 reflect-client
peer 4.4.4.4 reflect-client</code></pre> 
<h4></h4> 
<h4 id="%EF%BC%882%EF%BC%89%E9%85%8D%E7%BD%AEBGP%E8%B7%AF%E7%94%B1%E8%BF%87%E6%BB%A4">（2）配置BGP路由过滤</h4> 
<pre><code class="language-bash">aci number 2000
rule 5 deny source 50.0.0.0 0.255.255.255
rule 10 permit
bgp 10
peer 4.4.4.4 filter-policy 2000 import</code></pre> 
<p></p> 
<h4 id="%EF%BC%883%EF%BC%89%E9%85%8D%E7%BD%AEBGP%E5%B1%9E%E6%80%A7">（3）配置BGP属性</h4> 
<pre><code class="language-bash">bgp 10
peer 3.3.3.3 next-hop-local
peer 3.3.3.3 route-policy change_as_path import </code></pre> 
<p></p> 
<h2 id="8.%E9%85%8D%E7%BD%AE%E7%AD%96%E7%95%A5%E8%B7%AF%E7%94%B1">8.配置策略路由</h2> 
<h4 id="%EF%BC%881%EF%BC%89%E9%85%8D%E7%BD%AEIPlink">（1）配置IPlink</h4> 
<pre><code class="language-bash">ip-link check enable
ip-link 1 destination 202.168.10.1 mode icmp
ip-link 2 destination 202.169.10.1 mode icmp</code></pre> 
<p></p> 
<h4 id="%EF%BC%882%EF%BC%89%E9%85%8D%E7%BD%AE%E7%AD%96%E7%95%A5%E8%B7%AF%E7%94%B1">（2）配置策略路由</h4> 
<pre><code class="language-bash">基于用户
policy-based-route
rule name pbr_1
 description pbr_1
 source-zone trust
 user /marketing
 user /president
 track ip-link 1
 action pbr next-hop 202.168.10.1
rule name pbr_2
 source-zone trust
 user /research
 track ip-link 2
 action pbr netx-hop 202.169.10.1

基于应用
policy-based-route
rule name pbr_1
source-zone trust
 application category
Business_Systems
 track ip-link 1
 action pbr egress-interface 
g1/0/2 next-hop 202.168.10.1
 rule name pbr_2
 source-zone trust
 application categroy
Entertainment
 track ip-link 2
 action pbr egress-interface 
g1/0/4 next-hop 202.169.10.1

基于源地址
policy-based-route
rule name pbr_1
 source-zone trust
 source-address 10.1.1.0 24
 track ip-link 1
 action pbr next-hop 202.168.10.1
 rule name pbr_2
  source-zone trust
  source-address 10.1.2.0 24
  track ip-link 2
  action pbr next-hop 202.169.10.1</code></pre> 
<p></p> 
<h3 id="9.%E9%85%8D%E7%BD%AEISP%E9%80%89%E8%B7%AF">9.配置ISP选路</h3> 
<pre><code class="language-bash">1.上传IP地址文件
ftp 10.1.10.1
get isp1.csv
get isp2.csv

2.配置IP地址文件的出接口
isp set filename isp1.csv next-hop 211.1.1.1
isp set filename isp2.csv next-hop 221.1.1.1

3.启用导入的IP地址文件
isp enable filename isp1.csv
isp enable filename isp2.csv

4.检查配置
display ip route</code></pre> 
<p></p> 
<p></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/83f1e67a247e46d5067649ef87901ea8/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">MySQL5.7保姆级安装教程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/114cc258bea444bdedd8c9fe7ee0aa6d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">一文学会python调用ChatGPT3.5的API</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>