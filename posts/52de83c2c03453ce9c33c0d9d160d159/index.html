<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Qt教程一 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Qt教程一" />
<meta property="og:description" content="文章目录 Qt是什么？Qt 可以做什么？Qt 的辛酸史Qt 和 KDEGPL 和 LGPL如何选择开源协议 2.为什么用Qt？Qt 和 MFC 3.Qt Creator安装之后添加组件编码问题主界面创建项目项目文件main.cppwidget.hwidget.cppHelloQt.pro常用qmake变量 项目操作添加新文件打开Qt项目其他 常用快捷键主题配置 4.Qt&#43;VS20191.打开VS2.VS安装Qt插件3.安装VSIX(即上面下载的那个插件)4.设置插件5.VS创建Qt项目6，中文乱码1，手动修改2，自动修改 7，Vs中修改应用程序图标 5.Qt Creator &#43; MSVC中文乱码 6.需要的C&#43;&#43;知识1.什么是C&#43;&#43;2.如何定义一个类4.如何访问类的成员变量5.类的函数成员6.类函数的重载特性7.构造函数和析构函数8.类的继承9.虚函数和纯虚函数10.lambda表达式 Qt是什么？ Qt（官方发音 [kju:t]，音同 cute）是一个跨平台的 C&#43;&#43; 开发库，主要用来开发图形用户界面（Graphical User Interface，GUI）程序，当然也可以开发不带界面的命令行（Command User Interface，CUI）程序。
Qt 是纯 C&#43;&#43; 开发的，所以学好 C&#43;&#43; 非常有必要，Qt 还存在 Python、Ruby、Perl 等脚本语言的绑定， 也就是说可以使用脚本语言开发基于 Qt 的程序。开源社区就是这样，好东西就会被派生扩展，到处使用， 越来越壮大。
Qt 支持的操作系统有很多，例如通用操作系统 Windows、Linux、Unix，智能手机系统 Android、iOS、WinPhone， 嵌入式系统 QNX、VxWorks 等等。
Qt 可以做什么？ Qt 虽然经常被当做一个 GUI 库，用来开发图形界面应用程序，但这并不是 Qt 的全部；Qt 除了可以绘制漂亮的界面（包括控件、布局、交互），还包含很多其它功能，比如多线程、访问数据库、图像处理、音频视频处理、网络通信、文件操作等，这些 Qt 都已经内置了。
Qt 是应用程序开发的一站式解决方案，有了 Qt，你就可以高枕无忧了！Qt 本身包含的模块也日益丰富， 一直有新模块和第三方模块加入进来。
大部分应用程序都可以使用 Qt 实现，除了与计算机底层结合特别紧密的，例如驱动开发，它直接使用硬件提供的编程接口，而不能使用操作系统自带的函数库。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/52de83c2c03453ce9c33c0d9d160d159/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-01T16:47:49+08:00" />
<meta property="article:modified_time" content="2022-04-01T16:47:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Qt教程一</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#Qt_1" rel="nofollow">Qt是什么？</a></li><li><a href="#Qt__13" rel="nofollow">Qt 可以做什么？</a></li><li><a href="#Qt__31" rel="nofollow">Qt 的辛酸史</a></li><li><a href="#Qt__KDE_50" rel="nofollow">Qt 和 KDE</a></li><li><a href="#GPL__LGPL_62" rel="nofollow">GPL 和 LGPL</a></li><li><a href="#_72" rel="nofollow">如何选择开源协议</a></li></ul> 
  </li><li><a href="#2Qt_84" rel="nofollow">2.为什么用Qt？</a></li><li><ul><li><a href="#Qt__MFC_94" rel="nofollow">Qt 和 MFC</a></li></ul> 
  </li><li><a href="#3Qt_Creator_104" rel="nofollow">3.Qt Creator</a></li><li><ul><li><a href="#_112" rel="nofollow">安装之后添加组件</a></li><li><a href="#_126" rel="nofollow">编码问题</a></li><li><a href="#_141" rel="nofollow">主界面</a></li><li><a href="#_147" rel="nofollow">创建项目</a></li><li><a href="#_171" rel="nofollow">项目文件</a></li><li><ul><li><a href="#maincpp_173" rel="nofollow">main.cpp</a></li><li><a href="#widgeth_197" rel="nofollow">widget.h</a></li><li><a href="#widgetcpp_220" rel="nofollow">widget.cpp</a></li><li><a href="#HelloQtpro_239" rel="nofollow">HelloQt.pro</a></li><li><a href="#qmake_282" rel="nofollow">常用qmake变量</a></li></ul> 
   </li><li><a href="#_307" rel="nofollow">项目操作</a></li><li><ul><li><a href="#_309" rel="nofollow">添加新文件</a></li><li><a href="#Qt_315" rel="nofollow">打开Qt项目</a></li><li><a href="#_321" rel="nofollow">其他</a></li></ul> 
   </li><li><a href="#_327" rel="nofollow">常用快捷键</a></li><li><a href="#_352" rel="nofollow">主题配置</a></li></ul> 
  </li><li><a href="#4QtVS2019_369" rel="nofollow">4.Qt+VS2019</a></li><li><ul><li><ul><li><a href="#1VS_377" rel="nofollow">1.打开VS</a></li><li><a href="#2VSQt_383" rel="nofollow">2.VS安装Qt插件</a></li><li><a href="#3VSIX_403" rel="nofollow">3.安装VSIX(即上面下载的那个插件)</a></li><li><a href="#4_423" rel="nofollow">4.设置插件</a></li><li><a href="#5VSQt_445" rel="nofollow">5.VS创建Qt项目</a></li><li><a href="#6_473" rel="nofollow">6，中文乱码</a></li><li><ul><li><a href="#1_479" rel="nofollow">1，手动修改</a></li><li><a href="#2_497" rel="nofollow">2，自动修改</a></li></ul> 
    </li><li><a href="#7Vs_509" rel="nofollow">7，Vs中修改应用程序图标</a></li></ul> 
  </li></ul> 
  </li><li><a href="#5Qt_Creator__MSVC_523" rel="nofollow">5.Qt Creator + MSVC</a></li><li><ul><li><a href="#_544" rel="nofollow">中文乱码</a></li></ul> 
  </li><li><a href="#6C_558" rel="nofollow">6.需要的C++知识</a></li><li><ul><li><a href="#1C_560" rel="nofollow">1.什么是C++</a></li><li><a href="#2_564" rel="nofollow">2.如何定义一个类</a></li><li><a href="#4_596" rel="nofollow">4.如何访问类的成员变量</a></li><li><a href="#5_605" rel="nofollow">5.类的函数成员</a></li><li><a href="#6_630" rel="nofollow">6.类函数的重载特性</a></li><li><a href="#7_655" rel="nofollow">7.构造函数和析构函数</a></li><li><a href="#8_673" rel="nofollow">8.类的继承</a></li><li><a href="#9_690" rel="nofollow">9.虚函数和纯虚函数</a></li><li><a href="#10lambda_697" rel="nofollow">10.lambda表达式</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="Qt_1"></a>Qt是什么？</h3> 
<p>Qt（官方发音 [kju:t]，音同 cute）是一个跨平台的 C++ 开发库，主要用来开发图形用户界面（Graphical User Interface，GUI）程序，当然也可以开发不带界面的命令行（Command User Interface，CUI）程序。</p> 
<p>Qt 是纯 C++ 开发的，所以学好 C++ 非常有必要，Qt 还存在 Python、Ruby、Perl 等脚本语言的绑定， 也就是说可以使用脚本语言开发基于 Qt 的程序。开源社区就是这样，好东西就会被派生扩展，到处使用， 越来越壮大。</p> 
<p>Qt 支持的操作系统有很多，例如通用操作系统 Windows、Linux、Unix，智能手机系统 Android、iOS、WinPhone， 嵌入式系统 QNX、VxWorks 等等。</p> 
<p><img src="https://images2.imgbox.com/d8/7c/U7U2czxy_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="Qt__13"></a>Qt 可以做什么？</h3> 
<p>Qt 虽然经常被当做一个 GUI 库，用来开发图形界面应用程序，但这并不是 Qt 的全部；Qt 除了可以绘制漂亮的界面（包括控件、布局、交互），还包含很多其它功能，比如多线程、访问数据库、图像处理、音频视频处理、网络通信、文件操作等，这些 Qt 都已经内置了。</p> 
<p>Qt 是应用程序开发的一站式解决方案，有了 Qt，你就可以高枕无忧了！Qt 本身包含的模块也日益丰富， 一直有新模块和第三方模块加入进来。</p> 
<p>大部分应用程序都可以使用 Qt 实现，除了与计算机底层结合特别紧密的，例如驱动开发，它直接使用硬件提供的编程接口，而不能使用操作系统自带的函数库。</p> 
<p>1997年，Qt 被用来开发 Linux 桌面环境 KDE，大获成功，使 Qt 成为 Linux 环境下开发 C++ GUI 程序的事实标准。</p> 
<p>下面的程序都使用 Qt 开发：WPS、YY语音、Skype、豆瓣电台、虾米音乐、淘宝助理、千牛、暴雪的战网客户端、VirtualBox、Opera、咪咕音乐、Google地图、Adobe Photoshop Album 等。</p> 
<p>Linux 也是嵌入式的主力军，广泛应用于消费类电子、工业控制、军工电子、电信/网络/通讯、航空航天、汽车电子、医疗设备、仪器仪表等相关行业。</p> 
<p>Qt 虽然也支持手机操作系统，但是由于 Android 本身已经有 Java 和 Kotlin，iOS 本身已经有 Objective-C 和 Swift，所以 Qt 在移动端的市场份额几乎可以忽略。</p> 
<p>总起来说，Qt 主要用于桌面程序开发和嵌入式开发。</p> 
<h3><a id="Qt__31"></a>Qt 的辛酸史</h3> 
<p>说到 Qt 的发展史，那真是一波三折，几经卖身。</p> 
<p>Qt 最早是 1991 年由挪威的 Eirik Chambe-Eng 和 Haavard Nord 开发的， 他们随后于 1994 年 3 月 4 号正式成立奇趣科技公司（Trolltech）。Qt 原本是商业授权的跨平台开发库， 在 2000 年奇趣科技公司为开源社区发布了遵循 GPL（GNU General Public License）许可证的开源版本。</p> 
<p>在 2008 年，诺基亚公司收购了奇趣科技公司，并增加了 LGPL（GNU Lesser General Public License）的授权模式。诺基亚联合英特尔利用 Qt 开发了全新的智能手机系统 MeeGo，可惜遭遇了微软木马屠城，诺基亚被迫放弃了 MeeGo， 而 Qt 商业授权业务也于 2011 年 3 月出售给了芬兰 IT 服务公司 Digia。</p> 
<p><img src="https://images2.imgbox.com/0c/2a/ZpOYxd4n_o.gif" alt="微软收购诺基亚"></p> 
<p>当然好消息是 Digia 于 2014 年 9 月宣布成立 Qt Company 全资子公司，独立运营 Qt 商业授权业务。目前 Qt 公司大力推广移动平台开发和商业应用， 总的来说 Qt 历经曲折，现在算是步入正轨了。</p> 
<p>经过 30 多年的发展，Qt 已经成为最优秀的跨平台开发框架之一，在各行各业的项目开发中得到广泛应用。许多大型软件都是用 Qt 开发的，如 Autodesk Maya、Google Earth、Skype、WPS Office等。</p> 
<blockquote> 
 <p>永远不要忽视微软帝国的威胁，作为软件业的一代霸主，任何人都不要天真地试图和它做朋友，因为霸主不可能有朋友。微软的木马屠城是所有诺基亚人和芬兰人的痛，希望读者们都记牢这条。</p> 
</blockquote> 
<h3><a id="Qt__KDE_50"></a>Qt 和 KDE</h3> 
<p>之前提到 Qt 原本是商业授权软件，是怎么开源的呢？这就涉及 Qt 和 KDE 的纠葛了。</p> 
<p>KDE 是 Linux 操作系统的桌面环境，与 GNOME 桌面是类似的，作为开源桌面它们竞争的情况更为多见。</p> 
<p>KDE 是采用 GPL 许可证发布的开源软件，而最初 Qt 是商业授权的，存在商业侵权风险，GNOME 则是基于开源 GTK 库的，没有什么商业风险，这一度是 GNOME 优越于 KDE 的特性。</p> 
<p>由于 Qt 的商业授权，KDE 社区一度混乱纠结，与此同时 GNOME 则如火如荼发展起来了。 KDE 毕竟算是亲儿子，被另一波人欺负，奇趣科技公司当然看不下去了，最后是奇趣科技公司为了赢得开发者的支持，为 Qt 增加了 GPL 的开源授权， 对于开源社区而言，遵循 GPL 使用 Qt 就不需要付费，这为 KDE 解决了燃眉之急。</p> 
<p>之后 KDE 桌面和 GNOME 都发展壮大起来，都做得越来越好了。</p> 
<h3><a id="GPL__LGPL_62"></a>GPL 和 LGPL</h3> 
<p>除了商业授权，目前 Qt 的开源授权有两种，一种是 GPL 授权，另一种是 LGPL 授权（诺基亚收购后新增）。</p> 
<p>对这两种开源授权，简单来说，使用 GPL 版本的软件一定还是 GPL 的开源软件，无论是使用了 Qt 的程序代码还是修改了 Qt 库代码，都必须按照 GPL 来发布，这是 GPL 的传染性。</p> 
<p>GPL 是什么都要开源，这对商业软件应用是不利的，所以诺基亚增加了 LGPL 授权 （第一个 L 可以叫 Lesser 宽松版或 Library 开发库版）。使用 LGPL 授权就可以利用 Qt 官方动态链接库，而不必开放商业代码。只要不修改和定制 Qt 库，仅使用 Qt 官方发布的动态链接库就可以不开源，这是商业友好的授权模式。</p> 
<p>其实只要不是做商业，就不太需要关注用什么授权，以 GPL 授权发布程序代码就可以了。</p> 
<h3><a id="_72"></a>如何选择开源协议</h3> 
<p>世界上的开源协议有上百种，很少有人能彻底搞清它们之间的区别，即使在最流行的六种开源协议——GPL、BSD、MIT、Mozilla、Apache 和 LGPL——之中做选择，也很复杂。</p> 
<p>乌克兰程序员 Paul Bagwell 画了一张分析图，说明应该怎么选择开源协议，大家看了一目了然，真是清爽。</p> 
<p><img src="https://images2.imgbox.com/f3/3c/i7U341SB_o.gif" alt="如何选择开源协议"></p> 
<p>最后请认准 Qt 官方网站<a href="https://www.qt.io/" rel="nofollow">Qt官网</a></p> 
<h2><a id="2Qt_84"></a>2.为什么用Qt？</h2> 
<p>用 Qt 来开发 Windows 桌面程序有以下优点：</p> 
<ul><li>简单易学：Qt 封装的很好，几行代码就可以开发出一个简单的客户端，不需要了解 Windows API。</li><li>资料丰富：资料丰富能够成倍降低学习成本，否则你只能去看源码，关于 DirectUI、Htmlayout、aardio 的资料就很少。</li><li>漂亮的界面：Qt 很容易做出漂亮的界面和炫酷的动画，而 MFC、WTL、wxWidgets 比较麻烦。</li><li>独立安装：Qt 程序最终会编译为本地代码，不需要其他库的支撑，而 Java 要安装虚拟机，C# 要安装 .NET Framework。</li><li>跨平台：如果你的程序需要运行在多个平台下，同时又希望降低开发成本，Qt 几乎是必备的。</li></ul> 
<h3><a id="Qt__MFC_94"></a>Qt 和 MFC</h3> 
<p>读者经常将 MFC 和 Qt 进行对比，MFC 只能应用在 Windows 平台，而 Qt 是跨平台的，一次编写，到处运行。</p> 
<p>另外，Qt 已经封装了底层细节，学习 Qt 将会非常简单；而 MFC 只是给 Windows API 加了一层包装，不了解 Windows API 也学不好 MFC，大家普遍反映 MFC 难学。</p> 
<p>我们不能简单地说 Qt 好还是 MFC 好，两者都有用武之地；但是初学者学习 Qt 会比较简单，不用应付那些烦人的 Windows API，很快就能开发出带有漂亮界面的应用程序。</p> 
<h2><a id="3Qt_Creator_104"></a>3.Qt Creator</h2> 
<p>Qt是开源的库 Qt Creator是一个集成开发环境</p> 
<p><a href="https://mp.weixin.qq.com/s/n58OskK1ldmelCnRXPgOCg" rel="nofollow">安装文档教程</a></p> 
<p><a href="https://www.bilibili.com/video/BV1r54y1G7m4/" rel="nofollow">安装视频教程</a></p> 
<h3><a id="_112"></a>安装之后添加组件</h3> 
<p>1，找到Qt安装目录中的维护工具MaintenanceTool.exe</p> 
<p><img src="https://images2.imgbox.com/08/ff/ywLTv7KK_o.png" alt="image-20211118005956922"></p> 
<p>2，添加国内源</p> 
<p>手动添加储存库要定位一个储存有<strong><strong>QT在线安装镜像的地址</strong></strong>，这可难坏我了，但是经过不懈努力还是被我找到了（网址：http://download.qt.io/static/mirrorlist/）这个网站，显示了各国的qt镜像站点，中国有四个，我用的是中科大的站，点击HTTP会进入一个网络文件夹。</p> 
<p><img src="https://images2.imgbox.com/6e/fb/VJHZLhgm_o.png" alt="image-20211118010214312"></p> 
<p>然后依次进入/online/qtsdkrepository/windows_x86/root/qt/ 最终的文件夹显示如下，在这个界面<strong>复制一下当前地址框地址</strong></p> 
<h3><a id="_126"></a>编码问题</h3> 
<p>Qt Creator是跨平台的 Qt IDE， Qt Creator 是 Qt 被 Nokia收购后推出的一款新的轻量级集成开发环境（IDE）。此 IDE 能够跨平台运行，支持的系统包括 Linux（32 位及 64 位）、Mac OS X 以及 Windows。</p> 
<ul><li><font color="red">使用QtCreator创建的项目目录中不能包含中文和空格</font></li><li><font color="red">QtCreator默认使用Utf8格式编码对文件字符进行编码</font></li></ul> 
<blockquote> 
 <p>为了处理汉字，程序员设计了用于简体中文的GB2312和用于繁体中文的big5。GB2312 支持的汉字太少，1995年的汉字扩展规范GBK1.0，支持了更多的汉字。2000年的 GB18030取代了GBK1.0成为了正式的国家标准。Unicode 也是一种字符编码方法，不过它是由国际组织设计，可以容纳全世界所有语言文字的编码方案。</p> 
</blockquote> 
<p>修改Qt Creator文件编码：菜单栏-&gt;工具-&gt;选项-&gt;文本编辑器-&gt;行为-&gt;文件编码</p> 
<img src="https://images2.imgbox.com/8f/e5/dVytCukH_o.gif"> 
<h3><a id="_141"></a>主界面</h3> 
<p><img src="https://images2.imgbox.com/ff/a3/Bc6GOfyW_o.png" alt=""></p> 
<h3><a id="_147"></a>创建项目</h3> 
<ul><li>选择项目模板</li></ul> 
<p><img src="https://images2.imgbox.com/66/5b/Q1a26jca_o.png" alt="image-20210401025945615"></p> 
<ul><li>填写项目名称和选择路径(<font color="red">不能包含中文和空格<sub>不能包含中文和空格</sub>不能包含中文和空格~</font>)</li></ul> 
<p><img src="https://images2.imgbox.com/b7/f4/7Y6QaeLi_o.png" alt="image-20210401030344525"></p> 
<ul><li> <p>定义编译系统(qmake即可)</p> <p><img src="https://images2.imgbox.com/49/6c/bKZNFmLl_o.png" alt="image-20210401031012239"></p> </li><li> <p>选择窗口类信息</p> </li></ul> 
<p><img src="https://images2.imgbox.com/88/8c/FGnA7XHR_o.png" alt="image-20210401031350429"></p> 
<ul><li> <p>选择编译套件(用Qt Creator开发请选择MinGW <code>Minimalist GNU for Windows</code>)</p> <p><img src="https://images2.imgbox.com/e1/4a/3lYry3MH_o.png" alt="image-20210401031609578"></p> </li></ul> 
<h3><a id="_171"></a>项目文件</h3> 
<h4><a id="maincpp_173"></a>main.cpp</h4> 
<blockquote> 
 <p>主函数所在的文件</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"widget.h"</span>				<span class="token comment">//生成的窗口类头文件</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QApplication&gt;</span>			<span class="token comment">//引用程序类头文件</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    <span class="token comment">//创建应用程序对象, 在一个Qt项目中实例对象有且仅有一个</span>
    <span class="token comment">// 类的作用: 检测触发的事件, 进行事件循环并处理</span>
    QApplication <span class="token function">a</span><span class="token punctuation">(</span>argc<span class="token punctuation">,</span> argv<span class="token punctuation">)</span><span class="token punctuation">;</span>	
    <span class="token comment">//创建窗口对象</span>
    Widget w<span class="token punctuation">;</span>
    <span class="token comment">//显示窗口</span>
    w<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//应用程序对象开始事件循环，保证应用程序不退出</span>
    <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="widgeth_197"></a>widget.h</h4> 
<blockquote> 
 <p>窗口类头文件</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">WIDGET_H</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">WIDGET_H</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;QWidget&gt;</span>			<span class="token comment">//Qt标准窗口类头文件</span></span>

<span class="token keyword">class</span> <span class="token class-name">Widget</span> <span class="token operator">:</span> <span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">QWidget</span>	<span class="token comment">//自己的类继承自Qwidget类</span></span>
<span class="token punctuation">{<!-- --></span>
    Q_OBJECT					<span class="token comment">//使用信号与槽机制，必须包含该宏</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Widget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent <span class="token operator">=</span> <span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">~</span><span class="token function">Widget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// WIDGET_H</span></span>
</code></pre> 
<h4><a id="widgetcpp_220"></a>widget.cpp</h4> 
<blockquote> 
 <p>窗口类源文件</p> 
</blockquote> 
<pre><code class="prism language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"widget.h"</span></span>

<span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token function">Widget</span><span class="token punctuation">(</span>QWidget <span class="token operator">*</span>parent<span class="token punctuation">)</span>
    <span class="token operator">:</span> <span class="token function">QWidget</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>

<span class="token class-name">Widget</span><span class="token double-colon punctuation">::</span><span class="token operator">~</span><span class="token function">Widget</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="HelloQtpro_239"></a>HelloQt.pro</h4> 
<blockquote> 
 <p>Qt项目文件，注释需要用#号</p> 
</blockquote> 
<pre><code class="prism language-properties">#项目编译时需要加载哪些模块
QT       += core gui

# 如果当前Qt版本大于4, 要添加一个额外的模块: widgets
# Qt 5中对gui模块进行了拆分, 将 widgets 独立出来了
greaterThan(QT_MAJOR_VERSION, 4): QT += widgets

# 让Qt支持c++11标准
CONFIG += c++11

#如果您使用任何已标记为不推荐使用的Qt功能，则以下定义使您的编译器发出警告（确切的警告取决于您的编译器）。 
#请参考不推荐使用的API的文档，以了解如何将您的代码移植远离它。
DEFINES += QT_DEPRECATED_WARNINGS

#如果使用过时的API，您还可以使代码无法编译。
#为此，请取消注释以下行。
#您也可以选择仅在特定版本的Qt之前禁用已弃用的API。
#DEFINES + = QT_DISABLE_DEPRECATED_BEFORE = 0x060000    ＃禁用所有在Qt 6.0.0之前弃用的API

# 项目中的源文件	删除后，项目里不会显示所有的源文件
SOURCES += \
    main.cpp \
    widget.cpp

# 项目中的头文件
HEADERS += \
    widget.h

#部署的默认规则
qnx: target.path = /tmp/$${TARGET}/bin					#嵌入式
else: unix:!android: target.path = /opt/$${TARGET}/bin	#unix
!isEmpty(target.path): INSTALLS += target
</code></pre> 
<p>pro是Qt的工程文件，这个文件是给qmake用来生成Makefile用的。</p> 
<p>如果了解makefile的人应该知道，Makefile的三个关键点就是<code>目标</code>，<code>依赖</code>，<code>命令</code>。这里也很类似。pro文件中可以指明这个Qt项目的<code>头文件</code>，<code>源文件</code>，<code>链接的外部库</code>，<code>目标文件名</code>，<code>模板(生成什么样的Makefile)</code>，<code>版本配置(debug/release)</code>等。</p> 
<h4><a id="qmake_282"></a>常用qmake变量</h4> 
<table><thead><tr><th align="left">.pro中变量</th><th align="left">含义</th><th align="left">示例</th></tr></thead><tbody><tr><td align="left">TEMPLATE</td><td align="left">模板变量指定生成makefile(app:应用程序/lib:库)</td><td align="left">TEMPLATE = app</td></tr><tr><td align="left">QT</td><td align="left">指定加载的Qt模块(core/gui/widgets…)</td><td align="left">QT += widgtes</td></tr><tr><td align="left">DESTDIR</td><td align="left">指定生成的应用程序放置的目录</td><td align="left">DESTDIR += …/bin</td></tr><tr><td align="left">TARGET</td><td align="left">指定生成的应用程序名</td><td align="left">TARGET = hello</td></tr><tr><td align="left">HEADERS</td><td align="left">工程中包含的头文件</td><td align="left">HEADERS += hello.h</td></tr><tr><td align="left">FORMS</td><td align="left">工程中包含的.ui设计文件</td><td align="left">FORMS += hello.ui</td></tr><tr><td align="left">SOURCES</td><td align="left">工程中包含的源文件</td><td align="left">SOURCES += main.cpp hello.cpp</td></tr><tr><td align="left">RESOURCES</td><td align="left">工程中包含的资源文件</td><td align="left">RESOURCES += qrc/hello.qrc</td></tr><tr><td align="left">LIBS</td><td align="left">引入的lib文件的路径 -L：引入路径</td><td align="left">LIBS += -L.</td></tr><tr><td align="left">CONFIG</td><td align="left">用来告诉qmake关于应用程序的配置信息</td><td align="left">CONFIG+= qt warn_on release</td></tr><tr><td align="left">UI_DIR</td><td align="left">指定.ui文件转化成<code>ui_*.h</code>文件的存放目录</td><td align="left">UI_DIR += forms</td></tr><tr><td align="left">RCC_DIR</td><td align="left">指定将.qrc文件转换成<code>qrc_*.h</code>文件的存放目录</td><td align="left">RCC_DIR += …/tmp</td></tr><tr><td align="left">MOC_DIR</td><td align="left">指定将含Q_OBJECT的头文件转换成标准.h文件的存放目录</td><td align="left">MOC_DIR += …/tmp</td></tr><tr><td align="left">OBJECTS_DIR</td><td align="left">指定目标文件(obj)的存放目录</td><td align="left">OBJECTS_DIR += …/tmp</td></tr><tr><td align="left">DEPENDPATH</td><td align="left">程序编译时依赖的相关路径</td><td align="left">DEPENDPATH += . forms include qrc sources</td></tr><tr><td align="left">INCLUDEPATH</td><td align="left">头文件包含路径</td><td align="left">INCLUDEPATH += .</td></tr><tr><td align="left">DEFINES</td><td align="left">增加预处理器宏（gcc的-D选项）。</td><td align="left">DEFINES += USE_MY_STUFF</td></tr><tr><td align="left">QMAKE_CFLAGS</td><td align="left">设置c编译器flag参数</td><td align="left">QMAKE_CFLAGS += -g</td></tr><tr><td align="left">QMAKE_CXXFLAGS</td><td align="left">设置c++编译器flag参数</td><td align="left">QMAKE_CXXFLAGS += -g</td></tr><tr><td align="left">QMAKE_LFLAGS</td><td align="left">设置链接器flag参数</td><td align="left">QMAKE_LFLAGS += -rdynamic</td></tr></tbody></table> 
<h3><a id="_307"></a>项目操作</h3> 
<h4><a id="_309"></a>添加新文件</h4> 
<p><img src="https://images2.imgbox.com/10/b2/YYpEJgy2_o.png" alt="image-20210402035458903"></p> 
<h4><a id="Qt_315"></a>打开Qt项目</h4> 
<p><img src="https://images2.imgbox.com/d9/5e/qsX8NfGU_o.png" alt="image-20210402040640720"></p> 
<h4><a id="_321"></a>其他</h4> 
<p><img src="https://images2.imgbox.com/30/ef/SMI39Hmz_o.png" alt="image-20210402041310929"></p> 
<h3><a id="_327"></a>常用快捷键</h3> 
<ul><li>运行 Ctrl + r</li><li>编译 Ctrl + b</li><li>注释 Ctrl + /</li><li>字体缩放 Ctrl + 鼠标滚轮</li><li>查找/替换 Ctrl + f</li><li>整行移动 Ctrl + Shift + ↑ 或 ↓</li><li>自动对齐 Ctrl + i</li><li>帮助文档 
  <ul><li>第一种：Qt Creator 直接查看 F1</li><li>第二种：打开独立的帮助文档程序 assistant</li></ul> </li><li>同名.h 和 .cpp 之间的切换 F4</li><li>快速添加函数的定义 Alt + Enter <code>鼠标移动到函数申明上</code></li><li>修改变量名，并应用到所有用到该变量的地方 Ctrl + Shift +r</li><li>快速打开输出窗口 Alt + 数字键(1-8)</li></ul> 
<p><img src="https://images2.imgbox.com/f8/e8/bgiO02bv_o.png" alt="image-20210811011302724"></p> 
<ul><li> <p>书签功能,即在某行代码处进行标记,方便以后找到。书签也可以添加文字标注。</p> 
  <ul><li> <p>按Ctrl + M 添加/删除书签</p> </li><li> <p>按Ctrl + . 查找并移动到下一个标签</p> </li></ul> </li></ul> 
<h3><a id="_352"></a>主题配置</h3> 
<p>萝卜白菜各有所爱，如何修改QtCreator的主题呢？</p> 
<p><code>菜单栏-&gt;工具-&gt;选项-&gt;文本编辑器</code></p> 
<p><img src="https://images2.imgbox.com/0d/f5/hdvTMpa1_o.png" alt="image-20210824183755400"></p> 
<p>上面是选择系统自带的，当然也可以自己配置一个，我这配置了一个Vs白色主题的。</p> 
<ul><li> <p>xml文件 <code>Visual studio white(Qt creator代码样式).xml</code></p> </li><li> <p>把该文件复制到Qt的安装目录下的-&gt;Qt\Qt5.14.2\Tools\QtCreator\share\qtcreator\styles目录中</p> </li><li> <p>最后进入文本编辑器选择</p> </li></ul> 
<h2><a id="4QtVS2019_369"></a>4.Qt+VS2019</h2> 
<p>为什么用VS写Qt程序？</p> 
<p>很多人在Qt上写代码时，感觉不是很舒服，所以想在Vs上写Qt程序，而且Vs具有强大的调试能力，所以咱们可以通过一些配置实现此目的。</p> 
<p><img src="https://images2.imgbox.com/e4/37/yW2FXwoA_o.png" alt="image-20220305193719451"></p> 
<h4><a id="1VS_377"></a>1.打开VS</h4> 
<p>选择菜单栏-&gt;扩展-&gt;管理扩展</p> 
<p><img src="https://images2.imgbox.com/15/b5/YWW2KBTv_o.png" alt="图片"></p> 
<h4><a id="2VSQt_383"></a>2.VS安装Qt插件</h4> 
<p>选择菜单栏的 扩展-&gt;管理扩展，输入Qt搜索，然后下载Qt Visual Studio Tools（下载灰常的银杏，慢的死~还不一定能下载）</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-fDxZsEh1-1646484003126)(https://s2.loli.net/2022/03/05/p2bAk36K4M1jwzY.png)]</p> 
<p><strong>如果实在不能忍受这龟速，咱们来别的办法</strong></p> 
<p>先到Qt官网下载对于版本的插件，我这里是Vs2019：</p> 
<p><a href="https://download.qt.io/official_releases/vsaddin/" rel="nofollow">Qt官网插件下载</a></p> 
<p><a href="https://marketplace.visualstudio.com/items" rel="nofollow">微软拓展商店下载</a></p> 
<p><img src="https://images2.imgbox.com/87/ee/VHlfFgbf_o.png" alt="图片"></p> 
<p>如果跳到如下页面，选择清华大学镜像源下载即可。</p> 
<p><img src="https://images2.imgbox.com/54/30/i7coRlwY_o.png" alt="img"></p> 
<h4><a id="3VSIX_403"></a>3.安装VSIX(即上面下载的那个插件)</h4> 
<p>如果是通过Vs下载的，会自动安装。</p> 
<p>如果是手动下载的，需要双击自己安装。</p> 
<p>打开安装包之后，点击Install等待安装完成即可。</p> 
<p><img src="https://images2.imgbox.com/c6/50/CuVGBPh8_o.png" alt="图片"></p> 
<p>安装之前，请先关掉Vs<code>没有关掉会出现如下界面，点击end tasks即可</code></p> 
<p><img src="https://images2.imgbox.com/cc/d4/oa3zOJfA_o.png" alt="图片"></p> 
<p>关闭Vs之后，一秒安装完成</p> 
<p><img src="https://images2.imgbox.com/58/ce/jFyPzJ5C_o.png" alt="图片"></p> 
<p>安装完成，关掉程序</p> 
<h4><a id="4_423"></a>4.设置插件</h4> 
<p>再次打开Vs，扩展-&gt;Qt VS Tools-&gt;Qt Options</p> 
<p><img src="https://images2.imgbox.com/01/a9/jDqXVSDR_o.png" alt="图片"></p> 
<p>点击Qt Options之后会弹出如下界面</p> 
<p><img src="https://images2.imgbox.com/7a/77/eFeOlceh_o.png" alt="图片"></p> 
<p>如果在弹出上述界面的同时，还弹出如下这个错误界面，不要担心，这是由于安装插件的时候，会自动配置，但是自动配置的路径和实际的Qt安装路径不一致，我们自己再配置一下就ok了</p> 
<p><img src="https://images2.imgbox.com/05/26/hbQGOjiV_o.png" alt="图片"></p> 
<p>首先删掉自动配置好的路径，然后点击Add自己添加一个，如下是具体的路径选项，选择msvc2017_64文件夹，点击确定即可</p> 
<p><img src="https://images2.imgbox.com/82/75/mUGFd3VS_o.png" alt="图片"></p> 
<p>然后点击OK(Name是自己取的)</p> 
<p><img src="https://images2.imgbox.com/08/6c/P8ObNlaW_o.png" alt="图片"></p> 
<h4><a id="5VSQt_445"></a>5.VS创建Qt项目</h4> 
<p>在Vs中点击新建项目，搜索Qt找到Qt Widgets Application然后点击下一步。</p> 
<p><img src="https://images2.imgbox.com/13/b0/GVryoC9o_o.png" alt="图片"></p> 
<p>下一步之后，给项目取名称</p> 
<p><img src="https://images2.imgbox.com/68/20/OCq2anTu_o.png" alt="图片"></p> 
<p>点击创建，然后点击Next</p> 
<p><img src="https://images2.imgbox.com/b8/c0/espTFIPZ_o.png" alt="图片"></p> 
<p>然后从Debug和Release模式里选择一个即可(默认即可)</p> 
<p><img src="https://images2.imgbox.com/13/09/a73FHe2Z_o.png" alt="图片"></p> 
<p>然后点击完成</p> 
<p><img src="https://images2.imgbox.com/ab/a0/khB4NX6d_o.png" alt="image-20220305203617139"></p> 
<p>最后，Ctrl+F5，大功告成</p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-sGxW180D-1646484003138)(https://s2.loli.net/2022/03/05/ShpdE8lJuyPVHRr.png)]</p> 
<h4><a id="6_473"></a>6，中文乱码</h4> 
<p>由于windows默认的编码方式为GB2312，而Qt使用的是Unicode，两种编码方式不一样导致了乱码产生。</p> 
<p>我们需要把代码文件改为utf-8保存，可以手动修改，也可以借助插件自动修改。</p> 
<h5><a id="1_479"></a>1，手动修改</h5> 
<p>VS隐藏了高级保存功能，导致没办法直接去设置代码编码。那么我们直接把高级保存功能调用出来即可：</p> 
<ol><li> <p>单击“工具”|“自定义”命令，弹出“自定义”对话框。</p> <p><img src="https://images2.imgbox.com/8d/95/AvpYFzCo_o.png" alt="image-20210504163414133"></p> </li><li> <p>单击“命令”标签，进入“命令”选项卡；在“菜单栏”下拉列表中，选择“文件”选项；单击“添加命令”按钮，弹出“添加命令”对话框。</p> <img src="https://images2.imgbox.com/c6/03/eoxqBcP7_o.png" alt="image-20210504164213477"> </li><li> <p>在“类别”列表中，选择“文件”选项；在“命令”列表中，选择“高级保存选项”选项。 单击“确定”。</p> <img src="https://images2.imgbox.com/55/33/jGDFR292_o.png" alt="image-20210504163713084"> </li></ol> 
<p>…这个操作还是比较麻烦，使用下面的自动修改是最方便的</p> 
<h5><a id="2_497"></a>2，自动修改</h5> 
<p>打开 VS2019，依次点击 工具 -&gt; 扩展和更新，搜索插件 “ForceUTF8”，安装后源码文件会强制保存为带 BOM 的 UTF-8。</p> 
<p><img src="https://images2.imgbox.com/2a/9c/0iFClLKg_o.png" alt="image-20210504162322942"></p> 
<p><strong>注意：</strong><font color="red">修改之后，写C/C++代码会出现乱码，此时再进到插件-&gt;已安装吧Force UTF-8禁用掉，然后重启Vs即可</font></p> 
<p><img src="https://images2.imgbox.com/06/e9/ZA4LN6zl_o.png" alt="image-20210504162639221"></p> 
<h4><a id="7Vs_509"></a>7，Vs中修改应用程序图标</h4> 
<ul><li> <p>1，备好一个.ico图标文件</p> </li><li> <p>2，创建一个.rc文件(创建txt修改后缀即可)，然后加入以下代码</p> <pre><code class="prism language-css">IDI_ICON1 ICON DISCARDABLE <span class="token string">"zay.ico"</span>
</code></pre> </li><li> <p>3，将.rc文件和.ico文件都放在项目的文件夹中</p> </li><li> <p>在VS中右击Source File筛选器选择<strong>添加</strong>||<strong>现有项</strong>，将<strong>logo.rc</strong>和<strong>zay.ico</strong>文件添加到项目中，重新生成即可</p> </li></ul> 
<h2><a id="5Qt_Creator__MSVC_523"></a>5.Qt Creator + MSVC</h2> 
<p>先安装好Qt Creator和visual studio，前者做编辑器，用后者的编译器，最后安装一个调试器。</p> 
<p>通过<a href="https://developer.microsoft.com/zh-cn/windows/downloads/windows-sdk/" rel="nofollow">windows SDK</a>工具安装调试器(CDB)。</p> 
<p>下载之后安装即可</p> 
<p><img src="https://images2.imgbox.com/3e/af/NhjLFp8X_o.png" alt="img"></p> 
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-ZTU7OuPv-1646484003141)(https://s2.loli.net/2022/03/05/1YE2uMzs7itgcyS.png)]</p> 
<p>安装完成之后重新打开Qt Creator，会自动检测调试工具的路径。</p> 
<p><img src="https://images2.imgbox.com/23/1b/Zc01vw35_o.png" alt="image-20211015032759727"></p> 
<p>安装Vs之后，编译器也会自动检测到(我这是安装了2019与2021，所以有很多)<br> <img src="https://images2.imgbox.com/40/91/ZdTeCpec_o.png" alt="image-20211015032904988"></p> 
<p>最后需要自己选择一下，对应版本的编译器和调试器x64和x86都可以配置一下<br> <img src="https://images2.imgbox.com/da/d4/C4XUrp2h_o.png" alt="image-20211015033016164"></p> 
<h3><a id="_544"></a>中文乱码</h3> 
<p>如果出现乱码可以在.pro文件中加入以下代码</p> 
<pre><code class="prism language-css"><span class="token selector">msvc</span>
<span class="token punctuation">{<!-- --></span>
	QMAKE_CFLAGS += /utf-8	#C语言编译器选项
	QMAKE_CXXFLAGS+=/utf-8	#C++编译器选项
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="6C_558"></a>6.需要的C++知识</h2> 
<h3><a id="1C_560"></a>1.什么是C++</h3> 
<p>C++是C语言的继承，它既可以进行C语言的过程化程序设计，又可以进行以抽象数据类型为特点的基于对象的程序设计，还可以进行以继承和多态为特点的面向对象的程序设计。</p> 
<h3><a id="2_564"></a>2.如何定义一个类</h3> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Animal</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> name<span class="token punctuation">,</span><span class="token keyword">int</span> age<span class="token punctuation">)</span>
        <span class="token operator">:</span><span class="token function">name</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">age</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token function">cry</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout<span class="token operator">&lt;&lt;</span>name<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>age<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>u8<span class="token string">"Animal cry"</span><span class="token operator">&lt;&lt;</span>std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
    std<span class="token double-colon punctuation">::</span>string name<span class="token punctuation">;</span>
    <span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<p>3.什么是对象，如何定义？</p> 
<ul><li>对象是类的实例化</li></ul> 
<pre><code class="prism language-cpp">Animal <span class="token function">cat</span><span class="token punctuation">(</span><span class="token string">"猫"</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Animal <span class="token operator">*</span>dog <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token string">"dog"</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> dog<span class="token punctuation">;</span>
</code></pre> 
<h3><a id="4_596"></a>4.如何访问类的成员变量</h3> 
<p>普通变量通过" . “，指针变量通过” -&gt; "</p> 
<pre><code class="prism language-cpp">cat<span class="token punctuation">.</span><span class="token function">cry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
dog<span class="token operator">-&gt;</span><span class="token function">cry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="5_605"></a>5.类的函数成员</h3> 
<p>一：在类里面声明<br> 二：实现这个函数，我们可以直接在类的里面写，也可以写在类的外面。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Animal</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">Animal</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> name<span class="token punctuation">,</span><span class="token keyword">int</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">cry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">private</span><span class="token operator">:</span>
    std<span class="token double-colon punctuation">::</span>string name<span class="token punctuation">;</span>
    <span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">Animal</span><span class="token double-colon punctuation">::</span><span class="token function">Animal</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>string<span class="token operator">&amp;</span> name<span class="token punctuation">,</span><span class="token keyword">int</span> age<span class="token punctuation">)</span>
        <span class="token operator">:</span><span class="token function">name</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">age</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token class-name">Animal</span><span class="token double-colon punctuation">::</span><span class="token function">cry</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{<!-- --></span>
    std<span class="token double-colon punctuation">::</span>cout<span class="token operator">&lt;&lt;</span>name<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>age<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>u8<span class="token string">"Animal cry"</span><span class="token operator">&lt;&lt;</span>std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> 
<h3><a id="6_630"></a>6.类函数的重载特性</h3> 
<p>C++允许在同一范围中声明几个功能类似的同名函数，但是这些同名函数的形式参数（指参数的个数、类型或者顺序）必须不同，这就是重载函数。重载函数常用来实现功能类似而所处理的数据类型不同的问题。不能只有函数返回值类型不同。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Animal</span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">void</span> <span class="token function">cry</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        std<span class="token double-colon punctuation">::</span>cout<span class="token operator">&lt;&lt;</span>name<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>age<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>u8<span class="token string">"Animal cry"</span><span class="token operator">&lt;&lt;</span>std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token function">cry</span><span class="token punctuation">(</span><span class="token keyword">int</span> count<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>count<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
        <span class="token punctuation">{<!-- --></span>
            std<span class="token double-colon punctuation">::</span>cout<span class="token operator">&lt;&lt;</span>i<span class="token operator">&lt;&lt;</span><span class="token string">"-&gt;"</span><span class="token operator">&lt;&lt;</span>name<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>age<span class="token operator">&lt;&lt;</span><span class="token string">" "</span><span class="token operator">&lt;&lt;</span>u8<span class="token string">"Animal cry"</span><span class="token operator">&lt;&lt;</span>std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token keyword">private</span><span class="token operator">:</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="7_655"></a>7.构造函数和析构函数</h3> 
<p>构造函数：定义对象时会调用构造函数</p> 
<p>析构函数：生命周期结束或者释放对象时，会调用析构函数 <br> <strong>特点</strong></p> 
<ul><li>构造函数和析构函数的函数名和类名一样，能够重载；没有返回类型申明</li><li>析构函数在名字前面加~，析构函数不能被重载；没有返回类型申明</li></ul> 
<p><strong>匿名对象</strong></p> 
<p><strong>深、浅拷贝</strong></p> 
<p><strong>移动语义</strong></p> 
<h3><a id="8_673"></a>8.类的继承</h3> 
<p>类的继承允许我们在新的类里面继承父类的public和protected部分。</p> 
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Snake</span><span class="token operator">:</span><span class="token base-clause"><span class="token keyword">public</span> <span class="token class-name">Animal</span></span>
<span class="token punctuation">{<!-- --></span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">using</span> Animal<span class="token double-colon punctuation">::</span>Animal<span class="token punctuation">;</span>
    <span class="token function">Snake</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span>
        <span class="token operator">:</span><span class="token function">Animal</span><span class="token punctuation">(</span><span class="token string">"snake"</span><span class="token punctuation">,</span>age<span class="token punctuation">)</span>
    <span class="token punctuation">{<!-- --></span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> 
<h3><a id="9_690"></a>9.虚函数和纯虚函数</h3> 
<p>虚函数：有实际定义的，允许派生类对他进行覆盖式的替换，virtual修饰。<br> 纯虚函数：没有实际定义的虚函数就是纯虚函数,子类必须自己实现。</p> 
<p>虚函数的优点是可以预留接口(API)。</p> 
<h3><a id="10lambda_697"></a>10.lambda表达式</h3> 
<p>Lambda 表达式（lambda expression）是一个匿名函数，Lambda表达式基于数学中的λ演算得名，直接对应于其中的lambda抽象（lambda abstraction），是一个匿名函数，即没有函数名的函数。</p> 
<p>基本语法：</p> 
<pre><code class="prism language-cpp"><span class="token punctuation">[</span>capture list<span class="token punctuation">]</span> <span class="token punctuation">(</span>parameter list<span class="token punctuation">)</span><span class="token keyword">mutable</span><span class="token operator">/</span><span class="token keyword">noexcept</span> <span class="token operator">-&gt;</span> <span class="token keyword">return</span> type <span class="token punctuation">{<!-- --></span> function body <span class="token punctuation">}</span>
<span class="token comment">/*
capture list		参数捕获列表
parameter list 		形参列表(可省略)
mutable/noexcept	选项	  (可省略)
	·mutable	可以修改按值传递进来的拷贝（注意是能修改拷贝，而不是值本身）
	·noexcept	表示函数不抛异常
-&gt; return type		尾置返回类型(可省略)
function body		函数体
*/</span>
</code></pre> 
<ul><li><strong>capture list</strong> 参数捕获列表 
  <ul><li><code>[]</code> 不捕捉任何变量</li><li><code>[&amp;]</code> 捕获外部作用域中所有变量, 并作为引用在函数体内使用 (<code>按引用捕获</code>)</li><li><code>[=]</code> 捕获外部作用域中所有变量, 并作为副本在函数体内使用 (<code>按值捕获</code>) 
    <ul><li>拷贝的副本在匿名函数体内部是只读的</li></ul> </li><li><code>[=, &amp;foo]</code> 按值捕获外部作用域中所有变量, 并按照引用捕获外部变量 foo</li><li><code>[bar]</code> 按值捕获 bar 变量, 同时不捕获其他变量</li><li><code>[&amp;bar]</code> 按值捕获 bar 变量, 同时不捕获其他变量</li><li><code>[this]</code> 捕获当前类中的this指针 
    <ul><li>让lambda表达式拥有和当前类成员函数同样的访问权限</li><li>如果已经使用了 &amp; 或者 =, 默认添加此选项</li></ul> </li></ul> </li><li><strong>parameter list</strong> 形参列表(可省略)</li><li><strong>mutable/noexcept</strong> 选项 (可省略) 
  <ul><li>mutable 可以修改按值传递进来的拷贝（注意是能修改拷贝，而不是值本身）</li><li>noexcept 表示函数不抛异常</li></ul> </li><li><strong>-&gt; return type</strong> 尾置返回类型(可省略)</li><li><strong>function body</strong> 函数体</li></ul>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e2aa4d7248cadb218293bcedf56d6d1e/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">BigDecimal与Long、int之间的相互转换</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f37b243455afdc67ab6da38bf3fe2f21/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Ctrl &#43; z撤销多了怎么办，撤销Ctrl &#43; z操作</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>