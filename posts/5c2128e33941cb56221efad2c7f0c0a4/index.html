<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Compose Desktop 初体验之打包 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Compose Desktop 初体验之打包" />
<meta property="og:description" content="从 0 到 1 搞一个 Compose Desktop 版本的玩天气之打包 大家好，前两篇文章大概介绍了下上手 Compose Desktop 和自定义绘制时遇到的一些问题，项目的最终实现效果如下：
视频
代码写好了，该弄的动画也弄了，该请求的网络数据也请求了，该实现的效果也都实现好了，但是！！！咱们得打包出来啊！不打包出来别人如何使用呢？难道说别人想用你开发的桌面应用，结果你给他说你先下载一个 IntelliJ Idae ，然后下载下我的源码，之后把环境配置好，最后运行就可以了！如果下次再想用的时候再运行一次就好了！
这说的是人话嘛😂，肯定不能这样，所以一定要打包！由于 Compose Desktop 不止可以运行在 Mac 中，还可以运行在 Windows 和 Linux 中，所以需要打多个包。那使用 Compose Desktop 应该如何打包呢？且听我慢慢道来！
基本用法 插件中的基本配置单元是一个 application ，application 是什么呢？在第一篇文章中也提到了，就是在 build.gradle.kts 文件中的代码，咱们再来看下：
compose.desktop { application { mainClass = &#34;MainKt&#34; nativeDistributions { targetFormats(TargetFormat.Dmg, TargetFormat.Msi, TargetFormat.Deb) packageName = &#34;Demo&#34; packageVersion = &#34;1.0.0&#34; } } } 一个 application 定义了一组最终二进制文件的共享配置。换句话说，application DSL 允许将一堆文件连同 JDK 分发包打包成一组各种格式（.dmg、.deb、.msi、.exe等）的压缩二进制安装程序。
该插件创建以下任务：
package&lt;FormatName&gt;（例如 packageDmg 或 packageMsi）用于将应用程序打包成相应的格式。这块需要注意的是，目前没有交叉编译支持，因此只能使用特定操作系统构建格式（例如，要构建." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/5c2128e33941cb56221efad2c7f0c0a4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-18T10:12:09+08:00" />
<meta property="article:modified_time" content="2022-12-18T10:12:09+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Compose Desktop 初体验之打包</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-github-gist">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h2><a id="_0__1__Compose_Desktop__0"></a>从 0 到 1 搞一个 Compose Desktop 版本的玩天气之打包</h2> 
<p>大家好，前两篇文章大概介绍了下上手 <code>Compose Desktop</code> 和自定义绘制时遇到的一些问题，项目的最终实现效果如下：</p> 
<p></p> 
<div class="csdn-video-box"> 
 <iframe id="ICJkuiqH-1671095579055" frameborder="0" src="https://live.csdn.net/v/embed/263193" allowfullscreen="true" data-mediaembed="csdn"></iframe> 
 <p>视频</p> 
</div> 
<p></p> 
<p>代码写好了，该弄的动画也弄了，该请求的网络数据也请求了，该实现的效果也都实现好了，但是！！！咱们得打包出来啊！不打包出来别人如何使用呢？难道说别人想用你开发的桌面应用，结果你给他说你先下载一个 <code>IntelliJ Idae</code> ，然后下载下我的源码，之后把环境配置好，最后运行就可以了！如果下次再想用的时候再运行一次就好了！</p> 
<p>这说的是人话嘛😂，肯定不能这样，所以一定要打包！由于 <code>Compose Desktop</code> 不止可以运行在 <code>Mac</code> 中，还可以运行在 <code>Windows</code> 和 <code>Linux</code> 中，所以需要打多个包。那使用 <code>Compose Desktop</code> 应该如何打包呢？且听我慢慢道来！</p> 
<h3><a id="_12"></a>基本用法</h3> 
<p>插件中的基本配置单元是一个 <code>application</code> ，<code>application</code> 是什么呢？在第一篇文章中也提到了，就是在 <code>build.gradle.kts</code> 文件中的代码，咱们再来看下：</p> 
<pre><code class="prism language-kotlin">compose<span class="token punctuation">.</span><span class="token function">desktop</span> <span class="token punctuation">{<!-- --></span>
    application <span class="token punctuation">{<!-- --></span>
        mainClass <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"MainKt"</span></span>
        nativeDistributions <span class="token punctuation">{<!-- --></span>
            <span class="token function">targetFormats</span><span class="token punctuation">(</span>TargetFormat<span class="token punctuation">.</span>Dmg<span class="token punctuation">,</span> TargetFormat<span class="token punctuation">.</span>Msi<span class="token punctuation">,</span> TargetFormat<span class="token punctuation">.</span>Deb<span class="token punctuation">)</span>
            packageName <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Demo"</span></span>
            packageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.0.0"</span></span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>一个 <code>application</code> 定义了一组最终二进制文件的共享配置。换句话说，<code>application</code> DSL 允许将一堆文件连同 JDK 分发包打包成一组各种格式（<code>.dmg</code>、<code>.deb</code>、<code>.msi</code>、<code>.exe</code>等）的压缩二进制安装程序。</p> 
<p>该插件创建以下任务：</p> 
<ul><li><code>package&lt;FormatName&gt;</code>（例如 <code>packageDmg</code> 或 <code>packageMsi</code>）用于将应用程序打包成相应的格式。<strong>这块需要注意的是，目前没有交叉编译支持，因此只能使用特定操作系统构建格式（例如，要构建<code>.dmg</code> 就必须使用 macOS）。默认情况下会跳过与当前操作系统不兼容的任务。</strong></li><li><code>packageDistributionForCurrentOS</code> 是一个<a href="https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:lifecycle_tasks" rel="nofollow">生命周期</a>任务，聚合了应用程序的所有包任务。</li><li><code>packageUberJarForCurrentOS </code>用于创建单个 jar 文件，其中包含当前操作系统的所有依赖项。</li><li><code>run</code> 用于在本地运行应用程序。需要定义一个 <code>mainClass</code> 包含该 <code>main</code> 函数的类。请注意， <code>run</code> 将启动具有完整运行时的非打包 JVM 应用程序。这比创建具有最小运行时间的紧凑二进制映像更快、更容易调试。要运行最终的二进制图像，需要改用 <code>runDistributable</code> 。</li><li><code>createDistributable </code>用于在不创建安装程序的情况下创建预打包的应用程序映像和最终应用程序映像。</li><li><code>runDistributable</code> 用于运行预先打包的应用程序映像。</li><li>只有在脚本中使用 <code>block</code> 或 <code>property</code> 时才会创建任务。</li></ul> 
<p>光这么说其实有点懵，来一张图大家就明白我说的是什么了！</p> 
<p><img src="https://images2.imgbox.com/e3/2e/5CTegeJJ_o.png" alt="在这里插入图片描述"></p> 
<p>是不是有点恍然大明白的感觉！直接点击 <code>IntelliJ IDEA</code> 右侧边栏的 <code>Gradle</code> ，就会出现这个侧边栏，然后点击 <code>Task</code> 中的 <code>compose desktop</code> 就会出现上面描述的那些任务。</p> 
<h3><a id="_48"></a>打包配置</h3> 
<p><code>Compose Desktop</code> 打包有很多的配置项，下面来分别看下。</p> 
<h4><a id="_JDK__52"></a>配置包含的 JDK 模块</h4> 
<p>Gradle 插件使用 <a href="https://openjdk.java.net/jeps/282" rel="nofollow">jlink</a> 通过仅包含必要的 JDK 模块来最小化可分发的大小。</p> 
<p>此时，Gradle 插件不会自动确定必要的 JDK 模块。未能提供必要的模块不会导致编译问题，但会导致在运行时出现 <code>ClassNotFoundException </code> 的错误。</p> 
<p>如果在运行打包的应用程序或任务时遇到 <code>ClassNotFoundException</code> ，可以使用DSL 方法<code>runDistributable</code> 来配置包含额外的 JDK 模块，需要使用 <code>modules</code> 来配置。</p> 
<p>可以通过手动或运行 <code>suggestModules</code> 任务来确定哪些模块是必需的。<code>suggestModules</code> 使用 <a href="https://docs.oracle.com/javase/9/tools/jdeps.htm" rel="nofollow">jdeps</a> 静态分析工具来确定可能缺少的模块。</p> 
<p>如果安装包的大小不重要的话，可以使用 <code>includeAllModules</code>DSL 属性简单地包括所有运行时模块作为替代。</p> 
<pre><code class="prism language-kotlin">compose<span class="token punctuation">.</span><span class="token function">desktop</span> <span class="token punctuation">{<!-- --></span>
    application <span class="token punctuation">{<!-- --></span>
        nativeDistributions <span class="token punctuation">{<!-- --></span>
            <span class="token function">modules</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"java.sql"</span></span><span class="token punctuation">)</span>
            <span class="token comment">// alternatively: includeAllModules = true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这块在我打包的时候搜了好久！最后在 <code>Issue</code> 中找到了解决方案！</p> 
<h4><a id="_77"></a>可用格式</h4> 
<p>以下格式可用于支持的操作系统：</p> 
<ul><li><strong>macOS</strong> — <code>.dmg</code> ( <code>TargetFormat.Dmg</code>)、 <code>.pkg</code>( <code>TargetFormat.Pkg</code>)</li><li><strong>Windows</strong> — <code>.exe</code> ( <code>TargetFormat.Exe</code>)、 <code>.msi</code>( <code>TargetFormat.Msi</code>)</li><li><strong>Linux</strong> — <code>.deb</code> ( <code>TargetFormat.Deb</code>)、 <code>.rpm</code>( <code>TargetFormat.Rpm</code>)</li></ul> 
<h4><a id="_85"></a>指定包版本</h4> 
<p>由于可以打多种不同的包，也有可能需要区分不同的版本，所以可以指定包的版本。如何指定的呢？来看代码：</p> 
<pre><code class="prism language-kotlin">compose<span class="token punctuation">.</span><span class="token function">desktop</span> <span class="token punctuation">{<!-- --></span>
    application <span class="token punctuation">{<!-- --></span>
        nativeDistributions <span class="token punctuation">{<!-- --></span>
            packageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.0.0"</span></span> 
            
            linux <span class="token punctuation">{<!-- --></span>
              packageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.0.0"</span></span> 
              debPackageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.0.0"</span></span> 
              rpmPackageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.0.0"</span></span> 
            <span class="token punctuation">}</span>
            macOS <span class="token punctuation">{<!-- --></span>
              packageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.1.0"</span></span>
              dmgPackageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.1.0"</span></span> 
              pkgPackageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.1.0"</span></span> 
              
              packageBuildVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.1.0"</span></span>
              dmgPackageBuildVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.1.0"</span></span> 
              pkgPackageBuildVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.1.0"</span></span> 
            <span class="token punctuation">}</span>
            windows <span class="token punctuation">{<!-- --></span>
              packageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.2.0"</span></span>  
              msiPackageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.2.0"</span></span>
              exePackageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.2.0"</span></span> 
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>必须为本机分发包指定包版本，还可以使用以下 DSL 属性（按优先级降序排列）：</p> 
<ul><li><code>nativeDistributions.&lt;os&gt;.&lt;packageFormat&gt;PackageVersion</code> 指定单个包格式的版本；</li><li><code>nativeDistributions.&lt;os&gt;.packageVersion</code> 指定单个目标操作系统的版本；</li><li><code>nativeDistributions.packageVersion</code> 指定所有包的版本；</li></ul> 
<p>对于 macOS，还可以使用以下 DSL 属性指定构建版本（按优先级降序排列）：</p> 
<ul><li><code>nativeDistributions.macOS.&lt;packageFormat&gt;PackageBuildVersion</code> 指定单一包格式的构建版本；</li><li><code>nativeDistributions.macOS.packageBuildVersion</code> 为所有 macOS 包指定构建版本。</li></ul> 
<p>需要注意的是，版本必须遵循以下规则：</p> 
<ul><li> <p><code>dmg</code> 和 <code>pkg</code> ：格式为 MAJOR.MINOR.PATCH</p> <p>其中：<code>MAJOR</code>是一个 &gt; 0 的整数；<code>MINOR</code>是一个可选的非负整数；<code>PATCH</code>是一个可选的非负整数；</p> </li><li> <p><code>msi</code> 和 <code>exe</code> ：格式为 MAJOR.MINOR.BUILD</p> <p>其中：<code>MAJOR</code>是一个非负整数，最大值为255；<code>MINOR</code>是一个非负整数，最大值为255；<code>BUILD</code>是一个非负整数，最大值为65535；</p> </li><li> <p><code>rpm</code> ：版本不得包含<code>-</code>（破折号）字符。</p> </li><li> <p><code>deb</code> ：格式为 EPOCH:UPSTREAM_VERSION-DEBIAN_REVISION</p> <p>其中：<code>EPOCH</code>是一个可选的非负整数；<code>UPSTREAM_VERSION</code> 只包含字母数字和字符<code>.</code>, <code>+</code>, <code>-</code>, <code>~</code>，必须以数字开头；<code>DEBIAN_REVISION</code>是可选的，可能只包含字母数字和字符<code>.</code>, <code>+</code>, <code>~</code>。</p> </li></ul> 
<h4><a id="_JDK__146"></a>自定义 JDK 版本</h4> 
<p>由于该插件使用<code>jpackage</code>，所以最低得使用 <a href="https://openjdk.java.net/projects/jdk/15/" rel="nofollow">JDK 15</a>。</p> 
<ul><li><code>JAVA_HOME</code> 环境变量指向兼容的 JDK 版本。</li><li><code>javaHome</code> 通过 DSL 设置：</li></ul> 
<pre><code>compose.desktop {
    application {
        javaHome = System.getenv("JDK_15")
    }
}
</code></pre> 
<h4><a id="_161"></a>自定义输出目录</h4> 
<p><code>Compose Desktop</code> 默认的打包路径在 /build/compose/binaries/main/app 中，如果想修改下打包路径的话，需要修改下配置：</p> 
<pre><code class="prism language-kotlin">compose<span class="token punctuation">.</span><span class="token function">desktop</span> <span class="token punctuation">{<!-- --></span>
    application <span class="token punctuation">{<!-- --></span>
        nativeDistributions <span class="token punctuation">{<!-- --></span>
            outputBaseDir<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>project<span class="token punctuation">.</span>buildDir<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"customOutputDir"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_175"></a>自定义基本数据</h4> 
<p>DSL 块中提供以下属性 <code>nativeDistributions</code>：</p> 
<ul><li><code>packageName</code> — 应用程序名称（默认值：Gradle 项目<a href="https://docs.gradle.org/current/javadoc/org/gradle/api/Project.html#getName--" rel="nofollow">名称</a>）；</li><li><code>version</code> — 应用程序的版本（默认值：Gradle 项目的<a href="https://docs.gradle.org/current/javadoc/org/gradle/api/Project.html#getVersion--" rel="nofollow">版本</a>）；</li><li><code>description</code> — 应用程序的描述（默认值：无）；</li><li><code>copyright</code> — 应用程序的版权（默认值：无）；</li><li><code>vendor</code> — 应用程序的供应商（默认值：无）；</li><li><code>licenseFile</code> — 应用程序的许可证（默认值：无）。</li></ul> 
<pre><code class="prism language-kotlin">compose<span class="token punctuation">.</span><span class="token function">desktop</span> <span class="token punctuation">{<!-- --></span>
    application <span class="token punctuation">{<!-- --></span>
        nativeDistributions <span class="token punctuation">{<!-- --></span>
            packageName <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"PlayWeather"</span></span>
            version <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.1.0"</span></span>
            description <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"PlayWeather"</span></span>
            copyright <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"© 2022 My Name. All rights reserved."</span></span>
            vendor <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Example vendor"</span></span>
            licenseFile<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>project<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"LICENSE.txt"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这块大家可以根据需求来定义这些数据，如不需要不写即可。</p> 
<h4><a id="_203"></a>特定平台选项</h4> 
<p>需要使用相应的 DSL 块设置特定于平台的选项，使用方法就是上面 <code>maxOS</code> 、<code>windows</code> 、<code>linux</code> ，不同平台可配置的选项都不太一样！</p> 
<ul><li> <p><strong>所有平台</strong></p> 
  <ul><li> <p><code>iconFile.set(File("PATH_TO_ICON"))</code>— 应用程序特定于平台的图标的路径。</p> </li><li> <p><code>packageVersion = "1.0.0" </code> — 特定于平台的包版本。</p> </li><li> <p><code>installationPath = "PATH_TO_INSTALL_DIR"</code> 默认安装目录的绝对或相对路径；在 Windows 上<code>dirChooser = true</code>，可用于启用在安装过程中自定义路径。</p> </li></ul> </li><li> <p><strong>Linux</strong></p> 
  <ul><li> <p><code>packageName = "custom-package-name"</code> 覆盖默认的应用程序名称；</p> </li><li> <p><code>debMaintainer = "maintainer@example.com"</code> — deb 包维护者的电子邮件；</p> </li><li> <p><code>menuGroup = "my-example-menu-group" </code>— 应用程序的菜单组；</p> </li><li> <p><code>appRelease = "1" </code>— rpm 包的发布值，或 deb 包的修订值；</p> </li><li> <p><code>appCategory = "CATEGORY"</code> — rpm 包的组值，或 deb 包的部分值；</p> </li><li> <p><code>rpmLicenseType = "TYPE_OF_LICENSE" </code>— rpm 包的一种许可证；</p> </li><li> <p><code>debPackageVersion = "DEB_VERSION"``Specifying package version</code> — 特定于 deb 的包版本；</p> </li><li> <p><code>rpmPackageVersion = "RPM_VERSION"``Specifying package version </code>— 特定于 rpm 的软件包版本；</p> </li></ul> </li><li> <p><strong>MacOS</strong></p> 
  <ul><li> <p>bundleID — 唯一的应用标识符；</p> 
    <ul><li>只能包含字母数字字符 ( <code>A-Z</code>, <code>a-z</code>, <code>0-9</code>)、连字符 ( <code>-</code>) 和句点 ( <code>.</code>) 字符；</li><li><code>com.mycompany.myapp </code>建议使用反向 DNS 表示法（例如）；</li></ul> </li><li> <p><code>packageName</code> — 应用名称；</p> </li><li> <p><code>dockName </code>— 显示在菜单栏、“关于”菜单项、停靠栏等中的应用程序名称。<code>packageName</code> 等于默认情况下的名称；</p> </li><li> <p><code>signing</code>, <code>notarization</code>, <code>provisioningProfile</code>, 和<code>runtimeProvisioningProfile</code>— 详见<a href="https://github.com/JetBrains/compose-jb/blob/master/tutorials/Signing_and_notarization_on_macOS/README.md">相应教程</a>；</p> </li><li> <p><code>appStore = true</code> — 为 Apple App Store 构建和签名。至少需要 JDK 17；</p> </li><li> <p><code>appCategory</code> — Apple App Store 的应用类别。默认值是 <code>public.app-category.utilities</code> ；</p> </li><li> <p><code>entitlementsFile.set(File("PATH_TO_ENTITLEMENTS"))</code> — 包含签名时使用的权利的文件路径；</p> </li><li> <p><code>runtimeEntitlementsFile.set(File("PATH_TO_RUNTIME_ENTITLEMENTS")) </code> — 包含在签署 JVM 运行时时使用的权利的文件路径；</p> </li><li> <p><code>dmgPackageVersion = "DMG_VERSION"</code> — 一个特定于 dmg 的包版本（详见参考资料部分）；</p> </li><li> <p><code>pkgPackageVersion = "PKG_VERSION"</code> — 特定于 pkg 的包版本（详情请参阅参考资料部分）；</p> </li><li> <p><code>packageBuildVersion = "DMG_VERSION"</code> — 包构建版本（详见参考资料部分）；</p> </li><li> <p><code>dmgPackageBuildVersion = "DMG_VERSION" </code>— 特定于 dmg 的软件包构建版本（详情请参阅参考资料部分）；</p> </li><li> <p><code>pkgPackageBuildVersion = "PKG_VERSION" </code> — 特定于 pkg 的包构建版本；</p> </li><li> <p><code>infoPlist</code> — 链接到别的程序。</p> </li></ul> </li><li> <p><strong>Linux</strong></p> 
  <ul><li><code>console = true </code>为应用程序添加一个控制台启动器；</li><li><code>dirChooser = true</code> 允许在安装过程中自定义安装路径；</li><li><code>perUserInstall = true </code>允许在每个用户的基础上安装应用程序</li><li><code>menuGroup = "start-menu-group"</code> 将应用程序添加到指定的开始菜单组；</li><li><code>upgradeUuid = "UUID"</code> — 一个唯一的 ID，当更新的版本比安装的版本更新时，它使用户能够通过安装程序更新应用程序。对于单个应用程序，该值必须保持不变；</li><li><code>msiPackageVersion = "MSI_VERSION"</code> — 特定于 msi 的软件包版本；</li><li><code>exePackageVersion = "EXE_VERSION"</code> — 特定于 pkg 的包版本</li></ul> </li></ul> 
<h3><a id="_274"></a>修改应用图标</h3> 
<p>这块为什么要单独拿出一大块来说呢？因为这个问题中困扰了我好久。。。所以才。。。。</p> 
<p>还记得之前文章中说了 <code>Window</code> 可组合项中可以设定 <code>Icon</code> 么，但当时说的时候专门说了此 <code>Icon</code> 并非应用程序的图标！因为应用程序图标需要以特定于操作系统的格式提供：</p> 
<ul><li><code>.icns</code> 对于 macOS</li><li><code>.ico</code> 适用于 Windows</li><li><code>.png</code> 对于 Linux</li></ul> 
<p>看下代码吧：</p> 
<pre><code class="prism language-kotlin">compose<span class="token punctuation">.</span><span class="token function">desktop</span> <span class="token punctuation">{<!-- --></span>
    application <span class="token punctuation">{<!-- --></span>
        nativeDistributions <span class="token punctuation">{<!-- --></span>
            macOS <span class="token punctuation">{<!-- --></span>
                iconFile<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>project<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"icon.icns"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            windows <span class="token punctuation">{<!-- --></span>
                iconFile<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>project<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"icon.ico"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            linux <span class="token punctuation">{<!-- --></span>
                iconFile<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>project<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"icon.png"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><code>Linux</code> 中的 <code>png</code> 格式的图片我们很常见，但是 <code>Mac</code> 和 <code>Windows</code> 中的格式是什么鬼。。。没见过啊！</p> 
<p>如果知道这两种文件格式的话大家直接跳过后面的部分即可，这里还需要注意的是这里的文件路径指的是项目根目录。</p> 
<h4><a id="ICNS__308"></a>ICNS 文件</h4> 
<ol><li>什么是 <code>.icns</code> ?</li></ol> 
<p><code>.icns</code> 是苹果的 macOS 操作系统的 App 图标文件的扩展名，大家在 macOS 的 <code>Desktop 桌面</code>、<code>Finder 访达</code>、<code>Dock 程序坞</code> 等看到应用程序的外观就是由一个内置在此 App 内部的扩展名为<code>.icns</code>的文件实现的。</p> 
<p>可以通过鼠标“右键”点击 App - “显示包内容” - 进入 <code>Contents</code> 目录 - 进入<code>Resources</code> 目录，然后在目录下可以找到名为 <code>Appicon.icns</code> 或其他后缀为 <code>.icns</code> 的一个图标文件。</p> 
<ol start="2"><li>如何创建 <code>.icns</code> 扩展名的图标文件?</li></ol> 
<p>a. 准备一张图片，重命名为 <code>icon.png</code>，其他大小尺寸可以通过终端命令生成；</p> 
<p>b. 通过鼠标右键或者命令，创建一个名为 <code>icons.iconset</code> 的文件夹</p> 
<pre><code class="prism language-text">mkdir icons.iconset
</code></pre> 
<p>c. 通过”终端“来快速创建各种不同尺寸要求的图片文件</p> 
<pre><code class="prism language-text">sips -z 512 512 icon.png -o icons.iconset/icon_512x512.png
</code></pre> 
<p>d. ”终端“中运行下面的命令，就可以获得名为<code>icon.icns</code>的图标文件了</p> 
<pre><code class="prism language-text">iconutil -c icns icons.iconset -o icon.icns
</code></pre> 
<p><strong>注意：<code>icon.png</code> 图片文件和 <code>icons.iconset</code> 文件夹要保存在同一级目录下，”终端“启动后切换到相同目录。</strong></p> 
<h4><a id="ICO__340"></a>ICO 文件</h4> 
<p><code>ico</code> 文件是 <code>Windows</code> 系统的应用图标格式，我也不会制作，但找到了一个制作 <code>ico</code> 的网站：</p> 
<p><a href="https://www.butterpig.top/icopro/" rel="nofollow">https://www.butterpig.top/icopro/</a></p> 
<p>需要的话可以进去制作。</p> 
<h3><a id="_348"></a>混淆</h3> 
<p>从 <code>Compose Desktop</code> 1.2 版本开始，<code>Compose Gradle</code> 插件支持开箱即用的 <a href="https://www.guardsquare.com/proguard" rel="nofollow">ProGuard</a>。<code>ProGuard</code> 是一个众所周知的用于缩小和混淆的<a href="https://github.com/Guardsquare/proguard">开源工具</a><a href="https://www.guardsquare.com/" rel="nofollow">Guardsquare</a>。</p> 
<p>Gradle插件为每个对应的默认打包任务提供了发布任务：</p> 
<table><thead><tr><th>默认任务（没有 ProGuard）</th><th>发布任务（带 ProGuard）</th><th>描述</th></tr></thead><tbody><tr><td><code>createDistributable</code></td><td><code>createReleaseDistributable</code></td><td>使用捆绑的 JDK 和资源创建应用程序映像</td></tr><tr><td><code>runDistributable</code></td><td><code>runReleaseDistributable</code></td><td>使用捆绑的 JDK 和资源运行应用程序映像</td></tr><tr><td><code>run</code></td><td><code>runRelease</code></td><td><code>jar</code>使用 Gradle JDK运行非打包应用程序</td></tr><tr><td><code>package&lt;FORMAT_NAME&gt;</code></td><td><code>packageRelease&lt;FORMAT_NAME&gt;</code></td><td>将应用程序映像打包到<code>&lt;FORMAT_NAME&gt;</code>文件中</td></tr><tr><td><code>packageForCurrentOS</code></td><td><code>packageReleaseForCurrentOS</code></td><td>将应用程序映像打包成与当前操作系统兼容的格式</td></tr><tr><td><code>notarize&lt;FORMAT_NAME&gt;</code></td><td><code>notarizeRelease&lt;FORMAT_NAME&gt;</code></td><td>上传<code>&lt;FORMAT_NAME&gt;</code>用于公证的应用程序图像（仅限 macOS）</td></tr><tr><td><code>checkNotarizationStatus</code></td><td><code>checkReleaseNotarizationStatus</code></td><td>检查公证是否成功（仅限 macOS）</td></tr></tbody></table> 
<p>默认配置添加了一些 ProGuard 规则：</p> 
<ul><li>缩小应用程序图像，即删除未使用的类；</li><li><code>compose.desktop.application.mainClass</code> 用作入口点；</li><li><code>keep</code> 避免破坏 <code>Compose</code> 运行时的一些规则。</li></ul> 
<p>在许多情况下，获得缩小的 <code>Compose</code> 应用程序不需要任何额外的配置。但是，有时 <code>ProGuard</code> 可能无法跟踪字节码中的某些用法（例如，如果通过反射使用类，则可能会发生这种情况）。如果遇到仅在 <code>ProGuard</code> 处理后才会发生的问题，可能需要添加自定义规则。为此，通过 DSL 指定配置文件：</p> 
<pre><code>compose.desktop {
    application {
        buildTypes.release.proguard {
            configurationFiles.from(project.file("compose-desktop.pro"))
        }
    }
}
</code></pre> 
<p>可以参考 Guardsquare 关于 ProGuard 规则和配置选项的<a href="https://www.guardsquare.com/manual/configuration/usage" rel="nofollow">综合手册</a>。</p> 
<p>默认情况下禁用混淆。要启用它，请通过 Gradle DSL 设置以下属性：</p> 
<pre><code>compose.desktop {
    application {
        buildTypes.release.proguard {
            obfuscate.set(true)
        }
    }
}
</code></pre> 
<p>混淆需要根据需要使用了，如果需要控制包体积的话尽量还是打开，可以减小包体积，还会减小代码泄漏的可能性；反之打不打开都行！</p> 
<h3><a id="_398"></a>实际操作</h3> 
<p>上面都是理论知识，咱们得实操啊！有基础知识之后实操就很简单了，先来看下 <code>build.gradle.kts</code> 中的配置项吧：</p> 
<pre><code class="prism language-kotlin">compose<span class="token punctuation">.</span><span class="token function">desktop</span> <span class="token punctuation">{<!-- --></span>
    application <span class="token punctuation">{<!-- --></span>
        mainClass <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"MainKt"</span></span>
        nativeDistributions <span class="token punctuation">{<!-- --></span>
            <span class="token function">targetFormats</span><span class="token punctuation">(</span>TargetFormat<span class="token punctuation">.</span>Dmg<span class="token punctuation">,</span> TargetFormat<span class="token punctuation">.</span>Exe<span class="token punctuation">,</span> TargetFormat<span class="token punctuation">.</span>Msi<span class="token punctuation">,</span> TargetFormat<span class="token punctuation">.</span>Deb<span class="token punctuation">)</span>
            packageName <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"PlayWeather"</span></span>
            packageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.0.0"</span></span>
            description <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Play Weather App"</span></span>
            copyright <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"© 2022 My Name. All rights reserved."</span></span>
            vendor <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"Lenovo"</span></span>
            licenseFile<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>project<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"LICENSE.txt"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token function">modules</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"java.instrument"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"java.management"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"java.naming"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"java.sql"</span></span><span class="token punctuation">,</span> <span class="token string-literal singleline"><span class="token string">"jdk.unsupported"</span></span><span class="token punctuation">)</span>

            linux <span class="token punctuation">{<!-- --></span>
                packageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.0.0"</span></span>
                debPackageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.0.0"</span></span>
                rpmPackageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.0.0"</span></span>
                <span class="token comment">// 设置图标</span>
                iconFile<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>project<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"launcher/icon.png"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            macOS <span class="token punctuation">{<!-- --></span>
                packageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.1.0"</span></span>
                dmgPackageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.1.0"</span></span>
                pkgPackageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.1.0"</span></span>
                dockName <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"PlayWeather"</span></span>

                packageBuildVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.1.0"</span></span>
                dmgPackageBuildVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.1.0"</span></span>
                pkgPackageBuildVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.1.0"</span></span>
                <span class="token comment">// 设置图标</span>
                iconFile<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>project<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"launcher/icon.icns"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            windows <span class="token punctuation">{<!-- --></span>
                packageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.2.0"</span></span>
                msiPackageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.2.0"</span></span>
                exePackageVersion <span class="token operator">=</span> <span class="token string-literal singleline"><span class="token string">"1.2.0"</span></span>
                <span class="token comment">// 设置图标</span>
                iconFile<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>project<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"launcher/icon.ico"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        buildTypes<span class="token punctuation">.</span>release<span class="token punctuation">.</span><span class="token function">proguard</span> <span class="token punctuation">{<!-- --></span>
            obfuscate<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
            configurationFiles<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>project<span class="token punctuation">.</span><span class="token function">file</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"proguard-rules.pro"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>这里的配置项就不多说了，上面都有过介绍，下面来打包吧！</p> 
<p><img src="https://images2.imgbox.com/30/95/tb2rjqJE_o.png" alt="在这里插入图片描述"></p> 
<p>点击上图中蓝色箭头标注的进行打包，上面说过了，不能跨系统打包，<code>Mac</code> 只能打 <code>Mac</code> 中使用的包。。双击执行 <code>packageDmg</code> 任务：</p> 
<p><img src="https://images2.imgbox.com/2f/27/xLGwleNY_o.png" alt="在这里插入图片描述"></p> 
<p>没问题的话大概会出现上图的样子，由于没有配置自定义包路径，所以还在默认文件中，按照上面所描述的路径进行查看：</p> 
<p><img src="https://images2.imgbox.com/9f/cb/8BSfVFoS_o.png" alt="在这里插入图片描述"></p> 
<p>复制文件路径，在访达中打开：</p> 
<p><img src="https://images2.imgbox.com/d0/aa/X2BBfYyP_o.png" alt="在这里插入图片描述"></p> 
<p>双击进行安装即可：</p> 
<p><img src="https://images2.imgbox.com/3a/47/upZ5l7Zr_o.png" alt="在这里插入图片描述"></p> 
<p>然后在资源库中找到应用双击打开应该会遇到下面的错误：</p> 
<p><img src="https://images2.imgbox.com/63/75/sgXu002W_o.png" alt="在这里插入图片描述"></p> 
<p>这时点击取消，然后打开设置 -&gt; 隐私与安全性，往下滑：</p> 
<p><img src="https://images2.imgbox.com/80/4e/6hwGvjWO_o.png" alt="在这里插入图片描述"></p> 
<p>点击箭头标注的“仍要打开”按钮，会让你输入电脑的密码，输入完成后会弹出下面的对话框：</p> 
<p><img src="https://images2.imgbox.com/d4/a3/21QAPTQY_o.png" alt="在这里插入图片描述"></p> 
<p>点击打开，这时应用就能正常使用了。</p> 
<p><img src="https://images2.imgbox.com/19/ca/rcy27KBL_o.png" alt="在这里插入图片描述"></p> 
<p>苹果端就不打 <code>release</code> 包了，还需要苹果的开发者账号那一大堆。。。目前先能正常在 <code>Mac</code> 中运行吧！</p> 
<h3><a id="_498"></a>总结</h3> 
<p>本文大概总结了下使用 <code>Compose Desktop</code> 如何进行打包，此项目所有代码都放到了 <code>Github</code> 中。</p> 
<p><code>Github</code> 地址：<a href="https://github.com/zhujiang521/PlayWeather/tree/desktop">https://github.com/zhujiang521/PlayWeather/tree/desktop</a></p> 
<p>如果文中写的有误，欢迎在评论区提出，咱们一起探讨。</p> 
<p>文章如果能帮助到大家，哪怕是一点，我也非常高兴，先这样。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f44f6d81e112a9d42fb40e3f63576e40/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">强化学习学习笔记</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/f9173e121930f8955e30b2677bfd9548/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Compose Desktop 初体验之踩坑</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>