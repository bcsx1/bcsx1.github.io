<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>1 FFmpeg从入门到精通-FFmpeg简介 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="1 FFmpeg从入门到精通-FFmpeg简介" />
<meta property="og:description" content="1 FFmpeg从入门到精通-FFmpeg简介
2 FFmpeg从入门到精通-FFmpeg工具使用基础
3 FFmpeg从入门到精通-FFmpeg转封装
4 FFmpeg从入门到精通-FFmpeg转码
5 FFmpeg从入门到精通-FFmpeg流媒体
6 FFmpeg从入门到精通-FFmpeg滤镜使用
7 FFmpeg从入门到精通-FFmpeg中Linux设备操作
8 FFmpeg从入门到精通-FFmpeg接口libavformat的使用
9 FFmpeg从入门到精通-FFmpeg接口libavcodec的使用
10 FFmpeg从入门到精通-FFmpeg接口libavfilter的使用
文章目录 1.FFmpeg简介 1.1 FFmpeg的定义 1.2 FFmpeg的历史 1.3 FFmpeg的基本组成 1.3.1 FFmpeg的封装模块AVFormat 1.3.2 FFmpeg的编解码模块AVCodec 1.3.3 FFmpeg的滤镜模块AVFilter 1.3.4 FFmpeg的视频图像转换计算模块swscale 1.3.5 FFmpeg的音频转换计算模块swresample 1.4 FFmpeg的编解码工具ffmpeg 1.5 FFmpeg的播放器ffplay 1.6 FFmpeg的多媒体分析器ffprobe 1.7 FFmpeg编译 1.7.1 FFmpeg之Windows平台编译 1.7.2 FFmpeg之Linux平台编译 1.8 FFmpeg编码支持与定制 1.8.1 FFmpeg的编码器支持 1.8.2 FFmpeg的解码器支持 1.8.3 FFmpeg的封装支持 1.8.4 FFmpeg的解封装支持 1.8.5 FFmpeg的通信协议支持 1.9 小结 1.FFmpeg简介 1.1 FFmpeg的定义 FFmpeg既是一款音视频编解码工具，同时也是一组音视频编解码开发套件，作为编解码开发套件，它为开发者提供了丰富的音视频处理的调用接口。
FFmpeg提供了多种媒体格式的封装和解封装，包括多种音视频编码、多种协议的流媒体、多种色彩格式转换、多种采样率转换、多种码率转换等；FFmpeg框架提供了多种丰富的插件模块，包含封装与解封装的插件、编码与解码的插件等。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/7c25c89e1044abffc26c5f08ee4bee2f/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-03-07T09:54:07+08:00" />
<meta property="article:modified_time" content="2023-03-07T09:54:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">1 FFmpeg从入门到精通-FFmpeg简介</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><a href="https://blog.csdn.net/migu123/article/details/129300701">1 FFmpeg从入门到精通-FFmpeg简介</a><br> <a href="https://blog.csdn.net/migu123/article/details/129300983">2 FFmpeg从入门到精通-FFmpeg工具使用基础</a><br> <a href="https://blog.csdn.net/migu123/article/details/129301229">3 FFmpeg从入门到精通-FFmpeg转封装</a><br> <a href="https://blog.csdn.net/migu123/article/details/129313337">4 FFmpeg从入门到精通-FFmpeg转码</a><br> <a href="https://blog.csdn.net/migu123/article/details/129313756">5 FFmpeg从入门到精通-FFmpeg流媒体</a><br> <a href="https://blog.csdn.net/migu123/article/details/129314333">6 FFmpeg从入门到精通-FFmpeg滤镜使用</a><br> <a href="https://blog.csdn.net/migu123/article/details/129314910">7 FFmpeg从入门到精通-FFmpeg中Linux设备操作</a><br> <a href="https://blog.csdn.net/migu123/article/details/129317309">8 FFmpeg从入门到精通-FFmpeg接口libavformat的使用</a><br> <a href="https://blog.csdn.net/migu123/article/details/129324534">9 FFmpeg从入门到精通-FFmpeg接口libavcodec的使用</a><br> <a href="https://blog.csdn.net/migu123/article/details/129324632">10 FFmpeg从入门到精通-FFmpeg接口libavfilter的使用</a></p> 
<p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#font_face_size41FFmpegfont_12" rel="nofollow"><font face="黑体" size="4">1.FFmpeg简介</font></a></li><li><ul><li><a href="#nbspnbspfont_face_size311_FFmpegfont_13" rel="nofollow">  <font face="黑体" size="3">1.1 FFmpeg的定义</font></a></li><li><a href="#nbspnbspfont_face_size312_FFmpegfont_16" rel="nofollow">  <font face="黑体" size="3">1.2 FFmpeg的历史</font></a></li><li><a href="#nbspnbspfont_face_size313_FFmpegfont_23" rel="nofollow">  <font face="黑体" size="3">1.3 FFmpeg的基本组成</font></a></li><li><ul><li><a href="#font_face_size3nbspnbsp131_FFmpegAVFormatfont_26" rel="nofollow"><font face="黑体" size="3">  1.3.1 FFmpeg的封装模块AVFormat</font></a></li><li><a href="#font_face_size3nbspnbsp132_FFmpegAVCodecfont_28" rel="nofollow"><font face="黑体" size="3">  1.3.2 FFmpeg的编解码模块AVCodec</font></a></li><li><a href="#font_face_size3nbspnbsp133_FFmpegAVFilterfont_30" rel="nofollow"><font face="黑体" size="3">  1.3.3 FFmpeg的滤镜模块AVFilter</font></a></li><li><a href="#font_face_size3nbspnbsp134_FFmpegswscalefont_105" rel="nofollow"><font face="黑体" size="3">  1.3.4 FFmpeg的视频图像转换计算模块swscale</font></a></li><li><a href="#font_face_size3nbspnbsp135_FFmpegswresamplefont_107" rel="nofollow"><font face="黑体" size="3">  1.3.5 FFmpeg的音频转换计算模块swresample</font></a></li></ul> 
   </li><li><a href="#nbspnbspfont_face_size314_FFmpegffmpegfont_109" rel="nofollow">  <font face="黑体" size="3">1.4 FFmpeg的编解码工具ffmpeg</font></a></li><li><a href="#nbspnbspfont_face_size315_FFmpegffplayfont_246" rel="nofollow">  <font face="黑体" size="3">1.5 FFmpeg的播放器ffplay</font></a></li><li><a href="#nbspnbspfont_face_size316_FFmpegffprobefont_251" rel="nofollow">  <font face="黑体" size="3">1.6 FFmpeg的多媒体分析器ffprobe</font></a></li><li><a href="#nbspnbspfont_face_size317_FFmpegfont_376" rel="nofollow">  <font face="黑体" size="3">1.7 FFmpeg编译</font></a></li><li><ul><li><a href="#font_face_size3nbspnbsp171_FFmpegWindowsfont_378" rel="nofollow"><font face="黑体" size="3">  1.7.1 FFmpeg之Windows平台编译</font></a></li><li><a href="#font_face_size3nbspnbsp172_FFmpegLinuxfont_388" rel="nofollow"><font face="黑体" size="3">  1.7.2 FFmpeg之Linux平台编译</font></a></li></ul> 
   </li><li><a href="#nbspnbspfont_face_size318_FFmpegfont_391" rel="nofollow">  <font face="黑体" size="3">1.8 FFmpeg编码支持与定制</font></a></li><li><ul><li><a href="#font_face_size3nbspnbsp181_FFmpegfont_906" rel="nofollow"><font face="黑体" size="3">  1.8.1 FFmpeg的编码器支持</font></a></li><li><a href="#font_face_size3nbspnbsp182_FFmpegfont_960" rel="nofollow"><font face="黑体" size="3">  1.8.2 FFmpeg的解码器支持</font></a></li><li><a href="#font_face_size3nbspnbsp183_FFmpegfont_1077" rel="nofollow"><font face="黑体" size="3">  1.8.3 FFmpeg的封装支持</font></a></li><li><a href="#font_face_size3nbspnbsp184_FFmpegfont_1118" rel="nofollow"><font face="黑体" size="3">  1.8.4 FFmpeg的解封装支持</font></a></li><li><a href="#font_face_size3nbspnbsp185_FFmpegfont_1192" rel="nofollow"><font face="黑体" size="3">  1.8.5 FFmpeg的通信协议支持</font></a></li></ul> 
   </li><li><a href="#nbspnbspfont_face_size319_font_1208" rel="nofollow">  <font face="黑体" size="3">1.9 小结</font></a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="font_face_size41FFmpegfont_12"></a><font face="黑体" size="4">1.FFmpeg简介</font></h2> 
<h3><a id="nbspnbspfont_face_size311_FFmpegfont_13"></a>  <font face="黑体" size="3">1.1 FFmpeg的定义</font></h3> 
<p><font face="Courier New">    <mark>FFmpeg既是一款音视频编解码工具，同时也是一组音视频编解码开发套件</mark>，作为编解码开发套件，它为开发者提供了丰富的音视频处理的调用接口。<br>     FFmpeg提供了<mark>多种媒体格式的封装和解封装</mark>，包括<mark>多种音视频编码、多种协议的流媒体、多种色彩格式转换、多种采样率转换、多种码率转换</mark>等；FFmpeg框架提供了<mark>多种丰富的插件模块，包含封装与解封装的插件、编码与解码的插件</mark>等。</font></p> 
<h3><a id="nbspnbspfont_face_size312_FFmpegfont_16"></a>  <font face="黑体" size="3">1.2 FFmpeg的历史</font></h3> 
<p><font face="Courier New">    想要深入了解一个软件、一个系统，首先要了解其发展史，下面就来介绍一下FFmpeg的整体发展过程。<br>     作为一套开源的音视频编解码套件，FFmpeg可以通过互联网自由获取。FFmpeg的源码Git库提供了多站同步的获取方式，具体如下。<br>     ·git://source.ffmpeg.org/ffmpeg.git<br>     ·http://git.videolan.org/?p=ffmpeg.git<br>     ·https://github.com/FFmpeg/FFmpeg<br>     FFmpeg发展至今，已经被许多开源项目所采用，如ijkplayer、ffmpeg2theora、VLC、MPlayer、HandBrake、Blender、Google Chrome等。DirectShow/VFW的ffdshow（外部工程）和QuickTime的Perian（外部工程）也采用了FFmpeg。由于FFmpeg是在LGPL/GPL协议下发布的（如果使用了GPL协议发布的模块则必须采用GPL协议），任何人都可以自由使用，但必须严格遵守LGPL/GPL协议。</font></p> 
<h3><a id="nbspnbspfont_face_size313_FFmpegfont_23"></a>  <font face="黑体" size="3">1.3 FFmpeg的基本组成</font></h3> 
<p><font face="Courier New">    FFmpeg框架的基本组成包含<mark>AVFormat、AVCodec、AVFilter、AVDevice、AVUtil等模块库</mark>，结构如图1-1所示。</font><br> <img src="https://images2.imgbox.com/4e/f6/cIzNtIJL_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="font_face_size3nbspnbsp131_FFmpegAVFormatfont_26"></a><font face="黑体" size="3">  1.3.1 FFmpeg的封装模块AVFormat</font></h4> 
<p><font face="Courier New">    AVFormat中实现了目前多媒体领域中的绝大多数媒体封装格式，<mark>包括封装和解封装，如MP4、FLV、KV、TS等文件封装格式，RTMP、RTSP、MMS、HLS等网络协议封装格式</mark>。FFmpeg是否支持某种媒体封装格式，取决于编译时是否包含了该格式的封装库。根据实际需求，可进行媒体封装格式的扩展，增加自己定制的封装格式，即在AVFormat中增加自己的封装处理模块。</font></p> 
<h4><a id="font_face_size3nbspnbsp132_FFmpegAVCodecfont_28"></a><font face="黑体" size="3">  1.3.2 FFmpeg的编解码模块AVCodec</font></h4> 
<p><font face="Courier New">    AVCodec中实现了目前多媒体领域绝大多数常用的编解码格式，既<mark>支持编码，也支持解码</mark>。AVCodec除了支持MPEG4、AAC、MJPEG等自带的媒体编解码格式之外，还支持第三方的编解码器，如H.264（AVC）编码，需要使用x264编码器；H.265（HEVC）编码，需要使用x265编码器；MP3（mp3lame）编码，需要使用libmp3lame编码器。如果希望增加自己的编码格式，或者硬件编解码，则需要在AVCodec中增加相应的编解码模块。</font></p> 
<h4><a id="font_face_size3nbspnbsp133_FFmpegAVFilterfont_30"></a><font face="黑体" size="3">  1.3.3 FFmpeg的滤镜模块AVFilter</font></h4> 
<p><font face="Courier New">    AVFilter库提供了一个<mark>通用的音频、视频、字幕等滤镜处理框架</mark>。在AVFilter中，滤镜框架可以有多个输入和多个输出。我们参考下面这个滤镜处理的例子，如图1-2所示。</font><br> <img src="https://images2.imgbox.com/a9/12/HOwTOwKy_o.png" alt="在这里插入图片描述"><br> <font face="Courier New">    图1-2所示样例中的滤镜处理将输入的视频切割成了两部分流，一部分流抛给<mark>crop滤镜</mark>与<mark>vflip滤镜</mark>处理模块进行操作，另一部分保持原样，当<mark>crop滤镜</mark>与<mark>vflip滤镜</mark>处理操作完成之后，将流合并到原有的<mark>overlay图层</mark>中，并显示在最上面一层，输出新的视频。对应的命令行如下：</font></p> 
<pre><code class="prism language-bash">ffmpeg <span class="token parameter variable">-i</span> INPUT <span class="token parameter variable">-vf</span> <span class="token string">"split [main][tmp]; [tmp] crop=iw:ih/2:0:0, vflip [flip]; [main][flip] overlay=0:H/2"</span> OUTPUT
ffmpeg <span class="token parameter variable">-i</span> <span class="token number">1</span>.jpg <span class="token parameter variable">-vf</span> <span class="token string">"split [main][tmp]; [tmp] crop=iw:ih/2:0:0, vflip [flip]; [main][flip] overlay=0:H/2"</span> <span class="token number">2</span>.jpg
</code></pre> 
<p><font face="Courier New">    下面看一下具体的执行情况，以验证该命令的可行性：</font></p> 
<pre><code class="prism language-bash">ffmpeg version <span class="token number">2022</span>-11-23-git-c8e9cc8d20-full_build-www.gyan.dev Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span>-2022 the FFmpeg developers
  built with gcc <span class="token number">12.1</span>.0 <span class="token punctuation">(</span>Rev2, Built by MSYS2 project<span class="token punctuation">)</span>
  configuration: --enable-gpl --enable-version3 --enable-static --disable-w32threads --disable-autodetect --enable-fontconfig --enable-iconv --enable-gnutls --enable-libxml2 --enable-gmp --enable-bzlib --enable-lzma --enable-libsnappy --enable-zlib --enable-librist --enable-libsrt --enable-libssh --enable-libzmq --enable-avisynth --enable-libbluray --enable-libcaca --enable-sdl2 --enable-libaribb24 --enable-libdav1d --enable-libdavs2 --enable-libuavs3d --enable-libzvbi --enable-librav1e --enable-libsvtav1 --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxavs2 --enable-libxvid --enable-libaom --enable-libjxl --enable-libopenjpeg --enable-libvpx --enable-mediafoundation --enable-libass --enable-frei0r --enable-libfreetype --enable-libfribidi --enable-liblensfun --enable-libvidstab --enable-libvmaf --enable-libzimg --enable-amf --enable-cuda-llvm --enable-cuvid --enable-ffnvcodec --enable-nvdec --enable-nvenc --enable-d3d11va --enable-dxva2 --enable-libvpl --enable-libshaderc --enable-vulkan --enable-libplacebo --enable-opencl --enable-libcdio --enable-libgme --enable-libmodplug --enable-libopenmpt --enable-libopencore-amrwb --enable-libmp3lame --enable-libshine --enable-libtheora --enable-libtwolame --enable-libvo-amrwbenc --enable-libilbc --enable-libgsm --enable-libopencore-amrnb --enable-libopus --enable-libspeex --enable-libvorbis --enable-ladspa --enable-libbs2b --enable-libflite --enable-libmysofa --enable-librubberband --enable-libsoxr --enable-chromaprint
  libavutil      <span class="token number">57</span>. <span class="token number">43.100</span> / <span class="token number">57</span>. <span class="token number">43.100</span>
  libavcodec     <span class="token number">59</span>. <span class="token number">54.100</span> / <span class="token number">59</span>. <span class="token number">54.100</span>
  libavformat    <span class="token number">59</span>. <span class="token number">34.102</span> / <span class="token number">59</span>. <span class="token number">34.102</span>
  libavdevice    <span class="token number">59</span>.  <span class="token number">8.101</span> / <span class="token number">59</span>.  <span class="token number">8.101</span>
  libavfilter     <span class="token number">8</span>. <span class="token number">50.101</span> /  <span class="token number">8</span>. <span class="token number">50.101</span>
  libswscale      <span class="token number">6</span>.  <span class="token number">8.112</span> /  <span class="token number">6</span>.  <span class="token number">8.112</span>
  libswresample   <span class="token number">4</span>.  <span class="token number">9.100</span> /  <span class="token number">4</span>.  <span class="token number">9.100</span>
  libpostproc    <span class="token number">56</span>.  <span class="token number">7.100</span> / <span class="token number">56</span>.  <span class="token number">7.100</span>
Input <span class="token comment">#0, image2, from '1.jpg':</span>
  Duration: 00:00:00.04, start: <span class="token number">0.000000</span>, bitrate: <span class="token number">4804</span> kb/s
  Stream <span class="token comment">#0:0: Video: mjpeg (Baseline), yuvj420p(pc, bt470bg/unknown/unknown), 360x320 [SAR 1:1 DAR 9:8], 25 fps, 25 tbr, 25 tbn</span>
Stream mapping:
  Stream <span class="token comment">#0:0 -&gt; #0:0 (mjpeg (native) -&gt; mjpeg (native))</span>
Press <span class="token punctuation">[</span>q<span class="token punctuation">]</span> to stop, <span class="token punctuation">[</span>?<span class="token punctuation">]</span> <span class="token keyword">for</span> <span class="token builtin class-name">help</span>
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b1fd6ac0<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b1ff2340<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b200d440<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b239cac0<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b23af840<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b23cdf00<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b23e97c0<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
    Last message repeated <span class="token number">1</span> <span class="token builtin class-name">times</span>
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b23c5f00<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b20018c0<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b200e8c0<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b1fd6d00<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b23900c0<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b239d080<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b1fd6140<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b23900c0<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b239d080<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b23e97c0<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b23f67c0<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b2009900<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b23ba080<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b2009900<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b1fc7540<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b2009900<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b1fd6140<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b2009900<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b23e97c0<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b2009900<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b23f67c0<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b2009900<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b1fe3b40<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b2009900<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b23900c0<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
<span class="token punctuation">[</span>swscaler @ 000001b4b2009900<span class="token punctuation">]</span> <span class="token punctuation">[</span>swscaler @ 000001b4b23a1080<span class="token punctuation">]</span> deprecated pixel <span class="token function">format</span> used, <span class="token function">make</span> sure you did <span class="token builtin class-name">set</span> range correctly
Output <span class="token comment">#0, image2, to '2.jpg':</span>
  Metadata:
    encoder         <span class="token builtin class-name">:</span> Lavf59.34.102
  Stream <span class="token comment">#0:0: Video: mjpeg, yuvj420p(pc, bt470bg/unknown/unknown, progressive), 360x320 [SAR 1:1 DAR 9:8], q=2-31, 200 kb/s, 25 fps, 25 tbn</span>
    Metadata:
      encoder         <span class="token builtin class-name">:</span> Lavc59.54.100 mjpeg
    Side data:
      cpb: bitrate max/min/avg: <span class="token number">0</span>/0/200000 buffer size: <span class="token number">0</span> vbv_delay: N/A
<span class="token punctuation">[</span>image2 @ 000001b4b1f65a40<span class="token punctuation">]</span> The specified filename <span class="token string">'2.jpg'</span> does not contain an image sequence pattern or a pattern is invalid.
<span class="token punctuation">[</span>image2 @ 000001b4b1f65a40<span class="token punctuation">]</span> Use a pattern such as %03d <span class="token keyword">for</span> an image sequence or use the <span class="token parameter variable">-update</span> option <span class="token punctuation">(</span>with <span class="token parameter variable">-frames:v</span> <span class="token number">1</span> <span class="token keyword">if</span> needed<span class="token punctuation">)</span> to <span class="token function">write</span> a single image.
<span class="token assign-left variable">frame</span><span class="token operator">=</span>    <span class="token number">1</span> <span class="token assign-left variable">fps</span><span class="token operator">=</span><span class="token number">0.0</span> <span class="token assign-left variable">q</span><span class="token operator">=</span><span class="token number">4.7</span> <span class="token assign-left variable">Lsize</span><span class="token operator">=</span>N/A <span class="token assign-left variable">time</span><span class="token operator">=</span>00:00:00.00 <span class="token assign-left variable">bitrate</span><span class="token operator">=</span>N/A <span class="token assign-left variable">speed</span><span class="token operator">=</span>   0x
video:11kB audio:0kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: unknown
</code></pre> 
<p><font face="Courier New">    以上内容输出完成，该命令将自动退出，生成的视频结果是保留视频的上半部分，同时上半部分会镜像到视频的下半部分，二者合成之后作为输出视频，如图1-3所示。</font><br> <img src="https://images2.imgbox.com/ff/2b/t7uQBtDz_o.png" alt="在这里插入图片描述"><br> <font face="Courier New">    下面详细说明一下规则，具体如下。<br>     <mark>·相同的Filter线性链之间用逗号分隔</mark><br>     <mark>·不同的Filter线性链之间用分号分隔</mark><br>     在以上示例中，<mark>crop与vflip使用的是同一个滤镜处理的线性链，split滤镜和overlay滤镜使用的是另外一个线性链</mark>，一个线性链与另一个线性链汇合时是通过<strong>方括号“[]”括起来</strong>的标签进行标示的。在这个例子中，两个流处理后是通过[main]与[flip]进行关联汇合的。<br>     split滤镜将分割后的视频流的第二部分打上标签[tmp]，通过crop滤镜对该部分流进行处理，然后进行纵坐标调换操作，打上标签[flip]，然后将[main]标签与[flip]标签进行合并，[flip]标签的视频流从视频的左边最中间的位置开始显示，这样就出现了镜像效果，如上图所示。</font></p> 
<h4><a id="font_face_size3nbspnbsp134_FFmpegswscalefont_105"></a><font face="黑体" size="3">  1.3.4 FFmpeg的视频图像转换计算模块swscale</font></h4> 
<p><font face="Courier New">    <mark>swscale模块提供了高级别的图像转换API</mark>，例如它允许进行图像缩放和像素格式转换，常见于将图像从1080p转换成720p或者480p等的缩放，或者将图像数据从YUV420P转换成YUYV，或者YUV转RGB等图像格式转换。</font></p> 
<h4><a id="font_face_size3nbspnbsp135_FFmpegswresamplefont_107"></a><font face="黑体" size="3">  1.3.5 FFmpeg的音频转换计算模块swresample</font></h4> 
<p><font face="Courier New">    <mark>swresample模块提供了高级别的音频重采样API</mark>。例如它允许操作音频采样、音频通道布局转换与布局调整。</font></p> 
<h3><a id="nbspnbspfont_face_size314_FFmpegffmpegfont_109"></a>  <font face="黑体" size="3">1.4 FFmpeg的编解码工具ffmpeg</font></h3> 
<p><font face="Courier New">    ffmpeg是FFmpeg源代码编译后生成的一个可执行程序，其可以作为命令行工具使用。本节将通过实际的示例分析，对ffmpeg编解码工具的使用方法进行详细的介绍。<br>     首先列举一个简单的例子：</font></p> 
<pre><code class="prism language-bash">ffmpeg <span class="token parameter variable">-i</span> input.mp4 output.avi
</code></pre> 
<p><font face="Courier New">    这条命令行执行过程输出如下：</font></p> 
<pre><code class="prism language-bash">ffmpeg version <span class="token number">2022</span>-11-23-git-c8e9cc8d20-full_build-www.gyan.dev Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span>-2022 the FFmpeg developers
  built with gcc <span class="token number">12.1</span>.0 <span class="token punctuation">(</span>Rev2, Built by MSYS2 project<span class="token punctuation">)</span>
  configuration: --enable-gpl --enable-version3 --enable-static --disable-w32threads --disable-autodetect --enable-fontconfig --enable-iconv --enable-gnutls --enable-libxml2 --enable-gmp --enable-bzlib --enable-lzma --enable-libsnappy --enable-zlib --enable-librist --enable-libsrt --enable-libssh --enable-libzmq --enable-avisynth --enable-libbluray --enable-libcaca --enable-sdl2 --enable-libaribb24 --enable-libdav1d --enable-libdavs2 --enable-libuavs3d --enable-libzvbi --enable-librav1e --enable-libsvtav1 --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxavs2 --enable-libxvid --enable-libaom --enable-libjxl --enable-libopenjpeg --enable-libvpx --enable-mediafoundation --enable-libass --enable-frei0r --enable-libfreetype --enable-libfribidi --enable-liblensfun --enable-libvidstab --enable-libvmaf --enable-libzimg --enable-amf --enable-cuda-llvm --enable-cuvid --enable-ffnvcodec --enable-nvdec --enable-nvenc --enable-d3d11va --enable-dxva2 --enable-libvpl --enable-libshaderc --enable-vulkan --enable-libplacebo --enable-opencl --enable-libcdio --enable-libgme --enable-libmodplug --enable-libopenmpt --enable-libopencore-amrwb --enable-libmp3lame --enable-libshine --enable-libtheora --enable-libtwolame --enable-libvo-amrwbenc --enable-libilbc --enable-libgsm --enable-libopencore-amrnb --enable-libopus --enable-libspeex --enable-libvorbis --enable-ladspa --enable-libbs2b --enable-libflite --enable-libmysofa --enable-librubberband --enable-libsoxr --enable-chromaprint
  libavutil      <span class="token number">57</span>. <span class="token number">43.100</span> / <span class="token number">57</span>. <span class="token number">43.100</span>
  libavcodec     <span class="token number">59</span>. <span class="token number">54.100</span> / <span class="token number">59</span>. <span class="token number">54.100</span>
  libavformat    <span class="token number">59</span>. <span class="token number">34.102</span> / <span class="token number">59</span>. <span class="token number">34.102</span>
  libavdevice    <span class="token number">59</span>.  <span class="token number">8.101</span> / <span class="token number">59</span>.  <span class="token number">8.101</span>
  libavfilter     <span class="token number">8</span>. <span class="token number">50.101</span> /  <span class="token number">8</span>. <span class="token number">50.101</span>
  libswscale      <span class="token number">6</span>.  <span class="token number">8.112</span> /  <span class="token number">6</span>.  <span class="token number">8.112</span>
  libswresample   <span class="token number">4</span>.  <span class="token number">9.100</span> /  <span class="token number">4</span>.  <span class="token number">9.100</span>
  libpostproc    <span class="token number">56</span>.  <span class="token number">7.100</span> / <span class="token number">56</span>.  <span class="token number">7.100</span>
Input <span class="token comment">#0, mov,mp4,m4a,3gp,3g2,mj2, from 'input.mp4':</span>
  Metadata:
    major_brand     <span class="token builtin class-name">:</span> isom
    minor_version   <span class="token builtin class-name">:</span> <span class="token number">512</span>
    compatible_brands: isomiso2mp41
    encoder         <span class="token builtin class-name">:</span> Lavf54.6.100
  Duration: 00:04:13.00, start: <span class="token number">0.000000</span>, bitrate: <span class="token number">511</span> kb/s
  Stream <span class="token comment">#0:0[0x1](und): Video: mpeg4 (Simple Profile) (mp4v / 0x7634706D), yuv420p, 1280x720 [SAR 1:1 DAR 16:9], 505 kb/s, 5 fps, 5 tbr, 5 tbn (default)</span>
    Metadata:
      handler_name    <span class="token builtin class-name">:</span> VideoHandler
      vendor_id       <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
  Stream <span class="token comment">#0:1[0x2](und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 3 kb/s (default)</span>
    Metadata:
      handler_name    <span class="token builtin class-name">:</span> SoundHandler
      vendor_id       <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
Stream mapping:
  Stream <span class="token comment">#0:0 -&gt; #0:0 (mpeg4 (native) -&gt; mpeg4 (native))</span>
  Stream <span class="token comment">#0:1 -&gt; #0:1 (aac (native) -&gt; mp3 (libmp3lame))</span>
Press <span class="token punctuation">[</span>q<span class="token punctuation">]</span> to stop, <span class="token punctuation">[</span>?<span class="token punctuation">]</span> <span class="token keyword">for</span> <span class="token builtin class-name">help</span>
Output <span class="token comment">#0, avi, to 'output.avi':</span>
  Metadata:
    major_brand     <span class="token builtin class-name">:</span> isom
    minor_version   <span class="token builtin class-name">:</span> <span class="token number">512</span>
    compatible_brands: isomiso2mp41
    ISFT            <span class="token builtin class-name">:</span> Lavf59.34.102
  Stream <span class="token comment">#0:0(und): Video: mpeg4 (FMP4 / 0x34504D46), yuv420p(progressive), 1280x720 [SAR 1:1 DAR 16:9], q=2-31, 200 kb/s, 5 fps, 5 tbn (default)</span>
    Metadata:
      handler_name    <span class="token builtin class-name">:</span> VideoHandler
      vendor_id       <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
      encoder         <span class="token builtin class-name">:</span> Lavc59.54.100 mpeg4
    Side data:
      cpb: bitrate max/min/avg: <span class="token number">0</span>/0/200000 buffer size: <span class="token number">0</span> vbv_delay: N/A
  Stream <span class="token comment">#0:1(und): Audio: mp3 (U[0][0][0] / 0x0055), 44100 Hz, stereo, fltp (default)</span>
    Metadata:
      handler_name    <span class="token builtin class-name">:</span> SoundHandler
      vendor_id       <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
      encoder         <span class="token builtin class-name">:</span> Lavc59.54.100 libmp3lame
<span class="token assign-left variable">frame</span><span class="token operator">=</span> <span class="token number">1265</span> <span class="token assign-left variable">fps</span><span class="token operator">=</span><span class="token number">426</span> <span class="token assign-left variable">q</span><span class="token operator">=</span><span class="token number">31.0</span> <span class="token assign-left variable">Lsize</span><span class="token operator">=</span>   10729kB <span class="token assign-left variable">time</span><span class="token operator">=</span>00:04:12.80 <span class="token assign-left variable">bitrate</span><span class="token operator">=</span> <span class="token number">347</span>.7kbits/s <span class="token assign-left variable">speed</span><span class="token operator">=</span><span class="token number">85</span>.1x
video:6512kB audio:3950kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: <span class="token number">2.554561</span>%
</code></pre> 
<p><font face="Courier New">    这是一条简单的ffmpeg命令，可以看到，ffmpeg通过-i参数将input.mp4作为输入源输入，然后进行转码与转封装操作，输出到output.avi中，这条命令主要做了如下工作。<br>     1）获得输入源input.mp4。<br>     2）转码。<br>     3）输出文件output.avi。<br>     看似简单的两步主要的工作，其实远远不止是从后缀名为MP4的文件输出成后缀名为AVI的文件，因为在ffmpeg中，MP4与AVI是两种文件封装格式，并不是后缀名就可以决定的，例如上面的命令行同样可以写成这样：</font></p> 
<pre><code class="prism language-bash">ffmpeg <span class="token parameter variable">-i</span> input.mp4 <span class="token parameter variable">-f</span> avi output.dat
</code></pre> 
<p><font face="Courier New">    这条命令行执行过程输出如下：</font></p> 
<pre><code class="prism language-bash">ffmpeg version <span class="token number">2022</span>-11-23-git-c8e9cc8d20-full_build-www.gyan.dev Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span>-2022 the FFmpeg developers
  built with gcc <span class="token number">12.1</span>.0 <span class="token punctuation">(</span>Rev2, Built by MSYS2 project<span class="token punctuation">)</span>
  configuration: --enable-gpl --enable-version3 --enable-static --disable-w32threads --disable-autodetect --enable-fontconfig --enable-iconv --enable-gnutls --enable-libxml2 --enable-gmp --enable-bzlib --enable-lzma --enable-libsnappy --enable-zlib --enable-librist --enable-libsrt --enable-libssh --enable-libzmq --enable-avisynth --enable-libbluray --enable-libcaca --enable-sdl2 --enable-libaribb24 --enable-libdav1d --enable-libdavs2 --enable-libuavs3d --enable-libzvbi --enable-librav1e --enable-libsvtav1 --enable-libwebp --enable-libx264 --enable-libx265 --enable-libxavs2 --enable-libxvid --enable-libaom --enable-libjxl --enable-libopenjpeg --enable-libvpx --enable-mediafoundation --enable-libass --enable-frei0r --enable-libfreetype --enable-libfribidi --enable-liblensfun --enable-libvidstab --enable-libvmaf --enable-libzimg --enable-amf --enable-cuda-llvm --enable-cuvid --enable-ffnvcodec --enable-nvdec --enable-nvenc --enable-d3d11va --enable-dxva2 --enable-libvpl --enable-libshaderc --enable-vulkan --enable-libplacebo --enable-opencl --enable-libcdio --enable-libgme --enable-libmodplug --enable-libopenmpt --enable-libopencore-amrwb --enable-libmp3lame --enable-libshine --enable-libtheora --enable-libtwolame --enable-libvo-amrwbenc --enable-libilbc --enable-libgsm --enable-libopencore-amrnb --enable-libopus --enable-libspeex --enable-libvorbis --enable-ladspa --enable-libbs2b --enable-libflite --enable-libmysofa --enable-librubberband --enable-libsoxr --enable-chromaprint
  libavutil      <span class="token number">57</span>. <span class="token number">43.100</span> / <span class="token number">57</span>. <span class="token number">43.100</span>
  libavcodec     <span class="token number">59</span>. <span class="token number">54.100</span> / <span class="token number">59</span>. <span class="token number">54.100</span>
  libavformat    <span class="token number">59</span>. <span class="token number">34.102</span> / <span class="token number">59</span>. <span class="token number">34.102</span>
  libavdevice    <span class="token number">59</span>.  <span class="token number">8.101</span> / <span class="token number">59</span>.  <span class="token number">8.101</span>
  libavfilter     <span class="token number">8</span>. <span class="token number">50.101</span> /  <span class="token number">8</span>. <span class="token number">50.101</span>
  libswscale      <span class="token number">6</span>.  <span class="token number">8.112</span> /  <span class="token number">6</span>.  <span class="token number">8.112</span>
  libswresample   <span class="token number">4</span>.  <span class="token number">9.100</span> /  <span class="token number">4</span>.  <span class="token number">9.100</span>
  libpostproc    <span class="token number">56</span>.  <span class="token number">7.100</span> / <span class="token number">56</span>.  <span class="token number">7.100</span>
Input <span class="token comment">#0, mov,mp4,m4a,3gp,3g2,mj2, from 'input.mp4':</span>
  Metadata:
    major_brand     <span class="token builtin class-name">:</span> isom
    minor_version   <span class="token builtin class-name">:</span> <span class="token number">512</span>
    compatible_brands: isomiso2mp41
    encoder         <span class="token builtin class-name">:</span> Lavf54.6.100
  Duration: 00:04:13.00, start: <span class="token number">0.000000</span>, bitrate: <span class="token number">511</span> kb/s
  Stream <span class="token comment">#0:0[0x1](und): Video: mpeg4 (Simple Profile) (mp4v / 0x7634706D), yuv420p, 1280x720 [SAR 1:1 DAR 16:9], 505 kb/s, 5 fps, 5 tbr, 5 tbn (default)</span>
    Metadata:
      handler_name    <span class="token builtin class-name">:</span> VideoHandler
      vendor_id       <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
  Stream <span class="token comment">#0:1[0x2](und): Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 3 kb/s (default)</span>
    Metadata:
      handler_name    <span class="token builtin class-name">:</span> SoundHandler
      vendor_id       <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
Stream mapping:
  Stream <span class="token comment">#0:0 -&gt; #0:0 (mpeg4 (native) -&gt; mpeg4 (native))</span>
  Stream <span class="token comment">#0:1 -&gt; #0:1 (aac (native) -&gt; mp3 (libmp3lame))</span>
Press <span class="token punctuation">[</span>q<span class="token punctuation">]</span> to stop, <span class="token punctuation">[</span>?<span class="token punctuation">]</span> <span class="token keyword">for</span> <span class="token builtin class-name">help</span>
Output <span class="token comment">#0, avi, to 'output.dat':</span>
  Metadata:
    major_brand     <span class="token builtin class-name">:</span> isom
    minor_version   <span class="token builtin class-name">:</span> <span class="token number">512</span>
    compatible_brands: isomiso2mp41
    ISFT            <span class="token builtin class-name">:</span> Lavf59.34.102
  Stream <span class="token comment">#0:0(und): Video: mpeg4 (FMP4 / 0x34504D46), yuv420p(progressive), 1280x720 [SAR 1:1 DAR 16:9], q=2-31, 200 kb/s, 5 fps, 5 tbn (default)</span>
    Metadata:
      handler_name    <span class="token builtin class-name">:</span> VideoHandler
      vendor_id       <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
      encoder         <span class="token builtin class-name">:</span> Lavc59.54.100 mpeg4
    Side data:
      cpb: bitrate max/min/avg: <span class="token number">0</span>/0/200000 buffer size: <span class="token number">0</span> vbv_delay: N/A
  Stream <span class="token comment">#0:1(und): Audio: mp3 (U[0][0][0] / 0x0055), 44100 Hz, stereo, fltp (default)</span>
    Metadata:
      handler_name    <span class="token builtin class-name">:</span> SoundHandler
      vendor_id       <span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
      encoder         <span class="token builtin class-name">:</span> Lavc59.54.100 libmp3lame
<span class="token assign-left variable">frame</span><span class="token operator">=</span> <span class="token number">1265</span> <span class="token assign-left variable">fps</span><span class="token operator">=</span><span class="token number">431</span> <span class="token assign-left variable">q</span><span class="token operator">=</span><span class="token number">31.0</span> <span class="token assign-left variable">Lsize</span><span class="token operator">=</span>   10729kB <span class="token assign-left variable">time</span><span class="token operator">=</span>00:04:12.80 <span class="token assign-left variable">bitrate</span><span class="token operator">=</span> <span class="token number">347</span>.7kbits/s <span class="token assign-left variable">speed</span><span class="token operator">=</span><span class="token number">86</span>.2x
video:6512kB audio:3950kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: <span class="token number">2.554561</span>%
</code></pre> 
<p><font face="Courier New">    这条ffmpeg命令相对于前面的那条命令做了一些改变，<mark>加了一个“-f”进行约束</mark>，“-f”参数的工作非常重要，它制定了输出文件的容器格式，所以可以看到输出的文件为output.dat，文件后缀名为.dat，但是其主要工作依然与之前的指令相同。<br>     分析以上两个输出信息中的<mark>Output#0</mark>部分，可以看到输出的都是AVI，只是输出的文件名不同，其他内容均相同。<br>     ffmpeg的主要工作流程相对比较简单，具体如下。<br>     1）解封装（Demuxing）。<br>     2）解码（Decoding）。<br>     3）编码（Encoding）。<br>     4）封装（Muxing）。<br>     其中需要经过6个步骤，具体如下。<br>     1）读取输入源。<br>     2）进行音视频的解封装。<br>     3）解码每一帧音视频数据。<br>     4）编码每一帧音视频数据。<br>     5）进行音视频的重新封装。<br>     6）输出到目标。<br>     ffmpeg整体处理的工作流程与步骤如图1-4所示。</font><br> <img src="https://images2.imgbox.com/15/41/2annzC0q_o.png" alt="在这里插入图片描述"><br> <font face="Courier New">    从图1-4所示的工作流程可以看出，<mark>ffmpeg首先读取输入源；然后通过Demuxer将音视频包进行解封装，这个动作通过调用libavformat中的接口即可实现；接下来通过Decoder进行解码，将音视频通过Decoder解包成为YVU或者PCM这样的数据，Decoder通过libavcodec中的接口即可实现；然后通过Encoder将对应的数据进行编码，编码可以通过libavcodec中的接口来实现；接下来将编码后的音视频数据包通过Muxer进行封装，Muxer封装通过libavformat中的接口即可实现，输出成为输出流</mark>。</font></p> 
<h3><a id="nbspnbspfont_face_size315_FFmpegffplayfont_246"></a>  <font face="黑体" size="3">1.5 FFmpeg的播放器ffplay</font></h3> 
<p><font face="Courier New">    FFmpeg不但可以提供<mark>转码、转封装</mark>等功能，同时还提供了播放器相关功能，使用FFmpeg的avformat与avcodec，可以播放各种媒体文件或者流。如果想要使用ffplay，那么系统首先需要有SDL来进行ffplay的基础支撑。<br>     ffplay是FFmpeg源代码编译后生成的另一个可执行程序，与ffmpeg在FFmpeg项目中充当的角色基本相同，可以作为测试工具进行使用，<mark>ffplay提供了音视频显示和播放相关的图像信息、音频的波形信息等</mark>。<br>     注意：<br>     有时通过源代码编译生成ffplay不一定能够成功，因为ffplay在旧版本时依赖于SDL-1.2，而ffplay在新版本时依赖于SDL-2.0，需要安装对应的SDL才能生成ffplay。</font></p> 
<h3><a id="nbspnbspfont_face_size316_FFmpegffprobefont_251"></a>  <font face="黑体" size="3">1.6 FFmpeg的多媒体分析器ffprobe</font></h3> 
<p><font face="Courier New">    ffprobe也是FFmpeg源码编译后生成的一个可执行程序。<mark>ffprobe是一个非常强大的多媒体分析工具，可以从媒体文件或者媒体流中获得你想要了解的媒体信息，比如音频的参数、视频的参数、媒体容器的参数信息等</mark>。<br>     例如它可以帮助分析某个媒体容器中的音频是什么编码格式、视频是什么编码格式，同时还可以得到媒体文件中媒体的总时长、复合码率等信息。<br>     使用<mark>ffprobe可以分析媒体文件中每个包的长度、包的类型、帧的信息等</mark>。后面章节将会对ffprobe进行详细的介绍，下面列举一个简单的例子，以对ffprobe有一个基本的概念：</font></p> 
<pre><code class="prism language-bash">ffprobe –show_streams input.mp4
</code></pre> 
<p><font face="Courier New">    命令行执行之后将会输出如下内容：</font></p> 
<pre><code class="prism language-bash"><span class="token punctuation">[</span>STREAM<span class="token punctuation">]</span>
<span class="token assign-left variable">index</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">codec_name</span><span class="token operator">=</span>mpeg4
<span class="token assign-left variable">codec_long_name</span><span class="token operator">=</span>MPEG-4 part <span class="token number">2</span>
<span class="token assign-left variable">profile</span><span class="token operator">=</span>Simple Profile
<span class="token assign-left variable">codec_type</span><span class="token operator">=</span>video
<span class="token assign-left variable">codec_tag_string</span><span class="token operator">=</span>mp4v
<span class="token assign-left variable">codec_tag</span><span class="token operator">=</span>0x7634706d
<span class="token assign-left variable">width</span><span class="token operator">=</span><span class="token number">1280</span>
<span class="token assign-left variable">height</span><span class="token operator">=</span><span class="token number">720</span>
<span class="token assign-left variable">coded_width</span><span class="token operator">=</span><span class="token number">1280</span>
<span class="token assign-left variable">coded_height</span><span class="token operator">=</span><span class="token number">720</span>
<span class="token assign-left variable">closed_captions</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">film_grain</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">has_b_frames</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">sample_aspect_ratio</span><span class="token operator">=</span><span class="token number">1</span>:1
<span class="token assign-left variable">display_aspect_ratio</span><span class="token operator">=</span><span class="token number">16</span>:9
<span class="token assign-left variable">pix_fmt</span><span class="token operator">=</span>yuv420p
<span class="token assign-left variable">level</span><span class="token operator">=</span><span class="token number">3</span>
<span class="token assign-left variable">color_range</span><span class="token operator">=</span>unknown
<span class="token assign-left variable">color_space</span><span class="token operator">=</span>unknown
<span class="token assign-left variable">color_transfer</span><span class="token operator">=</span>unknown
<span class="token assign-left variable">color_primaries</span><span class="token operator">=</span>unknown
<span class="token assign-left variable">chroma_location</span><span class="token operator">=</span>left
<span class="token assign-left variable">field_order</span><span class="token operator">=</span>unknown
<span class="token assign-left variable">refs</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">quarter_sample</span><span class="token operator">=</span>false
<span class="token assign-left variable">divx_packed</span><span class="token operator">=</span>false
<span class="token assign-left variable">id</span><span class="token operator">=</span>0x1
<span class="token assign-left variable">r_frame_rate</span><span class="token operator">=</span><span class="token number">5</span>/1
<span class="token assign-left variable">avg_frame_rate</span><span class="token operator">=</span><span class="token number">5</span>/1
<span class="token assign-left variable">time_base</span><span class="token operator">=</span><span class="token number">1</span>/5
<span class="token assign-left variable">start_pts</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">start_time</span><span class="token operator">=</span><span class="token number">0.000000</span>
<span class="token assign-left variable">duration_ts</span><span class="token operator">=</span><span class="token number">1265</span>
<span class="token assign-left variable">duration</span><span class="token operator">=</span><span class="token number">253.000000</span>
<span class="token assign-left variable">bit_rate</span><span class="token operator">=</span><span class="token number">505923</span>
<span class="token assign-left variable">max_bit_rate</span><span class="token operator">=</span>N/A
<span class="token assign-left variable">bits_per_raw_sample</span><span class="token operator">=</span>N/A
<span class="token assign-left variable">nb_frames</span><span class="token operator">=</span><span class="token number">1265</span>
<span class="token assign-left variable">nb_read_frames</span><span class="token operator">=</span>N/A
<span class="token assign-left variable">nb_read_packets</span><span class="token operator">=</span>N/A
<span class="token assign-left variable">extradata_size</span><span class="token operator">=</span><span class="token number">43</span>
DISPOSITION:default<span class="token operator">=</span><span class="token number">1</span>
DISPOSITION:dub<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:original<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:comment<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:lyrics<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:karaoke<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:forced<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:hearing_impaired<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:visual_impaired<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:clean_effects<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:attached_pic<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:timed_thumbnails<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:captions<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:descriptions<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:metadata<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:dependent<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:still_image<span class="token operator">=</span><span class="token number">0</span>
TAG:language<span class="token operator">=</span>und
TAG:handler_name<span class="token operator">=</span>VideoHandler
TAG:vendor_id<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span>/STREAM<span class="token punctuation">]</span>
<span class="token punctuation">[</span>STREAM<span class="token punctuation">]</span>
<span class="token assign-left variable">index</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">codec_name</span><span class="token operator">=</span>aac
<span class="token assign-left variable">codec_long_name</span><span class="token operator">=</span>AAC <span class="token punctuation">(</span>Advanced Audio Coding<span class="token punctuation">)</span>
<span class="token assign-left variable">profile</span><span class="token operator">=</span>LC
<span class="token assign-left variable">codec_type</span><span class="token operator">=</span>audio
<span class="token assign-left variable">codec_tag_string</span><span class="token operator">=</span>mp4a
<span class="token assign-left variable">codec_tag</span><span class="token operator">=</span>0x6134706d
<span class="token assign-left variable">sample_fmt</span><span class="token operator">=</span>fltp
<span class="token assign-left variable">sample_rate</span><span class="token operator">=</span><span class="token number">44100</span>
<span class="token assign-left variable">channels</span><span class="token operator">=</span><span class="token number">2</span>
<span class="token assign-left variable">channel_layout</span><span class="token operator">=</span>stereo
<span class="token assign-left variable">bits_per_sample</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">initial_padding</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">id</span><span class="token operator">=</span>0x2
<span class="token assign-left variable">r_frame_rate</span><span class="token operator">=</span><span class="token number">0</span>/0
<span class="token assign-left variable">avg_frame_rate</span><span class="token operator">=</span><span class="token number">0</span>/0
<span class="token assign-left variable">time_base</span><span class="token operator">=</span><span class="token number">1</span>/44100
<span class="token assign-left variable">start_pts</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">start_time</span><span class="token operator">=</span><span class="token number">0.000000</span>
<span class="token assign-left variable">duration_ts</span><span class="token operator">=</span><span class="token number">11146240</span>
<span class="token assign-left variable">duration</span><span class="token operator">=</span><span class="token number">252.749206</span>
<span class="token assign-left variable">bit_rate</span><span class="token operator">=</span><span class="token number">3101</span>
<span class="token assign-left variable">max_bit_rate</span><span class="token operator">=</span>N/A
<span class="token assign-left variable">bits_per_raw_sample</span><span class="token operator">=</span>N/A
<span class="token assign-left variable">nb_frames</span><span class="token operator">=</span><span class="token number">10886</span>
<span class="token assign-left variable">nb_read_frames</span><span class="token operator">=</span>N/A
<span class="token assign-left variable">nb_read_packets</span><span class="token operator">=</span>N/A
<span class="token assign-left variable">extradata_size</span><span class="token operator">=</span><span class="token number">2</span>
DISPOSITION:default<span class="token operator">=</span><span class="token number">1</span>
DISPOSITION:dub<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:original<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:comment<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:lyrics<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:karaoke<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:forced<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:hearing_impaired<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:visual_impaired<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:clean_effects<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:attached_pic<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:timed_thumbnails<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:captions<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:descriptions<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:metadata<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:dependent<span class="token operator">=</span><span class="token number">0</span>
DISPOSITION:still_image<span class="token operator">=</span><span class="token number">0</span>
TAG:language<span class="token operator">=</span>und
TAG:handler_name<span class="token operator">=</span>SoundHandler
TAG:vendor_id<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span>/STREAM<span class="token punctuation">]</span>
</code></pre> 
<p><font face="Courier New">    根据输出内容可以看到，使用ffprobe能够查看MP4文件容器中的流的信息，其包含了一个视频流，由于该文件中只有视频流，流相关的信息是通过[STREAM][/STREAM]的方式展现出来的，在[STREAM]与[/STREAM]之间的信息即为该MP4文件的视频流信息。当视频文件容器中包含音频流与视频流或者更多路流时，会通过[STREAM]与[/STREAM]进行多个流的分隔，分隔后采用index来进行流的索引信息的区分。</font></p> 
<h3><a id="nbspnbspfont_face_size317_FFmpegfont_376"></a>  <font face="黑体" size="3">1.7 FFmpeg编译</font></h3> 
<p><font face="Courier New">    FFmpeg在官方网站中提供了已经编译好的可执行文件。因为FFmpeg是开源的，所以也可以根据自己的需要进行手动编译。FFmpeg官方建议用户自行编译使用FFmpeg的最新版本，因为对于一些操作系统，比如Linux系统（无论是Ubuntu还是RedHat），如果使用系统提供的软件库安装ffmpeg时会发现其版本相对比较老旧，比如使用apt-get install ffmpeg或者yum install ffmpeg安装ffmpeg，那么默认支持的版本都很老，有些新的功能并不支持，如一些新的封装格式或者通信协议。</font></p> 
<h4><a id="font_face_size3nbspnbsp171_FFmpegWindowsfont_378"></a><font face="黑体" size="3">  1.7.1 FFmpeg之Windows平台编译</font></h4> 
<p><font face="Courier New">    FFmpeg在Windows平台中的编译需要使用MinGW-w64，如果不希望使用MinGW而使用Visual Studio的话，则需要消耗很多时间来支持Visual Studio平台，感兴趣的读者可以在网上查找一下支持的方法。截至本书结稿之时，官方提供的Windows的开发包是使用MinGW-w64工具链编写的。<br> MinGW-w64单独使用起来会比较麻烦，但是其可以与MSYS环境配合使用，其主要完成的工作为UNIX on Windows的功能。显而易见，这是一个仿生UNIX环境的Windows工具集，它的详细介绍和使用方法可以参照http://www.mingw.org/wiki/MSYS。<br>     MinGW-w64+MSYS环境准备好之后，我们就可以正式进入编译的环节了。<br>     1）进入FFmpeg源码目录，执行“./configure”，如果一切正常，我们会看到如下信息：<br>     2）configure成功后执行make，在MinGW环境下编译ffmpeg是一个比较漫长的过程。<br>     3）执行make install，到此为止，FFmpeg在Windows上的编译已全部完成，此时我们可以尝试使用FFmpeg命令行来验证编译结果。执行“./ffmpeg.exe–h”：<br>     注意：<br>     以上编译配置方式编译出来的ffmpeg仅仅只是最简易的ffmpeg，并没有H.264、H.265、加字幕等编码支持，如果需要支持更多的模块和参数，还需要进行更加详细的定制，后面会有详细的介绍。<mark>也可自行搜索</mark>。<br>     <a href="https://blog.csdn.net/migu123/article/details/129325680">附录1.Windows下MSVC编译FFmpeg</a></font></p> 
<h4><a id="font_face_size3nbspnbsp172_FFmpegLinuxfont_388"></a><font face="黑体" size="3">  1.7.2 FFmpeg之Linux平台编译</font></h4> 
<p><font face="Courier New">    前面介绍过，很多Linux的发行版本源中已经包含了FFmpeg，如Ubuntu/Fedora的镜像源中包含了FFmpeg的安装包，但是版本相对来说比较老旧，有些甚至还不支持H.264、H.265编码，或者不支持RTMP等，为了支持这些协议格式和编码格式，需要自己手动编译FFmpeg，默认编译FFmpeg的时候，需要用到yasm汇编器对FFmpeg中的汇编部分进行编译。<mark>也可自行搜索</mark><br>     <a href="https://blog.csdn.net/migu123/article/details/129364460">附录2 FFmpeg从入门到精通-Linux下编译FFmpeg</a></font></p> 
<h3><a id="nbspnbspfont_face_size318_FFmpegfont_391"></a>  <font face="黑体" size="3">1.8 FFmpeg编码支持与定制</font></h3> 
<p><font face="Courier New">    FFmpeg本身支持一些<mark>音视频编码格式、文件封装格式与流媒体传输协议</mark>，但是支持的数量依然有限，FFmpeg所做的只是提供一套基础的框架，所有的编码格式、文件封装格式与流媒体协议均可以作为FFmpeg的一个模块挂载在FFmpeg框架中。这些模块以第三方的外部库的方式提供支持，可以通过FFmpeg源码的configure命令查看FFmpeg所支持的音视频编码格式、文件封装格式与流媒体传输协议，对于FFmpeg不支持的格式，可以通过configure --help查看所需要的第三方外部库，然后通过增加对应的编译参数选项进行支持。帮助信息内容输出如下：</font></p> 
<pre><code class="prism language-bash">External library support:

  Using any of the following switches will allow FFmpeg to <span class="token function">link</span> to the
  corresponding external library. All the components depending on that library
  will become enabled, <span class="token keyword">if</span> all their other dependencies are met and they are not
  explicitly disabled. E.g. --enable-libopus will <span class="token builtin class-name">enable</span> linking to
  libopus and allow the libopus encoder to be built, unless it is
  specifically disabled with --disable-encoder<span class="token operator">=</span>libopus.

  Note that only the system libraries are auto-detected. All the other external
  libraries must be explicitly enabled.

  Also note that the following <span class="token builtin class-name">help</span> text describes the purpose of the libraries
  themselves, not all their features will necessarily be usable by FFmpeg.

  --disable-alsa           disable ALSA support <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --disable-appkit         disable Apple AppKit framework <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --disable-avfoundation   disable Apple AVFoundation framework <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --enable-avisynth        <span class="token builtin class-name">enable</span> reading of AviSynth script files <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --disable-bzlib          disable bzlib <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --disable-coreimage      disable Apple CoreImage framework <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --enable-chromaprint     <span class="token builtin class-name">enable</span> audio fingerprinting with chromaprint <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-frei0r          <span class="token builtin class-name">enable</span> frei0r video filtering <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-gcrypt          <span class="token builtin class-name">enable</span> gcrypt, needed <span class="token keyword">for</span> rtmp<span class="token punctuation">(</span>t<span class="token punctuation">)</span>e support
                           <span class="token keyword">if</span> openssl, librtmp or gmp is not used <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-gmp             <span class="token builtin class-name">enable</span> gmp, needed <span class="token keyword">for</span> rtmp<span class="token punctuation">(</span>t<span class="token punctuation">)</span>e support
                           <span class="token keyword">if</span> openssl or librtmp is not used <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-gnutls          <span class="token builtin class-name">enable</span> gnutls, needed <span class="token keyword">for</span> https support
                           <span class="token keyword">if</span> openssl, libtls or mbedtls is not used <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --disable-iconv          disable <span class="token function">iconv</span> <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --enable-jni             <span class="token builtin class-name">enable</span> JNI support <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-ladspa          <span class="token builtin class-name">enable</span> LADSPA audio filtering <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-lcms2           <span class="token builtin class-name">enable</span> ICC profile support via LittleCMS <span class="token number">2</span> <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libaom          <span class="token builtin class-name">enable</span> AV1 video encoding/decoding via libaom <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libaribb24      <span class="token builtin class-name">enable</span> ARIB text and caption decoding via libaribb24 <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libass          <span class="token builtin class-name">enable</span> libass subtitles rendering,
                           needed <span class="token keyword">for</span> subtitles and ass filter <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libbluray       <span class="token builtin class-name">enable</span> BluRay reading using libbluray <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libbs2b         <span class="token builtin class-name">enable</span> bs2b DSP library <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libcaca         <span class="token builtin class-name">enable</span> textual display using libcaca <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libcelt         <span class="token builtin class-name">enable</span> CELT decoding via libcelt <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libcdio         <span class="token builtin class-name">enable</span> audio CD grabbing with libcdio <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libcodec2       <span class="token builtin class-name">enable</span> codec2 en/decoding using libcodec2 <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libdav1d        <span class="token builtin class-name">enable</span> AV1 decoding via libdav1d <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libdavs2        <span class="token builtin class-name">enable</span> AVS2 decoding via libdavs2 <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libdc1394       <span class="token builtin class-name">enable</span> IIDC-1394 grabbing using libdc1394
                           and libraw1394 <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libfdk-aac      <span class="token builtin class-name">enable</span> AAC de/encoding via libfdk-aac <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libflite        <span class="token builtin class-name">enable</span> flite <span class="token punctuation">(</span>voice synthesis<span class="token punctuation">)</span> support via libflite <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libfontconfig   <span class="token builtin class-name">enable</span> libfontconfig, useful <span class="token keyword">for</span> drawtext filter <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libfreetype     <span class="token builtin class-name">enable</span> libfreetype, needed <span class="token keyword">for</span> drawtext filter <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libfribidi      <span class="token builtin class-name">enable</span> libfribidi, improves drawtext filter <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libglslang      <span class="token builtin class-name">enable</span> GLSL-<span class="token operator">&gt;</span>SPIRV compilation via libglslang <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libgme          <span class="token builtin class-name">enable</span> Game Music Emu via libgme <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libgsm          <span class="token builtin class-name">enable</span> GSM de/encoding via libgsm <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libiec61883     <span class="token builtin class-name">enable</span> iec61883 via libiec61883 <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libilbc         <span class="token builtin class-name">enable</span> iLBC de/encoding via libilbc <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libjack         <span class="token builtin class-name">enable</span> JACK audio sound server <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libjxl          <span class="token builtin class-name">enable</span> JPEG XL de/encoding via libjxl <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libklvanc       <span class="token builtin class-name">enable</span> Kernel Labs VANC processing <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libkvazaar      <span class="token builtin class-name">enable</span> HEVC encoding via libkvazaar <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-liblensfun      <span class="token builtin class-name">enable</span> lensfun lens correction <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libmodplug      <span class="token builtin class-name">enable</span> ModPlug via libmodplug <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libmp3lame      <span class="token builtin class-name">enable</span> MP3 encoding via libmp3lame <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libopencore-amrnb <span class="token builtin class-name">enable</span> AMR-NB de/encoding via libopencore-amrnb <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libopencore-amrwb <span class="token builtin class-name">enable</span> AMR-WB decoding via libopencore-amrwb <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libopencv       <span class="token builtin class-name">enable</span> video filtering via libopencv <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libopenh264     <span class="token builtin class-name">enable</span> H.264 encoding via OpenH264 <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libopenjpeg     <span class="token builtin class-name">enable</span> JPEG <span class="token number">2000</span> de/encoding via OpenJPEG <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libopenmpt      <span class="token builtin class-name">enable</span> decoding tracked files via libopenmpt <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libopenvino     <span class="token builtin class-name">enable</span> OpenVINO as a DNN module backend
                           <span class="token keyword">for</span> DNN based filters like dnn_processing <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libopus         <span class="token builtin class-name">enable</span> Opus de/encoding via libopus <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libplacebo      <span class="token builtin class-name">enable</span> libplacebo library <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libpulse        <span class="token builtin class-name">enable</span> Pulseaudio input via libpulse <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-librabbitmq     <span class="token builtin class-name">enable</span> RabbitMQ library <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-librav1e        <span class="token builtin class-name">enable</span> AV1 encoding via rav1e <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-librist         <span class="token builtin class-name">enable</span> RIST via librist <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-librsvg         <span class="token builtin class-name">enable</span> SVG rasterization via librsvg <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-librubberband   <span class="token builtin class-name">enable</span> rubberband needed <span class="token keyword">for</span> rubberband filter <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-librtmp         <span class="token builtin class-name">enable</span> RTMP<span class="token punctuation">[</span>E<span class="token punctuation">]</span> support via librtmp <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libshaderc      <span class="token builtin class-name">enable</span> GLSL-<span class="token operator">&gt;</span>SPIRV compilation via libshaderc <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libshine        <span class="token builtin class-name">enable</span> fixed-point MP3 encoding via libshine <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libsmbclient    <span class="token builtin class-name">enable</span> Samba protocol via libsmbclient <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libsnappy       <span class="token builtin class-name">enable</span> Snappy compression, needed <span class="token keyword">for</span> hap encoding <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libsoxr         <span class="token builtin class-name">enable</span> Include libsoxr resampling <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libspeex        <span class="token builtin class-name">enable</span> Speex de/encoding via libspeex <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libsrt          <span class="token builtin class-name">enable</span> Haivision SRT protocol via libsrt <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libssh          <span class="token builtin class-name">enable</span> SFTP protocol via libssh <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libsvtav1       <span class="token builtin class-name">enable</span> AV1 encoding via SVT <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libtensorflow   <span class="token builtin class-name">enable</span> TensorFlow as a DNN module backend
                           <span class="token keyword">for</span> DNN based filters like sr <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libtesseract    <span class="token builtin class-name">enable</span> Tesseract, needed <span class="token keyword">for</span> ocr filter <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libtheora       <span class="token builtin class-name">enable</span> Theora encoding via libtheora <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libtls          <span class="token builtin class-name">enable</span> LibreSSL <span class="token punctuation">(</span>via libtls<span class="token punctuation">)</span>, needed <span class="token keyword">for</span> https support
                           <span class="token keyword">if</span> openssl, gnutls or mbedtls is not used <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libtwolame      <span class="token builtin class-name">enable</span> MP2 encoding via libtwolame <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libuavs3d       <span class="token builtin class-name">enable</span> AVS3 decoding via libuavs3d <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libv4l2         <span class="token builtin class-name">enable</span> libv4l2/v4l-utils <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libvidstab      <span class="token builtin class-name">enable</span> video stabilization using vid.stab <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libvmaf         <span class="token builtin class-name">enable</span> vmaf filter via libvmaf <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libvo-amrwbenc  <span class="token builtin class-name">enable</span> AMR-WB encoding via libvo-amrwbenc <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libvorbis       <span class="token builtin class-name">enable</span> Vorbis en/decoding via libvorbis,
                           native implementation exists <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libvpx          <span class="token builtin class-name">enable</span> VP8 and VP9 de/encoding via libvpx <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libwebp         <span class="token builtin class-name">enable</span> WebP encoding via libwebp <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libx264         <span class="token builtin class-name">enable</span> H.264 encoding via x264 <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libx265         <span class="token builtin class-name">enable</span> HEVC encoding via x265 <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libxavs         <span class="token builtin class-name">enable</span> AVS encoding via xavs <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libxavs2        <span class="token builtin class-name">enable</span> AVS2 encoding via xavs2 <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libxcb          <span class="token builtin class-name">enable</span> X11 grabbing using XCB <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --enable-libxcb-shm      <span class="token builtin class-name">enable</span> X11 grabbing shm communication <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --enable-libxcb-xfixes   <span class="token builtin class-name">enable</span> X11 grabbing mouse rendering <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --enable-libxcb-shape    <span class="token builtin class-name">enable</span> X11 grabbing shape rendering <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --enable-libxvid         <span class="token builtin class-name">enable</span> Xvid encoding via xvidcore,
                           native MPEG-4/Xvid encoder exists <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libxml2         <span class="token builtin class-name">enable</span> XML parsing using the C library libxml2, needed
                           <span class="token keyword">for</span> dash and imf demuxing support <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libzimg         <span class="token builtin class-name">enable</span> z.lib, needed <span class="token keyword">for</span> zscale filter <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libzmq          <span class="token builtin class-name">enable</span> message passing via libzmq <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libzvbi         <span class="token builtin class-name">enable</span> teletext support via libzvbi <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-lv2             <span class="token builtin class-name">enable</span> LV2 audio filtering <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --disable-lzma           disable lzma <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --enable-decklink        <span class="token builtin class-name">enable</span> Blackmagic DeckLink I/O support <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-mbedtls         <span class="token builtin class-name">enable</span> mbedTLS, needed <span class="token keyword">for</span> https support
                           <span class="token keyword">if</span> openssl, gnutls or libtls is not used <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-mediacodec      <span class="token builtin class-name">enable</span> Android MediaCodec support <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-mediafoundation <span class="token builtin class-name">enable</span> encoding via MediaFoundation <span class="token punctuation">[</span>auto<span class="token punctuation">]</span>
  --disable-metal          disable Apple Metal framework <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --enable-libmysofa       <span class="token builtin class-name">enable</span> libmysofa, needed <span class="token keyword">for</span> sofalizer filter <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-openal          <span class="token builtin class-name">enable</span> OpenAL <span class="token number">1.1</span> capture support <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-opencl          <span class="token builtin class-name">enable</span> OpenCL processing <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-opengl          <span class="token builtin class-name">enable</span> OpenGL rendering <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-openssl         <span class="token builtin class-name">enable</span> openssl, needed <span class="token keyword">for</span> https support
                           <span class="token keyword">if</span> gnutls, libtls or mbedtls is not used <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-pocketsphinx    <span class="token builtin class-name">enable</span> PocketSphinx, needed <span class="token keyword">for</span> asr filter <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --disable-sndio          disable sndio support <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --disable-schannel       disable SChannel SSP, needed <span class="token keyword">for</span> TLS support on
                           Windows <span class="token keyword">if</span> openssl and gnutls are not used <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --disable-sdl2           disable sdl2 <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --disable-securetransport disable Secure Transport, needed <span class="token keyword">for</span> TLS support
                           on OSX <span class="token keyword">if</span> openssl and gnutls are not used <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --enable-vapoursynth     <span class="token builtin class-name">enable</span> VapourSynth demuxer <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --disable-vulkan         disable Vulkan code <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --disable-xlib           disable xlib <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --disable-zlib           disable zlib <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>

  The following libraries provide various hardware acceleration features:
  --disable-amf            disable AMF video encoding code <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --disable-audiotoolbox   disable Apple AudioToolbox code <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --enable-cuda-nvcc       <span class="token builtin class-name">enable</span> Nvidia CUDA compiler <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --disable-cuda-llvm      disable CUDA compilation using clang <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --disable-cuvid          disable Nvidia CUVID support <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --disable-d3d11va        disable Microsoft Direct3D <span class="token number">11</span> video acceleration code <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --disable-dxva2          disable Microsoft DirectX <span class="token number">9</span> video acceleration code <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --disable-ffnvcodec      disable dynamically linked Nvidia code <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --enable-libdrm          <span class="token builtin class-name">enable</span> DRM code <span class="token punctuation">(</span>Linux<span class="token punctuation">)</span> <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libmfx          <span class="token builtin class-name">enable</span> Intel MediaSDK <span class="token punctuation">(</span>AKA Quick Sync Video<span class="token punctuation">)</span> code via libmfx <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libvpl          <span class="token builtin class-name">enable</span> Intel oneVPL code via libvpl <span class="token keyword">if</span> libmfx is not used <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-libnpp          <span class="token builtin class-name">enable</span> Nvidia Performance Primitives-based code <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-mmal            <span class="token builtin class-name">enable</span> Broadcom Multi-Media Abstraction Layer <span class="token punctuation">(</span>Raspberry Pi<span class="token punctuation">)</span> via MMAL <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --disable-nvdec          disable Nvidia video decoding acceleration <span class="token punctuation">(</span>via hwaccel<span class="token punctuation">)</span> <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --disable-nvenc          disable Nvidia video encoding code <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --enable-omx             <span class="token builtin class-name">enable</span> OpenMAX IL code <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-omx-rpi         <span class="token builtin class-name">enable</span> OpenMAX IL code <span class="token keyword">for</span> Raspberry Pi <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --enable-rkmpp           <span class="token builtin class-name">enable</span> Rockchip Media Process Platform code <span class="token punctuation">[</span>no<span class="token punctuation">]</span>
  --disable-v4l2-m2m       disable V4L2 mem2mem code <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --disable-vaapi          disable Video Acceleration API <span class="token punctuation">(</span>mainly Unix/Intel<span class="token punctuation">)</span> code <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --disable-vdpau          disable Nvidia Video Decode and Presentation API <span class="token keyword">for</span> Unix code <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>
  --disable-videotoolbox   disable VideoToolbox code <span class="token punctuation">[</span>autodetect<span class="token punctuation">]</span>

Toolchain options:
  <span class="token parameter variable">--arch</span><span class="token operator">=</span>ARCH              <span class="token keyword">select</span> architecture <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--cpu</span><span class="token operator">=</span>CPU                <span class="token keyword">select</span> the minimum required CPU <span class="token punctuation">(</span>affects
                           instruction selection, may crash on older CPUs<span class="token punctuation">)</span>
  --cross-prefix<span class="token operator">=</span>PREFIX    use PREFIX <span class="token keyword">for</span> compilation tools <span class="token punctuation">[</span><span class="token punctuation">]</span>
  --progs-suffix<span class="token operator">=</span>SUFFIX    program name suffix <span class="token punctuation">[</span><span class="token punctuation">]</span>
  --enable-cross-compile   assume a cross-compiler is used
  <span class="token parameter variable">--sysroot</span><span class="token operator">=</span><span class="token environment constant">PATH</span>           root of cross-build tree
  <span class="token parameter variable">--sysinclude</span><span class="token operator">=</span><span class="token environment constant">PATH</span>        location of cross-build system headers
  --target-os<span class="token operator">=</span>OS           compiler targets OS <span class="token punctuation">[</span><span class="token punctuation">]</span>
  --target-exec<span class="token operator">=</span>CMD        <span class="token builtin class-name">command</span> to run executables on target
  --target-path<span class="token operator">=</span>DIR        path to view of build directory on target
  --target-samples<span class="token operator">=</span>DIR     path to samples directory on target
  <span class="token parameter variable">--tempprefix</span><span class="token operator">=</span><span class="token environment constant">PATH</span>        force fixed dir/prefix instead of mktemp <span class="token keyword">for</span> checks
  <span class="token parameter variable">--toolchain</span><span class="token operator">=</span>NAME         <span class="token builtin class-name">set</span> tool defaults according to NAME
                           <span class="token punctuation">(</span>gcc-asan, clang-asan, gcc-msan, clang-msan,
                           gcc-tsan, clang-tsan, gcc-usan, clang-usan,
                           valgrind-massif, valgrind-memcheck,
                           msvc, icl, gcov, llvm-cov, hardened<span class="token punctuation">)</span>
  <span class="token parameter variable">--nm</span><span class="token operator">=</span>NM                  use nm tool NM <span class="token punctuation">[</span>nm -g<span class="token punctuation">]</span>
  <span class="token parameter variable">--ar</span><span class="token operator">=</span>AR                  use archive tool AR <span class="token punctuation">[</span>ar<span class="token punctuation">]</span>
  <span class="token parameter variable">--as</span><span class="token operator">=</span>AS                  use assembler AS <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--ln_s</span><span class="token operator">=</span>LN_S              use symbolic <span class="token function">link</span> tool LN_S <span class="token punctuation">[</span>ln <span class="token parameter variable">-s</span> -f<span class="token punctuation">]</span>
  <span class="token parameter variable">--strip</span><span class="token operator">=</span>STRIP            use strip tool STRIP <span class="token punctuation">[</span>strip<span class="token punctuation">]</span>
  <span class="token parameter variable">--windres</span><span class="token operator">=</span>WINDRES        use windows resource compiler WINDRES <span class="token punctuation">[</span>windres<span class="token punctuation">]</span>
  <span class="token parameter variable">--x86asmexe</span><span class="token operator">=</span>EXE          use nasm-compatible assembler EXE <span class="token punctuation">[</span>nasm<span class="token punctuation">]</span>
  <span class="token parameter variable">--cc</span><span class="token operator">=</span>CC                  use C compiler CC <span class="token punctuation">[</span>gcc<span class="token punctuation">]</span>
  <span class="token parameter variable">--cxx</span><span class="token operator">=</span>CXX                use C compiler CXX <span class="token punctuation">[</span>g++<span class="token punctuation">]</span>
  <span class="token parameter variable">--objcc</span><span class="token operator">=</span>OCC              use ObjC compiler OCC <span class="token punctuation">[</span>gcc<span class="token punctuation">]</span>
  --dep-cc<span class="token operator">=</span>DEPCC           use dependency generator DEPCC <span class="token punctuation">[</span>gcc<span class="token punctuation">]</span>
  <span class="token parameter variable">--nvcc</span><span class="token operator">=</span>NVCC              use Nvidia CUDA compiler NVCC or clang <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--ld</span><span class="token operator">=</span>LD                  use linker LD <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--metalcc</span><span class="token operator">=</span>METALCC        use metal compiler METALCC <span class="token punctuation">[</span>xcrun <span class="token parameter variable">-sdk</span> macosx metal<span class="token punctuation">]</span>
  <span class="token parameter variable">--metallib</span><span class="token operator">=</span>METALLIB      use metal linker METALLIB <span class="token punctuation">[</span>xcrun <span class="token parameter variable">-sdk</span> macosx metallib<span class="token punctuation">]</span>
  --pkg-config<span class="token operator">=</span>PKGCONFIG   use pkg-config tool PKGCONFIG <span class="token punctuation">[</span>pkg-config<span class="token punctuation">]</span>
  --pkg-config-flags<span class="token operator">=</span>FLAGS pass additional flags to pkgconf <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--ranlib</span><span class="token operator">=</span>RANLIB          use ranlib RANLIB <span class="token punctuation">[</span>ranlib<span class="token punctuation">]</span>
  <span class="token parameter variable">--doxygen</span><span class="token operator">=</span>DOXYGEN        use DOXYGEN to generate API doc <span class="token punctuation">[</span>doxygen<span class="token punctuation">]</span>
  --host-cc<span class="token operator">=</span>HOSTCC         use <span class="token function">host</span> C compiler HOSTCC
  --host-cflags<span class="token operator">=</span>HCFLAGS    use HCFLAGS when compiling <span class="token keyword">for</span> <span class="token function">host</span>
  --host-cppflags<span class="token operator">=</span>HCPPFLAGS use HCPPFLAGS when compiling <span class="token keyword">for</span> <span class="token function">host</span>
  --host-ld<span class="token operator">=</span>HOSTLD         use <span class="token function">host</span> linker HOSTLD
  --host-ldflags<span class="token operator">=</span>HLDFLAGS  use HLDFLAGS when linking <span class="token keyword">for</span> <span class="token function">host</span>
  --host-extralibs<span class="token operator">=</span>HLIBS   use libs HLIBS when linking <span class="token keyword">for</span> <span class="token function">host</span>
  --host-os<span class="token operator">=</span>OS             compiler <span class="token function">host</span> OS <span class="token punctuation">[</span><span class="token punctuation">]</span>
  --extra-cflags<span class="token operator">=</span>ECFLAGS   <span class="token function">add</span> ECFLAGS to CFLAGS <span class="token punctuation">[</span><span class="token punctuation">]</span>
  --extra-cxxflags<span class="token operator">=</span>ECFLAGS <span class="token function">add</span> ECFLAGS to CXXFLAGS <span class="token punctuation">[</span><span class="token punctuation">]</span>
  --extra-objcflags<span class="token operator">=</span>FLAGS  <span class="token function">add</span> FLAGS to OBJCFLAGS <span class="token punctuation">[</span><span class="token punctuation">]</span>
  --extra-ldflags<span class="token operator">=</span>ELDFLAGS <span class="token function">add</span> ELDFLAGS to LDFLAGS <span class="token punctuation">[</span><span class="token punctuation">]</span>
  --extra-ldexeflags<span class="token operator">=</span>ELDFLAGS <span class="token function">add</span> ELDFLAGS to LDEXEFLAGS <span class="token punctuation">[</span><span class="token punctuation">]</span>
  --extra-ldsoflags<span class="token operator">=</span>ELDFLAGS <span class="token function">add</span> ELDFLAGS to LDSOFLAGS <span class="token punctuation">[</span><span class="token punctuation">]</span>
  --extra-libs<span class="token operator">=</span>ELIBS       <span class="token function">add</span> ELIBS <span class="token punctuation">[</span><span class="token punctuation">]</span>
  --extra-version<span class="token operator">=</span>STRING   version string suffix <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token parameter variable">--optflags</span><span class="token operator">=</span>OPTFLAGS      override optimization-related compiler flags
  <span class="token parameter variable">--nvccflags</span><span class="token operator">=</span>NVCCFLAGS    override nvcc flags <span class="token punctuation">[</span><span class="token punctuation">]</span>
  --build-suffix<span class="token operator">=</span>SUFFIX    library name suffix <span class="token punctuation">[</span><span class="token punctuation">]</span>
  --enable-pic             build position-independent code
  --enable-thumb           compile <span class="token keyword">for</span> Thumb instruction <span class="token builtin class-name">set</span>
  --enable-lto             use link-time optimization
  <span class="token parameter variable">--env</span><span class="token operator">=</span><span class="token string">"ENV=override"</span>     override the environment variables

Advanced options <span class="token punctuation">(</span>experts only<span class="token punctuation">)</span>:
  --malloc-prefix<span class="token operator">=</span>PREFIX   prefix malloc and related names with PREFIX
  --custom-allocator<span class="token operator">=</span>NAME  use a supported custom allocator
  --disable-symver         disable symbol versioning
  --enable-hardcoded-tables use hardcoded tables instead of runtime generation
  --disable-safe-bitstream-reader
                           disable buffer boundary checking <span class="token keyword">in</span> bitreaders
                           <span class="token punctuation">(</span>faster, but may crash<span class="token punctuation">)</span>
  --sws-max-filter-size<span class="token operator">=</span>N  the max filter size swscale uses <span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span>

Optimization options <span class="token punctuation">(</span>experts only<span class="token punctuation">)</span>:
  --disable-asm            disable all assembly optimizations
  --disable-altivec        disable AltiVec optimizations
  --disable-vsx            disable VSX optimizations
  --disable-power8         disable POWER8 optimizations
  --disable-amd3dnow       disable 3DNow<span class="token operator">!</span> optimizations
  --disable-amd3dnowext    disable 3DNow<span class="token operator">!</span> extended optimizations
  --disable-mmx            disable MMX optimizations
  --disable-mmxext         disable MMXEXT optimizations
  --disable-sse            disable SSE optimizations
  --disable-sse2           disable SSE2 optimizations
  --disable-sse3           disable SSE3 optimizations
  --disable-ssse3          disable SSSE3 optimizations
  --disable-sse4           disable SSE4 optimizations
  --disable-sse42          disable SSE4.2 optimizations
  --disable-avx            disable AVX optimizations
  --disable-xop            disable XOP optimizations
  --disable-fma3           disable FMA3 optimizations
  --disable-fma4           disable FMA4 optimizations
  --disable-avx2           disable AVX2 optimizations
  --disable-avx512         disable AVX-512 optimizations
  --disable-avx512icl      disable AVX-512ICL optimizations
  --disable-aesni          disable AESNI optimizations
  --disable-armv5te        disable armv5te optimizations
  --disable-armv6          disable armv6 optimizations
  --disable-armv6t2        disable armv6t2 optimizations
  --disable-vfp            disable VFP optimizations
  --disable-neon           disable NEON optimizations
  --disable-inline-asm     disable use of inline assembly
  --disable-x86asm         disable use of standalone x86 assembly
  --disable-mipsdsp        disable MIPS DSP ASE R1 optimizations
  --disable-mipsdspr2      disable MIPS DSP ASE R2 optimizations
  --disable-msa            disable MSA optimizations
  --disable-mipsfpu        disable floating point MIPS optimizations
  --disable-mmi            disable Loongson MMI optimizations
  --disable-lsx            disable Loongson LSX optimizations
  --disable-lasx           disable Loongson LASX optimizations
  --disable-rvv            disable RISC-V Vector optimizations
  --disable-fast-unaligned consider unaligned accesses slow

Developer options <span class="token punctuation">(</span>useful when working on FFmpeg itself<span class="token punctuation">)</span>:
  --disable-debug          disable debugging symbols
  --enable-debug<span class="token operator">=</span>LEVEL     <span class="token builtin class-name">set</span> the debug level <span class="token punctuation">[</span><span class="token punctuation">]</span>
  --disable-optimizations  disable compiler optimizations
  --enable-extra-warnings  <span class="token builtin class-name">enable</span> <span class="token function">more</span> compiler warnings
  --disable-stripping      disable stripping of executables and shared libraries
  --assert-level<span class="token operator">=</span>level     <span class="token number">0</span><span class="token punctuation">(</span>default<span class="token punctuation">)</span>, <span class="token number">1</span> or <span class="token number">2</span>, amount of assertion testing,
                           <span class="token number">2</span> causes a slowdown at runtime.
  --enable-memory-poisoning fill heap uninitialized allocated space with arbitrary data
  <span class="token parameter variable">--valgrind</span><span class="token operator">=</span>VALGRIND      run <span class="token string">"make fate"</span> tests through valgrind to detect memory
                           leaks and errors, using the specified valgrind binary.
                           Cannot be combined with --target-exec
  --enable-ftrapv          Trap arithmetic overflows
  <span class="token parameter variable">--samples</span><span class="token operator">=</span><span class="token environment constant">PATH</span>           location of <span class="token builtin class-name">test</span> samples <span class="token keyword">for</span> FATE, <span class="token keyword">if</span> not <span class="token builtin class-name">set</span> use
                           <span class="token variable">$FATE_SAMPLES</span> at <span class="token function">make</span> invocation time.
  --enable-neon-clobber-test check NEON registers <span class="token keyword">for</span> clobbering <span class="token punctuation">(</span>should be
                           used only <span class="token keyword">for</span> debugging purposes<span class="token punctuation">)</span>
  --enable-xmm-clobber-test check XMM registers <span class="token keyword">for</span> clobbering <span class="token punctuation">(</span>Win64-only<span class="token punctuation">;</span>
                           should be used only <span class="token keyword">for</span> debugging purposes<span class="token punctuation">)</span>
  --enable-random          randomly enable/disable components
  --disable-random
  --enable-random<span class="token operator">=</span>LIST     randomly enable/disable specific components or
  --disable-random<span class="token operator">=</span>LIST    component groups. LIST is a comma-separated list
                           of NAME<span class="token punctuation">[</span>:PROB<span class="token punctuation">]</span> entries where NAME is a component
                           <span class="token punctuation">(</span>group<span class="token punctuation">)</span> and PROB the probability associated with
                           NAME <span class="token punctuation">(</span>default <span class="token number">0.5</span><span class="token punctuation">)</span>.
  --random-seed<span class="token operator">=</span>VALUE      seed value <span class="token keyword">for</span> --enable/disable-random
  --disable-valgrind-backtrace <span class="token keyword">do</span> not print a backtrace under Valgrind
                           <span class="token punctuation">(</span>only applies to --disable-optimizations builds<span class="token punctuation">)</span>
  --enable-ossfuzz         Enable building fuzzer tool
  <span class="token parameter variable">--libfuzzer</span><span class="token operator">=</span><span class="token environment constant">PATH</span>         path to libfuzzer
  --ignore-tests<span class="token operator">=</span>TESTS     comma-separated list <span class="token punctuation">(</span>without <span class="token string">"fate-"</span> prefix
                           <span class="token keyword">in</span> the name<span class="token punctuation">)</span> of tests whose result is ignored
  --enable-linux-perf      <span class="token builtin class-name">enable</span> Linux Performance Monitor API
  --enable-macos-kperf     <span class="token builtin class-name">enable</span> macOS kperf <span class="token punctuation">(</span>private<span class="token punctuation">)</span> API
  --disable-large-tests    disable tests that use a large amount of memory
  --disable-ptx-compression don't compress CUDA PTX code even when possible
</code></pre> 
<p><font face="Courier New">    通过以上帮助信息的输出内容可以看到，FFmpeg所支持的外部库相对来说比较多，主要包含如下列表：</font></p> 
<pre><code class="prism language-bash"><span class="token function">bzip2</span> <span class="token number">1.0</span>.6 <span class="token operator">&lt;</span>http://bzip.org/<span class="token operator">&gt;</span>
Fontconfig <span class="token number">2.11</span>.94 <span class="token operator">&lt;</span>http://freedesktop.org/wiki/Software/fontconfig<span class="token operator">&gt;</span>
Frei0r <span class="token number">20130909</span>-git-10d8360 <span class="token operator">&lt;</span>http://frei0r.dyne.org/<span class="token operator">&gt;</span>
GnuTLS <span class="token number">3.3</span>.15 <span class="token operator">&lt;</span>http://gnutls.org/<span class="token operator">&gt;</span>
libiconv <span class="token number">1.14</span> <span class="token operator">&lt;</span>http://gnu.org/software/libiconv/<span class="token operator">&gt;</span>
libass <span class="token number">0.12</span>.2 <span class="token operator">&lt;</span>http://code.google.com/p/libass/<span class="token operator">&gt;</span>
libbluray <span class="token number">0.8</span>.1 <span class="token operator">&lt;</span>http://videolan.org/developers/libbluray.html<span class="token operator">&gt;</span>
libbs2b <span class="token number">3.1</span>.0 <span class="token operator">&lt;</span>http://bs2b.sourceforge.net/<span class="token operator">&gt;</span>
libcaca <span class="token number">0.99</span>.beta18 <span class="token operator">&lt;</span>http://caca.zoy.org/wiki/libcaca<span class="token operator">&gt;</span>
dcadec <span class="token number">20150506</span>-git-98fb3b6 <span class="token operator">&lt;</span>https://github.com/foo86/dcadec<span class="token operator">&gt;</span>
FreeType <span class="token number">2.5</span>.5 <span class="token operator">&lt;</span>http://freetype.sourceforge.net/<span class="token operator">&gt;</span>
Game Music Emu <span class="token number">0.6</span>.0 <span class="token operator">&lt;</span>http://code.google.com/p/game-music-emu/<span class="token operator">&gt;</span>
GSM <span class="token number">1.0</span>.13-4 <span class="token operator">&lt;</span>http://packages.debian.org/source/squeeze/libgsm<span class="token operator">&gt;</span>
iLBC <span class="token number">20141214</span>-git-ef04ebe <span class="token operator">&lt;</span>https://github.com/dekkers/libilbc/<span class="token operator">&gt;</span>
Modplug-XMMS <span class="token number">0.8</span>.8.5 <span class="token operator">&lt;</span>http://modplug-xmms.sourceforge.net/<span class="token operator">&gt;</span>
LAME <span class="token number">3.99</span>.5 <span class="token operator">&lt;</span>http://lame.sourceforge.net/<span class="token operator">&gt;</span>
OpenCORE AMR <span class="token number">0.1</span>.3 <span class="token operator">&lt;</span>http://sourceforge.net/projects/opencore-amr/<span class="token operator">&gt;</span>
OpenJPEG <span class="token number">1.5</span>.2 <span class="token operator">&lt;</span>http://www.openjpeg.org/<span class="token operator">&gt;</span>
Opus <span class="token number">1.1</span> <span class="token operator">&lt;</span>http://opus-codec.org/<span class="token operator">&gt;</span>
RTMPDump <span class="token number">20140707</span>-git-a1900c3 <span class="token operator">&lt;</span>http://rtmpdump.mplayerhq.hu/<span class="token operator">&gt;</span>
Schroedinger <span class="token number">1.0</span>.11 <span class="token operator">&lt;</span>http://diracvideo.org/<span class="token operator">&gt;</span>
libsoxr <span class="token number">0.1</span>.1 <span class="token operator">&lt;</span>http://sourceforge.net/projects/soxr/<span class="token operator">&gt;</span>
Speex <span class="token number">1</span>.2rc2 <span class="token operator">&lt;</span>http://speex.org/<span class="token operator">&gt;</span>
Theora <span class="token number">1.1</span>.1 <span class="token operator">&lt;</span>http://theora.org/<span class="token operator">&gt;</span>
TwoLAME <span class="token number">0.3</span>.13 <span class="token operator">&lt;</span>http://twolame.org/<span class="token operator">&gt;</span>
vid.stab <span class="token number">0.98</span> <span class="token operator">&lt;</span>http://public.hronopik.de/vid.stab/<span class="token operator">&gt;</span>
VisualOn AAC <span class="token number">0.1</span>.3 <span class="token operator">&lt;</span>https://github.com/mstorsjo/vo-aacenc<span class="token operator">&gt;</span>
VisualOn AMR-WB <span class="token number">0.1</span>.2 <span class="token operator">&lt;</span>https://github.com/mstorsjo/vo-amrwbenc<span class="token operator">&gt;</span>
Vorbis <span class="token number">1.3</span>.5 <span class="token operator">&lt;</span>http://vorbis.com/<span class="token operator">&gt;</span>
vpx <span class="token number">1.4</span>.0 <span class="token operator">&lt;</span>http://webmproject.org/<span class="token operator">&gt;</span>
WavPack <span class="token number">4.75</span>.0 <span class="token operator">&lt;</span>http://wavpack.com/<span class="token operator">&gt;</span>
WebP <span class="token number">0.4</span>.3 <span class="token operator">&lt;</span>https://developers.google.com/speed/webp/<span class="token operator">&gt;</span>
x264 <span class="token number">20150223</span>-git-121396c <span class="token operator">&lt;</span>http://videolan.org/developers/x264.html<span class="token operator">&gt;</span>
x265 <span class="token number">1.7</span> <span class="token operator">&lt;</span>http://x265.org/<span class="token operator">&gt;</span>
XAVS svn-r55 <span class="token operator">&lt;</span>http://xavs.sourceforge.net/<span class="token operator">&gt;</span>
Xvid <span class="token number">1.3</span>.3 <span class="token operator">&lt;</span>http://xvid.org/<span class="token operator">&gt;</span>
XZ Utils <span class="token number">5.2</span>.1 <span class="token operator">&lt;</span>http://tukaani.org/xz<span class="token operator">&gt;</span>
zlib <span class="token number">1.2</span>.8 <span class="token operator">&lt;</span>http://zlib.net/<span class="token operator">&gt;</span>
</code></pre> 
<p><font face="Courier New">    这些外部库可以通过configure进行定制，在编译好的FFmpeg可执行程序中也可以看到编译时定制的FFmpeg的外部库：</font></p> 
<pre><code class="prism language-bash">ffmpeg version n3.3.2 Copyright <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span>-2017 the FFmpeg developers
built with Apple LLVM version <span class="token number">8.1</span>.0 <span class="token punctuation">(</span>clang-802.0.42<span class="token punctuation">)</span>
    configuration: --enable-fontconfig --enable-gpl --enable-libass --enable-libbluray --enable-libfreetype --enable-libmp3lame --enable-libspeex --enable-libx264 --enable-libx265 --enable-libfdk-aac --enable-version3 <span class="token parameter variable">--cc</span><span class="token operator">=</span><span class="token string">'ccache gcc'</span> --enable-nonfree --enable-videotoolbox --enable-audiotoolbox
    libavutil      <span class="token number">55</span>. <span class="token number">58.100</span> / <span class="token number">55</span>. <span class="token number">58.100</span>
    libavcodec     <span class="token number">57</span>. <span class="token number">89.100</span> / <span class="token number">57</span>. <span class="token number">89.100</span>
    libavformat    <span class="token number">57</span>. <span class="token number">71.100</span> / <span class="token number">57</span>. <span class="token number">71.100</span>
    libavdevice    <span class="token number">57</span>.  <span class="token number">6.100</span> / <span class="token number">57</span>.  <span class="token number">6.100</span>
    libavfilter      <span class="token number">6</span>. <span class="token number">82.100</span> /  <span class="token number">6</span>. <span class="token number">82.100</span>
    libswscale      <span class="token number">4</span>.  <span class="token number">6.100</span> /  <span class="token number">4</span>.  <span class="token number">6.100</span>
    libswresample   <span class="token number">2</span>.  <span class="token number">7.100</span> /  <span class="token number">2</span>.  <span class="token number">7.100</span>
    libpostproc    <span class="token number">54</span>.  <span class="token number">5.100</span> / <span class="token number">54</span>.  <span class="token number">5.100</span>
</code></pre> 
<p>    例如需要自己配置FFmpeg支持哪些格式，比如仅支持<mark>H.264视频与AAC音频编码</mark>，可以调整配置项将其简化如下：</p> 
<pre><code class="prism language-bash">configure --enable-libx264 --enable-libfdk-aac --enable-gpl --enable-nonfree
</code></pre> 
<p><font face="Courier New">    命令行执行后的输出内容如下：</font></p> 
<pre><code class="prism language-bash"><span class="token function">install</span> prefix            /usr/local
<span class="token builtin class-name">source</span> path               <span class="token builtin class-name">.</span>
C compiler                gcc
C library                 glibc
ARCH                      x86 <span class="token punctuation">(</span>generic<span class="token punctuation">)</span>
big-endian                no
runtime cpu detection     <span class="token function">yes</span>
standalone assembly       <span class="token function">yes</span>
x86 assembler             nasm
MMX enabled               <span class="token function">yes</span>
MMXEXT enabled            <span class="token function">yes</span>
3DNow<span class="token operator">!</span> enabled            <span class="token function">yes</span>
3DNow<span class="token operator">!</span> extended enabled   <span class="token function">yes</span>
SSE enabled               <span class="token function">yes</span>
SSSE3 enabled             <span class="token function">yes</span>
AESNI enabled             <span class="token function">yes</span>
AVX enabled               <span class="token function">yes</span>
AVX2 enabled              <span class="token function">yes</span>
AVX-512 enabled           <span class="token function">yes</span>
AVX-512ICL enabled        <span class="token function">yes</span>
XOP enabled               <span class="token function">yes</span>
FMA3 enabled              <span class="token function">yes</span>
FMA4 enabled              <span class="token function">yes</span>
i686 features enabled     <span class="token function">yes</span>
CMOV is fast              <span class="token function">yes</span>
EBX available             <span class="token function">yes</span>
EBP available             <span class="token function">yes</span>
debug symbols             <span class="token function">yes</span>
strip symbols             <span class="token function">yes</span>
optimize <span class="token keyword">for</span> size         no
optimizations             <span class="token function">yes</span>
static                    <span class="token function">yes</span>
shared                    no
postprocessing support    <span class="token function">yes</span>
network support           <span class="token function">yes</span>
threading support         pthreads
safe bitstream reader     <span class="token function">yes</span>
texi2html enabled         no
perl enabled              <span class="token function">yes</span>
pod2man enabled           <span class="token function">yes</span>
makeinfo enabled          no
makeinfo supports HTML    no
xmllint enabled           <span class="token function">yes</span>
</code></pre> 
<p><font face="Courier New">    如果需要支持H.265编码，则只需要增加–enable-libx265即可，其与支持H.264基本类似，从前面的help信息中可以看到，其他对应的编码与此类似。<br>     注意：<br>     从2016年年初开始，FFmpeg资深的AAC编码器质量逐步好转，至2016年年底，<mark>libfaac已经从FFmpeg源代码中剔除</mark>。<br>     FFmpeg默认支持的音视频编码格式、文件封装格式和流媒体传输协议相对来说比较多，因此编译出来的FFmpeg体积比较大，在有些应用场景中，并不需要FFmpeg所支持的一些编码、封装或者协议，可以通过configure --help查看一些有用的裁剪操作：<br>     可以通过这些选项关闭不需要用到的编码、封装与协议等模块，验证方法如下：</font></p> 
<pre><code class="prism language-bash">configure --disable-encoders --disable-decoders --disable-hwaccels --disable-muxers --disable-demuxers --disable-parsers --disable-bsfs --disable-protocols --disable-indevs --disable-devices --disable-filters
</code></pre> 
<p><font face="Courier New">    关闭所有的模块之后，可以看到FFmpeg的编译配置项输出信息几乎为空，输出信息具体如下：</font></p> 
<pre><code class="prism language-bash">Libraries:
avcodec                 avfilter                avutil                  swscale
avdevice                avformat                swresample

Programs:
ffmpeg                  ffprobe

Enabled decoders:

Enabled encoders:

Enabled hwaccels:

Enabled parsers:

Enabled demuxers:

Enabled muxers:

Enabled protocols:

Enabled filters:
aformat                 atrim                   hflip                   transpose               vflip
anull                   <span class="token function">format</span>                  null                    trim

Enabled bsfs:

Enabled indevs:

Enabled outdevs:

License: LGPL version <span class="token number">2.1</span> or later
libavutil/avconfig.h is unchanged
</code></pre> 
<p><font face="Courier New">    而且在关闭所有的模块之后，可以根据定制支持自己所需要的模块，例如<mark>希望支持H.264视频编码、AAC音频编码、封装为MP4</mark>，可以通过如下方式进行支持：</font></p> 
<pre><code class="prism language-bash">External libraries:
bzlib                   <span class="token function">iconv</span>                   libfdk_aac              libx264                 zlib

External libraries providing hardware acceleration:

Libraries:
avcodec                 avfilter                avutil                  swresample
avdevice                avformat                postproc                swscale

Programs:
ffmpeg                  ffprobe

Enabled decoders:

Enabled encoders:

Enabled hwaccels:

Enabled parsers:
ac3

Enabled demuxers:

Enabled muxers:
mov                     mp4

Enabled protocols:

Enabled filters:
aformat                 atrim                   hflip                   transpose               vflip
anull                   <span class="token function">format</span>                  null                    trim

Enabled bsfs:
aac_adtstoasc           vp9_superframe

Enabled indevs:

Enabled outdevs:
</code></pre> 
<p><font face="Courier New">    从以上的输出内容可以看到，<mark>FFmpeg已经支持了H.264编码、AAC编码与MP4封装格式。这样通过编译之后生成的FFmpeg即是配置裁剪过的FFmpeg，体积会比默认编译的FFmpeg小很多</mark>。</font></p> 
<h4><a id="font_face_size3nbspnbsp181_FFmpegfont_906"></a><font face="黑体" size="3">  1.8.1 FFmpeg的编码器支持</font></h4> 
<p><font face="Courier New">    FFmpeg源代码中可以包含的编码非常多，常见的和不常见的都可以在编译配置列表中见到，可以通过使用编译配置命令./configure–list-encoders参数来查看：</font></p> 
<pre><code class="prism language-bash">a64multi                eac3                    libshine                pcm_f64le               sbc
a64multi5               exr                     libspeex                pcm_mulaw               sgi
aac                     ffv1                    libsvtav1               pcm_mulaw_at            smc
aac_at                  ffvhuff                 libtheora               pcm_s16be               snow
aac_mf                  fits                    libtwolame              pcm_s16be_planar        sonic
ac3                     flac                    libvo_amrwbenc          pcm_s16le               sonic_ls
ac3_fixed               flashsv                 libvorbis               pcm_s16le_planar        speedhq
ac3_mf                  flashsv2                libvpx_vp8              pcm_s24be               srt
adpcm_adx               flv                     libvpx_vp9              pcm_s24daud             ssa
adpcm_argo              g723_1                  libwebp                 pcm_s24le               subrip
adpcm_g722              gif                     libwebp_anim            pcm_s24le_planar        sunrast
adpcm_g726              h261                    libx262                 pcm_s32be               svq1
adpcm_g726le            h263                    libx264                 pcm_s32le               targa
adpcm_ima_alp           h263_v4l2m2m            libx264rgb              pcm_s32le_planar        text
adpcm_ima_amv           h263p                   libx265                 pcm_s64be               tiff
adpcm_ima_apm           h264_amf                libxavs                 pcm_s64le               truehd
adpcm_ima_qt            h264_mf                 libxavs2                pcm_s8                  tta
adpcm_ima_ssi           h264_nvenc              libxvid                 pcm_s8_planar           ttml
adpcm_ima_wav           h264_omx                ljpeg                   pcm_u16be               utvideo
adpcm_ima_ws            h264_qsv                magicyuv                pcm_u16le               v210
adpcm_ms                h264_v4l2m2m            mjpeg                   pcm_u24be               v308
adpcm_swf               h264_vaapi              mjpeg_qsv               pcm_u24le               v408
adpcm_yamaha            h264_videotoolbox       mjpeg_vaapi             pcm_u32be               v410
alac                    hap                     mlp                     pcm_u32le               vbn
alac_at                 hevc_amf                movtext                 pcm_u8                  vc2
alias_pix               hevc_mf                 mp2                     pcm_vidc                vorbis
amv                     hevc_nvenc              mp2fixed                pcx                     vp8_v4l2m2m
apng                    hevc_qsv                mp3_mf                  pfm                     vp8_vaapi
aptx                    hevc_v4l2m2m            mpeg1video              pgm                     vp9_qsv
aptx_hd                 hevc_vaapi              mpeg2_qsv               pgmyuv                  vp9_vaapi
ass                     hevc_videotoolbox       mpeg2_vaapi             phm                     wavpack
asv1                    huffyuv                 mpeg2video              png                     webvtt
asv2                    ilbc_at                 mpeg4                   ppm                     wmav1
avrp                    jpeg2000                mpeg4_omx               prores                  wmav2
avui                    jpegls                  mpeg4_v4l2m2m           prores_aw               wmv1
ayuv                    libaom_av1              msmpeg4v2               prores_ks               wmv2
bitpacked               libcodec2               msmpeg4v3               prores_videotoolbox     wrapped_avframe
bmp                     libfdk_aac              msvideo1                qoi                     xbm
cfhd                    libgsm                  nellymoser              qtrle                   xface
cinepak                 libgsm_ms               opus                    r10k                    xsub
cljr                    libilbc                 pam                     r210                    xwd
comfortnoise            libjxl                  pbm                     ra_144                  y41p
dca                     libkvazaar              pcm_alaw                rawvideo                yuv4
dfpwm                   libmp3lame              pcm_alaw_at             roq                     zlib
dnxhd                   libopencore_amrnb       pcm_bluray              roq_dpcm                zmbv
dpx                     libopenh264             pcm_dvd                 rpza
dvbsub                  libopenjpeg             pcm_f32be               rv10
dvdsub                  libopus                 pcm_f32le               rv20
dvvideo                 librav1e                pcm_f64be               s302m
</code></pre> 
<p><font face="Courier New">    从上面的输出信息中可以看出，<mark>FFmpeg支持的编码器比较全面，比如AAC、AC3、H.264、H.265、MPEG4、MPEG2VIDEO、PCM、FLV1的编码器支持</mark>。</font></p> 
<h4><a id="font_face_size3nbspnbsp182_FFmpegfont_960"></a><font face="黑体" size="3">  1.8.2 FFmpeg的解码器支持</font></h4> 
<p><font face="Courier New">    FFmpeg源代码本身包含了很多的解码支持，解码主要是在输入的时候进行解码，也可以理解为将压缩过的编码进行解压缩，关于解码的支持，可以通过./configure–list-decoders命令来进行查看：</font></p> 
<pre><code class="prism language-bash">aac                     cdgraphics              imm5                    nellymoser              speedhq
aac_at                  cdtoons                 indeo2                  notchlc                 speex
aac_fixed               cdxl                    indeo3                  nuv                     srgc
aac_latm                cfhd                    indeo4                  on2avc                  srt
aasc                    cinepak                 indeo5                  opus                    ssa
ac3                     clearvideo              interplay_acm           paf_audio               stl
ac3_at                  cljr                    interplay_dpcm          paf_video               subrip
ac3_fixed               cllc                    interplay_video         pam                     subviewer
acelp_kelvin            comfortnoise            ipu                     pbm                     subviewer1
adpcm_4xm               cook                    jacosub                 pcm_alaw                sunrast
adpcm_adx               cpia                    jpeg2000                pcm_alaw_at             svq1
adpcm_afc               cri                     jpegls                  pcm_bluray              svq3
adpcm_agm               cscd                    jv                      pcm_dvd                 tak
adpcm_aica              cyuv                    kgv1                    pcm_f16le               targa
adpcm_argo              dca                     kmvc                    pcm_f24le               targa_y216
adpcm_ct                dds                     lagarith                pcm_f32be               tdsc
adpcm_dtk               derf_dpcm               libaom_av1              pcm_f32le               text
adpcm_ea                dfa                     libaribb24              pcm_f64be               theora
adpcm_ea_maxis_xa       dfpwm                   libcelt                 pcm_f64le               thp
adpcm_ea_r1             dirac                   libcodec2               pcm_lxf                 tiertexseqvideo
adpcm_ea_r2             dnxhd                   libdav1d                pcm_mulaw               tiff
adpcm_ea_r3             dolby_e                 libdavs2                pcm_mulaw_at            tmv
adpcm_ea_xas            dpx                     libfdk_aac              pcm_s16be               truehd
adpcm_g722              dsd_lsbf                libgsm                  pcm_s16be_planar        truemotion1
adpcm_g726              dsd_lsbf_planar         libgsm_ms               pcm_s16le               truemotion2
adpcm_g726le            dsd_msbf                libilbc                 pcm_s16le_planar        truemotion2rt
adpcm_ima_acorn         dsd_msbf_planar         libjxl                  pcm_s24be               truespeech
adpcm_ima_alp           dsicinaudio             libopencore_amrnb       pcm_s24daud             tscc
adpcm_ima_amv           dsicinvideo             libopencore_amrwb       pcm_s24le               tscc2
adpcm_ima_apc           dss_sp                  libopenh264             pcm_s24le_planar        tta
adpcm_ima_apm           dst                     libopenjpeg             pcm_s32be               twinvq
adpcm_ima_cunning       dvaudio                 libopus                 pcm_s32le               txd
adpcm_ima_dat4          dvbsub                  librsvg                 pcm_s32le_planar        ulti
adpcm_ima_dk3           dvdsub                  libspeex                pcm_s64be               utvideo
adpcm_ima_dk4           dvvideo                 libuavs3d               pcm_s64le               v210
adpcm_ima_ea_eacs       dxa                     libvorbis               pcm_s8                  v210x
adpcm_ima_ea_sead       dxtory                  libvpx_vp8              pcm_s8_planar           v308
adpcm_ima_iss           dxv                     libvpx_vp9              pcm_sga                 v408
adpcm_ima_moflex        eac3                    libzvbi_teletext        pcm_u16be               v410
adpcm_ima_mtf           eac3_at                 loco                    pcm_u16le               vb
adpcm_ima_oki           eacmv                   lscr                    pcm_u24be               vble
adpcm_ima_qt            eamad                   m101                    pcm_u24le               vbn
adpcm_ima_qt_at         eatgq                   mace3                   pcm_u32be               vc1
adpcm_ima_rad           eatgv                   mace6                   pcm_u32le               vc1_crystalhd
adpcm_ima_smjpeg        eatqi                   magicyuv                pcm_u8                  vc1_cuvid
adpcm_ima_ssi           eightbps                mdec                    pcm_vidc                vc1_mmal
adpcm_ima_wav           eightsvx_exp            metasound               pcx                     vc1_qsv
adpcm_ima_ws            eightsvx_fib            microdvd                pfm                     vc1_v4l2m2m
adpcm_ms                escape124               mimic                   pgm                     vc1image
adpcm_mtaf              escape130               mjpeg                   pgmyuv                  vcr1
adpcm_psx               evrc                    mjpeg_cuvid             pgssub                  vmdaudio
adpcm_sbpro_2           exr                     mjpeg_qsv               pgx                     vmdvideo
adpcm_sbpro_3           fastaudio               mjpegb                  phm                     vmnc
adpcm_sbpro_4           ffv1                    mlp                     photocd                 vorbis
adpcm_swf               ffvhuff                 mmvideo                 pictor                  vp3
adpcm_thp               ffwavesynth             mobiclip                pixlet                  vp4
adpcm_thp_le            fic                     motionpixels            pjs                     vp5
adpcm_vima              fits                    movtext                 png                     vp6
adpcm_xa                flac                    mp1                     ppm                     vp6a
adpcm_yamaha            flashsv                 mp1_at                  prores                  vp6f
adpcm_zork              flashsv2                mp1float                prosumer                vp7
agm                     flic                    mp2                     psd                     vp8
aic                     flv                     mp2_at                  ptx                     vp8_cuvid
alac                    fmvc                    mp2float                qcelp                   vp8_mediacodec
alac_at                 fourxm                  mp3                     qdm2                    vp8_qsv
alias_pix               fraps                   mp3_at                  qdm2_at                 vp8_rkmpp
als                     frwu                    mp3adu                  qdmc                    vp8_v4l2m2m
amr_nb_at               g2m                     mp3adufloat             qdmc_at                 vp9
amrnb                   g723_1                  mp3float                qdraw                   vp9_cuvid
amrwb                   g729                    mp3on4                  qoi                     vp9_mediacodec
amv                     gdv                     mp3on4float             qpeg                    vp9_qsv
anm                     gem                     mpc7                    qtrle                   vp9_rkmpp
ansi                    gif                     mpc8                    r10k                    vp9_v4l2m2m
ape                     gremlin_dpcm            mpeg1_cuvid             r210                    vplayer
apng                    gsm                     mpeg1_v4l2m2m           ra_144                  vqa
aptx                    gsm_ms                  mpeg1video              ra_288                  wavpack
aptx_hd                 gsm_ms_at               mpeg2_crystalhd         ralf                    wcmv
arbc                    h261                    mpeg2_cuvid             rasc                    webp
argo                    h263                    mpeg2_mediacodec        rawvideo                webvtt
ass                     h263_v4l2m2m            mpeg2_mmal              realtext                wmalossless
asv1                    h263i                   mpeg2_qsv               rl2                     wmapro
asv2                    h263p                   mpeg2_v4l2m2m           roq                     wmav1
atrac1                  h264                    mpeg2video              roq_dpcm                wmav2
atrac3                  h264_crystalhd          mpeg4                   rpza                    wmavoice
atrac3al                h264_cuvid              mpeg4_crystalhd         rscc                    wmv1
atrac3p                 h264_mediacodec         mpeg4_cuvid             rv10                    wmv2
atrac3pal               h264_mmal               mpeg4_mediacodec        rv20                    wmv3
atrac9                  h264_qsv                mpeg4_mmal              rv30                    wmv3_crystalhd
aura                    h264_rkmpp              mpeg4_v4l2m2m           rv40                    wmv3image
aura2                   h264_v4l2m2m            mpegvideo               s302m                   wnv1
av1                     hap                     mpl2                    sami                    wrapped_avframe
av1_cuvid               hca                     msa1                    sanm                    ws_snd1
av1_qsv                 hcom                    mscc                    sbc                     xan_dpcm
avrn                    hevc                    msmpeg4_crystalhd       scpr                    xan_wc3
avrp                    hevc_cuvid              msmpeg4v1               screenpresso            xan_wc4
avs                     hevc_mediacodec         msmpeg4v2               sdx2_dpcm               xbin
avui                    hevc_qsv                msmpeg4v3               sga                     xbm
ayuv                    hevc_rkmpp              msnsiren                sgi                     xface
bethsoftvid             hevc_v4l2m2m            msp2                    sgirle                  xl
bfi                     hnm4_video              msrle                   sheervideo              xma1
bink                    hq_hqa                  mss1                    shorten                 xma2
binkaudio_dct           hqx                     mss2                    simbiosis_imx           xpm
binkaudio_rdft          huffyuv                 msvideo1                sipr                    xsub
bintext                 hymt                    mszh                    siren                   xwd
bitpacked               iac                     mts2                    smackaud                y41p
bmp                     idcin                   mv30                    smacker                 ylc
bmv_audio               idf                     mvc1                    smc                     yop
bmv_video               iff_ilbm                mvc2                    smvjpeg                 yuv4
brender_pix             ilbc                    mvdv                    snow                    zero12v
c93                     ilbc_at                 mvha                    sol_dpcm                zerocodec
cavs                    imc                     mwsc                    sonic                   zlib
ccaption                imm4                    mxpeg                   sp5x                    zmbv
</code></pre> 
<p><font face="Courier New">    从上面的输出信息中可以看到FFmpeg所支持的<mark>解码器模块decoders支持了MPEG4、H.264、H.265（HEVC）、MP3</mark>等格式。</font></p> 
<h4><a id="font_face_size3nbspnbsp183_FFmpegfont_1077"></a><font face="黑体" size="3">  1.8.3 FFmpeg的封装支持</font></h4> 
<p><font face="Courier New">    FFmpeg的封装（Muxing）是指将压缩后的编码封装到一个容器格式中，如果要查看FFmpeg源代码中都可以支持哪些容器格式，可以通过命令./configure --list-muxers来查看：</font></p> 
<pre><code class="prism language-bash">a64                     dirac                   ircam                   oga                     sbc
ac3                     dnxhd                   ismv                    ogg                     scc
adts                    dts                     ivf                     ogv                     segafilm
adx                     dv                      jacosub                 oma                     segment
aiff                    eac3                    kvag                    opus                    smjpeg
alp                     f4v                     latm                    pcm_alaw                smoothstreaming
amr                     ffmetadata              lrc                     pcm_f32be               sox
amv                     fifo                    m4v                     pcm_f32le               spdif
apm                     fifo_test               matroska                pcm_f64be               spx
apng                    filmstrip               matroska_audio          pcm_f64le               srt
aptx                    fits                    md5                     pcm_mulaw               stream_segment
aptx_hd                 flac                    microdvd                pcm_s16be               streamhash
argo_asf                flv                     mjpeg                   pcm_s16le               sup
argo_cvg                framecrc                mkvtimestamp_v2         pcm_s24be               swf
asf                     framehash               mlp                     pcm_s24le               <span class="token function">tee</span>
asf_stream              framemd5                mmf                     pcm_s32be               tg2
ass                     g722                    mov                     pcm_s32le               tgp
ast                     g723_1                  mp2                     pcm_s8                  truehd
au                      g726                    mp3                     pcm_u16be               tta
avi                     g726le                  mp4                     pcm_u16le               ttml
avif                    gif                     mpeg1system             pcm_u24be               uncodedframecrc
avm2                    gsm                     mpeg1vcd                pcm_u24le               vc1
avs2                    gxf                     mpeg1video              pcm_u32be               vc1t
avs3                    h261                    mpeg2dvd                pcm_u32le               voc
bit                     h263                    mpeg2svcd               pcm_u8                  w64
caf                     h264                    mpeg2video              pcm_vidc                wav
cavsvideo               <span class="token builtin class-name">hash</span>                    mpeg2vob                psp                     webm
chromaprint             hds                     mpegts                  rawvideo                webm_chunk
codec2                  hevc                    mpjpeg                  <span class="token function">rm</span>                      webm_dash_manifest
codec2raw               hls                     mxf                     roq                     webp
crc                     ico                     mxf_d10                 rso                     webvtt
dash                    ilbc                    mxf_opatom              rtp                     wsaud
data                    image2                  null                    rtp_mpegts              wtv
daud                    image2pipe              nut                     rtsp                    wv
dfpwm                   ipod                    obu                     sap                     yuv4mpegpipe

</code></pre> 
<p><font face="Courier New">    从封装（又称复用）格式所支持的信息中可以看到，FFmpeg支持生成裸流文件，如<mark>H.264、AAC、PCM</mark>，也支持一些常见的格式，如<mark>MP3、MP4、FLV、M3U8、WEBM</mark>等。</font></p> 
<h4><a id="font_face_size3nbspnbsp184_FFmpegfont_1118"></a><font face="黑体" size="3">  1.8.4 FFmpeg的解封装支持</font></h4> 
<p><font face="Courier New">    FFmpeg的解封装（Demuxing）是指将读入的容器格式拆解开，将里面压缩的音频流、视频流、字幕流、数据流等提取出来，如果要查看FFmpeg的源代码中都可以支持哪些输入的容器格式，可以通过命令./configure --list-demuxers来查看：</font></p> 
<pre><code class="prism language-bash">aa                      dhav                    image_pgm_pipe          msnwc_tcp               segafilm
aac                     dirac                   image_pgmyuv_pipe       msp                     ser
aax                     dnxhd                   image_pgx_pipe          mtaf                    sga
ac3                     dsf                     image_phm_pipe          mtv                     shorten
ace                     dsicin                  image_photocd_pipe      musx                    siff
acm                     dss                     image_pictor_pipe       <span class="token function">mv</span>                      simbiosis_imx
act                     dts                     image_png_pipe          mvi                     sln
adf                     dtshd                   image_ppm_pipe          mxf                     smacker
adp                     dv                      image_psd_pipe          mxg                     smjpeg
ads                     dvbsub                  image_qdraw_pipe        <span class="token function">nc</span>                      smush
adx                     dvbtxt                  image_qoi_pipe          nistsphere              sol
aea                     dxa                     image_sgi_pipe          nsp                     sox
afc                     ea                      image_sunrast_pipe      nsv                     spdif
aiff                    ea_cdata                image_svg_pipe          nut                     srt
aix                     eac3                    image_tiff_pipe         nuv                     stl
alp                     epaf                    image_vbn_pipe          obu                     str
amr                     ffmetadata              image_webp_pipe         ogg                     subviewer
amrnb                   filmstrip               image_xbm_pipe          oma                     subviewer1
amrwb                   fits                    image_xpm_pipe          paf                     sup
anm                     flac                    image_xwd_pipe          pcm_alaw                svag
apc                     flic                    imf                     pcm_f32be               svs
ape                     flv                     ingenient               pcm_f32le               swf
apm                     fourxm                  ipmovie                 pcm_f64be               tak
apng                    frm                     ipu                     pcm_f64le               tedcaptions
aptx                    fsb                     ircam                   pcm_mulaw               thp
aptx_hd                 fwse                    iss                     pcm_s16be               threedostr
aqtitle                 g722                    iv8                     pcm_s16le               tiertexseq
argo_asf                g723_1                  ivf                     pcm_s24be               tmv
argo_brp                g726                    ivr                     pcm_s24le               truehd
argo_cvg                g726le                  jacosub                 pcm_s32be               tta
asf                     g729                    jv                      pcm_s32le               <span class="token function">tty</span>
asf_o                   gdv                     kux                     pcm_s8                  txd
ass                     genh                    kvag                    pcm_u16be               ty
ast                     gif                     libgme                  pcm_u16le               v210
au                      gsm                     libmodplug              pcm_u24be               v210x
av1                     gxf                     libopenmpt              pcm_u24le               vag
avi                     h261                    live_flv                pcm_u32be               vapoursynth
avisynth                h263                    lmlm4                   pcm_u32le               vc1
avr                     h264                    loas                    pcm_u8                  vc1t
avs                     hca                     lrc                     pcm_vidc                vividas
avs2                    hcom                    luodat                  pjs                     vivo
avs3                    hevc                    lvf                     pmp                     vmd
bethsoftvid             hls                     lxf                     pp_bnk                  vobsub
bfi                     hnm                     m4v                     pva                     voc
bfstm                   ico                     matroska                pvf                     vpk
bink                    idcin                   mca                     qcp                     vplayer
binka                   idf                     mcc                     r3d                     vqf
bintext                 iff                     mgsts                   rawvideo                w64
bit                     ifv                     microdvd                realtext                wav
bitpacked               ilbc                    mjpeg                   redspark                wc3
bmv                     image2                  mjpeg_2000              rl2                     webm_dash_manifest
boa                     image2_alias_pix        mlp                     <span class="token function">rm</span>                      webvtt
brstm                   image2_brender_pix      mlv                     roq                     wsaud
c93                     image2pipe              mm                      rpl                     wsd
caf                     image_bmp_pipe          mmf                     rsd                     wsvqa
cavsvideo               image_cri_pipe          mods                    rso                     wtv
cdg                     image_dds_pipe          moflex                  rtp                     wv
cdxl                    image_dpx_pipe          mov                     rtsp                    wve
cine                    image_exr_pipe          mp3                     s337m                   xa
codec2                  image_gem_pipe          mpc                     sami                    xbin
codec2raw               image_gif_pipe          mpc8                    sap                     xmv
concat                  image_j2k_pipe          mpegps                  sbc                     xvag
dash                    image_jpeg_pipe         mpegts                  sbg                     xwma
data                    image_jpegls_pipe       mpegtsraw               scc                     yop
daud                    image_jpegxl_pipe       mpegvideo               scd                     yuv4mpegpipe
dcstr                   image_pam_pipe          mpjpeg                  sdp
derf                    image_pbm_pipe          mpl2                    sdr2
dfa                     image_pcx_pipe          mpsub                   sds
dfpwm                   image_pfm_pipe          msf                     sdx
</code></pre> 
<p><font face="Courier New">    <mark>从解封装（Demuxer，又称解复用）格式支持信息中可以看到，FFmpeg源代码中已经支持的demuxer非常多，包含图片（image）、MP3、FLV、MP4、MOV、AVI等</mark>。</font></p> 
<h4><a id="font_face_size3nbspnbsp185_FFmpegfont_1192"></a><font face="黑体" size="3">  1.8.5 FFmpeg的通信协议支持</font></h4> 
<p><font face="Courier New">    FFmpeg不仅仅支持本地的多媒体处理，而且还支持网络流媒体的处理，支持的网络流媒体协议相对来说也很全面，可以通过命令./configure --list-protocols查看：</font></p> 
<pre><code class="prism language-bash">async                   gopher                  librtmp                 mmst                    srtp
bluray                  gophers                 librtmpe                pipe                    subfile
cache                   hls                     librtmps                prompeg                 tcp
concat                  http                    librtmpt                rtmp                    <span class="token function">tee</span>
concatf                 httpproxy               librtmpte               rtmpe                   tls
crypto                  https                   libsmbclient            rtmps                   udp
data                    icecast                 libsrt                  rtmpt                   udplite
ffrtmpcrypt             ipfs                    libssh                  rtmpte                  unix
ffrtmphttp              ipns                    libzmq                  rtmpts
<span class="token function">file</span>                    libamqp                 md5                     rtp
<span class="token function">ftp</span>                     librist                 mmsh                    sctp
</code></pre> 
<p><font face="Courier New">    从协议的相关信息列表中可以看到，FFmpeg支持的流媒体协议比较多，<mark>包括MMS、HTTP、HTTPS、HLS（M3U8）、RTMP、RTP，甚至支持TCP、UDP，其也支持使用file协议的本地文件操作和使用concat协议支持的多个文件串流操作</mark>，后面的章节中会有详细的介绍。</font></p> 
<h3><a id="nbspnbspfont_face_size319_font_1208"></a>  <font face="黑体" size="3">1.9 小结</font></h3> 
<p><font face="Courier New">    本章重点介绍了FFmpeg的获取、安装、容器封装与解封装的格式支持、音视频编码与解码的格式支持，以及流媒体传输协议的支持。综合来说，FFmpeg所支持的容器、编解码、协议相对来说比较全面，是一款功能强大的多媒体处理工具和开发套件。</font></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d9de4c9f7082a9ffad3dd78958886fc9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">numpy中的lstsq（最小二乘法）函数</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/61eb18e915a6aba441d591e959117c16/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Windows安装RabbitMQ详细教程</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>