<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SDN概述及架构 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SDN概述及架构" />
<meta property="og:description" content="一、SDN概述
1.1 SDN概念
1.2 SDN产生的原因
二、SDN架构
2.1 SDN的基本架构
2.2 ONF定义的SDN架构
1. 数据平面
2. 控制平面
3. 应用平面
4. 管理平面
5. SDN控制数据平面接口（CDPI）
6. SDN北向接口（NBI）
三、SDN的核心概念
3.1 数据控制分离
3.1.1 数控分离历史
3.1.2 SDN数控分离
3.1.3 SDN数控分离的优点
3.1.4 SDN数控分离面临的问题
3.2 抽象
3.3 网络可编程
3.3.1 网络可编程历史
3.3.2 SDN可编程
一、SDN概述 1.1 SDN概念 SDN是一种将网络控制功能与转发功能分离、实现控制可编程的新兴网络架构。这种架构将从控制层从网络设备转移到外部计算设备，使得底层的基础设施对于应用和网络服务而言是透明的、抽象的，网络可被视为一个逻辑的或虚拟的实体。
1.2 SDN产生的原因 传统网络及其设备的只可配置、不可编程网络的分布式控制与管理架构带来的制约 二、SDN架构 2.1 SDN的基本架构 SDN采用了集中式的控制平面和分布式的转发平面，两个平面相互分离，控制平面利用控制—转发通信接口对转发平面上的网络设备进行集中式控制，并提供灵活的可编程能力，具备以上特点的网络架构都可以被认为是一种广义的SDN。
在 SDN 架构中，控制平面通过控制—转发通信接口对网络设备进行集中控制，这部分控制信令的流量发生在控制器与网络设备之间，独立于终端间通信产生的数据流量，网络设备通过接收控制信令生成转发表，并据此决定数据流量的处理，不再需要使用复杂的分布式网络协议来进行数据转发，如下图所示。
SDN 并不是某一种具体的网络协议，而是一种网络体系框架，这种框架中可以包含多种接口协议。如使用OpenFlow等南向接口协议实现SDN 控制器与 SDN 交换机的交互，使用北向 API实现业务应用与 SDN 控制器的交互。这样就使得基于SDN的网络架构更加系统化，具备更好的感知与管控能力，从而推动网络向新的方向发展。
2.2 ONF定义的SDN架构 ONF定义的架构共由四个平面组成，即数据平面、控制平面、应用平面以及右侧的控制管理平面。各平面之间使用不同的接口协议进行交互。
1. 数据平面 由若干王元组成，每个网元可以包含一个或多个SDN Datapath。每个SDN Datapath是一个逻辑上的网络设备，它没有控制能力，只是单纯用来转发和处理数据，它在逻辑上代表全部或部分的物理资源。一个SDN Datapath包含控制数据平面接口代理、转发引擎表和处理功能三部分。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/54ccbe5cf3f51a6b90e67730a2514d46/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-05-03T14:03:58+08:00" />
<meta property="article:modified_time" content="2019-05-03T14:03:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SDN概述及架构</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><a href="#%E4%B8%80%E3%80%81SDN%E6%A6%82%E8%BF%B0" rel="nofollow">一、SDN概述</a></p> 
<p id="1.1%20SDN%E6%A6%82%E5%BF%B5-toc" style="margin-left:40px;"><a href="#1.1%20SDN%E6%A6%82%E5%BF%B5" rel="nofollow">1.1 SDN概念</a></p> 
<p id="1.2%20SDN%E4%BA%A7%E7%94%9F%E7%9A%84%E5%8E%9F%E5%9B%A0-toc" style="margin-left:40px;"><a href="#1.2%20SDN%E4%BA%A7%E7%94%9F%E7%9A%84%E5%8E%9F%E5%9B%A0" rel="nofollow">1.2 SDN产生的原因</a></p> 
<p id="%E4%BA%8C%E3%80%81SDN%E6%9E%B6%E6%9E%84-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81SDN%E6%9E%B6%E6%9E%84" rel="nofollow">二、SDN架构</a></p> 
<p id="2.1%20SDN%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%9E%B6%E6%9E%84-toc" style="margin-left:40px;"><a href="#2.1%20SDN%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%9E%B6%E6%9E%84" rel="nofollow">2.1 SDN的基本架构</a></p> 
<p id="2.2%20ONF%E5%AE%9A%E4%B9%89%E7%9A%84SDN%E6%9E%B6%E6%9E%84-toc" style="margin-left:40px;"><a href="#2.2%20ONF%E5%AE%9A%E4%B9%89%E7%9A%84SDN%E6%9E%B6%E6%9E%84" rel="nofollow">2.2 ONF定义的SDN架构</a></p> 
<p id="1.%20%E6%95%B0%E6%8D%AE%E5%B9%B3%E9%9D%A2-toc" style="margin-left:80px;"><a href="#1.%20%E6%95%B0%E6%8D%AE%E5%B9%B3%E9%9D%A2" rel="nofollow">1. 数据平面</a></p> 
<p id="2.%20%E6%8E%A7%E5%88%B6%E5%B9%B3%E9%9D%A2-toc" style="margin-left:80px;"><a href="#2.%20%E6%8E%A7%E5%88%B6%E5%B9%B3%E9%9D%A2" rel="nofollow">2. 控制平面</a></p> 
<p id="3.%20%E5%BA%94%E7%94%A8%E5%B9%B3%E9%9D%A2-toc" style="margin-left:80px;"><a href="#3.%20%E5%BA%94%E7%94%A8%E5%B9%B3%E9%9D%A2" rel="nofollow">3. 应用平面</a></p> 
<p id="4.%20%E7%AE%A1%E7%90%86%E5%B9%B3%E9%9D%A2-toc" style="margin-left:80px;"><a href="#4.%20%E7%AE%A1%E7%90%86%E5%B9%B3%E9%9D%A2" rel="nofollow">4. 管理平面</a></p> 
<p id="5.%20SDN%E6%8E%A7%E5%88%B6%E6%95%B0%E6%8D%AE%E5%B9%B3%E9%9D%A2%E6%8E%A5%E5%8F%A3%EF%BC%88CDPI%EF%BC%89-toc" style="margin-left:80px;"><a href="#5.%20SDN%E6%8E%A7%E5%88%B6%E6%95%B0%E6%8D%AE%E5%B9%B3%E9%9D%A2%E6%8E%A5%E5%8F%A3%EF%BC%88CDPI%EF%BC%89" rel="nofollow">5. SDN控制数据平面接口（CDPI）</a></p> 
<p id="6.%20SDN%E5%8C%97%E5%90%91%E6%8E%A5%E5%8F%A3%EF%BC%88NBI%EF%BC%89-toc" style="margin-left:80px;"><a href="#6.%20SDN%E5%8C%97%E5%90%91%E6%8E%A5%E5%8F%A3%EF%BC%88NBI%EF%BC%89" rel="nofollow">6. SDN北向接口（NBI）</a></p> 
<p id="%E4%B8%89%E3%80%81SDN%E7%9A%84%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81SDN%E7%9A%84%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5" rel="nofollow">三、SDN的核心概念</a></p> 
<p id="3.1%20%E6%95%B0%E6%8D%AE%E6%8E%A7%E5%88%B6%E5%88%86%E7%A6%BB-toc" style="margin-left:40px;"><a href="#3.1%20%E6%95%B0%E6%8D%AE%E6%8E%A7%E5%88%B6%E5%88%86%E7%A6%BB" rel="nofollow">3.1 数据控制分离</a></p> 
<p id="3.1.1%20%E6%95%B0%E6%8E%A7%E5%88%86%E7%A6%BB%E5%8E%86%E5%8F%B2-toc" style="margin-left:80px;"><a href="#3.1.1%20%E6%95%B0%E6%8E%A7%E5%88%86%E7%A6%BB%E5%8E%86%E5%8F%B2" rel="nofollow">3.1.1 数控分离历史</a></p> 
<p id="3.1.2%20SDN%E6%95%B0%E6%8E%A7%E5%88%86%E7%A6%BB-toc" style="margin-left:80px;"><a href="#3.1.2%20SDN%E6%95%B0%E6%8E%A7%E5%88%86%E7%A6%BB" rel="nofollow">3.1.2 SDN数控分离</a></p> 
<p id="3.1.3%20SDN%E6%95%B0%E6%8E%A7%E5%88%86%E7%A6%BB%E7%9A%84%E4%BC%98%E7%82%B9-toc" style="margin-left:80px;"><a href="#3.1.3%20SDN%E6%95%B0%E6%8E%A7%E5%88%86%E7%A6%BB%E7%9A%84%E4%BC%98%E7%82%B9" rel="nofollow">3.1.3 SDN数控分离的优点</a></p> 
<p id="3.1.4%20SDN%E6%95%B0%E6%8E%A7%E5%88%86%E7%A6%BB%E9%9D%A2%E4%B8%B4%E7%9A%84%E9%97%AE%E9%A2%98-toc" style="margin-left:80px;"><a href="#3.1.4%20SDN%E6%95%B0%E6%8E%A7%E5%88%86%E7%A6%BB%E9%9D%A2%E4%B8%B4%E7%9A%84%E9%97%AE%E9%A2%98" rel="nofollow">3.1.4 SDN数控分离面临的问题</a></p> 
<p id="3.2%20%E6%8A%BD%E8%B1%A1-toc" style="margin-left:40px;"><a href="#3.2%20%E6%8A%BD%E8%B1%A1" rel="nofollow">3.2 抽象</a></p> 
<p id="3.3%C2%A0%E7%BD%91%E7%BB%9C%E5%8F%AF%E7%BC%96%E7%A8%8B-toc" style="margin-left:40px;"><a href="#3.3%C2%A0%E7%BD%91%E7%BB%9C%E5%8F%AF%E7%BC%96%E7%A8%8B" rel="nofollow">3.3 网络可编程</a></p> 
<p id="3.3.1%20%E7%BD%91%E7%BB%9C%E5%8F%AF%E7%BC%96%E7%A8%8B%E5%8E%86%E5%8F%B2-toc" style="margin-left:80px;"><a href="#3.3.1%20%E7%BD%91%E7%BB%9C%E5%8F%AF%E7%BC%96%E7%A8%8B%E5%8E%86%E5%8F%B2" rel="nofollow">3.3.1 网络可编程历史</a></p> 
<p id="3.3.2%20SDN%E5%8F%AF%E7%BC%96%E7%A8%8B-toc" style="margin-left:80px;"><a href="#3.3.2%20SDN%E5%8F%AF%E7%BC%96%E7%A8%8B" rel="nofollow">3.3.2 SDN可编程</a></p> 
<hr id="hr-toc"> 
<h2 style="margin-left:0cm;">一、SDN概述</h2> 
<h3 id="1.1%20SDN%E6%A6%82%E5%BF%B5" style="margin-left:0cm;">1.1 SDN概念</h3> 
<p style="margin-left:0cm;">SDN是一种将网络控制功能与转发功能分离、实现控制可编程的新兴网络架构。这种架构将从控制层从网络设备转移到外部计算设备，使得底层的基础设施对于应用和网络服务而言是透明的、抽象的，网络可被视为一个逻辑的或虚拟的实体。</p> 
<h3 id="1.2%20SDN%E4%BA%A7%E7%94%9F%E7%9A%84%E5%8E%9F%E5%9B%A0" style="margin-left:0cm;">1.2 SDN产生的原因</h3> 
<ul><li>传统网络及其设备的只可配置、不可编程</li><li>网络的分布式控制与管理架构带来的制约</li></ul> 
<h2 id="%E4%BA%8C%E3%80%81SDN%E6%9E%B6%E6%9E%84" style="margin-left:0cm;">二、SDN架构</h2> 
<h3 id="2.1%20SDN%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%9E%B6%E6%9E%84" style="margin-left:0cm;">2.1 SDN的基本架构</h3> 
<p style="margin-left:0cm;"><img alt="" class="has" height="254" src="https://images2.imgbox.com/fc/c9/myac1xDF_o.png" width="355"></p> 
<p style="margin-left:0cm;">SDN采用了集中式的控制平面和分布式的转发平面，两个平面相互分离，控制平面利用控制—转发通信接口对转发平面上的网络设备进行集中式控制，并提供灵活的可编程能力，具备以上特点的网络架构都可以被认为是一种广义的SDN。</p> 
<p style="margin-left:0cm;">在 SDN 架构中，控制平面通过控制—转发通信接口对网络设备进行集中控制，这部分控制信令的流量发生在控制器与网络设备之间，独立于终端间通信产生的数据流量，网络设备通过接收控制信令生成转发表，并据此决定数据流量的处理，不再需要使用复杂的分布式网络协议来进行数据转发，如下图所示。</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="166" src="https://images2.imgbox.com/6b/87/9JeNYxKx_o.png" width="302"></p> 
<p style="margin-left:0cm;">SDN 并不是某一种具体的网络协议，而是一种网络体系框架，这种框架中可以包含多种接口协议。如使用OpenFlow等南向接口协议实现SDN 控制器与 SDN 交换机的交互，使用北向 API实现业务应用与 SDN 控制器的交互。这样就使得基于SDN的网络架构更加系统化，具备更好的感知与管控能力，从而推动网络向新的方向发展。</p> 
<h3 id="2.2%20ONF%E5%AE%9A%E4%B9%89%E7%9A%84SDN%E6%9E%B6%E6%9E%84" style="margin-left:0cm;">2.2 ONF定义的SDN架构</h3> 
<p style="margin-left:0cm;">ONF定义的架构共由四个平面组成，即数据平面、控制平面、应用平面以及右侧的控制管理平面。各平面之间使用不同的接口协议进行交互。</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="497" src="https://images2.imgbox.com/37/63/GoSC6iAp_o.png" width="575"></p> 
<h4 id="1.%20%E6%95%B0%E6%8D%AE%E5%B9%B3%E9%9D%A2" style="margin-left:0cm;">1. 数据平面</h4> 
<p style="margin-left:0cm;">由若干王元组成，每个网元可以包含一个或多个SDN Datapath。每个SDN Datapath是一个逻辑上的网络设备，它没有控制能力，只是单纯用来转发和处理数据，它在逻辑上代表全部或部分的物理资源。一个SDN Datapath包含控制<span style="color:#f33b45;">数据平面接口代理、转发引擎表和处理功能</span>三部分。</p> 
<h4 id="2.%20%E6%8E%A7%E5%88%B6%E5%B9%B3%E9%9D%A2" style="margin-left:0cm;">2. 控制平面</h4> 
<p style="margin-left:0cm;">即所谓的SDN控制器。SDN控制器是一个逻辑上集中的实体，它主要负责两个任务，一是将SDN应用层请求转换到SDN Datapath，二是为SDN应用提供底层网络的抽象模型（可以是状态、事件）。一个SDN控制器包含<span style="color:#f33b45;">北向接口代理、SDN控制逻辑以及控制数据平面接口驱动</span>三部分。SDN控制器只是要求逻辑上完整，因此它可以由多个控制器实例组成，也可以是层级式的控制器集群；从地理位置上讲，既可以是所有控制器实例在同一位置，也可以是多个实例分散在不同的位置。</p> 
<h4 id="3.%20%E5%BA%94%E7%94%A8%E5%B9%B3%E9%9D%A2" style="margin-left:0cm;">3. 应用平面</h4> 
<p style="margin-left:0cm;">由若干SDN应用组成，SDN应用时用户关注的应用程序。它可以通过北向接口与SDN控制器进行交互，即这些应用能够通过可编程方式把需要请求的网络行为提交给控制器。一个SDN应用可以包含多个北向接口驱动（使用多种不同的北向API），同时SDN应用也可以对本身的功能进行抽象、封装来对外提供北向代理接口，封装后的接口就形成了更为高级的北向接口。</p> 
<h4 id="4.%20%E7%AE%A1%E7%90%86%E5%B9%B3%E9%9D%A2" style="margin-left:0cm;">4. 管理平面</h4> 
<p style="margin-left:0cm;">负责一系列静态的工作，这些工作比较适合在应用、控制、数据平面外实现，比如对网元进行配置、指定SDN Datapath的控制器，同时负责定义SDN控制器以及SDN应用能控制的范围。</p> 
<h4 id="5.%20SDN%E6%8E%A7%E5%88%B6%E6%95%B0%E6%8D%AE%E5%B9%B3%E9%9D%A2%E6%8E%A5%E5%8F%A3%EF%BC%88CDPI%EF%BC%89" style="margin-left:0cm;">5. SDN控制数据平面接口（CDPI）</h4> 
<p style="margin-left:0cm;">SDN CDPI是控制平面和数据平面之间的接口，它提供的主要功能包括：对所有的转发行为进行控制、设备性能查询、统计报告、事件通知。SDN一个很重要的价值就体现在CDPI的实现上，它应该是一个开放的、与厂商无关的接口。</p> 
<h4 id="6.%20SDN%E5%8C%97%E5%90%91%E6%8E%A5%E5%8F%A3%EF%BC%88NBI%EF%BC%89" style="margin-left:0cm;">6. SDN北向接口（NBI）</h4> 
<p style="margin-left:0cm;">SDN NBI是应用平面和控制平面之间的一系列接口。它主要负责提供抽象的网络视图，并使应用能直接控制网络的行为，其中包含从不同层对网络及功能进行的抽象，这个接口也应该是一个开放的、与厂商无关的接口。</p> 
<h2 id="%E4%B8%89%E3%80%81SDN%E7%9A%84%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5" style="margin-left:0cm;">三、SDN的核心概念</h2> 
<p style="margin-left:0cm;">SDN的核心思想就是要分离控制平面与数据平面，并使用集中式的控制器来完成对网络的可编程任务，控制器通过北向接口和南向接口协议分别与上层应用和下层转发设备实现交互。正是这种集中式控制和数据控制分离（解耦）的特点使SDN具有了强大的可编程能力，这种强大的可编程性使网络能够真正地被软件所定义，达到简化网络运维、灵活管理调度的目标，同时为了使SDN能够实现大规模的部署，就需要通过东西向接口协议支持多控制器间的协同。</p> 
<h3 id="3.1%20%E6%95%B0%E6%8D%AE%E6%8E%A7%E5%88%B6%E5%88%86%E7%A6%BB" style="margin-left:0cm;">3.1 数据控制分离</h3> 
<h4 id="3.1.1%20%E6%95%B0%E6%8E%A7%E5%88%86%E7%A6%BB%E5%8E%86%E5%8F%B2" style="margin-left:0cm;">3.1.1 数控分离历史</h4> 
<p style="margin-left:0cm;"><strong>（1）ForCES</strong></p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="216" src="https://images2.imgbox.com/d1/c4/f9leioEf_o.png" width="382"></p> 
<p style="margin-left:0cm;">一个满足 ForCES 规范的网络设备，其基本结构如图所示。可以看出，一个ForCES的网络单元（NE）可以包含至少一个（或多个，用于冗余备份）控制单元（CE）和多达几百个转发单元（FE）。每个FE包含一个或者多个物理介质接口 Fi/f，该接口用来接收从该网络单元外部来的报文或者将报文传输到其他的网络单元，这些FE接口的集合就是NE的外部接口。在网络单元外部还有两个辅助实体：CE管理者（CEM）和FE管理者（FEM），它们用来在配置阶段对相应的CE和FE进行配置。图中Fp为CE和FE间的接口（通信过程由ForCES协议的标准协议完成），其间可以经过一跳（Single Hop）或多跳（Multi-Hop）网络实现。Fi表示FE间的接口，Fr表示CE间的接口，Fe表示CE管理者和CE间的接口，Ff表示FE管理者和FE间的接口，Fl表示CE管理者和FE管理者之间的接口。ForCES的这种架构具有底层资源功能模块以及控制面与转发面分离的特点，为新一代网络提供了较好的功能灵活性。</p> 
<p style="margin-left:0cm;"><strong>（2）4D项目</strong></p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="329" src="https://images2.imgbox.com/d6/27/ugUv1nU9_o.png" width="252"></p> 
<p style="margin-left:0cm;">4D项目倡导4个主要平面：数据平面基于决策平面产生的状态来处理报文；发现平面用于在网络中发现物理网元并创建逻辑标识符识别它们，决策平面定义了标识符的范围和特久化，并执行彼此间的自动发现和管理；扩散平面提供一个连接路由器或交换机的健壮、高效的通信基础结构，从而能够将决策面产生的状态扩散到数据面上，而自身不产生任何状态；决策平面用于处理网络控制诸如可达性、负载均衡、访问控制、安全和接口配置等功能。这样做的优势在于可以从分布式系统问题中独立出网络的控制逻辑，这种架构有助于实现更健壮、更安全的网络，同时便于对异构网络进行有效管理。</p> 
<h4 id="3.1.2%20SDN%E6%95%B0%E6%8E%A7%E5%88%86%E7%A6%BB" style="margin-left:0cm;">3.1.2 SDN数控分离</h4> 
<p style="margin-left:0cm;">（1）从功能实现来说，控制平面的主要功能是建立本地的数据集合，该数据集合一般被称为路由信息库（RIB），RIB需要与网内其他控制平面实例的信息保持一致，这一点通常使用分布式路由协议（如 OSPF）来完成。</p> 
<p style="margin-left:0cm;">（2）接下来，控制平面需要基于RIB创建转发表，用于指导设备出入端口之间的数据流量转发。转发表通常被称为转发信息库（FIB）， FIB 需要经常在设备的控制和数据平面之间进行镜像，以保证转发行为与路由决策一致，因此，FIB实际上是两个平面之间连接的纽带。</p> 
<p style="margin-left:0cm;">（3）数据平面的主要功能是，根据RIB创建的FIB进行数据的高速转发。另外，数据平面还可以根据需要处理一些其他的服务功能，如较短的事件侦测时间等，这是因为某些服务有非常严格的性能需求，需要放在数据平面以保证快速执行。</p> 
<p style="margin-left:0cm;"> </p> 
<h4 id="3.1.3%20SDN%E6%95%B0%E6%8E%A7%E5%88%86%E7%A6%BB%E7%9A%84%E4%BC%98%E7%82%B9" style="margin-left:0cm;">3.1.3 SDN数控分离的优点</h4> 
<p style="margin-left:0cm;">（1）<span style="color:#FF0000;">全局集中控制和分布高速转发</span>：这是SDN的最主要优势，一方面可以实现控制平面的全局优化；另一方面可以实现高性能的网络转发能力。</p> 
<p style="margin-left:0cm;">（2）<span style="color:#FF0000;">灵活可编程与性能的平衡</span>：SDN数控分离的设计更加平衡，以FIB为分界线实际上降低了SDN的编程灵活性，但是没有暴露商用设备的高速转发实现细节，因此也使得网络设备商更容易接受SDN的理念。</p> 
<p style="margin-left:0cm;">（3)<span style="color:#FF0000;">开放性和IT化</span>：数据控制分离在一定程度上可以降低网络设备和控制软件的成本。当前的网络设备是捆绑控制平面功能软件一起出售的，由于软件开发由网络设备公司完成，对用户不透明，因此网络设备及其控制平面软件的定价权完全掌握在少数公司手中，造成了总体价格高昂。在数据控制平面分离以后，尤其是使用开放的接口协议后，将会实现交换设备的制造与功能软件的开发相分离，这样可以实现模块的透明化，从而有效降低成本。</p> 
<h4 id="3.1.4%20SDN%E6%95%B0%E6%8E%A7%E5%88%86%E7%A6%BB%E9%9D%A2%E4%B8%B4%E7%9A%84%E9%97%AE%E9%A2%98" style="margin-left:0cm;">3.1.4 SDN数控分离面临的问题</h4> 
<p style="margin-left:0cm;">（1）<span style="color:#FF0000;">可扩展性问题</span>：这是SDN面临的最大问题，数据控制分离后，原来分布式的控制平面集中化了，即随着网络规模扩大，单个控制节点的服务能力极有可能会成为网络性能的瓶颈（即单点故障）。</p> 
<p style="margin-left:0cm;">（2）<span style="color:#FF0000;">一致性问题</span>：在传统网络中，网络状态一致性是由分布式协议保证的，在SDN数据控制分离后，集中控制器需要负起这个责任，如何快速侦测到分布式网络节点的状态不一致性，并快速解决这类问题。</p> 
<p style="margin-left:0cm;">（3）<span style="color:#FF0000;">可用性问题</span>：可用性是指网络无故障的时间占总时间的比例，传统网络设备是高可用的，即发向控制平面的请求会实时得到响应，因此，网络比较稳定，但是在SDN数据控制分离后，控制平面网络的延迟可能会导致数据平面可用性问题。</p> 
<h3 id="3.2%20%E6%8A%BD%E8%B1%A1" style="margin-left:0cm;">3.2 抽象</h3> 
<p style="margin-left:0cm;">ONF网络架构实现<span style="color:#f33b45;">转发抽象、分布状态抽象和配置抽象</span>。</p> 
<p style="margin-left:0cm;">（1）转发抽象是数据平面抽象成通用的转发模型，隐藏了底层的硬件实现，转发行为与硬件无关，如MAC表、MPLS标签表、路由表、ACL访问控制列表等抽象成统一的流表。</p> 
<p style="margin-left:0cm;">（2）分布状态抽象屏蔽分布式控制的实现细节，为上层应用提供全局网络视图。</p> 
<p style="margin-left:0cm;">（3）配置抽象是网络行为的表达通过网络编程语言实现，将抽象配置映射为物理配置。Overlay网络架构实现对基础网络设施的抽象。</p> 
<h3 id="3.3%C2%A0%E7%BD%91%E7%BB%9C%E5%8F%AF%E7%BC%96%E7%A8%8B" style="margin-left:0cm;">3.3 网络可编程</h3> 
<h4 id="3.3.1%20%E7%BD%91%E7%BB%9C%E5%8F%AF%E7%BC%96%E7%A8%8B%E5%8E%86%E5%8F%B2" style="margin-left:0cm;">3.3.1 网络可编程历史</h4> 
<p style="margin-left:0cm;">传统网络根本没有可编程这个概念。</p> 
<p style="margin-left:0cm;">1.主动网络</p> 
<p style="margin-left:0cm;">主动网络的基本思想是，打破传统网络只能被动传输信息的模式，允许网络中的节点在用户数据上执行用户所需的计算。例如，主动网络的用户可以向网络中的主动节点（如路由器）发送一个定制化的压缩程序，并要求该节点收到相应的包时都执行这个压缩程序。DARPA主动网络架构可以划分成3个主要层次：<span style="color:#f33b45;">主动应用（AA）、执行环境（EE）和节点操作系统（Node OS）</span>，如图所示。</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="173" src="https://images2.imgbox.com/1d/05/mz3WLxTw_o.png" width="277"></p> 
<p style="margin-left:0cm;">（1）主动应用（AA）是一个协议的程序代码，它通过主动分组加载到主动节点中，并在主动节点中对分组进行转发和计算来完成某种通信功能。</p> 
<p style="margin-left:0cm;">（2）执行环境（EE）是在Node OS上的一个用户级操作系统，它可以同时支持多个AA的执行，并负责AA之间的互相隔离。EE为AA提供了一个可调用的编程接口，一个主动网络节点可以具有多个执行环境，每一种执行环境完成一种特定的功能。</p> 
<p style="margin-left:0cm;">（3）节点操作系统（Node OS）类似于一般操作系统的内核，它位于主动网络节点最底层的功能层次，管理和控制对主动网络节点硬件资源的使用。因此，EE在Node OS中运行，一个Node OS可以并发地支持多个EE，协调EE对节点中可利用资源（内存区域、CPU 周期、链路带宽等）的使用。</p> 
<p style="margin-left:0cm;">2.主动网络的数据类型</p> 
<p style="margin-left:0cm;">（1）封装模型</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="80" src="https://images2.imgbox.com/a6/e8/h3qcnB14_o.png" width="307"></p> 
<p style="margin-left:0cm;">节点的可执行代码被封装在数据分组内，为in-band方式。这种模型利用数据分组携带代码从而在网络中添加新的功能，同时使用缓存来改善代码分发的效率，而可编程路由器根据数据分组的分组头由管理员定义一系列的操作行为。如图是主动网络封装报文的一种格式，其中包含了IP报文、可执行的程序码和用户数据，交换设备会根据原先的源目的地址来转发报文。可以看到，每条消息甚至每个报文都携带了一段可执行的代码，当报文到达交换机或路由器后，报文中的代码就会被分发到每个交换机的可执行环境中，然后控制交换机的行为或者修改报文。</p> 
<p style="margin-left:0cm;">（2）可编程路由器/交换机模型</p> 
<p style="margin-left:0cm;"><img alt="" class="has" height="166" src="https://images2.imgbox.com/5c/fc/6aHQHX17_o.png" width="351"></p> 
<p style="margin-left:0cm;">节点的可执行代码被封装在数据分组内，为in-band方式。这种模型利用数据分组携带代码从而在网络中添加新的功能，同时使用缓存来改善代码分发的效率，而可编程路由器根据可编程路由器/交换机模型数据分组的分组头由管理员定义一系列的操作行为。如图 是主动网络封装报文的一种格式，其中包含了IP报文、可执行的程序码和用户数据，交换设备会根据原先的源目的地址来转发报文。可以看到，每条消息甚至每个报文都携带了一段可执行的代码，当报文到达交换机或路由器后，报文中的代码就会被分发到每个交换机的可执行环境中，然后控制交换机的行为或者修改报文。</p> 
<h4 id="3.3.2%20SDN%E5%8F%AF%E7%BC%96%E7%A8%8B" style="margin-left:0cm;">3.3.2 SDN可编程</h4> 
<p style="margin-left:0cm;">（1）SDN可编程通过为开发者们提供强大的编程接口，从而使网络有了很好的编程能力。对上层应用的开发者来说，SDN的编程接口主要体现在北向接口上，北向接口提供了一系列丰富的API，开发者可以在此基础上设计自己的应用而不必关心底层的硬件细节，就像目前在x86体系的计算机上编程一样，不用关心底层寄存器、驱动等具体的细节。SDN南向接口用于控制器和转发设备建立双向会话，通过不同的南向接口协议， SDN 控制器就可以兼容不同的硬件设备，同时可以在设备中实现上层应用的逻辑。SDN的东西向接口主要用于控制器集群内部控制器之间的通信，用于增强整个控制平面的可靠性和可拓展性。</p> 
<p style="margin-left:0cm;">（2）可编程能力体现在很多的层次上，从下往上依次为芯片可编程（如P4、POF）、FIB可编程（如OpenFlow）、RIB可编程（如BGP、PCEP）、设备OS可编程、设备配置可编程（如CLI、NETCONF/YANG、OVSDB）、控制器可编程和业务可编程（如GBP、NEMO）。</p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p> 
<p style="margin-left:0cm;"> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/381a27d061ed4c3675d2843361a33343/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Unity鼠标进入UGUI的UI时把UI放大，离开UI后还原。</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/a576f0d89a15d1cc2a270def551df09c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">HandlerThread原理、使用实例、源码详细解析</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>