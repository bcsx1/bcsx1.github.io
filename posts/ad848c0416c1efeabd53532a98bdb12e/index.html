<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>çŒ®ç»™è½¬javaçš„c#å’Œjavaç¨‹åºå‘˜çš„æ•°æ®åº“ormæ¡†æ¶ - ç¼–ç¨‹éšæƒ³</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="çŒ®ç»™è½¬javaçš„c#å’Œjavaç¨‹åºå‘˜çš„æ•°æ®åº“ormæ¡†æ¶" />
<meta property="og:description" content="ä¸€ä¸ªå¥½çš„ç¨‹åºå‘˜ä¸åº”è¢«è¯­è¨€æ‰€æŸç¼š,æ­£å¦‚æˆ‘ç°åœ¨å¼€æºjavaçš„ormæ¡†æ¶ä¸€æ ·,å¦‚æœæ‚¨æ˜¯ä¸€ä½è½¬javaçš„c#ç¨‹åºå‘˜,é‚£ä¹ˆè¿™ä¸ªæ¡†æ¶å¯ä»¥å¸¦ç»™ä½ èµ·ç æ²¡æœ‰é‚£ä¹ˆå·®çš„ä¸šåŠ¡ç¼–å†™å’Œå¼ºç±»å‹ä½“éªŒã€‚å¦‚æœæ‚¨æ˜¯ä¸€ä½javaç¨‹åºå‘˜,é‚£ä¹ˆè¯¥æ¡†æ¶å¯ä»¥æä¾›æ¯”Mybatis-PlusåŠŸèƒ½æ›´åŠ ä¸°å¯Œã€æ€§èƒ½æ›´é«˜,æ›´åŠ è½»é‡å’Œå®Œå…¨å…è´¹çš„ä½“éªŒæ¥åšä¸€ä¸ªhappy coding crud bodyã€‚
èƒŒæ™¯ easy-queryè¯¥æ¡†æ¶æ˜¯æˆ‘åœ¨ä½¿ç”¨Mybatis-Plus(ä¸‹é¢ç»Ÿç§°MP) 2å¹´åå¼€å‘çš„,å› ä¸ºMPä¸æ”¯æŒå¤šè¡¨(ä¸è¦æjoinæ’ä»¶(é€»è¾‘åˆ é™¤å­è¡¨ä¸æ”¯æŒ)),å¹¶ä¸”MybatisåŸæœ¬çš„xmlååˆ†æ¶å¿ƒ,å¯¼è‡´é¡¹ç›®ä¸­æœ‰éå¸¸å¤šçš„ä»£ç éœ€è¦ç¼–å†™sql,å¹¶ä¸”æ•´ä½“æ•°æ®åº“æ¶æ„å› ä¸ºå­˜åœ¨é€»è¾‘åˆ é™¤å­—æ®µå’Œå¤šç§Ÿæˆ·å­—æ®µæ‰€ä»¥ç¼–å†™çš„sqlåŸºæœ¬ä¸Šå¤šå¤šå°‘å°‘éƒ½ä¼šæœ‰é—®é¢˜,æˆ‘ä¸ç›¸ä¿¡å¤§å®¶æ²¡é‡åˆ°è¿‡,è€Œä¸”MPå¾—ä¸€äº›åŠŸèƒ½è¿˜éœ€è¦æ”¶è´¹è¿™å¤§å¤§è®©æˆ‘åšå®šè¿˜æ˜¯è‡ªå·±å¼€å‘ä¸€æ¬¾ã€‚
ä»‹ç» easy-queryÂ ğŸš€ æ˜¯ä¸€æ¬¾æ— ä»»ä½•ä¾èµ–çš„JAVA ORM æ¡†æ¶ï¼Œååˆ†è½»é‡ï¼Œæ‹¥æœ‰éå¸¸é«˜çš„æ€§èƒ½ï¼Œæ”¯æŒå•è¡¨æŸ¥è¯¢ã€å¤šè¡¨æŸ¥è¯¢ã€unionã€å­æŸ¥è¯¢ã€åˆ†é¡µã€åŠ¨æ€è¡¨åã€VOå¯¹è±¡æŸ¥è¯¢è¿”å›ã€é€»è¾‘åˆ ã€å…¨å±€æ‹¦æˆªã€æ•°æ®åº“åˆ—åŠ å¯†(æ”¯æŒé«˜æ€§èƒ½likeæŸ¥è¯¢)ã€æ•°æ®è¿½è¸ªå·®å¼‚æ›´æ–°ã€ä¹è§‚é”ã€å¤šç§Ÿæˆ·ã€è‡ªåŠ¨åˆ†åº“ã€è‡ªåŠ¨åˆ†è¡¨ã€è¯»å†™åˆ†ç¦»ï¼Œæ”¯æŒæ¡†æ¶å…¨åŠŸèƒ½å¤–éƒ¨æ‰©å±•å®šåˆ¶ï¼Œæ‹¥æœ‰å¼ºç±»å‹è¡¨è¾¾å¼ã€‚
GITHUBÂ githubåœ°å€
GITEEÂ giteeåœ°å€
ğŸ“š æ–‡æ¡£ GITHUBåœ°å€Â |Â GITEEåœ°å€
ç¼ºç‚¹ å…ˆè¯´ä¸€ä¸‹ç¼ºç‚¹,ç›®å‰åªé€‚é…äº†MySql,ä¸è¿‡åŸºæœ¬ä¸Šå¦‚æœä½ æ˜¯pgsqlå¾ˆå°‘éœ€è¦æ”¹åŠ¨å°±ç›´æ¥å¯ä»¥ç”¨äº†,å…¶ä»–æ•°æ®åº“å¯èƒ½å› ä¸ºè‡ªå·±çš„è¯­æ³•å’Œç‰¹æ€§ä¼šéœ€è¦ç¨å¾®åšä¸€ä¸‹ä¿®æ”¹ä½†æ˜¯æ•´ä½“è€Œè¨€æ— éœ€è¿‡å¤šçš„å˜åŠ¨,æ¡†æ¶å·²ç»å…¨éƒ¨æŠ½è±¡å¥½äº†ã€‚
åŠŸèƒ½ç‚¹ å®ä½“å¯¹è±¡insert,update,deleteå…¨éƒ¨æ”¯æŒå•è¡¨æŸ¥è¯¢ã€å¤šè¡¨joinæŸ¥è¯¢ï¼Œinå­æŸ¥è¯¢ï¼Œexistså­æŸ¥è¯¢,è¿è¡¨ç»Ÿè®¡(select a,(select count(1) from b) from c)ï¼Œè”åˆæŸ¥è¯¢union | allï¼Œåˆ†ç»„group | havingåˆ†é¡µåŠ¨æ€è¡¨åï¼šè¿è¡Œæ—¶ä¿®æ”¹è¡¨ååŸç”Ÿsqlæ‰§è¡Œï¼ŒæŸ¥è¯¢selectæŸ¥è¯¢mapç»“æœè¿”å›selectæ”¯æŒç›´æ¥è¿”å›DTOå¯¹è±¡å®ç°è‡ªå®šä¹‰åˆ—æŸ¥è¯¢è¿”å›,è€Œä¸æ˜¯å…¨éƒ¨åˆ—è¿”å›selectæ”¯æŒæ ‡è®°largeå­—æ®µä¸è¿”å›(é»˜è®¤è¿”å›)é€»è¾‘åˆ é™¤ï¼Œè‡ªå®šä¹‰é€»è¾‘åˆ é™¤,æ”¯æŒå¤šå­—æ®µé€»è¾‘åˆ é™¤å¡«å……ï¼Œæ”¯æŒè¿è¡Œæ—¶ç¦ç”¨å…¨å±€æ‹¦æˆªå™¨ï¼Œæ”¯æŒè¿è¡Œæ—¶é€‰æ‹©æ€§ä½¿ç”¨æŸå‡ ä¸ªæˆ–è€…ä¸ä½¿ç”¨ï¼Œæ”¯æŒentityæ“ä½œ insert,update,æ¡ä»¶æ‹¦æˆª selectã€updateã€deleteçš„whereæ¡ä»¶æ‹¦æˆªï¼Œupdate setå­—æ®µæ‹¦æˆªå™¨å¤šç§Ÿæˆ·ï¼Œæ”¯æŒè¡¨çš„åˆ—èŒƒå›´å¤šç§Ÿæˆ·æ¨¡å¼æ•°æ®åº“åˆ—åŠ å¯†,æ”¯æŒé«˜æ€§èƒ½çš„likeæ¨¡ç³Šæœç´¢åŒ¹é…(ä¸æ˜¯å•çº¯çš„è°ƒç”¨æ•°æ®åº“åŠ å¯†å‡½æ•°æˆ–è€…å•çº¯çš„è°ƒç”¨æ¡†æ¶åŠ å¯†è§£å¯†å‡½æ•°)æ•°æ®è¿½è¸ªå·®å¼‚æ›´æ–°,è€Œä¸æ˜¯å…¨åˆ—æ›´æ–°,ç”¨è¿‡efcoreçš„è‚¯å®šå¾ˆç†Ÿæ‚‰ç‰ˆæœ¬å·ã€ä¹è§‚é”,æ”¯æŒè‡ªå®šä¹‰ä¹è§‚é”æ”¯æŒåˆ†åº“åˆ†è¡¨(èº«ä¸ºsharding-coreä½œè€…ä¸æ”¯æŒè¯´ä¸è¿‡å»),å…¨è‡ªåŠ¨åˆ†åº“åˆ†è¡¨,ä»…éœ€ç”¨æˆ·æ–°å¢è¡¨å’Œå‘ŠçŸ¥easy-queryç³»ç»Ÿä¸­æœ‰çš„è¡¨é«˜æ€§èƒ½åˆ†åº“åˆ†è¡¨åˆ†é¡µ,æ”¯æŒé¡ºåºåˆ†é¡µ,åå‘åˆ†é¡µ,æ”¯æŒé«˜æ€§èƒ½é¡ºåºåˆ†é¡µå’Œåå‘åˆ†é¡µåˆ†åº“åˆ†è¡¨å¤šå­—æ®µåˆ†ç‰‡åˆ†åº“åˆ†è¡¨è‡ªå®šä¹‰åˆ†ç‰‡è·¯ç”±è§„åˆ™æ”¯æŒè¯»å†™åˆ†ç¦»ï¼Œä¸€ä¸»å¤šä»æ”¯æŒåˆ†ç‰‡ä¸‹è¯»å†™åˆ†ç¦» ç›®å‰é¡¹ç›®æ­£å¤„äºèµ·æ­¥é˜¶æ®µåç»­ä¼šéšç€ç”¨æˆ·ä¸æ–­åœ°å®Œå–„å„æ•°æ®åº“çš„é€‚é…å’ŒåŠŸèƒ½çš„æ”¯æŒ
å¼€å§‹ä½¿ç”¨ å®‰è£… ä»¥ä¸‹æ˜¯spring-bootç¯å¢ƒå’Œæ§åˆ¶å°æ¨¡å¼çš„å®‰è£…
spring-boot &lt;properties&gt; &lt;easy-query.version&gt;0.8.10&lt;/easy-query.version&gt; &lt;/properties&gt; &lt;dependency&gt; &lt;groupId&gt;com.easy-query&lt;/groupId&gt; &lt;artifactId&gt;sql-springboot-starter&lt;/artifactId&gt; &lt;version&gt;${easy-query.version}&lt;/version&gt; &lt;/dependency&gt; console ä»¥mysqlä¸ºä¾‹
&lt;properties&gt; &lt;easy-query.version&gt;0.8.10&lt;/easy-query.version&gt; &lt;/properties&gt; &lt;dependency&gt; &lt;groupId&gt;com.easy-query&lt;/groupId&gt; &lt;artifactId&gt;sql-mysql&lt;/artifactId&gt; &lt;version&gt;${easy-query.version}&lt;/version&gt; &lt;/dependency&gt; //åˆå§‹åŒ–è¿æ¥æ±  HikariDataSource dataSource = new HikariDataSource(); dataSource.setJdbcUrl(&#34;jdbc:mysql://127.0.0.1:3306/easy-query-test?serverTimezone=GMT%2B8&amp;characterEncoding=utf-8&amp;useSSL=false&amp;allowMultiQueries=true&amp;rewriteBatchedStatements=true&#34;); dataSource." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/ad848c0416c1efeabd53532a98bdb12e/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-05-27T19:34:49+08:00" />
<meta property="article:modified_time" content="2023-05-27T19:34:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="ç¼–ç¨‹éšæƒ³" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">ç¼–ç¨‹éšæƒ³</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">çŒ®ç»™è½¬javaçš„c#å’Œjavaç¨‹åºå‘˜çš„æ•°æ®åº“ormæ¡†æ¶</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p>ä¸€ä¸ªå¥½çš„ç¨‹åºå‘˜ä¸åº”è¢«è¯­è¨€æ‰€æŸç¼š,æ­£å¦‚æˆ‘ç°åœ¨å¼€æºjavaçš„ormæ¡†æ¶ä¸€æ ·,å¦‚æœæ‚¨æ˜¯ä¸€ä½è½¬javaçš„c#ç¨‹åºå‘˜,é‚£ä¹ˆè¿™ä¸ªæ¡†æ¶å¯ä»¥å¸¦ç»™ä½ èµ·ç æ²¡æœ‰é‚£ä¹ˆå·®çš„ä¸šåŠ¡ç¼–å†™å’Œå¼ºç±»å‹ä½“éªŒã€‚å¦‚æœæ‚¨æ˜¯ä¸€ä½javaç¨‹åºå‘˜,é‚£ä¹ˆè¯¥æ¡†æ¶å¯ä»¥æä¾›æ¯”<code>Mybatis-Plus</code>åŠŸèƒ½æ›´åŠ ä¸°å¯Œã€æ€§èƒ½æ›´é«˜,æ›´åŠ è½»é‡å’Œå®Œå…¨å…è´¹çš„ä½“éªŒæ¥åšä¸€ä¸ªhappy coding crud bodyã€‚</p> 
<h3 id="èƒŒæ™¯">èƒŒæ™¯</h3> 
<p><code>easy-query</code>è¯¥æ¡†æ¶æ˜¯æˆ‘åœ¨ä½¿ç”¨<code>Mybatis-Plus</code>(ä¸‹é¢ç»Ÿç§°MP) 2å¹´åå¼€å‘çš„,å› ä¸º<code>MP</code>ä¸æ”¯æŒå¤šè¡¨(ä¸è¦æjoinæ’ä»¶(é€»è¾‘åˆ é™¤å­è¡¨ä¸æ”¯æŒ)),å¹¶ä¸”<code>Mybatis</code>åŸæœ¬çš„xmlååˆ†æ¶å¿ƒ,å¯¼è‡´é¡¹ç›®ä¸­æœ‰éå¸¸å¤šçš„ä»£ç éœ€è¦ç¼–å†™sql,å¹¶ä¸”æ•´ä½“æ•°æ®åº“æ¶æ„å› ä¸ºå­˜åœ¨é€»è¾‘åˆ é™¤å­—æ®µå’Œå¤šç§Ÿæˆ·å­—æ®µæ‰€ä»¥ç¼–å†™çš„sqlåŸºæœ¬ä¸Šå¤šå¤šå°‘å°‘éƒ½ä¼šæœ‰é—®é¢˜,æˆ‘ä¸ç›¸ä¿¡å¤§å®¶æ²¡é‡åˆ°è¿‡,è€Œä¸”MPå¾—ä¸€äº›åŠŸèƒ½è¿˜éœ€è¦æ”¶è´¹è¿™å¤§å¤§è®©æˆ‘åšå®šè¿˜æ˜¯è‡ªå·±å¼€å‘ä¸€æ¬¾ã€‚</p> 
<h3 id="ä»‹ç»">ä»‹ç»</h3> 
<p><code>easy-query</code>Â ğŸš€ æ˜¯ä¸€æ¬¾æ— ä»»ä½•ä¾èµ–çš„JAVA ORM æ¡†æ¶ï¼Œååˆ†è½»é‡ï¼Œæ‹¥æœ‰éå¸¸é«˜çš„æ€§èƒ½ï¼Œæ”¯æŒå•è¡¨æŸ¥è¯¢ã€å¤šè¡¨æŸ¥è¯¢ã€unionã€å­æŸ¥è¯¢ã€åˆ†é¡µã€åŠ¨æ€è¡¨åã€VOå¯¹è±¡æŸ¥è¯¢è¿”å›ã€é€»è¾‘åˆ ã€å…¨å±€æ‹¦æˆªã€æ•°æ®åº“åˆ—åŠ å¯†(æ”¯æŒé«˜æ€§èƒ½likeæŸ¥è¯¢)ã€æ•°æ®è¿½è¸ªå·®å¼‚æ›´æ–°ã€ä¹è§‚é”ã€å¤šç§Ÿæˆ·ã€è‡ªåŠ¨åˆ†åº“ã€è‡ªåŠ¨åˆ†è¡¨ã€è¯»å†™åˆ†ç¦»ï¼Œæ”¯æŒæ¡†æ¶å…¨åŠŸèƒ½å¤–éƒ¨æ‰©å±•å®šåˆ¶ï¼Œæ‹¥æœ‰å¼ºç±»å‹è¡¨è¾¾å¼ã€‚</p> 
<ul><li> <p><a href="https://github.com/xuejmnet/easy-query" title="GITHUB">GITHUB</a>Â githubåœ°å€</p> </li><li> <p><a href="https://gitee.com/xuejm/easy-query" rel="nofollow" title="GITEE">GITEE</a>Â giteeåœ°å€</p> </li></ul> 
<h3 id="-æ–‡æ¡£">ğŸ“š æ–‡æ¡£</h3> 
<p><a href="https://xuejmnet.github.io/easy-query-doc/" rel="nofollow" title="GITHUBåœ°å€">GITHUBåœ°å€</a>Â |Â <a href="https://xuejm.gitee.io/easy-query-doc/" rel="nofollow" title="GITEEåœ°å€">GITEEåœ°å€</a></p> 
<h3 id="ç¼ºç‚¹">ç¼ºç‚¹</h3> 
<p>å…ˆè¯´ä¸€ä¸‹ç¼ºç‚¹,ç›®å‰åªé€‚é…äº†MySql,ä¸è¿‡åŸºæœ¬ä¸Šå¦‚æœä½ æ˜¯pgsqlå¾ˆå°‘éœ€è¦æ”¹åŠ¨å°±ç›´æ¥å¯ä»¥ç”¨äº†,å…¶ä»–æ•°æ®åº“å¯èƒ½å› ä¸ºè‡ªå·±çš„è¯­æ³•å’Œç‰¹æ€§ä¼šéœ€è¦ç¨å¾®åšä¸€ä¸‹ä¿®æ”¹ä½†æ˜¯æ•´ä½“è€Œè¨€æ— éœ€è¿‡å¤šçš„å˜åŠ¨,æ¡†æ¶å·²ç»å…¨éƒ¨æŠ½è±¡å¥½äº†ã€‚</p> 
<h3 id="åŠŸèƒ½ç‚¹">åŠŸèƒ½ç‚¹</h3> 
<ul><li>å®ä½“å¯¹è±¡insert,update,deleteå…¨éƒ¨æ”¯æŒ</li><li>å•è¡¨æŸ¥è¯¢ã€å¤šè¡¨joinæŸ¥è¯¢ï¼Œinå­æŸ¥è¯¢ï¼Œexistså­æŸ¥è¯¢,è¿è¡¨ç»Ÿè®¡(select a,(select count(1) from b) from c)ï¼Œè”åˆæŸ¥è¯¢union | allï¼Œåˆ†ç»„group | having</li><li>åˆ†é¡µ</li><li>åŠ¨æ€è¡¨åï¼šè¿è¡Œæ—¶ä¿®æ”¹è¡¨å</li><li>åŸç”Ÿsqlæ‰§è¡Œï¼ŒæŸ¥è¯¢</li><li>selectæŸ¥è¯¢mapç»“æœè¿”å›</li><li>selectæ”¯æŒç›´æ¥è¿”å›DTOå¯¹è±¡å®ç°è‡ªå®šä¹‰åˆ—æŸ¥è¯¢è¿”å›,è€Œä¸æ˜¯å…¨éƒ¨åˆ—è¿”å›</li><li>selectæ”¯æŒæ ‡è®°largeå­—æ®µä¸è¿”å›(é»˜è®¤è¿”å›)</li><li>é€»è¾‘åˆ é™¤ï¼Œè‡ªå®šä¹‰é€»è¾‘åˆ é™¤,æ”¯æŒå¤šå­—æ®µé€»è¾‘åˆ é™¤å¡«å……ï¼Œæ”¯æŒè¿è¡Œæ—¶ç¦ç”¨</li><li>å…¨å±€æ‹¦æˆªå™¨ï¼Œæ”¯æŒè¿è¡Œæ—¶é€‰æ‹©æ€§ä½¿ç”¨æŸå‡ ä¸ªæˆ–è€…ä¸ä½¿ç”¨ï¼Œæ”¯æŒentityæ“ä½œ insert,update,æ¡ä»¶æ‹¦æˆª selectã€updateã€deleteçš„whereæ¡ä»¶æ‹¦æˆªï¼Œupdate setå­—æ®µæ‹¦æˆªå™¨</li><li>å¤šç§Ÿæˆ·ï¼Œæ”¯æŒè¡¨çš„åˆ—èŒƒå›´å¤šç§Ÿæˆ·æ¨¡å¼</li><li>æ•°æ®åº“åˆ—åŠ å¯†,æ”¯æŒé«˜æ€§èƒ½çš„likeæ¨¡ç³Šæœç´¢åŒ¹é…(ä¸æ˜¯å•çº¯çš„è°ƒç”¨æ•°æ®åº“åŠ å¯†å‡½æ•°æˆ–è€…å•çº¯çš„è°ƒç”¨æ¡†æ¶åŠ å¯†è§£å¯†å‡½æ•°)</li><li>æ•°æ®è¿½è¸ªå·®å¼‚æ›´æ–°,è€Œä¸æ˜¯å…¨åˆ—æ›´æ–°,ç”¨è¿‡efcoreçš„è‚¯å®šå¾ˆç†Ÿæ‚‰</li><li>ç‰ˆæœ¬å·ã€ä¹è§‚é”,æ”¯æŒè‡ªå®šä¹‰ä¹è§‚é”</li><li>æ”¯æŒåˆ†åº“åˆ†è¡¨(èº«ä¸º<code>sharding-core</code>ä½œè€…ä¸æ”¯æŒè¯´ä¸è¿‡å»),å…¨è‡ªåŠ¨åˆ†åº“åˆ†è¡¨,ä»…éœ€ç”¨æˆ·æ–°å¢è¡¨å’Œå‘ŠçŸ¥<code>easy-query</code>ç³»ç»Ÿä¸­æœ‰çš„è¡¨</li><li>é«˜æ€§èƒ½åˆ†åº“åˆ†è¡¨åˆ†é¡µ,æ”¯æŒé¡ºåºåˆ†é¡µ,åå‘åˆ†é¡µ,æ”¯æŒé«˜æ€§èƒ½é¡ºåºåˆ†é¡µå’Œåå‘åˆ†é¡µ</li><li>åˆ†åº“åˆ†è¡¨å¤šå­—æ®µåˆ†ç‰‡</li><li>åˆ†åº“åˆ†è¡¨è‡ªå®šä¹‰åˆ†ç‰‡è·¯ç”±è§„åˆ™</li><li>æ”¯æŒè¯»å†™åˆ†ç¦»ï¼Œä¸€ä¸»å¤šä»æ”¯æŒåˆ†ç‰‡ä¸‹è¯»å†™åˆ†ç¦»</li></ul> 
<p>ç›®å‰é¡¹ç›®æ­£å¤„äºèµ·æ­¥é˜¶æ®µåç»­ä¼šéšç€ç”¨æˆ·ä¸æ–­åœ°å®Œå–„å„æ•°æ®åº“çš„é€‚é…å’ŒåŠŸèƒ½çš„æ”¯æŒ</p> 
<h3 id="å¼€å§‹ä½¿ç”¨">å¼€å§‹ä½¿ç”¨</h3> 
<h3 id="å®‰è£…">å®‰è£…</h3> 
<p>ä»¥ä¸‹æ˜¯<code>spring-boot</code>ç¯å¢ƒå’Œæ§åˆ¶å°æ¨¡å¼çš„å®‰è£…</p> 
<h4 id="spring-boot">spring-boot</h4> 
<pre><code>&lt;properties&gt;
    &lt;easy-query.version&gt;0.8.10&lt;/easy-query.version&gt;
&lt;/properties&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.easy-query&lt;/groupId&gt;
    &lt;artifactId&gt;sql-springboot-starter&lt;/artifactId&gt;
    &lt;version&gt;${easy-query.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
<h4 id="console">console</h4> 
<p>ä»¥mysqlä¸ºä¾‹</p> 
<pre><code>&lt;properties&gt;
    &lt;easy-query.version&gt;0.8.10&lt;/easy-query.version&gt;
&lt;/properties&gt;
&lt;dependency&gt;
    &lt;groupId&gt;com.easy-query&lt;/groupId&gt;
    &lt;artifactId&gt;sql-mysql&lt;/artifactId&gt;
    &lt;version&gt;${easy-query.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre> 
<pre><code>//åˆå§‹åŒ–è¿æ¥æ± 
 HikariDataSource dataSource = new HikariDataSource();
dataSource.setJdbcUrl("jdbc:mysql://127.0.0.1:3306/easy-query-test?serverTimezone=GMT%2B8&amp;characterEncoding=utf-8&amp;useSSL=false&amp;allowMultiQueries=true&amp;rewriteBatchedStatements=true");
dataSource.setUsername("root");
dataSource.setPassword("root");
dataSource.setDriverClassName("com.mysql.cj.jdbc.Driver");
dataSource.setMaximumPoolSize(20);
//åˆ›å»ºeasy-query
 EasyQuery easyQuery = EasyQueryBootstrapper.defaultBuilderConfiguration()
                .setDefaultDataSource(dataSource)
                .useDatabaseConfigure(new MySQLDatabaseConfiguration())
                .build();
</code></pre> 
<h2 id="å¼€å§‹">å¼€å§‹</h2> 
<p>sqlè„šæœ¬</p> 
<pre><code>create table t_topic
(
    id varchar(32) not null comment 'ä¸»é”®ID'primary key,
    stars int not null comment 'ç‚¹èµæ•°',
    title varchar(50) null comment 'æ ‡é¢˜',
    create_time datetime not null comment 'åˆ›å»ºæ—¶é—´'
)comment 'ä¸»é¢˜è¡¨';

create table t_blog
(
    id varchar(32) not null comment 'ä¸»é”®ID'primary key,
    deleted tinyint(1) default 0 not null comment 'æ˜¯å¦åˆ é™¤',
    create_by varchar(32) not null comment 'åˆ›å»ºäºº',
    create_time datetime not null comment 'åˆ›å»ºæ—¶é—´',
    update_by varchar(32) not null comment 'æ›´æ–°äºº',
    update_time datetime not null comment 'æ›´æ–°æ—¶é—´',
    title varchar(50) not null comment 'æ ‡é¢˜',
    content varchar(256) null comment 'å†…å®¹',
    url varchar(128) null comment 'åšå®¢é“¾æ¥',
    star int not null comment 'ç‚¹èµæ•°',
    publish_time datetime null comment 'å‘å¸ƒæ—¶é—´',
    score decimal(18, 2) not null comment 'è¯„åˆ†',
    status int not null comment 'çŠ¶æ€',
    `order` decimal(18, 2) not null comment 'æ’åº',
    is_top tinyint(1) not null comment 'æ˜¯å¦ç½®é¡¶',
    top tinyint(1) not null comment 'æ˜¯å¦ç½®é¡¶'
)comment 'åšå®¢è¡¨';
</code></pre> 
<p>æŸ¥è¯¢å¯¹è±¡</p> 
<pre><code>


@Data
public class BaseEntity implements Serializable {
    private static final long serialVersionUID = -4834048418175625051L;

    @Column(primaryKey = true)
    private String id;
    /**
     * åˆ›å»ºæ—¶é—´;åˆ›å»ºæ—¶é—´
     */
    private LocalDateTime createTime;
    /**
     * ä¿®æ”¹æ—¶é—´;ä¿®æ”¹æ—¶é—´
     */
    private LocalDateTime updateTime;
    /**
     * åˆ›å»ºäºº;åˆ›å»ºäºº
     */
    private String createBy;
    /**
     * ä¿®æ”¹äºº;ä¿®æ”¹äºº
     */
    private String updateBy;
    /**
     * æ˜¯å¦åˆ é™¤;æ˜¯å¦åˆ é™¤
     */
    @LogicDelete(strategy = LogicDeleteStrategyEnum.BOOLEAN)
    private Boolean deleted;
}


@Data
@Table("t_topic")
@ToString
public class Topic {

    @Column(primaryKey = true)
    private String id;
    private Integer stars;
    private String title;
    private LocalDateTime createTime;
}

@Data
@Table("t_blog")
public class BlogEntity extends BaseEntity{

    /**
     * æ ‡é¢˜
     */
    private String title;
    /**
     * å†…å®¹
     */
    private String content;
    /**
     * åšå®¢é“¾æ¥
     */
    private String url;
    /**
     * ç‚¹èµæ•°
     */
    private Integer star;
    /**
     * å‘å¸ƒæ—¶é—´
     */
    private LocalDateTime publishTime;
    /**
     * è¯„åˆ†
     */
    private BigDecimal score;
    /**
     * çŠ¶æ€
     */
    private Integer status;
    /**
     * æ’åº
     */
    private BigDecimal order;
    /**
     * æ˜¯å¦ç½®é¡¶
     */
    private Boolean isTop;
    /**
     * æ˜¯å¦ç½®é¡¶
     */
    private Boolean top;
}

</code></pre> 
<h3 id="å•è¡¨æŸ¥è¯¢">å•è¡¨æŸ¥è¯¢</h3> 
<pre><code>Topic topic = easyQuery
                .queryable(Topic.class)
                .where(o -&gt; o.eq(Topic::getId, "3"))
                .firstOrNull();      
</code></pre> 
<pre><code>==&gt; Preparing: SELECT t.`id`,t.`stars`,t.`title`,t.`create_time` FROM `t_topic` t WHERE t.`id` = ? LIMIT 1
==&gt; Parameters: 3(String)
&lt;== Time Elapsed: 15(ms)
&lt;== Total: 1     
</code></pre> 
<h3 id="å¤šè¡¨æŸ¥è¯¢">å¤šè¡¨æŸ¥è¯¢</h3> 
<pre><code>Topic topic = easyQuery
                .queryable(Topic.class)
                .leftJoin(BlogEntity.class, (t, t1) -&gt; t.eq(t1, Topic::getId, BlogEntity::getId))
                .where(o -&gt; o.eq(Topic::getId, "3"))
                .firstOrNull();
</code></pre> 
<pre><code>==&gt; Preparing: SELECT t.`id`,t.`stars`,t.`title`,t.`create_time` FROM `t_topic` t LEFT JOIN `t_blog` t1 ON t1.`deleted` = ? AND t.`id` = t1.`id` WHERE t.`id` = ? LIMIT 1
==&gt; Parameters: false(Boolean),3(String)
&lt;== Time Elapsed: 2(ms)
&lt;== Total: 1
</code></pre> 
<h3 id="å¤æ‚æŸ¥è¯¢">å¤æ‚æŸ¥è¯¢</h3> 
<p>join + group +åˆ†é¡µ</p> 
<pre><code>
EasyPageResult&lt;BlogEntity&gt; page = easyQuery
        .queryable(Topic.class).asTracking()
        .innerJoin(BlogEntity.class, (t, t1) -&gt; t.eq(t1, Topic::getId, BlogEntity::getId))
        .where((t, t1) -&gt; t1.isNotNull(BlogEntity::getTitle))
        .groupBy((t, t1)-&gt;t1.column(BlogEntity::getId))
        .select(BlogEntity.class, (t, t1) -&gt; t1.column(BlogEntity::getId).columnSum(BlogEntity::getScore))
        .toPageResult(1, 20);
</code></pre> 
<pre><code>
==&gt; Preparing: SELECT t1.`id`,SUM(t1.`score`) AS `score` FROM `t_topic` t INNER JOIN `t_blog` t1 ON t1.`deleted` = ? AND t.`id` = t1.`id` WHERE t1.`title` IS NOT NULL GROUP BY t1.`id` LIMIT 20
==&gt; Parameters: false(Boolean)
&lt;== Time Elapsed: 5(ms)
&lt;== Total: 20
</code></pre> 
<h3 id="åŠ¨æ€è¡¨å">åŠ¨æ€è¡¨å</h3> 
<pre><code>
String sql = easyQuery.queryable(BlogEntity.class)
        .asTable(a-&gt;"aa_bb_cc")
        .where(o -&gt; o.eq(BlogEntity::getId, "123"))
        .toSQL();
     
</code></pre> 
<pre><code> SELECT t.`id`,t.`create_time`,t.`update_time`,t.`create_by`,t.`update_by`,t.`deleted`,t.`title`,t.`content`,t.`url`,t.`star`,t.`publish_time`,t.`score`,t.`status`,t.`order`,t.`is_top`,t.`top` FROM `aa_bb_cc` t WHERE t.`deleted` = ? AND t.`id` = ?  
</code></pre> 
<h3 id="æ–°å¢">æ–°å¢</h3> 
<pre><code>
Topic topic = new Topic();
topic.setId(String.valueOf(0));
topic.setStars(100);
topic.setTitle("æ ‡é¢˜0");
topic.setCreateTime(LocalDateTime.now().plusDays(i));

long rows = easyQuery.insertable(topic).executeRows();
</code></pre> 
<pre><code>
//è¿”å›ç»“æœrowsä¸º1
==&gt; Preparing: INSERT INTO `t_topic` (`id`,`stars`,`title`,`create_time`) VALUES (?,?,?,?) 
==&gt; Parameters: 0(String),100(Integer),æ ‡é¢˜0(String),2023-03-16T21:34:13.287(LocalDateTime)
&lt;== Total: 1
</code></pre> 
<h3 id="ä¿®æ”¹">ä¿®æ”¹</h3> 
<pre><code>//å®ä½“æ›´æ–°
 Topic topic = easyQuery.queryable(Topic.class)
        .where(o -&gt; o.eq(Topic::getId, "7")).firstNotNull("æœªæ‰¾åˆ°å¯¹åº”çš„æ•°æ®");
        String newTitle = "test123" + new Random().nextInt(100);
        topic.setTitle(newTitle);

long rows=easyQuery.updatable(topic).executeRows();
</code></pre> 
<pre><code>==&gt; Preparing: UPDATE t_topic SET `stars` = ?,`title` = ?,`create_time` = ? WHERE `id` = ?
==&gt; Parameters: 107(Integer),test12364(String),2023-03-27T22:05:23(LocalDateTime),7(String)
&lt;== Total: 1
</code></pre> 
<pre><code>//è¡¨è¾¾å¼æ›´æ–°
long rows = easyQuery.updatable(Topic.class)
                .set(Topic::getStars, 12)
                .where(o -&gt; o.eq(Topic::getId, "2"))
                .executeRows();
//rowsä¸º1
easyQuery.updatable(Topic.class)
                    .set(Topic::getStars, 12)
                    .where(o -&gt; o.eq(Topic::getId, "2"))
                    .executeRows(1,"æ›´æ–°å¤±è´¥");
//åˆ¤æ–­å—å½±å“è¡Œæ•°å¹¶ä¸”è¿›è¡ŒæŠ¥é”™,å¦‚æœå½“å‰æ“ä½œä¸åœ¨äº‹åŠ¡å†…æ‰§è¡Œé‚£ä¹ˆä¼šè‡ªåŠ¨å¼€å¯äº‹åŠ¡!!!ä¼šè‡ªåŠ¨å¼€å¯äº‹åŠ¡!!!ä¼šè‡ªåŠ¨å¼€å¯äº‹åŠ¡!!!æ¥å®ç°å¹¶å‘æ›´æ–°æ§åˆ¶,å¼‚å¸¸ä¸º:EasyQueryConcurrentException 
//æŠ›é”™åæ•°æ®å°†ä¸ä¼šè¢«æ›´æ–°
</code></pre> 
<pre><code>==&gt; Preparing: UPDATE t_topic SET `stars` = ? WHERE `id` = ?
==&gt; Parameters: 12(Integer),2(String)
&lt;== Total: 1
</code></pre> 
<h3 id="åˆ é™¤">åˆ é™¤</h3> 
<pre><code>long l = easyQuery.deletable(Topic.class)
                    .where(o-&gt;o.eq(Topic::getTitle,"title998"))
                    .executeRows();
</code></pre> 
<pre><code>==&gt; Preparing: DELETE FROM t_topic WHERE `title` = ?
==&gt; Parameters: title998(String)
&lt;== Total: 1
</code></pre> 
<pre><code>Topic topic = easyQuery.queryable(Topic.class).whereId("997").firstNotNull("æœªæ‰¾åˆ°å½“å‰ä¸»é¢˜æ•°æ®");
long l = easyQuery.deletable(topic).executeRows();
</code></pre> 
<pre><code>==&gt; Preparing: DELETE FROM t_topic WHERE `id` = ?
==&gt; Parameters: 997(String)
&lt;== Total: 1
</code></pre> 
<h3 id="è”åˆæŸ¥è¯¢">è”åˆæŸ¥è¯¢</h3> 
<pre><code>Queryable&lt;Topic&gt; q1 = easyQuery
                .queryable(Topic.class);
Queryable&lt;Topic&gt; q2 = easyQuery
        .queryable(Topic.class);
Queryable&lt;Topic&gt; q3 = easyQuery
        .queryable(Topic.class);
List&lt;Topic&gt; list = q1.union(q2, q3).where(o -&gt; o.eq(Topic::getId, "123321")).toList();
</code></pre> 
<pre><code>
==&gt; Preparing: SELECT t1.`id`,t1.`stars`,t1.`title`,t1.`create_time` FROM (SELECT t.`id`,t.`stars`,t.`title`,t.`create_time` FROM `t_topic` t UNION SELECT t.`id`,t.`stars`,t.`title`,t.`create_time` FROM `t_topic` t UNION SELECT t.`id`,t.`stars`,t.`title`,t.`create_time` FROM `t_topic` t) t1 WHERE t1.`id` = ?
==&gt; Parameters: 123321(String)
&lt;== Time Elapsed: 19(ms)
&lt;== Total: 0
</code></pre> 
<h3 id="å­æŸ¥è¯¢">å­æŸ¥è¯¢</h3> 
<h4 id="inå­æŸ¥è¯¢">inå­æŸ¥è¯¢</h4> 
<pre><code>Queryable&lt;String&gt; idQueryable = easyQuery.queryable(BlogEntity.class)
        .where(o -&gt; o.eq(BlogEntity::getId, "1"))
        .select(String.class,o-&gt;o.column(BlogEntity::getId));
List&lt;Topic&gt; list = easyQuery
        .queryable(Topic.class, "x").where(o -&gt; o.in(Topic::getId, idQueryable)).toList();
</code></pre> 
<pre><code>==&gt; Preparing: SELECT x.`id`,x.`stars`,x.`title`,x.`create_time` FROM `t_topic` x WHERE x.`id` IN (SELECT t.`id` FROM `t_blog` t WHERE t.`deleted` = ? AND t.`id` = ?) 
==&gt; Parameters: false(Boolean),1(String)
&lt;== Time Elapsed: 3(ms)
&lt;== Total: 1    
</code></pre> 
<h4 id="existså­æŸ¥è¯¢">existså­æŸ¥è¯¢</h4> 
<pre><code>Queryable&lt;BlogEntity&gt; where1 = easyQuery.queryable(BlogEntity.class)
                .where(o -&gt; o.eq(BlogEntity::getId, "1"));
List&lt;Topic&gt; x = easyQuery
        .queryable(Topic.class, "x").where(o -&gt; o.exists(where1.where(q -&gt; q.eq(o, BlogEntity::getId, Topic::getId)))).toList();
</code></pre> 
<pre><code>==&gt; Preparing: SELECT x.`id`,x.`stars`,x.`title`,x.`create_time` FROM `t_topic` x WHERE EXISTS (SELECT 1 FROM `t_blog` t WHERE t.`deleted` = ? AND t.`id` = ? AND t.`id` = x.`id`) 
==&gt; Parameters: false(Boolean),1(String)
&lt;== Time Elapsed: 10(ms)
&lt;== Total: 1
</code></pre> 
<h2 id="åˆ†ç‰‡">åˆ†ç‰‡</h2> 
<p><code>easy-query</code>æ”¯æŒåˆ†è¡¨ã€åˆ†åº“ã€åˆ†è¡¨+åˆ†åº“</p> 
<h3 id="åˆ†è¡¨">åˆ†è¡¨</h3> 
<pre><code>//åˆ›å»ºåˆ†ç‰‡å¯¹è±¡
@Data
@Table(value = "t_topic_sharding_time",shardingInitializer = TopicShardingTimeShardingInitializer.class)
@ToString
public class TopicShardingTime {

    @Column(primaryKey = true)
    private String id;
    private Integer stars;
    private String title;
    @ShardingTableKey
    private LocalDateTime createTime;
}
//åˆ†ç‰‡åˆå§‹åŒ–å™¨å¾ˆç®€å• å‡è®¾æˆ‘ä»¬æ˜¯2020å¹´1æœˆåˆ°2023å¹´5æœˆä¹Ÿå°±æ˜¯å½“å‰æ—¶é—´è¿›è¡Œåˆ†ç‰‡é‚£ä¹ˆè¦ç”Ÿæˆå¯¹åº”çš„åˆ†ç‰‡è¡¨æ¯æœˆä¸€å¼ 
public class TopicShardingTimeShardingInitializer extends AbstractShardingMonthInitializer&lt;TopicShardingTime&gt; {

    @Override
    protected LocalDateTime getBeginTime() {
        return LocalDateTime.of(2020, 1, 1, 1, 1);
    }

    @Override
    protected LocalDateTime getEndTime() {
        return LocalDateTime.of(2023, 5, 1, 0, 0);
    }


    @Override
    public void configure0(ShardingEntityBuilder&lt;TopicShardingTime&gt; builder) {

ä»¥ä¸‹æ¡ä»¶å¯ä»¥é€‰æ‹©é…ç½®ä¹Ÿå¯ä»¥ä¸é…ç½®ç”¨äºä¼˜åŒ–åˆ†ç‰‡æ€§èƒ½
//        builder.paginationReverse(0.5,100)
//                .ascSequenceConfigure(new TableNameStringComparator())
//                .addPropertyDefaultUseDesc(TopicShardingTime::getCreateTime)
//                .defaultAffectedMethod(false, ExecuteMethodEnum.LIST,ExecuteMethodEnum.ANY,ExecuteMethodEnum.COUNT,ExecuteMethodEnum.FIRST)
//                .useMaxShardingQueryLimit(2,ExecuteMethodEnum.LIST,ExecuteMethodEnum.ANY,ExecuteMethodEnum.FIRST);

    }
}
//åˆ†ç‰‡æ—¶é—´è·¯ç”±è§„åˆ™æŒ‰æœˆç„¶åbeanåˆ†ç‰‡å±æ€§å°±æ˜¯LocalDateTimeä¹Ÿå¯ä»¥è‡ªå®šä¹‰å®ç°
public class TopicShardingTimeTableRule extends AbstractMonthTableRule&lt;TopicShardingTime&gt; {

    @Override
    protected LocalDateTime convertLocalDateTime(Object shardingValue) {
        return (LocalDateTime)shardingValue;
    }
}

</code></pre> 
<p><a href="https://github.com/xuejmnet/easy-query/blob/main/sql-test/src/main/resources/mysql-init-sqk-easy-sharding.sql" title="æ•°æ®åº“è„šæœ¬å‚è€ƒæºç ">æ•°æ®åº“è„šæœ¬å‚è€ƒæºç </a></p> 
<p>å…¶ä¸­<code>shardingInitializer</code>ä¸ºåˆ†ç‰‡åˆå§‹åŒ–å™¨ç”¨æ¥åˆå§‹åŒ–å‘Šè¯‰æ¡†æ¶æœ‰å¤šå°‘åˆ†ç‰‡çš„è¡¨å(æ”¯æŒåŠ¨æ€æ·»åŠ )</p> 
<p><code>ShardingTableKey</code>è¡¨ç¤ºå“ªä¸ªå­—æ®µä½œä¸ºåˆ†ç‰‡é”®(åˆ†ç‰‡é”®ä¸ç­‰äºä¸»é”®)</p> 
<p>æ‰§è¡Œsql</p> 
<pre><code>LocalDateTime beginTime = LocalDateTime.of(2021, 1, 1, 1, 1);
LocalDateTime endTime = LocalDateTime.of(2021, 5, 2, 1, 1);
Duration between = Duration.between(beginTime, endTime);
long days = between.toDays();
List&lt;TopicShardingTime&gt; list = easyQuery.queryable(TopicShardingTime.class)
        .where(o-&gt;o.rangeClosed(TopicShardingTime::getCreateTime,beginTime,endTime))
        .orderByAsc(o -&gt; o.column(TopicShardingTime::getCreateTime))
        .toList();
</code></pre> 
<pre><code>

==&gt; SHARDING_EXECUTOR_2, name:ds2020, Preparing: SELECT t.`id`,t.`stars`,t.`title`,t.`create_time` FROM `t_topic_sharding_time_202101` t WHERE t.`create_time` &gt;= ? AND t.`create_time` &lt;= ? ORDER BY t.`create_time` ASC
==&gt; SHARDING_EXECUTOR_3, name:ds2020, Preparing: SELECT t.`id`,t.`stars`,t.`title`,t.`create_time` FROM `t_topic_sharding_time_202102` t WHERE t.`create_time` &gt;= ? AND t.`create_time` &lt;= ? ORDER BY t.`create_time` ASC
==&gt; SHARDING_EXECUTOR_2, name:ds2020, Parameters: 2021-01-01T01:01(LocalDateTime),2021-05-02T01:01(LocalDateTime)
==&gt; SHARDING_EXECUTOR_3, name:ds2020, Parameters: 2021-01-01T01:01(LocalDateTime),2021-05-02T01:01(LocalDateTime)
&lt;== SHARDING_EXECUTOR_3, name:ds2020, Time Elapsed: 3(ms)
&lt;== SHARDING_EXECUTOR_2, name:ds2020, Time Elapsed: 3(ms)
==&gt; SHARDING_EXECUTOR_2, name:ds2020, Preparing: SELECT t.`id`,t.`stars`,t.`title`,t.`create_time` FROM `t_topic_sharding_time_202103` t WHERE t.`create_time` &gt;= ? AND t.`create_time` &lt;= ? ORDER BY t.`create_time` ASC
==&gt; SHARDING_EXECUTOR_3, name:ds2020, Preparing: SELECT t.`id`,t.`stars`,t.`title`,t.`create_time` FROM `t_topic_sharding_time_202104` t WHERE t.`create_time` &gt;= ? AND t.`create_time` &lt;= ? ORDER BY t.`create_time` ASC
==&gt; SHARDING_EXECUTOR_2, name:ds2020, Parameters: 2021-01-01T01:01(LocalDateTime),2021-05-02T01:01(LocalDateTime)
==&gt; SHARDING_EXECUTOR_3, name:ds2020, Parameters: 2021-01-01T01:01(LocalDateTime),2021-05-02T01:01(LocalDateTime)
&lt;== SHARDING_EXECUTOR_3, name:ds2020, Time Elapsed: 2(ms)
&lt;== SHARDING_EXECUTOR_2, name:ds2020, Time Elapsed: 2(ms)
==&gt; main, name:ds2020, Preparing: SELECT t.`id`,t.`stars`,t.`title`,t.`create_time` FROM `t_topic_sharding_time_202105` t WHERE t.`create_time` &gt;= ? AND t.`create_time` &lt;= ? ORDER BY t.`create_time` ASC
==&gt; main, name:ds2020, Parameters: 2021-01-01T01:01(LocalDateTime),2021-05-02T01:01(LocalDateTime)
&lt;== main, name:ds2020, Time Elapsed: 2(ms)
&lt;== Total: 122
</code></pre> 
<h3 id="åˆ†åº“">åˆ†åº“</h3> 
<pre><code>
@Data
@Table(value = "t_topic_sharding_ds",shardingInitializer = DataSourceAndTableShardingInitializer.class)
@ToString
public class TopicShardingDataSource {

    @Column(primaryKey = true)
    private String id;
    private Integer stars;
    private String title;
    @ShardingDataSourceKey
    private LocalDateTime createTime;
}
public class DataSourceShardingInitializer implements EntityShardingInitializer&lt;TopicShardingDataSource&gt; {
    @Override
    public void configure(ShardingEntityBuilder&lt;TopicShardingDataSource&gt; builder) {
        EntityMetadata entityMetadata = builder.getEntityMetadata();
        String tableName = entityMetadata.getTableName();
        List&lt;String&gt; tables = Collections.singletonList(tableName);
        LinkedHashMap&lt;String, Collection&lt;String&gt;&gt; initTables = new LinkedHashMap&lt;String, Collection&lt;String&gt;&gt;() {<!-- -->{
            put("ds2020", tables);
            put("ds2021", tables);
            put("ds2022", tables);
            put("ds2023", tables);
        }};
        builder.actualTableNameInit(initTables);


    }
}
//åˆ†åº“æ•°æ®æºè·¯ç”±è§„åˆ™
public class TopicShardingDataSourceRule extends AbstractDataSourceRouteRule&lt;TopicShardingDataSource&gt; {
    @Override
    protected RouteFunction&lt;String&gt; getRouteFilter(TableAvailable table, Object shardingValue, ShardingOperatorEnum shardingOperator, boolean withEntity) {
        LocalDateTime createTime = (LocalDateTime) shardingValue;
        String dataSource = "ds" + createTime.getYear();
        switch (shardingOperator){
            case GREATER_THAN:
            case GREATER_THAN_OR_EQUAL:
                return ds-&gt; dataSource.compareToIgnoreCase(ds)&lt;=0;
            case LESS_THAN:
            {
                //å¦‚æœå°äºæœˆåˆé‚£ä¹ˆæœˆåˆçš„è¡¨æ˜¯ä¸éœ€è¦è¢«æŸ¥è¯¢çš„
                LocalDateTime timeYearFirstDay = LocalDateTime.of(createTime.getYear(),1,1,0,0,0);
                if(createTime.isEqual(timeYearFirstDay)){
                    return ds-&gt;dataSource.compareToIgnoreCase(ds)&gt;0;
                }
                return ds-&gt;dataSource.compareToIgnoreCase(ds)&gt;=0;
            }
            case LESS_THAN_OR_EQUAL:
                return ds-&gt;dataSource.compareToIgnoreCase(ds)&gt;=0;

            case EQUAL:
                return ds-&gt;dataSource.compareToIgnoreCase(ds)==0;
            default:return t-&gt;true;
        }
    }
}

</code></pre> 
<pre><code>LocalDateTime beginTime = LocalDateTime.of(2020, 1, 1, 1, 1);
LocalDateTime endTime = LocalDateTime.of(2023, 5, 1, 1, 1);
Duration between = Duration.between(beginTime, endTime);
long days = between.toDays();
EasyPageResult&lt;TopicShardingDataSource&gt; pageResult = easyQuery.queryable(TopicShardingDataSource.class)
        .orderByAsc(o -&gt; o.column(TopicShardingDataSource::getCreateTime))
        .toPageResult(1, 33);
</code></pre> 
<pre><code>
==&gt; SHARDING_EXECUTOR_23, name:ds2022, Preparing: SELECT t.`id`,t.`stars`,t.`title`,t.`create_time` FROM `t_topic_sharding_ds` t ORDER BY t.`create_time` ASC LIMIT 33
==&gt; SHARDING_EXECUTOR_11, name:ds2021, Preparing: SELECT t.`id`,t.`stars`,t.`title`,t.`create_time` FROM `t_topic_sharding_ds` t ORDER BY t.`create_time` ASC LIMIT 33
==&gt; SHARDING_EXECUTOR_2, name:ds2020, Preparing: SELECT t.`id`,t.`stars`,t.`title`,t.`create_time` FROM `t_topic_sharding_ds` t ORDER BY t.`create_time` ASC LIMIT 33
==&gt; SHARDING_EXECUTOR_4, name:ds2023, Preparing: SELECT t.`id`,t.`stars`,t.`title`,t.`create_time` FROM `t_topic_sharding_ds` t ORDER BY t.`create_time` ASC LIMIT 33
&lt;== SHARDING_EXECUTOR_4, name:ds2023, Time Elapsed: 4(ms)
&lt;== SHARDING_EXECUTOR_23, name:ds2022, Time Elapsed: 4(ms)
&lt;== SHARDING_EXECUTOR_2, name:ds2020, Time Elapsed: 4(ms)
&lt;== SHARDING_EXECUTOR_11, name:ds2021, Time Elapsed: 6(ms)
&lt;== Total: 33
</code></pre> 
<h3 id="æœ€å">æœ€å</h3> 
<p>å¸Œæœ›çœ‹åˆ°è¿™è¾¹çš„å„ä½å¤§ä½¬ç»™æˆ‘ç‚¹ä¸ªstarè°¢è°¢è¿™å¯¹æˆ‘å¾ˆé‡è¦</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/61fe9d7a7c9647ed948fc4bab288fc1b/" rel="prev">
			<span class="pager__subtitle">Â«&thinsp;Previous</span>
			<p class="pager__title">STM32 CH340ä¸€é”®ä¸‹è½½ç”µè·¯</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/eb01d571728617f003dbf99ed5a033ba/" rel="next">
			<span class="pager__subtitle">Next&thinsp;Â»</span>
			<p class="pager__title">C&#43;&#43;å¼‚æ­¥è°ƒç”¨æ–¹æ³•</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 ç¼–ç¨‹éšæƒ³.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>