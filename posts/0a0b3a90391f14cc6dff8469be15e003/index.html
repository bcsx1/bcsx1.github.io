<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python迭代器和生成器 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python迭代器和生成器" />
<meta property="og:description" content="文章目录 一、迭代器1.1、什么是迭代1.2、什么是迭代器1.3、Python 中的可迭代对象1.4、Python 中生成迭代器的方法1.4.1、`iter()`函数1.4.2、`enumerate()`函数1.4.3、`zip()`函数1.4.4、`map()`函数1.4.5、`filter()`函数1.4.6、`reversed()`函数1.4.7、`sorted()`函数 1.5、自定义迭代器类1.6、迭代器和列表的区别1.7、迭代器和for循环区别 二、生成器2.1、什么是生成器2.2、创建生成器2.2.1、生成器表达式2.2.2、生成器函数 2.3、生成器常用方法2.3.1、`send(value)`2.3.2、`close()`2.3.3、`throw()`2.3.3、`yield from` 2.4、`yield`和`yield from` 区别2.5、迭代器和生成器的异同2.6、语法糖2.7、`yield` 实现斐波那契数列 三、参考文档 一、迭代器 1.1、什么是迭代 迭代是指反复的执行一个过程，每次执行都会根据前一次的结果进行调整和优化。在计算机编程中，迭代常常用于循环执行某个操作，直到达到特定的条件或达成目标。迭代也可以用于指代软件开发中的“迭代开发”，即将一个大型软件开发项目分成多个小的迭代周期，每个迭代周期都完成一个可用的软件产品版本，以便及时反馈和调整。迭代的目的是不断优化和改进，逐步达成更好的结果。
1.2、什么是迭代器 迭代器（Iterator）是一种设计模式，它提供了一种访问集合（Collection）中元素的方法，而不必暴露集合内部实现的细节。迭代器为不同类型的集合提供了一种统一的遍历方式，使得集合的迭代访问变得更加简单和方便。迭代器通过提供 hasNext() 和 next() 等方法来实现集合的迭代访问。hasNext() 方法用于判断集合是否还有下一个元素，next() 方法用于返回集合中的下一个元素。迭代器还可以提供 remove() 方法来删除集合中的元素。
1.3、Python 中的可迭代对象 在Python中，可迭代对象是指实现了__iter__()方法的对象，该方法返回一个迭代器（Iterator）对象。以下是一些常见的Python中的可迭代对象：
列表（List）：列表是最常用的可迭代对象之一，可以使用for循环遍历列表中的元素。元组（Tuple）：与列表类似，元组也是可迭代对象，可以通过for循环遍历其中的元素。字符串（String）：字符串也是可迭代对象，可以将字符串中的每个字符作为迭代器返回。集合（Set）：集合也是可迭代对象，可以使用for循环遍历集合中的元素。字典（Dictionary）：字典在迭代时默认遍历的是字典的键。可以使用items()方法遍历字典的键值对。文件对象（File Object）：文件对象也是可迭代对象，可以按行迭代读取文件内容。生成器（Generator）：生成器是一种特殊的可迭代对象，可以通过yield语句生成迭代器。 除了以上常见的可迭代对象，还可以自定义类实现__iter__()方法，使其成为可迭代对象。通过实现__iter__()方法，可以定义自己的迭代器行为，从而实现自定义的迭代逻辑。
使用isinstance和Iterable判断对象是否可迭代
from collections import Iterable print isinstance([], Iterable) # True print isinstance((), Iterable) # True print isinstance(&#34;nihao&#34;, Iterable) # True print isinstance({1, 2, 3}, Iterable) # True print isinstance({&#34;name&#34;: &#34;liqiang&#34;}, Iterable) # True with open(&#34;xxx.py&#34;, &#39;r&#39;) as f: print isinstance(f, Iterable) # True n = (x*3 for x in range(4)) print n # &lt;generator object &lt;genexpr&gt; at 0x106fda410&gt; print isinstance(n, Iterable) # True print isinstance(&#39;a&#39;, Iterable) # True print isinstance(100, Iterable) # False 1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/0a0b3a90391f14cc6dff8469be15e003/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-07T10:14:50+08:00" />
<meta property="article:modified_time" content="2023-10-07T10:14:50+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python迭代器和生成器</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#_2" rel="nofollow">一、迭代器</a></li><li><ul><li><a href="#11_3" rel="nofollow">1.1、什么是迭代</a></li><li><a href="#12_6" rel="nofollow">1.2、什么是迭代器</a></li><li><a href="#13Python__8" rel="nofollow">1.3、Python 中的可迭代对象</a></li><li><a href="#14Python__47" rel="nofollow">1.4、Python 中生成迭代器的方法</a></li><li><ul><li><a href="#141iter_48" rel="nofollow">1.4.1、`iter()`函数</a></li><li><a href="#142enumerate_76" rel="nofollow">1.4.2、`enumerate()`函数</a></li><li><a href="#143zip_107" rel="nofollow">1.4.3、`zip()`函数</a></li><li><a href="#144map_143" rel="nofollow">1.4.4、`map()`函数</a></li><li><a href="#145filter_173" rel="nofollow">1.4.5、`filter()`函数</a></li><li><a href="#146reversed_208" rel="nofollow">1.4.6、`reversed()`函数</a></li><li><a href="#147sorted_230" rel="nofollow">1.4.7、`sorted()`函数</a></li></ul> 
    </li><li><a href="#15_261" rel="nofollow">1.5、自定义迭代器类</a></li><li><a href="#16_290" rel="nofollow">1.6、迭代器和列表的区别</a></li><li><a href="#17for_316" rel="nofollow">1.7、迭代器和for循环区别</a></li></ul> 
   </li><li><a href="#_329" rel="nofollow">二、生成器</a></li><li><ul><li><a href="#21_330" rel="nofollow">2.1、什么是生成器</a></li><li><a href="#22_332" rel="nofollow">2.2、创建生成器</a></li><li><ul><li><a href="#221_333" rel="nofollow">2.2.1、生成器表达式</a></li><li><a href="#222_359" rel="nofollow">2.2.2、生成器函数</a></li></ul> 
    </li><li><a href="#23_380" rel="nofollow">2.3、生成器常用方法</a></li><li><ul><li><a href="#231sendvalue_381" rel="nofollow">2.3.1、`send(value)`</a></li><li><a href="#232close_406" rel="nofollow">2.3.2、`close()`</a></li><li><a href="#233throw_423" rel="nofollow">2.3.3、`throw()`</a></li><li><a href="#233yield_from_446" rel="nofollow">2.3.3、`yield from`</a></li></ul> 
    </li><li><a href="#24yieldyield_from__476" rel="nofollow">2.4、`yield`和`yield from` 区别</a></li><li><a href="#25_538" rel="nofollow">2.5、迭代器和生成器的异同</a></li><li><a href="#26_550" rel="nofollow">2.6、语法糖</a></li><li><a href="#27yield__571" rel="nofollow">2.7、`yield` 实现斐波那契数列</a></li></ul> 
   </li><li><a href="#_615" rel="nofollow">三、参考文档</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_2"></a>一、迭代器</h3> 
<h4><a id="11_3"></a>1.1、什么是迭代</h4> 
<p><u>迭代是指<strong>反复的执行</strong>一个过程，每次执行都会根据前一次的结果进行调整和优化。</u>在计算机编程中，迭代常常用于循环执行某个操作，直到达到特定的条件或达成目标。迭代也可以用于指代软件开发中的“迭代开发”，即将一个大型软件开发项目分成多个小的迭代周期，每个迭代周期都完成一个可用的软件产品版本，以便及时反馈和调整。迭代的目的是不断优化和改进，逐步达成更好的结果。</p> 
<h4><a id="12_6"></a>1.2、什么是迭代器</h4> 
<p>迭代器<code>（Iterator）</code>是一种设计模式，它提供了一种访问集合<code>（Collection）</code>中元素的方法，而不必暴露集合内部实现的细节。迭代器为不同类型的集合提供了一种统一的遍历方式，使得集合的迭代访问变得更加简单和方便。迭代器通过提供 <code>hasNext()</code> 和 <code>next()</code> 等方法来实现集合的迭代访问。<code>hasNext()</code> 方法用于判断集合是否还有下一个元素，<code>next()</code> 方法用于返回集合中的下一个元素。迭代器还可以提供 <code>remove()</code> 方法来删除集合中的元素。</p> 
<h4><a id="13Python__8"></a>1.3、Python 中的可迭代对象</h4> 
<p>在Python中，可迭代对象是指实现了<code>__iter__()</code>方法的对象，该方法返回一个迭代器（Iterator）对象。以下是一些常见的Python中的可迭代对象：</p> 
<ul><li>列表（List）：列表是最常用的可迭代对象之一，可以使用for循环遍历列表中的元素。</li><li>元组（Tuple）：与列表类似，元组也是可迭代对象，可以通过for循环遍历其中的元素。</li><li>字符串（String）：字符串也是可迭代对象，可以将字符串中的每个字符作为迭代器返回。</li><li>集合（Set）：集合也是可迭代对象，可以使用for循环遍历集合中的元素。</li><li>字典（Dictionary）：字典在迭代时默认遍历的是字典的键。可以使用<code>items()</code>方法遍历字典的键值对。</li><li>文件对象（File Object）：文件对象也是可迭代对象，可以按行迭代读取文件内容。</li><li>生成器（Generator）：生成器是一种特殊的可迭代对象，可以通过<code>yield</code>语句生成迭代器。</li></ul> 
<p>除了以上常见的可迭代对象，还可以自定义类实现<code>__iter__()</code>方法，使其成为可迭代对象。通过实现<code>__iter__()</code>方法，可以定义自己的迭代器行为，从而实现自定义的迭代逻辑。</p> 
<p>使用<code>isinstance</code>和<code>Iterable</code>判断对象是否可迭代</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> collections <span class="token keyword">import</span> Iterable

<span class="token keyword">print</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span>  <span class="token comment"># True</span>

<span class="token keyword">print</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span>  <span class="token comment"># True</span>

<span class="token keyword">print</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token string">"nihao"</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span>  <span class="token comment"># True</span>

<span class="token keyword">print</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span>  <span class="token comment"># True</span>

<span class="token keyword">print</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"liqiang"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span>  <span class="token comment"># True</span>

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"xxx.py"</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
    <span class="token keyword">print</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>f<span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span>  <span class="token comment"># True</span>

n <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">*</span><span class="token number">3</span> <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> n  <span class="token comment"># &lt;generator object &lt;genexpr&gt; at 0x106fda410&gt;</span>
<span class="token keyword">print</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span>  <span class="token comment"># True</span>


<span class="token keyword">print</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span>  <span class="token comment"># True</span>

<span class="token keyword">print</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> Iterable<span class="token punctuation">)</span>  <span class="token comment"># False</span>
</code></pre> 
<h4><a id="14Python__47"></a>1.4、Python 中生成迭代器的方法</h4> 
<h5><a id="141iter_48"></a>1.4.1、<code>iter()</code>函数</h5> 
<p>该方法返回迭代器对象本身（self）</p> 
<pre><code class="prism language-python">L <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
t <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
s <span class="token operator">=</span> <span class="token string">"nihao"</span>
set1 <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span>
d <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"liqiang"</span><span class="token punctuation">}</span>

liter <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span>L<span class="token punctuation">)</span>
titer <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span>
siter <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
setiter <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span>set1<span class="token punctuation">)</span>
diter <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>

<span class="token keyword">print</span> liter<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 1</span>
<span class="token keyword">print</span> titer<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 1</span>
<span class="token keyword">print</span> titer<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 5</span>
<span class="token keyword">print</span> siter<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># n</span>
<span class="token keyword">print</span> setiter<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 1</span>
<span class="token keyword">print</span> diter<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># name</span>
<span class="token keyword">print</span> liter<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 5</span>
<span class="token keyword">print</span> diter<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># 如果没有下一个元素则抛出StopIteration异常</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"xxx.py"</span><span class="token punctuation">,</span> line <span class="token number">44</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
    <span class="token keyword">print</span> diter<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
StopIteration
</code></pre> 
<h5><a id="142enumerate_76"></a>1.4.2、<code>enumerate()</code>函数</h5> 
<p>该函数返回一个迭代器对象，包含传入可迭代对象的索引和元素。<code>enumerate()</code>函数是python的内置函数，用于将一个可遍历的数据对象（如列表、元组、字符串）组合为一个索引序列，同时列出数据和数据下标。它返回一个枚举对象，包含了索引和对应的数据。使用方法如下：</p> 
<pre><code class="prism language-python"><span class="token builtin">enumerate</span><span class="token punctuation">(</span>iterable<span class="token punctuation">,</span> start<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre> 
<p>其中，iterable是一个可迭代对象，start是可选参数，用于设置起始的索引，默认为0。<br> 示例如下：</p> 
<pre><code class="prism language-python">name_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span> <span class="token string">"lisi"</span><span class="token punctuation">,</span> <span class="token string">"wangwu"</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> index<span class="token punctuation">,</span> name <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>name_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token string">"-----------------------------------"</span>
iter_object <span class="token operator">=</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>name_list<span class="token punctuation">)</span>
<span class="token keyword">print</span> iter_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> iter_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> iter_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> iter_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 结果如下</span>
<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'zhangsan'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'lisi'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'wangwu'</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'zhangsan'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'lisi'</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'wangwu'</span><span class="token punctuation">)</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"/Users/gaoyueyun/Documents/code/文件操作/python-test/可迭代对象.py"</span><span class="token punctuation">,</span> line <span class="token number">54</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
    <span class="token keyword">print</span> iter_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
StopIteration
</code></pre> 
<h5><a id="143zip_107"></a>1.4.3、<code>zip()</code>函数</h5> 
<p><code>zip()</code>函数是python的内置函数，用于将多个可迭代对象合并成一个元组序列，常用于将多个列表、元组或其他可迭代对象中的对应元素进行配对。使用方法如下：</p> 
<pre><code class="prism language-python"><span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token operator">*</span>iterables<span class="token punctuation">)</span>
</code></pre> 
<p><code>*iterables</code>表示一个或多个可迭代对象，可以是列表、元组、字符串、集合等。<code>zip()</code>函数将这些可迭代对象中的对应元素组合成为一个元组序列，返回一个zip对象，可以通过<code>iter()</code>函数将其转换为迭代器。</p> 
<pre><code class="prism language-python">names_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span> <span class="token string">"lisi"</span><span class="token punctuation">,</span> <span class="token string">"wangwu"</span><span class="token punctuation">]</span>
ages_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span>
heights_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1.6</span><span class="token punctuation">,</span> <span class="token number">1.8</span><span class="token punctuation">,</span> <span class="token number">1.7</span><span class="token punctuation">]</span>

<span class="token keyword">for</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> height <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>names_list<span class="token punctuation">,</span> ages_list<span class="token punctuation">,</span> heights_list<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> height<span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token string">"-----------------------------------"</span>
iter_object <span class="token operator">=</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>names_list<span class="token punctuation">,</span> ages_list<span class="token punctuation">,</span> heights_list<span class="token punctuation">)</span>
<span class="token keyword">print</span> iter_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token string">"-----------------------------------"</span>
iter_object <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span>names_list<span class="token punctuation">,</span> ages_list<span class="token punctuation">,</span> heights_list<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> iter_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> iter_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> iter_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 结果如下</span>
<span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">1.6</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'lisi'</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">1.8</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'wangwu'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">1.7</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"/Users/gaoyueyun/Documents/code/文件操作/python-test/可迭代对象.py"</span><span class="token punctuation">,</span> line <span class="token number">54</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
    <span class="token keyword">print</span> iter_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
AttributeError<span class="token punctuation">:</span> <span class="token string">'list'</span> <span class="token builtin">object</span> has no attribute <span class="token string">'next'</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">1.6</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'lisi'</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">1.8</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token string">'wangwu'</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">1.7</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="144map_143"></a>1.4.4、<code>map()</code>函数</h5> 
<p>map()函数是python的内置函数，用于对一个或多个可迭代对象中的元素逐个应用某个函数，返回一个迭代器。使用方法如下：</p> 
<pre><code class="prism language-python"><span class="token builtin">map</span><span class="token punctuation">(</span>function<span class="token punctuation">,</span> <span class="token operator">*</span>iterables<span class="token punctuation">)</span>
</code></pre> 
<p><code>function</code>是一个函数对象，<code>*iterables</code>表示一个或多个可迭代对象，可以是列表、元组、字符串、集合等。<code>map()</code>函数将<code>function</code>应用于<code>iterables</code>中的元素，逐个返回结果。示例如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">square</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> x <span class="token operator">**</span> <span class="token number">2</span>


numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
squared_numbers <span class="token operator">=</span> <span class="token builtin">map</span><span class="token punctuation">(</span>square<span class="token punctuation">,</span> numbers<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>squared_numbers<span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token string">"----------------------------------"</span>
squared_numbers <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span>square<span class="token punctuation">,</span> numbers<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> squared_numbers<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> squared_numbers<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> squared_numbers<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> squared_numbers<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 结果如下</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">]</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token number">1</span>
<span class="token number">4</span>
<span class="token number">9</span>
<span class="token number">16</span>
</code></pre> 
<h5><a id="145filter_173"></a>1.4.5、<code>filter()</code>函数</h5> 
<p>filter()函数是python的内置函数，用于过滤一个可迭代对象中的元素，返回一个迭代器。使用方法如下：</p> 
<pre><code class="prism language-python"><span class="token builtin">filter</span><span class="token punctuation">(</span>function<span class="token punctuation">,</span> iterable<span class="token punctuation">)</span>
</code></pre> 
<p>function是一个用于过滤元素的函数对象，iterable是一个可迭代对象，可以是列表、元组、字符串、集合等。filter()函数将function应用于iterable中的每个元素，返回一个只包含满足条件的元素的迭代器。示例如下：</p> 
<pre><code class="prism language-python">num_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
filter_object <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span><span class="token builtin">filter</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span> num_list<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> filter_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> filter_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> filter_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">get_num</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> x <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> x


filter_object <span class="token operator">=</span> <span class="token builtin">filter</span><span class="token punctuation">(</span>get_num<span class="token punctuation">,</span> num_list<span class="token punctuation">)</span>
<span class="token keyword">print</span> filter_object
filter_object <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span><span class="token builtin">filter</span><span class="token punctuation">(</span>get_num<span class="token punctuation">,</span> num_list<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> filter_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> filter_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> filter_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 结果如下</span>
<span class="token number">3</span>
<span class="token number">4</span>
<span class="token number">5</span>
<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
<span class="token number">3</span>
<span class="token number">4</span>
<span class="token number">5</span>
</code></pre> 
<h5><a id="146reversed_208"></a>1.4.6、<code>reversed()</code>函数</h5> 
<p><code>reversed()</code>函数是python的内置函数，用于反转一个序列（如列表、元组、字符串）的元素顺序，返回一个迭代器。使用方法如下：</p> 
<pre><code class="prism language-python"><span class="token builtin">reversed</span><span class="token punctuation">(</span>sequence<span class="token punctuation">)</span>
</code></pre> 
<p><code>sequence</code>是一个序列，可以是列表、元组、字符串等。<code>reversed()</code>函数将sequence中的元素顺序进行反转，返回一个迭代器。示例如下：</p> 
<pre><code class="prism language-python">num_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span>
re_object <span class="token operator">=</span> <span class="token builtin">reversed</span><span class="token punctuation">(</span>num_list<span class="token punctuation">)</span>
<span class="token keyword">print</span> re_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> re_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> re_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> re_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> re_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 结果如下</span>
<span class="token number">5</span>
<span class="token number">4</span>
<span class="token number">3</span>
<span class="token number">2</span>
<span class="token number">1</span>
</code></pre> 
<h5><a id="147sorted_230"></a>1.4.7、<code>sorted()</code>函数</h5> 
<p><code>sorted()</code>函数是python的内置函数，用于对一个序列（如列表、元组、字符串）进行排序，返回一个新的已排序的列表。使用方法如下：</p> 
<pre><code class="prism language-python"><span class="token builtin">sorted</span><span class="token punctuation">(</span>iterable<span class="token punctuation">,</span> key<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
</code></pre> 
<p><code>iterable</code>是一个序列，可以是列表、元组、字符串等；key是一个函数，用于指定排序规则，默认为None，表示按照元素的大小比较进行排序；<code>reverse</code>是一个布尔值，用于指定是否降序排列，默认为False，表示升序排列。示例如下：</p> 
<pre><code class="prism language-python">num_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span>
s_object <span class="token operator">=</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>num_list<span class="token punctuation">)</span>
<span class="token keyword">print</span> s_object
<span class="token keyword">print</span> <span class="token string">"------------------------------"</span>
s2_object <span class="token operator">=</span> <span class="token builtin">iter</span><span class="token punctuation">(</span><span class="token builtin">sorted</span><span class="token punctuation">(</span>num_list<span class="token punctuation">,</span> reverse<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> s2_object
<span class="token keyword">print</span> s2_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> s2_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> s2_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> s2_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> s2_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> s2_object<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 结果如下</span>
<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">]</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
<span class="token operator">&lt;</span>listiterator <span class="token builtin">object</span> at <span class="token number">0x106a6e150</span><span class="token operator">&gt;</span>
<span class="token number">12</span>
<span class="token number">9</span>
<span class="token number">7</span>
<span class="token number">6</span>
<span class="token number">3</span>
<span class="token number">0</span>
</code></pre> 
<h4><a id="15_261"></a>1.5、自定义迭代器类</h4> 
<p>自定义迭代器类需要实现<code>__iter__()</code>和<code>__next__()</code>两个方法。<code>iter()</code>方法返回迭代器本身，<code>next()</code>方法用于返回容器中的下一个值。例如：</p> 
<pre><code class="prism language-python"><span class="token keyword">class</span> <span class="token class-name">MyIterator</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> container<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>container <span class="token operator">=</span> container
        self<span class="token punctuation">.</span>index <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token keyword">def</span> <span class="token function">__iter__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self

    <span class="token keyword">def</span> <span class="token function">__next__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>index <span class="token operator">&gt;=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>container<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">raise</span> StopIteration
        value <span class="token operator">=</span> self<span class="token punctuation">.</span>container<span class="token punctuation">[</span>self<span class="token punctuation">.</span>index<span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>index <span class="token operator">+=</span> <span class="token number">1</span>
        <span class="token keyword">return</span> value


iter01 <span class="token operator">=</span> MyIterator<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> iter01<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> iter01<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> iter01<span class="token punctuation">.</span>__next__<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 结果如下：</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
</code></pre> 
<h4><a id="16_290"></a>1.6、迭代器和列表的区别</h4> 
<ul><li> <p>存储方式：列表是一种数据结构，以连续的内存空间来存储元素，可以随机访问其中的任意元素。而迭代器是一种访问集合中元素的方式，可以一次访问一个元素，而不需要提前加载所有元素到内存中。</p> </li><li> <p>内存占用：列表将所有元素一次性加载到内存中，占用的内存空间较大。而迭代器仅在需要时生成和返回元素，占用的内存空间较小。</p> </li><li> <p>访问方式：列表可以通过索引来直接访问和修改元素。而迭代器需要逐个调用<code>next()</code>方法来访问和返回元素。</p> </li><li> <p>遍历次数：列表可以被多次遍历，每次遍历都是从头开始。而<u>迭代器只能遍历一次，遍历结束后需要重新创建迭代器对象才能再次遍历。</u></p> </li><li> <p>惰性计算：迭代器可以进行惰性计算，即在需要时才生成下一个元素，可以节省计算资源。而列表在创建时就会立即计算和存储所有元素。</p> </li></ul> 
<p><strong>迭代器是一种按需生成和访问元素的方式，适用于处理大量数据或无需提前加载所有数据的场景。列表是一种数据结构，适用于需要随机访问元素或多次遍历的场景。</strong></p> 
<p><strong>迭代器（Iterator）和可迭代对象（Iterable）区别</strong></p> 
<ul><li> <p>接口实现：可迭代对象是指实现了<code>__iter__()</code>方法的对象，该方法返回一个迭代器对象。而迭代器是指实现了<code>__iter__()</code>和<code>__next__()</code>方法的对象，其中<code>__iter__()</code>方法返回迭代器对象本身，<code>next()</code>方法用于返回容器中的下一个值。</p> </li><li> <p>访问方式：可迭代对象可以通过for循环直接进行遍历，也可以通过iter()函数将其转换为迭代器。迭代器需要使用<code>next()</code>函数或者for循环来逐个访问元素。</p> </li><li> <p>存储方式：可迭代对象可以是一次性将所有元素存储在内存中的数据结构，例如列表、元组、集合等。迭代器是一种按需生成和返回元素的机制，可以节省内存空间，特别适用于处理大量数据或无需提前加载所有数据的情况。</p> </li><li> <p>遍历次数：可迭代对象可以被多次遍历，每次遍历都是从头开始。而迭代器只能遍历一次，遍历结束后需要重新创建迭代器对象才能再次遍历。</p> </li><li> <p>惰性计算：迭代器可以进行惰性计算，即在需要时才生成下一个元素，可以节省计算资源。可迭代对象在创建时就会立即计算和存储所有元素。</p> </li></ul> 
<p>可迭代对象是一种具有遍历能力的对象，它可以通过迭代器来进行遍历。迭代器是一种按需生成和访问元素的机制，用于遍历可迭代对象。迭代器相对于可迭代对象更加灵活和节省内存，适用于处理大量数据或需要惰性计算的场景。因此，在Python中使用迭代器可以提高程序的效率和性能。</p> 
<h4><a id="17for_316"></a>1.7、迭代器和for循环区别</h4> 
<ul><li> <p>实现方式：迭代器是基于迭代器协议实现的，需要自定义<code>__iter__()</code>和<code>__next__()</code>方法。而for循环是Python提供的一种高级语法，用于遍历可迭代对象。</p> </li><li> <p>访问方式：使用迭代器时，需要通过调用<code>next()</code>函数或者使用for循环来逐个访问元素。而for循环直接使用可迭代对象进行遍历，无需关心迭代器的具体实现。</p> </li><li> <p>遍历方式：迭代器逐个返回元素，可以按需生成和返回元素，即使处理大量数据也不需要提前加载所有数据到内存中。而for循环会一次性将所有元素加载到内存中，然后按顺序进行遍历。</p> </li><li> <p>遍历次数：迭代器只能遍历一次，遍历结束后需要重新创建迭代器对象才能再次遍历。而for循环可以多次遍历可迭代对象，每次都是从头开始遍历。</p> </li><li> <p>使用场景：迭代器适用于处理大量数据或无需提前加载所有数据的情况，可以节省内存空间。for循环适用于一次性遍历所有元素，并且无需关心具体的迭代实现。</p> </li></ul> 
<p>迭代器是一种按需生成和访问元素的机制，适用于处理大量数据或需要惰性计算的场景。而for循环是一种便捷的语法，适用于遍历可迭代对象，<strong>无需关心其具体的迭代实现。</strong></p> 
<h3><a id="_329"></a>二、生成器</h3> 
<h4><a id="21_330"></a>2.1、什么是生成器</h4> 
<p>在 Python 中，使用了<code>yield</code>的函数被称为生成器（generator）。<code>yield</code>是一个关键字，用于定义生成器函数，生成器函数是一种特殊的函数，可以在迭代过程中逐步产生值，而不是一次性返回所有结果。跟普通函数不同的是，生成器是一个返回迭代器的函数，只能用于迭代操作，更简单点理解生<strong>成器就是一个迭代器</strong>。当在生成器函数中使用<code>yield</code>语句时，函数的执行将会暂停，并将<code>yield</code>后面的表达式作为当前迭代的值返回。然后，每次调用生成器的<code>next()</code>方法或使用<code>for</code>循环进行迭代时，函数会从上次暂停的地方继续执行，直到再次遇到<code>yield</code>语句。这样，生成器函数可以逐步产生值，而不需要一次性计算并返回所有结果。调用一个生成器函数，返回的是一个迭代器对象。</p> 
<h4><a id="22_332"></a>2.2、创建生成器</h4> 
<h5><a id="221_333"></a>2.2.1、生成器表达式</h5> 
<p>生成器表达式是一种类似于列表推导式的语法，但是生成的是一个生成器对象。使用生成器表达式时，不需要显式定义函数，直接在一对圆括号内编写表达式即可。示例如下：</p> 
<pre><code class="prism language-python">gen <span class="token operator">=</span> <span class="token punctuation">(</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> gen<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>gen<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>gen<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> gen<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span> <span class="token string">"-------------------------"</span>

list_method <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">print</span> <span class="token builtin">next</span><span class="token punctuation">(</span>list_method<span class="token punctuation">)</span>
<span class="token keyword">print</span> list_method<span class="token punctuation">.</span><span class="token builtin">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 结果如下</span>
<span class="token number">0</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span><span class="token operator">-</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"/Users/gaoyueyun/Documents/code/文件操作/python-test/可迭代对象.py"</span><span class="token punctuation">,</span> line <span class="token number">151</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
    <span class="token keyword">print</span> <span class="token builtin">next</span><span class="token punctuation">(</span>list_method<span class="token punctuation">)</span>
TypeError<span class="token punctuation">:</span> <span class="token builtin">list</span> <span class="token builtin">object</span> <span class="token keyword">is</span> <span class="token keyword">not</span> an iterator
</code></pre> 
<h5><a id="222_359"></a>2.2.2、生成器函数</h5> 
<p>生成器函数是一种特殊的函数，其中包含<code>yield</code>语句。当调用生成器函数时，并不会执行函数体内的代码，而是返回一个生成器对象。每次调用生成器的<code>__next__()</code>方法时，会执行生成器函数体内的代码，直到遇到<code>yield</code>语句，将<code>yield</code>后面的表达式作为生成器的返回值，并暂停执行函数。下次调用<code>__next__()</code>方法时，会从上次暂停的位置继续执行。示例如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">countdown</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">while</span> n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">yield</span> n
        n <span class="token operator">-=</span> <span class="token number">1</span>


<span class="token comment"># 创建生成器对象</span>
generator <span class="token operator">=</span> countdown<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

<span class="token comment"># 通过迭代生成器获取值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: 5</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: 4</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: 3</span>

<span class="token comment"># 使用 for 循环迭代生成器</span>
<span class="token keyword">for</span> value <span class="token keyword">in</span> generator<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>  <span class="token comment"># 输出: 2 1</span>
</code></pre> 
<h4><a id="23_380"></a>2.3、生成器常用方法</h4> 
<h5><a id="231sendvalue_381"></a>2.3.1、<code>send(value)</code></h5> 
<p>向生成器发送一个值，并继续生成器的执行。该方法的作用类似于yield表达式，可以将一个值发送给生成器，并让生成器继续执行。<strong>使用该方法时，需要先调用一次<code>next()</code>方法</strong>，使生成器运行到yield语句的位置。示例如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">my_generator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        value <span class="token operator">=</span> <span class="token keyword">yield</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>

gen <span class="token operator">=</span> my_generator<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token builtin">next</span><span class="token punctuation">(</span>gen<span class="token punctuation">)</span>  <span class="token comment"># 运行到 yield 语句</span>
gen<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment"># 输出：1</span>
gen<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 输出：2</span>
</code></pre> 
<p>使用<code>send(value)</code>方法时，需要注意以下几点：</p> 
<ul><li> <p>在第一次调用生成器对象之前，需要先使用一次<code>next()</code>方法，使生成器执行到yield语句的位置。</p> </li><li> <p>生成器对象的<code>send(value)</code>方法会将value赋值给<code>yield</code>表达式左边的变量，并继续执行生成器，直到遇到下一个<code>yield</code>表达式或结束。</p> </li><li> <p>首次调用<code>send(value)</code>方法时，传递的参数值会被忽略，即不会赋值给第一个<code>yield</code>表达式的左边变量。如果非要给第一个<code>yield</code>表达式传递一个初始值，可以通过先调用<code>next()</code>方法，然后使用<code>send(value)</code>方法。</p> </li></ul> 
<p>在上述示例中，首先调用<code>next(gen)</code>将生成器执行到第一个<code>yield</code>语句的位置。然后，<code>gen.send(1)</code>将值1发送给生成器，赋值给<code>yield</code>表达式左边的变量<code>value</code>，并继续执行生成器，打印出1。接着，<code>gen.send(2)</code>再次发送值2给生成器，赋值给<code>value</code>并打印出2。</p> 
<p>通过使用<code>send(value)</code>方法，我们可以在生成器的执行过程中提供不同的输入值，并根据需要进行后续的处理。</p> 
<h5><a id="232close_406"></a>2.3.2、<code>close()</code></h5> 
<p>关闭生成器。调用该方法后，生成器将无法再次使用。</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">countdown</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">while</span> n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">yield</span> n
        n <span class="token operator">-=</span> <span class="token number">1</span>


<span class="token comment"># 创建生成器对象</span>
generator <span class="token operator">=</span> countdown<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

<span class="token comment"># 通过迭代生成器获取值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 输出: 5</span>
generator<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>       <span class="token comment"># 关闭生成器</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># 抛出StopIteration异常</span>
</code></pre> 
<h5><a id="233throw_423"></a>2.3.3、<code>throw()</code></h5> 
<p>向生成器抛出一个异常。使用该方法时，需要先调用一次<code>next()</code>方法，使生成器运行到<code>yield</code>语句的位置。示例如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">countdown</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">while</span> n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">yield</span> n
            n <span class="token operator">-=</span> <span class="token number">1</span>
        <span class="token keyword">except</span> ValueError<span class="token punctuation">:</span>
            <span class="token keyword">print</span> <span class="token string">"报错了"</span>


<span class="token comment"># 创建生成器对象</span>
generator <span class="token operator">=</span> countdown<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

<span class="token comment"># 通过迭代生成器获取值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">)</span>       <span class="token comment"># 输出: 5</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">)</span>       <span class="token comment"># 输出: 4</span>
generator<span class="token punctuation">.</span>throw<span class="token punctuation">(</span>ValueError<span class="token punctuation">)</span>  <span class="token comment"># 输出: 报错了</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">)</span>       <span class="token comment"># 输出: 3</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">)</span>       <span class="token comment"># 输出: 2</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">)</span>       <span class="token comment"># 输出: 1</span>
</code></pre> 
<h5><a id="233yield_from_446"></a>2.3.3、<code>yield from</code></h5> 
<p>将一个可迭代对象委托给生成器。使用该语法可以简化生成器的实现，使其更加清晰和易读。需要说明的是，python2不支持，python3.3以后支持。示例如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">countdown</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">while</span> n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">yield</span> n
        n <span class="token operator">-=</span> <span class="token number">1</span>

<span class="token keyword">def</span> <span class="token function">my_gen</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">yield</span> <span class="token keyword">from</span> countdown<span class="token punctuation">(</span>n<span class="token punctuation">)</span>
    <span class="token keyword">yield</span> n<span class="token operator">+</span><span class="token number">1</span>



<span class="token comment"># 创建生成器对象</span>
generator <span class="token operator">=</span> my_gen<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># [5, 4, 3, 2, 1, 6]</span>

<span class="token comment"># 通过迭代生成器获取值</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token operator">&lt;</span>generator <span class="token builtin">object</span> my_gen at <span class="token number">0x10856f270</span><span class="token operator">&gt;</span>
<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span><span class="token punctuation">:</span>
  File <span class="token string">"xxx.py"</span><span class="token punctuation">,</span> line <span class="token number">167</span><span class="token punctuation">,</span> <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">next</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">)</span>
StopIteration
</code></pre> 
<h4><a id="24yieldyield_from__476"></a>2.4、<code>yield</code>和<code>yield from</code> 区别</h4> 
<p><code>yield</code>原理：</p> 
<ul><li><code>yield</code>用于定义生成器函数（包含<code>yield</code>语句的函数）。</li><li>当生成器函数被调用时，它会返回一个生成器对象，而不是立即执行函数体。</li><li>在生成器函数中，<code>yield</code>语句将生成一个值，并将生成器的状态暂停，保存当前的上下文环境，并返回值给调用者。</li><li>调用生成器的<code>__next__()</code>方法或使用<code>for</code>循环迭代生成器时，会恢复生成器的状态，继续执行后续的代码。</li><li><code>yield</code>语句可以出现在函数中的任意位置，并且可以出现多次。</li></ul> 
<p><code>yield from</code>原理：</p> 
<ul><li><code>yield from</code>语句用于在生成器函数内部的控制权委派另一个生成器或可迭代对象进行迭代。</li><li>当使用<code>yield from</code>委派给子生成器时，子生成器将负责产生值，并将这些值返回给<code>yield from</code>的调用者。同时，<code>yield from</code>还可以传递给子生成器发送的值。</li><li><code>yield from</code>会自动处理委派生成器和子生成器之间的异常传递，使得异常能够正确地向上层传递。</li><li><code>yield from</code>可以用于多层嵌套，将委派生成器和子生成器层层连接起来。</li></ul> 
<p><code>yield</code>是一个表达式，它可以将值传递给调用方并暂停函数的执行。当再次调用函数时，函数会从暂停的位置继续执行，直到遇到下一个<code>yield</code>。<code>yield</code>实际上是生成器函数的核心机制，它允许生成器函数产生多个值，并且在每次产生值后可以暂停执行。</p> 
<p><code>yield from</code>是Python3.3中引入的新特性，它可以将另一个生成器或可迭代对象委托给当前生成器来生成。使用<code>yield from</code>委托生成器时，有两种情况：</p> 
<ul><li> <p>如果委托的是生成器，那么委托生成器会完全接管当前生成器的控制权，直到委托生成器返回或抛出异常。</p> </li><li> <p>如果委托的是可迭代对象，那么<code>yield from</code>会自动处理迭代器和异常，直到可迭代对象耗尽或抛出异常。<code>yield from</code>语句将返回可迭代对象生成的所有值。</p> </li></ul> 
<p>从原理上来说，<code>yield from</code>的实现比<code>yield</code>复杂得多。<code>yield from</code>实际上是一个语法糖，它隐藏了生成器和迭代器之间的所有细节。当使用<code>yield from</code>语句时，Python会自动处理所有的迭代器和生成器协议。具体来说，Python会自动创建一个子生成器对象，并在子生成器完成时自动捕获并处理所有的<code>StopIteration</code>异常。</p> 
<p>举个例子，考虑以下代码：</p> 
<pre><code class="prism language-python">list01 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>


<span class="token keyword">def</span> <span class="token function">g1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">yield</span> list01


<span class="token keyword">def</span> <span class="token function">g2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">yield</span> <span class="token keyword">from</span> list01


it1 <span class="token operator">=</span> g1<span class="token punctuation">(</span><span class="token punctuation">)</span>
it2 <span class="token operator">=</span> g2<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">for</span> x <span class="token keyword">in</span> it1<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>

<span class="token keyword">for</span> x <span class="token keyword">in</span> it2<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>

<span class="token comment"># 结果如下</span>
<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token number">0</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">4</span>
</code></pre> 
<p><strong><code>yield from</code>相比<code>yield</code>优势</strong></p> 
<ul><li><code>yield from</code>语句可以将嵌套的可迭代对象“展开”，使得代码更简洁，而不需要显式地写出循环语句。</li><li><code>yield from</code>语句可以简化异常处理，当嵌套的可迭代对象中发生异常时，它会自动传播到生成器中，并被捕获和处理。</li><li><code>yield from</code>语句可以将生成器的控制权交给其他生成器或协程，以实现更灵活的协作式并发编程。</li><li><code>yield from</code>语句在处理过程中会自动处理子生成器返回的值和异常，而<code>yield</code>语句需要手动处理。</li></ul> 
<h4><a id="25_538"></a>2.5、迭代器和生成器的异同</h4> 
<p><strong>共同点</strong>：</p> 
<ul><li>迭代器和生成器都是用于实现迭代行为的工具，用于遍历序列中的元素或处理大量数据。</li><li>迭代器和生成器都是惰性计算的，即只在需要时才产生值。</li><li>迭代器和生成器都可以实现<strong>无限序列的处理</strong>，因为它们是按需生成值的。</li></ul> 
<p><strong>区别</strong>：</p> 
<ul><li>迭代器是任何实现了<code>__iter__()</code>和<code>__next__()</code>方法的对象，它是一个迭代器协议的实现。而生成器是一种特殊的迭代器，它是通过生成器函数或生成器表达式创建的。</li><li>生成器是一种更加高级、更加方便的实现迭代行为的方式，它使用<code>yield</code>关键字逐步产生值，并在每次产生值后暂停执行，等待下一次迭代。迭代器则需要显式地实现<code>__next__()</code>方法来产生值。</li><li>生成器可以通过生成器函数或生成器表达式来创建，而迭代器则可以是任何实现了<code>__iter__()</code>和<code>__next__()</code>方法的对象，例如列表、元组、字符串等。</li></ul> 
<h4><a id="26_550"></a>2.6、语法糖</h4> 
<p>语法糖（Syntactic sugar）是指编程语言中的一种语法构造，它可以使代码更简洁、易读和易写，但实际上并没有提供任何新的功能。<u>语法糖是对底层语言特性的高级封装，</u>使得编码变得更加方便和直观。</p> 
<p><strong>语法糖通常是一种编译器或解释器的功能，它可以将简洁的高级语法转换为底层的更复杂的语法结构。</strong> 这样做的目的是为了提高代码的可读性和可维护性，以及减少程序员编写错误的可能性。</p> 
<p>语法糖可以包括各种形式的简化语法，如简洁的表达式、简化的控制结构或简化的数据类型定义。它们通常不是必需的，可以通过使用底层语言特性来实现相同的功能，但语法糖可以大大简化代码的编写和理解。</p> 
<p>常见的语法糖包括：简化的迭代器和循环结构、自动类型推导、操作符重载、匿名函数和Lambda表达式等。这些语法糖使得代码更加简洁、易读和易写，但实际上它们都是通过编译器或解释器在底层进行转换和处理的。</p> 
<p><strong>python 常见语法糖</strong></p> 
<ul><li> <p>列表推导式：用一行代码快速生成列表，例如 <code>[x for x in range(10)]</code> 可以生成一个包含0到9的列表。</p> </li><li> <p>字典推导式：类似于列表推导式，用一行代码快速生成字典，例如 <code>{x: x**2 for x in range(10)}</code> 可以生成一个键为0到9的数字，对应值为它们的平方的字典。</p> </li><li> <p>带有if条件的推导式：在列表推导式或字典推导式中加入if条件，可以根据条件过滤元素或进行条件赋值。例如 <code>[x for x in range(10) if x % 2 == 0]</code> 可以生成一个包含0到9中偶数的列表。</p> </li><li> <p>装饰器：装饰器是一种用于修改或增强函数功能的语法糖。通过在函数定义前使用@符号和装饰器函数，可以简化函数的装饰过程。</p> </li><li> <p>上下文管理器：通过<code>with</code>语句和<code>__enter__</code>、<code>__exit__</code>方法，可以简化对资源的管理，例如文件的打开和关闭。</p> </li></ul> 
<h4><a id="27yield__571"></a>2.7、<code>yield</code> 实现斐波那契数列</h4> 
<p>斐波那契数列（Fibonacci sequence），又称黄金分割数列、因数学家列昂纳多·斐波那契（Leonardoda Fibonacci）以兔子繁殖为例子而引入，故又称为“兔子数列”。<br> <img src="https://images2.imgbox.com/86/ab/ARjhs9l3_o.jpg" alt="在这里插入图片描述"></p> 
<p>指的是这样一个数列：1、1、2、3、5、8、13、21、34、……在数学上，斐波纳契数列以如下被以递推的方法定义：<code>F(1)=1，F(2)=1, F(n)=F(n-1)+F(n-2)</code></p> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""斐波那契数列实现"""</span>
    a<span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span>
    <span class="token keyword">while</span> n <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">:</span>
        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b
        n <span class="token operator">-=</span> <span class="token number">1</span>
        <span class="token keyword">yield</span> a


<span class="token comment"># 另一种写法</span>
<span class="token keyword">def</span> <span class="token function">fibonacci</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment"># 生成器函数 - 斐波那契</span>
    a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span>
    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>counter <span class="token operator">&gt;</span> n<span class="token punctuation">)</span><span class="token punctuation">:</span> 
            <span class="token keyword">return</span>
        <span class="token keyword">yield</span> a
        a<span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a <span class="token operator">+</span> b
        counter <span class="token operator">+=</span> <span class="token number">1</span>

<span class="token comment"># 获取斐波那契数列前 10 个成员</span>
fibonacci_ <span class="token operator">=</span> fibonacci<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> fibonacci_<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>

<span class="token comment"># 结果如下</span>
<span class="token number">1</span>
<span class="token number">1</span>
<span class="token number">2</span>
<span class="token number">3</span>
<span class="token number">5</span>
<span class="token number">8</span>
<span class="token number">13</span>
<span class="token number">21</span>
<span class="token number">34</span>
<span class="token number">55</span>
</code></pre> 
<h3><a id="_615"></a>三、参考文档</h3> 
<p>1、https://www.yisu.com/zixun/312592.html</p> 
<p>2、https://blog.csdn.net/qq_36441027/article/details/105919241</p> 
<p>3、https://www.cnblogs.com/chengxuyuanaa/p/13065794.html</p> 
<p>4、https://www.cnblogs.com/jiba/p/14047159.html</p> 
<p>5、https://my.oschina.net/u/4330317/blog/4202095</p> 
<p>6、https://www.cnblogs.com/alex3714/articles/5765046.html</p> 
<p>7、https://kelepython.readthedocs.io/zh/latest/c01/c01_11.html</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/2529ea56bde916ecf9cce5529b9231e9/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">git常用命令</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/032745876fbf576fda0368f1735d454a/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">python 闭包理解与应用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>