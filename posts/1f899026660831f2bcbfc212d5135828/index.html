<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【数据库高级】Mysql窗口函数的使用和练习 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【数据库高级】Mysql窗口函数的使用和练习" />
<meta property="og:description" content="Mysql窗口函数 🌾Mysql窗口函数🕊️一、什么是窗口函数🍃1、怎么理解窗口?🍃2、什么是窗口函数🍵1. 基本语法：🍵2. 窗口函数多用在什么场景？主要有以下两类：🍵3. 我们常见的窗口函数和聚合函数有这些：🍵4. 窗口函数和普通聚合函数的区别？ 🕊️二、窗口函数的练习🍃1、序号函数🍃2、分布函数：🍃3、前后函数🍃4、首尾函数🍃5、其他函数 🕊️三、实战 🌾Mysql窗口函数 本文主要介绍了MySQL窗口函数的定义和具体使用。
首先窗口函数是从MySQL8.0开始支持的，如果现在使用的是MySQL5.0或者8.0一下的版本，那么非常遗憾，建议搞个8.0版本试一试，哈哈~
🕊️一、什么是窗口函数 🍃1、怎么理解窗口? 搞清楚窗口代表着啥，才知道什么时候该用它。
窗口函数是相对于聚函数来说的。
聚合函数是对一组数据计算后返回单个值（即分组）。非聚合函数一次只会处理一行数据。而窗口函数在行记录上计算某个字段的结果时，可将窗口范围内的数据输入到聚合函数中，并不改变行数。 根据上面所说，准备如下员工表信息数据
-- 员工表 create table if not exists sql_niukewang.`employee` ( `eid` int not null auto_increment comment &#39;员工id&#39; primary key, `ename` varchar(20) not null comment &#39;员工名称&#39;, `dname` varchar(50) not null comment &#39;部门名称&#39;, `hiredate` date not null comment &#39;入职日期&#39;, `salary` double null comment &#39;薪资&#39; ) comment &#39;员工表&#39;; insert into sql_niukewang.`employee` (`ename`, `dname`, `hiredate`, `salary`) values (&#39;傅嘉熙&#39;, &#39;开发部&#39;, &#39;2022-08-20 12:00:04&#39;, 9000); insert into sql_niukewang." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/1f899026660831f2bcbfc212d5135828/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-02T11:14:27+08:00" />
<meta property="article:modified_time" content="2022-12-02T11:14:27+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【数据库高级】Mysql窗口函数的使用和练习</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>Mysql窗口函数</h4> 
 <ul><li><a href="#Mysql_1" rel="nofollow">🌾Mysql窗口函数</a></li><li><a href="#_7" rel="nofollow">🕊️一、什么是窗口函数</a></li><li><ul><li><a href="#1_9" rel="nofollow">🍃1、怎么理解窗口?</a></li><li><a href="#2_87" rel="nofollow">🍃2、什么是窗口函数</a></li><li><ul><li><a href="#1__91" rel="nofollow">🍵1. 基本语法：</a></li><li><a href="#2__103" rel="nofollow">🍵2. 窗口函数多用在什么场景？主要有以下两类：</a></li><li><a href="#3__108" rel="nofollow">🍵3. 我们常见的窗口函数和聚合函数有这些：</a></li><li><a href="#4__127" rel="nofollow">🍵4. 窗口函数和普通聚合函数的区别？</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_134" rel="nofollow">🕊️二、窗口函数的练习</a></li><li><ul><li><a href="#1_138" rel="nofollow">🍃1、序号函数</a></li><li><a href="#2_193" rel="nofollow">🍃2、分布函数：</a></li><li><a href="#3_263" rel="nofollow">🍃3、前后函数</a></li><li><a href="#4_329" rel="nofollow">🍃4、首尾函数</a></li><li><a href="#5_350" rel="nofollow">🍃5、其他函数</a></li></ul> 
  </li><li><a href="#_387" rel="nofollow">🕊️三、实战</a></li></ul> 
</div> 
<p></p> 
<h2><a id="Mysql_1"></a>🌾Mysql窗口函数</h2> 
<blockquote> 
 <p>本文主要介绍了MySQL窗口函数的定义和具体使用。</p> 
 <p>首先窗口函数是从MySQL8.0开始支持的，如果现在使用的是MySQL5.0或者8.0一下的版本，那么非常遗憾，建议搞个8.0版本试一试，哈哈~</p> 
</blockquote> 
<h2><a id="_7"></a>🕊️一、什么是窗口函数</h2> 
<h3><a id="1_9"></a>🍃1、怎么理解窗口?</h3> 
<blockquote> 
 <p>搞清楚窗口代表着啥，才知道什么时候该用它。</p> 
</blockquote> 
<p>窗口函数是相对于聚函数来说的。</p> 
<ul><li>聚合函数是对一组数据计算后返回单个值（即分组）。</li><li>非聚合函数一次只会处理一行数据。</li><li>而窗口函数在行记录上计算某个字段的结果时，可将窗口范围内的数据输入到聚合函数中，并不改变行数。</li></ul> 
<p><img src="https://images2.imgbox.com/d4/68/3jjFSoeH_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/73/b8/ELy8hWIK_o.png" alt="在这里插入图片描述"></p> 
<p>根据上面所说，准备如下员工表信息数据</p> 
<pre><code class="prism language-sql"><span class="token comment">-- 员工表</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> sql_niukewang<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>employee<span class="token punctuation">`</span></span>
<span class="token punctuation">(</span>
    <span class="token identifier"><span class="token punctuation">`</span>eid<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">auto_increment</span> <span class="token keyword">comment</span> <span class="token string">'员工id'</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>ename<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">'员工名称'</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>dname<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">'部门名称'</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>hiredate<span class="token punctuation">`</span></span> <span class="token keyword">date</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">'入职日期'</span><span class="token punctuation">,</span>
    <span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span> <span class="token keyword">double</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">'薪资'</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">'员工表'</span><span class="token punctuation">;</span>
</code></pre> 
<pre><code class="prism language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> sql_niukewang<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>employee<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>ename<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>dname<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>hiredate<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'傅嘉熙'</span><span class="token punctuation">,</span> <span class="token string">'开发部'</span><span class="token punctuation">,</span> <span class="token string">'2022-08-20 12:00:04'</span><span class="token punctuation">,</span> <span class="token number">9000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> sql_niukewang<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>employee<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>ename<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>dname<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>hiredate<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'武晟睿'</span><span class="token punctuation">,</span> <span class="token string">'开发部'</span><span class="token punctuation">,</span> <span class="token string">'2022-06-12 13:54:12'</span><span class="token punctuation">,</span> <span class="token number">9500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> sql_niukewang<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>employee<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>ename<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>dname<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>hiredate<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'孙弘文'</span><span class="token punctuation">,</span> <span class="token string">'开发部'</span><span class="token punctuation">,</span> <span class="token string">'2022-10-16 08:27:06'</span><span class="token punctuation">,</span> <span class="token number">9400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> sql_niukewang<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>employee<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>ename<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>dname<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>hiredate<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'潘乐驹'</span><span class="token punctuation">,</span> <span class="token string">'开发部'</span><span class="token punctuation">,</span> <span class="token string">'2022-04-22 03:56:11'</span><span class="token punctuation">,</span> <span class="token number">9500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> sql_niukewang<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>employee<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>ename<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>dname<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>hiredate<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'潘昊焱'</span><span class="token punctuation">,</span> <span class="token string">'人事部'</span><span class="token punctuation">,</span> <span class="token string">'2022-02-24 03:40:02'</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> sql_niukewang<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>employee<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>ename<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>dname<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>hiredate<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'沈涛'</span><span class="token punctuation">,</span> <span class="token string">'人事部'</span><span class="token punctuation">,</span> <span class="token string">'2022-12-14 09:16:37'</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> sql_niukewang<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>employee<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>ename<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>dname<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>hiredate<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'江峻熙'</span><span class="token punctuation">,</span> <span class="token string">'人事部'</span><span class="token punctuation">,</span> <span class="token string">'2022-05-12 01:17:48'</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> sql_niukewang<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>employee<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>ename<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>dname<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>hiredate<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'陆远航'</span><span class="token punctuation">,</span> <span class="token string">'人事部'</span><span class="token punctuation">,</span> <span class="token string">'2022-04-14 03:35:57'</span><span class="token punctuation">,</span> <span class="token number">5500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> sql_niukewang<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>employee<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>ename<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>dname<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>hiredate<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'姜煜祺'</span><span class="token punctuation">,</span> <span class="token string">'销售部'</span><span class="token punctuation">,</span> <span class="token string">'2022-03-23 03:21:05'</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> sql_niukewang<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>employee<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>ename<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>dname<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>hiredate<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'邹明'</span><span class="token punctuation">,</span> <span class="token string">'销售部'</span><span class="token punctuation">,</span> <span class="token string">'2022-11-23 23:10:06'</span><span class="token punctuation">,</span> <span class="token number">6800</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> sql_niukewang<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>employee<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>ename<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>dname<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>hiredate<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'董擎苍'</span><span class="token punctuation">,</span> <span class="token string">'销售部'</span><span class="token punctuation">,</span> <span class="token string">'2022-02-12 07:54:32'</span><span class="token punctuation">,</span> <span class="token number">6500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">insert</span> <span class="token keyword">into</span> sql_niukewang<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>employee<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>ename<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>dname<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>hiredate<span class="token punctuation">`</span></span><span class="token punctuation">,</span> <span class="token identifier"><span class="token punctuation">`</span>salary<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'钟俊驰'</span><span class="token punctuation">,</span> <span class="token string">'销售部'</span><span class="token punctuation">,</span> <span class="token string">'2022-04-10 12:17:06'</span><span class="token punctuation">,</span> <span class="token number">6000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/c5/8d/EtWRX4wv_o.png" alt="在这里插入图片描述" width="100%" height="700"></p> 
<p>我们举个例子：<mark>分别使用聚合函数sum（）和窗口函数sum（）来根据部门求和看下两者区别</mark></p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span>
dname<span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> sum 
<span class="token keyword">from</span> employee <span class="token keyword">group</span> <span class="token keyword">by</span> dname<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/de/45/tEsVt8mX_o.png" alt="在这里插入图片描述" width="100%" height="300"></p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span>
dname<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>
<span class="token function">sum</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dname <span class="token keyword">order</span> <span class="token keyword">by</span> salary<span class="token punctuation">)</span> sum
<span class="token keyword">from</span> employee<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/d5/8e/4VqZhce5_o.png" alt="在这里插入图片描述" width="100%" height="600"></p> 
<p>​ 通过观察，正如之前所说，窗口函数相对聚合函数，<mark>聚合函数</mark>是将一组数据计算后返回单个值，而<mark>窗口函数</mark>在行记录上计算某个字段的结果时，<strong>可将窗口范围内的数据输入到聚合函数中</strong>，并不改变行数，就好比如我们刚刚根据部门开窗求和salary薪资，每一行的sum数据是将前面范围内的数据都聚合到当前结果中。</p> 
<p>​ 所以可见，<code>窗口就是范围的意思</code>，可以理解为一些记录（行）的集合；窗口函数也就是在<code>满足某种条件的记录集合上执行计算</code>的特殊函数。</p> 
<p><img src="https://images2.imgbox.com/66/bf/FtIhN9DF_o.png" alt="在这里插入图片描述" width="100%" height="600"></p> 
<h3><a id="2_87"></a>🍃2、什么是窗口函数</h3> 
<blockquote> 
 <p>窗口函数也叫<code>OLAP</code>函数（Online Anallytical Processing），可以对数据进行实时分析处理。</p> 
</blockquote> 
<h4><a id="1__91"></a>🍵1. 基本语法：</h4> 
<pre><code class="prism language-sql"><span class="token operator">&lt;</span>窗口函数<span class="token operator">&gt;</span> <span class="token keyword">OVER</span> <span class="token punctuation">(</span><span class="token keyword">PARTITION</span> <span class="token keyword">BY</span> <span class="token operator">&lt;</span>用于分组的列名<span class="token operator">&gt;</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> <span class="token operator">&lt;</span>用于排序的列名<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- over关键字用于指定函数的窗口范围，</span>
<span class="token comment">-- partition by 用于对表分组，</span>
<span class="token comment">-- order by子句用于对分组后的结果进行排序。</span>

</code></pre> 
<blockquote> 
 <p>注意：窗口函数是对<code>where</code>或者<code>group by</code>子句处理后的结果再进行二次操作，因此会按照SQL语句的运行顺序，窗口函数一般放在select子句中（from前），例如上一条SQL，可以往上拖着看看~</p> 
</blockquote> 
<h4><a id="2__103"></a>🍵2. 窗口函数多用在什么场景？主要有以下两类：</h4> 
<ul><li>排名问题，例如：每个部门的薪资排名；</li><li>TOPN问题，例如：查每个部门薪资排名第一；</li></ul> 
<h4><a id="3__108"></a>🍵3. 我们常见的窗口函数和聚合函数有这些：</h4> 
<ul><li>专用窗口函数：<code>rank()</code>，<code>dense_rank()</code>，<code>row_number()</code></li><li>聚合函数：<code>max()</code>，<code>min()</code>，<code>count()</code>，<code>sum()</code>，<code>avg()</code></li></ul> 
<p>窗口函数都有哪些？</p> 
<p><img src="https://images2.imgbox.com/c1/72/TYmnSlMn_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/87/72/vCoEUGH1_o.png" alt="在这里插入图片描述" width="100%" height="600"></p> 
<ul><li>序号函数：row_number() / rank() / dense_rank()</li><li>分布函数：percent_rank() / cume_dist()</li><li>前后函数：lag() / lead()</li><li>头尾函数：first_val() / last_val()</li><li>其他函数：nth_value() / nfile()</li></ul> 
<h4><a id="4__127"></a>🍵4. 窗口函数和普通聚合函数的区别？</h4> 
<p>因为聚合函数也可以放在窗口函数中使用，因此窗口函数和普通聚合函数也很容易被混淆，二者区别如下：</p> 
<ul><li><code>聚合函数</code>是将<code>多条记录聚合为一条</code>；而窗口函数是<code>每条记录都会执行，有几条记录执行完还是几条</code>。</li><li>聚合函数也可以用于窗口函数中，这个我会举例说明。</li></ul> 
<h2><a id="_134"></a>🕊️二、窗口函数的练习</h2> 
<p>还是使用上面的员工表信息完成下面的练习。</p> 
<h3><a id="1_138"></a>🍃1、序号函数</h3> 
<p>序号函数有：<code>ROW_NUMBER、RANK、DENSE_RANK</code>，也就是序号排名的意思。</p> 
<p><code>ROW_NUMBER()</code>：顺序排序 —— 1、2、3</p> 
<p><code>RANK()</code>：并列排序，跳过重复序号 —— 1、1、3</p> 
<p><code>DENSE_RANK()</code>：并列排序，不跳过重复序号 —— 1、1、2</p> 
<p>**应用场景：**求每个部门的员工薪资排名</p> 
<blockquote> 
 <ol><li>ROW_NUMBER（）函数</li></ol> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> 
dname<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>
row_number<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dname <span class="token keyword">order</span> <span class="token keyword">by</span> salary<span class="token punctuation">)</span> sum 
<span class="token keyword">from</span> employee<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ab/2b/4sT6335N_o.png" alt="在这里插入图片描述" width="100%" height="600"></p> 
<blockquote> 
 <ol start="2"><li>RANK（）函数</li></ol> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> 
dname<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>
rank<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dname <span class="token keyword">order</span> <span class="token keyword">by</span> salary<span class="token punctuation">)</span> ranking 
<span class="token keyword">from</span> employee<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/9d/34/b8kZ9MFN_o.png" alt="在这里插入图片描述" width="100%" height="600"></p> 
<blockquote> 
 <ol start="3"><li>DENSE_RANK（）函数</li></ol> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> 
dname<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>
dense_rank<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dname <span class="token keyword">order</span> <span class="token keyword">by</span> salary<span class="token punctuation">)</span> ranking
<span class="token keyword">from</span> employee<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/fe/9f/JnxcAYXH_o.png" alt="在这里插入图片描述" width="100%" height="600"></p> 
<p>总结：</p> 
<p>上面针对同一个应用场景使用三种不同的序号函数，得到三种不同的结果，我们重点需要注意在三种结果的区别。</p> 
<ul><li><code>row_number()</code>函数<mark>只是做一个顺序排序</mark> —— 1、2、3…</li><li><code>rank()</code>函数做了顺序排序，<mark>但是做了并列排序，并跳过重复序号</mark> —— 1、1、3</li><li><code>dense_rank()</code>函数</li></ul> 
<h3><a id="2_193"></a>🍃2、分布函数：</h3> 
<p>分布函数有：<code>percent_rank() 、 cume_dist()</code></p> 
<p><code>cume_dist()</code>：<strong>分组内小于、等于当前rank值的行数 / 分组内总行数</strong></p> 
<p><code>percent_rank()</code>：<strong>每行按照公式(rank-1) / (rows-1)进行计算</strong></p> 
<blockquote> 
 <ol><li>CUME_DIST（）函数</li></ol> 
</blockquote> 
<p>**应用场景：**查询小于等于当前薪资（salary）的比例</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> 
dname<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>
rank<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dname <span class="token keyword">order</span> <span class="token keyword">by</span> salary<span class="token punctuation">)</span> ranking<span class="token punctuation">,</span>
cume_dist<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">order</span> <span class="token keyword">by</span> salary<span class="token punctuation">)</span> dist1<span class="token punctuation">,</span>
cume_dist<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dname <span class="token keyword">order</span> <span class="token keyword">by</span> salary<span class="token punctuation">)</span> dist2
<span class="token keyword">from</span> employee<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/5c/21/ODBeovke_o.png" alt="在这里插入图片描述" width="100%" height="600"></p> 
<p>​ 这里使用了序号函数 <code>row_number()</code>,目的是为了更好的理解分布函数的<code>cume_dist()</code>函数。</p> 
<p><code>cume_dist()</code>函数作用是<strong>分组内小于、等于当前rank值的行数 / 分组内总行数</strong>，如上结果人事部的rank值为4行，</p> 
<p>&lt;=5000的rank值行数为2，分组内总行数为4，所以cume_dist的值=<code>（2/4）</code>=0.5。</p> 
<p>​ 以此类推，下面的结果都是这样的。</p> 
<p><strong>注意</strong>：没有使用<code>partition by</code> 分组的默认是所有数据为一组，比如上面的dist1列的数据</p> 
<blockquote> 
 <ol start="2"><li>percent_rank（）函数</li></ol> 
</blockquote> 
<p>用途：每行按照公式(rank-1) / (rows-1)进行计算。</p> 
<p><strong>其中，rank为RANK()函数产生的序号，rows为当前窗口的记录总行数</strong><br> 应用场景：不常用</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> 
dname<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>
rank<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dname <span class="token keyword">order</span> <span class="token keyword">by</span> salary<span class="token punctuation">)</span> ranking<span class="token punctuation">,</span>
percent_rank<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dname <span class="token keyword">order</span> <span class="token keyword">by</span> salary<span class="token punctuation">)</span> per
<span class="token keyword">from</span> employee<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/46/cb/48DQqaUb_o.png" alt="在这里插入图片描述" width="100%" height="600"></p> 
<pre><code class="prism language-sql"><span class="token comment">/*
 per:
  第一行: (1 - 1) / (4 - 1) = 0
  第二行: (1 - 1) / (4 - 1) = 0
  第三行: (3 - 1) / (4 - 1) = 0.6666666666666666
  第四行：(4 - 1) / (4 - 1) = 1
*/</span>
</code></pre> 
<p>由上面的注释我们可以理解percent_rank()函数的使用，我们可以把它转换为</p> 
<ul><li>如果是升序排列，前面比你小的还有多少</li><li>如果是降序排列，前面比你大的还有多少</li></ul> 
<p>应用场景不是很多,但是咱们也可以学习一下，万一以后遇到了也知道之前好像接触过~</p> 
<h3><a id="3_263"></a>🍃3、前后函数</h3> 
<p>前后函数有：<code>LAG、LEAD</code></p> 
<p>LAG(expr,n):返回位于当前行的前n行</p> 
<p>LEAD(expr,n):后n行的expr的值</p> 
<ul><li>返回当前行的前n行(本组)的expr值</li><li>lag允许你在每一个分组内, 从当前行向前看n行数据</li><li>n(也叫offset)是从当前行偏移的行数，以获取值。offset必须是一个非负整数。如果offset为零，则LAG()函数计算当前行的值。如果省略 offset，则LAG()函数默认使用n=1, 向前看一个数据。</li></ul> 
<blockquote> 
 <ol><li>LAG(expr,n)前函数</li></ol> 
</blockquote> 
<p>应用场景：求各部门内部相邻组员的薪资差</p> 
<p>第一步：先使用前函数查出前一个员工薪资</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> dname<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>
lag<span class="token punctuation">(</span>salary<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dname <span class="token keyword">order</span> <span class="token keyword">by</span> salary<span class="token punctuation">)</span> presalary  <span class="token keyword">from</span> employee<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/99/9e/plDbbPPu_o.png" alt="在这里插入图片描述" width="100%" height="600"></p> 
<p>第二步：把第一步的结果作为表进行查询，并做-运算</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token punctuation">,</span><span class="token punctuation">(</span>salary<span class="token operator">-</span>presalary<span class="token punctuation">)</span>  <span class="token keyword">from</span> <span class="token punctuation">(</span>
	<span class="token keyword">select</span> dname<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>
	lag<span class="token punctuation">(</span>salary<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dname <span class="token keyword">order</span> <span class="token keyword">by</span> salary<span class="token punctuation">)</span> presalary  <span class="token keyword">from</span> employee
<span class="token punctuation">)</span> pre_table<span class="token punctuation">;</span>

</code></pre> 
<p><img src="https://images2.imgbox.com/47/9d/ThpKro4M_o.png" alt="在这里插入图片描述" width="100%" height="600"></p> 
<blockquote> 
 <ol start="2"><li>LEAD(expr,n)后函数</li></ol> 
</blockquote> 
<p>应用场景：求各部门内部相邻组员的薪资差</p> 
<p>其实和上面的LAG函数一样，只不过就是一个是向上偏移，一个是向下偏移。</p> 
<p>第一步：先使用前函数查出后一个员工薪资</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> dname<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>
lead<span class="token punctuation">(</span>salary<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dname <span class="token keyword">order</span> <span class="token keyword">by</span> salary<span class="token punctuation">)</span> presalary  <span class="token keyword">from</span> employee<span class="token punctuation">;</span>
</code></pre> 
<p>第二步：把第一步的结果作为表进行查询，并做-运算</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token punctuation">,</span><span class="token punctuation">(</span>salary<span class="token operator">-</span>presalary<span class="token punctuation">)</span>  <span class="token keyword">from</span> <span class="token punctuation">(</span>
	<span class="token keyword">select</span> dname<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>
	lead<span class="token punctuation">(</span>salary<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dname <span class="token keyword">order</span> <span class="token keyword">by</span> salary<span class="token punctuation">)</span> presalary  <span class="token keyword">from</span> employee
<span class="token punctuation">)</span> pre_table<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/25/1a/yllAsZVE_o.png" alt="在这里插入图片描述" width="100%" height="400"></p> 
<p>总结：对于前后函数，向前还是向后偏移大家可以灵活使用。</p> 
<h3><a id="4_329"></a>🍃4、首尾函数</h3> 
<p>首尾也叫头尾函数，有<code>first_value(expr)</code> 、<code>last_value(expr)</code></p> 
<p><code>first_value(expr)</code>：<strong>取分组排序后，截止到当前第一个值</strong></p> 
<p><code>last_value(expr)</code>：<strong>取分组排序后，截止到当前最后一个值</strong></p> 
<p>需求：截止到当前，按照日期排序查询第1个入职和最后1个入职员工的薪资</p> 
<blockquote> 
 <p>first_value(expr)函数</p> 
</blockquote> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token punctuation">,</span>first_value<span class="token punctuation">(</span>salary<span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dname <span class="token keyword">order</span> <span class="token keyword">by</span> hiredate<span class="token punctuation">)</span> <span class="token keyword">first</span> <span class="token keyword">from</span> employee<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/01/fd/ipXg2vjn_o.png" alt="在这里插入图片描述" width="100%" height="500"></p> 
<p>last_value(expr)函数和first_value(expr)函数是一样的，这里就不再模拟演示了。</p> 
<h3><a id="5_350"></a>🍃5、其他函数</h3> 
<p><code>NTH_VALUE(expr, n)、NTILE(n)</code></p> 
<p>NTILE(n):将分区中的有序数据分为n个等级，记录等级数</p> 
<p>NTH_VALUE(expr, n):返回窗口中第n个expr的值。expr可以是表达式，也可以是列名</p> 
<blockquote> 
 <ol><li>ntile(n)函数</li></ol> 
</blockquote> 
<p>需求：将每个部门员工按照入职日期分成2组</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token punctuation">,</span> 
ntile<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dname <span class="token keyword">order</span> <span class="token keyword">by</span> hiredate<span class="token punctuation">)</span> <span class="token identifier"><span class="token punctuation">`</span>group<span class="token punctuation">`</span></span> 
<span class="token keyword">from</span> employee<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/2a/fd/ilOqWI6X_o.png" alt="在这里插入图片描述" width="100%" height="500"></p> 
<blockquote> 
 <ol start="2"><li>nth_value(expr,n)函数</li></ol> 
</blockquote> 
<p>需求：截止到当前薪资，显示每个员工的薪资中排名第2或者第3的薪资</p> 
<pre><code class="prism language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token punctuation">,</span> 
nth_value<span class="token punctuation">(</span>salary<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dname <span class="token keyword">order</span> <span class="token keyword">by</span> hiredate<span class="token punctuation">)</span> twoSalary <span class="token punctuation">,</span>
nth_value<span class="token punctuation">(</span>salary<span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> dname <span class="token keyword">order</span> <span class="token keyword">by</span> hiredate<span class="token punctuation">)</span> threeSalary 
<span class="token keyword">from</span> employee<span class="token punctuation">;</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/a2/b0/WTSBG6Tw_o.png" alt="在这里插入图片描述" width="100%" height="400"></p> 
<h2><a id="_387"></a>🕊️三、实战</h2> 
<ol><li>牛客网：[SQL33 找出每个学校GPA最低的同学](<a href="https://www.nowcoder.com/practice/90778f5ab7d64d35a40dc1095ff79065?tpId=199&amp;tqId=1980672&amp;ru=%2Fpractice%2F26c8715f32e24d918f15db69518f3ad8&amp;qru=%2Fta%2Fsql-quick-study%2Fquestion-ranking&amp;sourceUrl=%2Fexam%2Foj%3Fpage%3D1%26tab%3DSQL%E7%AF%87%26topicId%3D199" rel="nofollow">找出每个学校GPA最低的同学_牛客题霸_牛客网 (nowcoder.com)</a>)</li></ol> 
<p><img src="https://images2.imgbox.com/14/f4/2TfVNRKP_o.png" alt="在这里插入图片描述"><br> 还有其他的，比如说力扣上等等，这里之举个例子，没事多可以刷刷</p> 
<hr> 
<p><img src="https://images2.imgbox.com/da/23/1PbsiH78_o.gif" alt="在这里插入图片描述"></p> 
<p><a href="https://blog.csdn.net/mjh1667002013/article/details/128139570">【数据库基础】数据库介绍和三大范式</a></p> 
<p><a href="https://blog.csdn.net/mjh1667002013/article/details/128139857">【数据库基础】MySQL增删改查基础操作命令</a></p> 
<p><a href="https://blog.csdn.net/mjh1667002013/article/details/128140012">【数据库高级】数据完整性和多表查询</a></p> 
<p><a href="https://blog.csdn.net/mjh1667002013/article/details/128140110">【数据库】事务</a></p> 
<p><a href="https://blog.csdn.net/mjh1667002013/article/details/128140257">【数据库高级】Mysql窗口函数的使用和练习</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/1b3424bade12c28983ba6d22e3f4273c/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">ESP8266 SmartConfig一键配网</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1f28991c78bf02454dc30cc42ce7e92d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">神经网络与深度学习（七）循环神经网络（3）LSTM的记忆能力实验</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>