<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>HOG特征（Histogram of Gradient）总结 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="HOG特征（Histogram of Gradient）总结" />
<meta property="og:description" content="整理一下我个人觉得比较好的HOG博文
博文1：OpenCV HOGDescriptor： 参数与图解
http://blog.csdn.net/raodotcong/article/details/6239431
博文2：opencv源码解析：各个参数讲解
http://www.cnblogs.com/tornadomeet/archive/2012/08/15/2640754.html
博文3：hog特征可视化：matlab 与 C&#43;&#43;
http://blog.csdn.net/u011285477/article/details/50974230
博文4：hog汇总
http://www.lxway.com/122812.html
博文5：HOG：从理论到OpenCV实践
http://blog.csdn.net/zhazhiqiang/article/details/21047207
参考资料： HOG的经典论文：Dalal N, Triggs B. Histograms of oriented gradients for human detection[C]//Computer Vision and Pattern Recognition, 2005. CVPR 2005. IEEE Computer Society Conference on. IEEE, 2005, 1: 886-893.(2016:Google Citation: 14046) 下载链接：https://hal.inria.fr/file/index/docid/548512/filename/hog_cvpr2005.pdf 较为详细的博士论文：Dalal N. Finding people in images and videos[D]. Institut National Polytechnique de Grenoble-INPG, 2006.(Google Citation: 337) 下载链接：https://tel.archives-ouvertes.fr/tel-00390303/document
采用级联结构对HOG检测进行加速：Zhu Q, Yeh M C, Cheng K T, et al." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/ce96fbc89e105f02487d59aeb3682474/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2016-06-11T21:05:58+08:00" />
<meta property="article:modified_time" content="2016-06-11T21:05:58+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">HOG特征（Histogram of Gradient）总结</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px">               <strong><span style="font-size:24px; color:rgb(255,0,0)">整理一下我个人觉得比较好的HOG博文</span></strong></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <strong><span style="font-size:18px"><span style="color:rgb(255,0,0)">博文1：</span><a target="_blank" href="http://blog.csdn.net/raodotcong/article/details/6239431" style="text-decoration:none; color:rgb(12,137,207); font-family:'Microsoft YaHei'; line-height:30px" rel="noopener noreferrer"><span style="color:rgb(0,0,0)">OpenCV HOGDescriptor： 参数与图解</span></a></span></strong></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <strong><span style="font-size:18px; color:rgb(153,153,153)">http://blog.csdn.net/raodotcong/article/details/6239431</span></strong></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-weight:bold"><span style="font-size:18px"><strong><span style="color:rgb(255,0,0)">博文2：</span></strong></span></span><span style="font-size:18px; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"><strong><a target="_blank" id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/tornadomeet/archive/2012/08/15/2640754.html" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(12,137,207)">opencv源码解析：</a>各个参数讲解</strong></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <strong><span style="font-size:18px; color:rgb(153,153,153)">http://www.cnblogs.com/tornadomeet/archive/2012/08/15/2640754.html</span><br> </strong></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-weight:bold"><span style="font-size:18px"><strong><span style="color:rgb(255,0,0)">博文3：</span>hog特征可视化</strong><span style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"><strong><span style="color:rgb(0,0,0)"><a target="_blank" id="cb_post_title_url" class="postTitle2" href="http://www.cnblogs.com/tornadomeet/archive/2012/08/15/2640754.html" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(12,137,207)">：</a>matlab 与 C++</span></strong></span><br> </span></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-weight:bold"><span style="font-size:18px"><span style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"><span style="color:rgb(153,153,153)">http://blog.csdn.net/u011285477/article/details/50974230</span><br> </span></span></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-weight:bold"><span style="font-size:18px"><span style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"><strong><span style="color:rgb(255,0,0)">博文4：</span>hog汇总</strong><br> </span></span></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-weight:bold"><span style="font-size:18px"><span style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"><span style="color:rgb(153,153,153)">http://www.lxway.com/122812.html</span><br> </span></span></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-weight:bold"><span style="font-size:18px"><span style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"><a target="_blank" href="http://blog.csdn.net/zhazhiqiang/article/details/21047207" style="text-decoration:none; color:rgb(12,137,207); font-family:'Microsoft YaHei'; font-size:20px; line-height:30px" rel="noopener noreferrer"><span style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; font-size:18px; color:rgb(255,0,0)"><strong>博文5：</strong></span><span style="color:rgb(0,0,0)">HOG：从理论到OpenCV实践</span></a><br> </span></span></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-weight:bold"><span style="font-size:18px"><span style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"><span style="color:rgb(153,153,153)">http://blog.csdn.net/zhazhiqiang/article/details/21047207</span><br> </span></span></span></p> 
<p style="margin-top:0px; margin-bottom:0px; padding-top:0px; padding-bottom:0px; color:rgb(85,85,85); font-family:'microsoft yahei'; font-size:15px; line-height:35px"> <span style="font-weight:bold"><span style="font-size:18px"><span style="font-family:Verdana,Geneva,Arial,Helvetica,sans-serif"><span style="color:rgb(153,153,153)"></span></span></span></span></p> 
<div id="article_content" class="article_content" style="margin:20px 0px 0px; font-size:14px; color:rgb(51,51,51); line-height:26px; font-family:Arial"> 
 <div class="markdown_views" style="font-family:'microsoft yahei'"> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> <span style="">参考资料：</span> <br style=""> HOG的经典论文：Dalal N, Triggs B. Histograms of oriented gradients for human detection[C]//Computer Vision and Pattern Recognition, 2005. CVPR 2005. IEEE Computer Society Conference on. IEEE, 2005, 1: 886-893.(2016:Google Citation: 14046) <br style=""> 下载链接：<a target="_blank" href="https://hal.inria.fr/file/index/docid/548512/filename/hog_cvpr2005.pdf" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(51,102,153)">https://hal.inria.fr/file/index/docid/548512/filename/hog_cvpr2005.pdf</a> <br style=""> 较为详细的博士论文：Dalal N. Finding people in images and videos[D]. Institut National Polytechnique de Grenoble-INPG, 2006.(Google Citation: 337) <br style=""> 下载链接：<a target="_blank" href="https://tel.archives-ouvertes.fr/tel-00390303/document" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(51,102,153)">https://tel.archives-ouvertes.fr/tel-00390303/document</a></p> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 采用级联结构对HOG检测进行加速：Zhu Q, Yeh M C, Cheng K T, et al. Fast human detection using a cascade of histograms of oriented gradients[C]//Computer Vision and Pattern Recognition, 2006 IEEE Computer Society Conference on. IEEE, 2006, 2: 1491-1498.(Google Citation: 1270)</p> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 关于HOG特征的三线性插值论文: <br style=""> [Wang, 2009] X. Wang, X. Han, and S. Yan. A HOG-LBP human de­tec­tor with par­tial oc­clu­sion han­dling [A]. In Proc. of ICCV[C], 2009.(Google Citation: 965) <br style=""> [Pang, 2011] Y. Pang, Y. Yuan, X. Li, et al. Efficient HOG human detection [J]. Signal Processing, 2011, 91: 773-781.(Google Citation: 105)</p> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 比较好的博文： <br style=""> <a target="_blank" href="http://blog.sina.com.cn/s/blog_60e6e3d50101bkpn.html" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(51,102,153)">http://blog.sina.com.cn/s/blog_60e6e3d50101bkpn.html</a> <br style=""> <a target="_blank" href="http://blog.csdn.net/icvpr/article/details/8454527" style="text-decoration:none; color:rgb(51,102,153)" rel="noopener noreferrer">http://blog.csdn.net/icvpr/article/details/8454527</a> <br style=""> 对经典文章的翻译：<a target="_blank" href="http://blog.csdn.net/masibuaa/article/details/14056807" style="text-decoration:none; color:rgb(51,102,153)" rel="noopener noreferrer">http://blog.csdn.net/masibuaa/article/details/14056807</a> <br style=""> 从理论到OpenCV实现：<a target="_blank" href="http://blog.csdn.net/zhazhiqiang/article/details/21047207" style="text-decoration:none; color:rgb(51,102,153)" rel="noopener noreferrer">http://blog.csdn.net/zhazhiqiang/article/details/21047207</a></p> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 行人数据集：INRIA Person dataset <br style=""> Download：<a target="_blank" href="http://pascal.inrialpes.fr/data/human/" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(51,102,153)">http://pascal.inrialpes.fr/data/human/</a> <br style=""> <img src="https://images2.imgbox.com/77/20/upn6GRgd_o.jpg" alt="INRIA Person dataset" title="" style="border:none; max-width:100%; height:auto"></p> 
  <h3 id="概述" style="margin:0.8em 0px; padding:0px; font-weight:100"><a target="_blank" name="t0" style="color:rgb(12,137,207)"></a><a target="_blank" name="t0" style="color:rgb(51,102,153)"></a>概述</h3> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> CVPR2005这篇文章中，HOG是用来做行人检测的。作者研究了行人检测的特征集问题，局部归一化的HOG描述子相比于现存的特征集(包括小波)有更好的表现。相比于边缘方向直方图(Edge Orientation Histograms)、SIFT描述子、形状上下文(Shape Contexts)，HOG是在网格密集的大小统一的细胞单元(dense grid of uniformly spaced cells)上进行计算，而且为了提高性能，还采用了重叠的局部对比度归一化(overlapping local contrast normalizations)。作者用行人检测(行人是大部分可见的并且基本上是直立的)进行测试，为了保证速度和简洁性，使用线性SVM作为分类器。</p> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 作者在文中提到他们的非正式实验表明，即使截止到05年最好的基于特征点的方法，在行人检测方面比本论文的方法的错检率也要高上至少1-2个数量级，主要是因为这些基于特征点的检测器不能可靠地检测行人结构。HOG有个优点，提取的边缘和梯度特征能很好的抓住局部形状的特点，且因是对图像做了Gamma校正和采用cell方式进行梯度方向量化，在局部进行提取，所以对几何和光学变化都有很好的不变性，变换或旋转对于足够小的区域影响很小。对于行人检测，在粗糙空域采样(coarse spatial sampling)、精细方向采样(fine orientation sampling)和强局部灰度归一化(strong local photometric normalization)这些条件下，只要行人大体上能够保持直立的姿势，就容许有一些细微的肢体动作，这些细微的动作可以被忽略而不影响检测效果。综上，HOG特征很适合于做图像中的人体检测。</p> 
  <h3 id="1-overview-of-the-method" style="margin:0.8em 0px; padding:0px; font-weight:100"> <a target="_blank" name="t1" style="color:rgb(12,137,207)"></a><a target="_blank" name="t1" style="color:rgb(51,102,153)"></a>1 Overview of the Method</h3> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> <img src="https://images2.imgbox.com/9d/99/fpEBccMo_o.jpg" alt="An overview of our feature extraction and object detection chain" title="" style="border:none; max-width:100%; height:auto"><br style=""> HOG方法是基于对稠密网格中归一化的局部方向梯度直方图的计算。此方法的基本观点是：局部目标的外表和形状可以被局部梯度或边缘方向的分布很好的描述，即使我们不知道对应的梯度和边缘的位置。在实际操作中，将图像分为小的元胞(cells)，在每个元胞内累加计算出一维的梯度方向(或边缘方向)直方图。为了对光照和阴影有更好的不变性，需要对直方图进行对比度归一化，这可以通过将元胞组成更大的块(blocks)并归一化块内的所有元胞来实现。归一化的块描述符就叫作HOG描述子。将检测窗口中的所有块的HOG描述子组合起来就形成了最终的特征向量，然后使用SVM分类器进行行人检测。如上图描述了特征提取和目标检测流程。检测窗口划分为重叠的块，对这些块计算HOG描述子，形成的特征向量放到线性SVM中进行目标/非目标的二分类。检测窗口在整个图像的所有位置和尺度上进行扫描，并对输出的金字塔进行非极大值抑制来检测目标。</p> 
  <h3 id="2-gammacolour-normalization" style="margin:0.8em 0px; padding:0px; font-weight:100"> <a target="_blank" name="t2" style="color:rgb(12,137,207)"></a><a target="_blank" name="t2" style="color:rgb(51,102,153)"></a>2 Gamma/Colour Normalization</h3> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 标准化gamma空间和颜色空间。为了减少光照因素的影响，首先需要将整个图像进行规范化（归一化）。在图像的纹理强度中，局部的表层曝光贡献的比重较大，所以，这种压缩处理能够有效地降低图像局部的阴影和光照变化。 <br style=""> <span class="MathJax_Preview" style="color:rgb(136,136,136)"></span></p> 
  <div class="MathJax_Display" style="text-align:center; margin:1em 0em; position:relative; max-width:none; max-height:none; min-width:0px; min-height:0px; width:708px"> 
   <span class="MathJax" id="MathJax-Element-1-Frame" style="display:inline; line-height:normal; text-align:left; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px; padding:0px; margin:0px"> 
     
     <span class="math" id="MathJax-Span-1" style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:5.685em"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:4.278em; height:0px; font-size:18.48px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-2.27em; left:0.003em"><span class="mrow" id="MathJax-Span-2" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px"><span class="mi" id="MathJax-Span-3" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">f<span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; overflow:hidden; height:1px; width:0.057em"></span></span><span class="mo" id="MathJax-Span-4" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">(</span><span class="mi" id="MathJax-Span-5" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">I<span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; overflow:hidden; height:1px; width:0.057em"></span></span><span class="mo" id="MathJax-Span-6" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">)</span><span class="mo" id="MathJax-Span-7" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.273em; margin:0px; vertical-align:0px; font-family:MathJax_Main">=</span><span class="msubsup" id="MathJax-Span-8" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.273em; margin:0px; vertical-align:0px"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:1.139em; height:0px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.945em; left:0.003em"><span class="mi" id="MathJax-Span-9" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">I<span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; overflow:hidden; height:1px; width:0.057em"></span></span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.951em"></span></span><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-2.108em; left:0.598em"><span class="mi" id="MathJax-Span-10" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-size:13.0654px; font-family:MathJax_Math-italic">γ<span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; overflow:hidden; height:1px; width:0.003em"></span></span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.68em"></span></span></span></span></span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:2.275em"></span></span></span><span style="display:inline-block; position:static; border-width:0px 0px 0px 0.004em; border-left-style:solid; border-color:initial; padding:0px; margin:0px; vertical-align:-0.425em; overflow:hidden; width:0px; height:1.432em; color:rgb(255,255,255)"></span></span> 
    </span> 
  </div> 
  <br style=""> gamma&lt;1在高灰度值区域内，动态范围变小，图像对比度降低，图像整体灰度值变大，显得亮一些；gamma&gt;1在低灰度值区域内，动态范围变小，图像对比度降低，图像整体灰度值变小，变得暗淡。  
  <br style=""> 
  <img src="https://images2.imgbox.com/bb/5e/csxOEeiM_o.jpg" alt="gamma校正" title="" style="border:none; max-width:100%">  
  <br style=""> 作者在他的博士论文里有提到，对于涉及大量的类内颜色变化，如猫，狗和马等动物，没标准化的RGB图效果更好，而牛，羊的图做gamma颜色校正后效果更好。是否用gamma校正得分析具体的训练集情况。 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> </p> 
  <h3 id="3-image-smoothing" style="margin:0.8em 0px; padding:0px; font-weight:100"> <a target="_blank" name="t3" style="color:rgb(12,137,207)"></a><a target="_blank" name="t3" style="color:rgb(51,102,153)"></a>3 Image Smoothing</h3> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 对于灰度图像，一般为了去除噪点，所以会先利用离散高斯平滑模板进行平滑：高斯函数在不同平滑的尺度下进行对灰度图像进行平滑操作。Dalal等实验表明moving from σ=0 to σ=2 reduces the recall rate from 89% to 80% at <span class="MathJax_Preview" style="color:rgb(136,136,136)"></span><span class="MathJax" id="MathJax-Element-2-Frame" style="display:inline; line-height:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px; padding:0px; margin:0px"> 
     
     <span class="math" id="MathJax-Span-11" style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:2.654em"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:2.005em; height:0px; font-size:18.48px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-0.971em; left:0.003em"><span class="mrow" id="MathJax-Span-12" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px"><span class="msubsup" id="MathJax-Span-13" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:1.951em; height:0px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-2.108em; left:0.003em"><span class="mn" id="MathJax-Span-14" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">10</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:2.113em"></span></span><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-2.162em; left:0.977em"><span class="texatom" id="MathJax-Span-15" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px"><span class="mrow" id="MathJax-Span-16" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px"><span class="mo" id="MathJax-Span-17" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-size:13.0654px; font-family:MathJax_Main">−</span><span class="mn" id="MathJax-Span-18" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-size:13.0654px; font-family:MathJax_Main">4</span></span></span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.788em"></span></span></span></span></span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:0.977em"></span></span></span><span style="display:inline-block; position:static; border-width:0px 0px 0px 0.004em; border-left-style:solid; border-color:initial; padding:0px; margin:0px; vertical-align:-0.068em; overflow:hidden; width:0px; height:1.361em; color:rgb(255,255,255)"></span></span> 
    </span> FPPW，即不做高斯平滑人体检测效果最佳，使得漏检率缩小了约一倍。不做平滑操作，可能原因：HOG特征是基于边缘的，平滑会降低边缘信息的对比度，从而减少图像中的有用信息。</p> 
  <h3 id="4-gradient-computation" style="margin:0.8em 0px; padding:0px; font-weight:100"> <a target="_blank" name="t4" style="color:rgb(12,137,207)"></a><a target="_blank" name="t4" style="color:rgb(51,102,153)"></a>4 Gradient Computation</h3> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> <img src="https://images2.imgbox.com/69/0d/d3bavnn0_o.jpg" alt="梯度公式" title="" style="border:none; max-width:100%; height:auto"></p> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 式中<span class="MathJax_Preview" style="color:rgb(136,136,136)"></span><span class="MathJax" id="MathJax-Element-3-Frame" style="display:inline; line-height:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px; padding:0px; margin:0px"> 
     
     <span class="math" id="MathJax-Span-19" style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:9.689em"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:7.308em; height:0px; font-size:18.48px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-2.27em; left:0.003em"><span class="mrow" id="MathJax-Span-20" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px"><span class="msubsup" id="MathJax-Span-21" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:1.193em; height:0px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.945em; left:0.003em"><span class="mi" id="MathJax-Span-22" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">G</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.951em"></span></span><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.512em; left:0.76em"><span class="mi" id="MathJax-Span-23" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-size:13.0654px; font-family:MathJax_Math-italic">x</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.68em"></span></span></span></span><span class="mo" id="MathJax-Span-24" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">(</span><span class="mi" id="MathJax-Span-25" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">x</span><span class="mo" id="MathJax-Span-26" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="mi" id="MathJax-Span-27" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">y<span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; overflow:hidden; height:1px; width:0.003em"></span></span><span class="mo" id="MathJax-Span-28" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">)</span><span class="mo" id="MathJax-Span-29" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="msubsup" id="MathJax-Span-30" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:1.193em; height:0px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.945em; left:0.003em"><span class="mi" id="MathJax-Span-31" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">G</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.951em"></span></span><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.512em; left:0.76em"><span class="mi" id="MathJax-Span-32" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-size:13.0654px; font-family:MathJax_Math-italic">y<span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; overflow:hidden; height:1px; width:0.003em"></span></span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.68em"></span></span></span></span><span class="mo" id="MathJax-Span-33" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">(</span><span class="mi" id="MathJax-Span-34" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">x</span><span class="mo" id="MathJax-Span-35" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="mi" id="MathJax-Span-36" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">y<span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; overflow:hidden; height:1px; width:0.003em"></span></span><span class="mo" id="MathJax-Span-37" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">)</span></span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:2.275em"></span></span></span><span style="display:inline-block; position:static; border-width:0px 0px 0px 0.004em; border-left-style:solid; border-color:initial; padding:0px; margin:0px; vertical-align:-0.425em; overflow:hidden; width:0px; height:1.504em; color:rgb(255,255,255)"></span></span> 
    </span>分别表示输入图像在像素点(x,y)处的水平方向梯度和垂直方向梯度。则<span class="MathJax_Preview" style="color:rgb(136,136,136)"></span><span class="MathJax" id="MathJax-Element-4-Frame" style="display:inline; line-height:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px; padding:0px; margin:0px"> 
     
     <span class="math" id="MathJax-Span-38" style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:8.39em"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:6.334em; height:0px; font-size:18.48px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-2.108em; left:0.003em"><span class="mrow" id="MathJax-Span-39" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px"><span class="mi" id="MathJax-Span-40" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">G</span><span class="mo" id="MathJax-Span-41" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">(</span><span class="mi" id="MathJax-Span-42" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">x</span><span class="mo" id="MathJax-Span-43" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="mi" id="MathJax-Span-44" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">y<span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; overflow:hidden; height:1px; width:0.003em"></span></span><span class="mo" id="MathJax-Span-45" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">)</span><span class="mo" id="MathJax-Span-46" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="mi" id="MathJax-Span-47" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">α</span><span class="mo" id="MathJax-Span-48" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">(</span><span class="mi" id="MathJax-Span-49" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">x</span><span class="mo" id="MathJax-Span-50" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="mi" id="MathJax-Span-51" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">y<span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; overflow:hidden; height:1px; width:0.003em"></span></span><span class="mo" id="MathJax-Span-52" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">)</span></span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:2.113em"></span></span></span><span style="display:inline-block; position:static; border-width:0px 0px 0px 0.004em; border-left-style:solid; border-color:initial; padding:0px; margin:0px; vertical-align:-0.425em; overflow:hidden; width:0px; height:1.432em; color:rgb(255,255,255)"></span></span> 
    </span>分别为像素点(x,y)的梯度幅值和梯度方向。Dalal等人利用许多一阶微分模板进行求梯度近似值，但在实验中表明模板[-1,0,1]效果最好。</p> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 首先用[-1,0,1]梯度算子对原图像做卷积运算，得到水平方向（以向右为正方向）的梯度分量，然后用[1,0,-1]T梯度算子对原图像做卷积运算，得到竖直方向（以向上为正方向）的梯度分量。然后再用以上公式计算该像素点的梯度大小和方向。</p> 
  <pre class="prettyprint" name="code" style="white-space: nowrap; word-wrap: break-word; box-sizing: border-box; margin-top: 0px; margin-bottom: 1.1em; font-family: 'Source Code Pro', monospace; padding: 5px 5px 5px 60px; line-height: 1.45; word-break: break-all; border: 1px solid rgba(128, 128, 128, 0.0745098); border-radius: 0px; position: relative; overflow-y: hidden; overflow-x: auto; background-color: rgba(128, 128, 128, 0.0470588);">&lt;code class="hljs vbnet has-numbering" style="display: block; padding: 0px; color: inherit; box-sizing: border-box; font-family: 'Source Code Pro', monospace;font-size:undefined; white-space: pre; border-radius: 0px; word-wrap: normal; background: transparent;"&gt;%matlab code hx = [-&lt;span class="hljs-number" style="color: rgb(0, 102, 102); box-sizing: border-box;"&gt;1&lt;/span&gt;,&lt;span class="hljs-number" style="color: rgb(0, 102, 102); box-sizing: border-box;"&gt;0&lt;/span&gt;,&lt;span class="hljs-number" style="color: rgb(0, 102, 102); box-sizing: border-box;"&gt;1&lt;/span&gt;];hy = -hx&lt;span class="hljs-comment" style="color: rgb(136, 0, 0); box-sizing: border-box;"&gt;';&lt;/span&gt; gradscalx = imfilter(&lt;span class="hljs-built_in" style="color: rgb(102, 0, 102); box-sizing: border-box;"&gt;double&lt;/span&gt;(img),hx); gradscaly = imfilter(&lt;span class="hljs-built_in" style="color: rgb(102, 0, 102); box-sizing: border-box;"&gt;double&lt;/span&gt;(img),hy);&lt;/code&gt;&lt;ul class="pre-numbering" style="box-sizing: border-box; position: absolute; width: 50px; top: 0px; left: 0px; margin: 0px; padding: 6px 0px 40px; border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); list-style: none; text-align: right; background-color: rgb(238, 238, 238);"&gt;&lt;li style="box-sizing: border-box; padding: 0px 5px;"&gt;1&lt;/li&gt;&lt;li style="box-sizing: border-box; padding: 0px 5px;"&gt;2&lt;/li&gt;&lt;li style="box-sizing: border-box; padding: 0px 5px;"&gt;3&lt;/li&gt;&lt;li style="box-sizing: border-box; padding: 0px 5px;"&gt;4&lt;/li&gt;&lt;/ul&gt;</pre> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> <img src="https://images2.imgbox.com/b5/c7/Yi0GShbF_o.jpg" alt="梯度图" title="" style="border:none; max-width:100%; height:auto"></p> 
  <h3 id="5-spatial-orientation-binning" style="margin:0.8em 0px; padding:0px; font-weight:100"> <a target="_blank" name="t5" style="color:rgb(12,137,207)"></a><a target="_blank" name="t5" style="color:rgb(51,102,153)"></a>5 Spatial / Orientation Binning</h3> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 这一步骤的目的是为局部图像区域提供一个指示函数量化梯度方向的同时能够保持对图像中人体对象的姿势和外观的弱敏感性。 <br style=""> 将图像分成若干个“单元格cell”，例如每个cell为8<span class="MathJax_Preview" style="color:rgb(136,136,136)"></span><span class="MathJax" id="MathJax-Element-5-Frame" style="display:inline; line-height:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px; padding:0px; margin:0px"> 
     
     <span class="math" id="MathJax-Span-53" style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0.652em"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0.49em; height:0px; font-size:18.48px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-2.108em; left:0.003em"><span class="mrow" id="MathJax-Span-54" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px"><span class="mo" id="MathJax-Span-55" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">∗</span></span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:2.113em"></span></span></span><span style="display:inline-block; position:static; border-width:0px 0px 0px 0.004em; border-left-style:solid; border-color:initial; padding:0px; margin:0px; vertical-align:0.004em; overflow:hidden; width:0px; height:0.718em; color:rgb(255,255,255)"></span></span> 
    </span>8的像素大小。假设采用9个bin的直方图来统计这8<span class="MathJax_Preview" style="color:rgb(136,136,136)"></span><span class="MathJax" id="MathJax-Element-6-Frame" style="display:inline; line-height:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px; padding:0px; margin:0px"> 
     
     <span class="math" id="MathJax-Span-56" style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0.652em"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0.49em; height:0px; font-size:18.48px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-2.108em; left:0.003em"><span class="mrow" id="MathJax-Span-57" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px"><span class="mo" id="MathJax-Span-58" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">∗</span></span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:2.113em"></span></span></span><span style="display:inline-block; position:static; border-width:0px 0px 0px 0.004em; border-left-style:solid; border-color:initial; padding:0px; margin:0px; vertical-align:0.004em; overflow:hidden; width:0px; height:0.718em; color:rgb(255,255,255)"></span></span> 
    </span>8个像素的梯度信息，即将cell的梯度方向0～180度（或0～360度，考虑了正负，signed）分成9个方向块。如下图所示：如果这个像素的梯度方向是20-40度，直方图第2个bin即的计数就加1，这样，对cell内每个像素用梯度方向在直方图中进行加权投影，将其映射到对应的角度范围块内，就可以得到这个cell的梯度方向直方图了，就是该cell对应的9维特征向量（因为有9个bin）。这边的加权投影所用的权值为当前点的梯度幅值。例如说：某个像素的梯度方向是在，其梯度幅值是4，那么直方图第2个bin的计数就不是加1了，而是加4。这样就得到关于梯度方向的一个加权直方图。 <br style=""> <img src="https://images2.imgbox.com/3a/be/Kr7B18eU_o.jpg" alt="梯度直方图统计" title="" style="border:none; max-width:100%; height:auto"></p> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 采用梯度幅值量级本身得到的检测效果最佳，而使用二值的边缘权值表示会严重降低效果。采用梯度幅值作为权重，可以使那些比较明显的边缘的方向信息对特征表达影响增大，这样比较合理，因为HOG特征主要就是依靠这些边缘纹理。</p> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 根据Dalal等人的实验，在行人目标检测中，在无符号方向角度范围并将其平均分成9份（bins）能取得最好的效果，当bin的数目继续增大效果改变不明显，故一般在人体目标检测中使用bin数目为9范围0~180度的度量方式。</p> 
  <h3 id="6-tri-linear-interpolation" style="margin:0.8em 0px; padding:0px; font-weight:100"> <a target="_blank" name="t6" style="color:rgb(12,137,207)"></a><a target="_blank" name="t6" style="color:rgb(51,102,153)"></a>6 Tri-linear interpolation</h3> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 在计算每个cell的梯度直方图时，可以用三线性插值来提高计算速率。对于每个cell里的点，我们认为都是一个三维向量<span class="MathJax_Preview" style="color:rgb(136,136,136)"></span><span class="MathJax" id="MathJax-Element-7-Frame" style="display:inline; line-height:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px; padding:0px; margin:0px"> 
     
     <span class="math" id="MathJax-Span-59" style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:4.169em"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:3.141em; height:0px; font-size:18.48px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-2.108em; left:0.003em"><span class="mrow" id="MathJax-Span-60" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px"><span class="mo" id="MathJax-Span-61" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">(</span><span class="mi" id="MathJax-Span-62" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">x</span><span class="mo" id="MathJax-Span-63" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="mi" id="MathJax-Span-64" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">y<span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; overflow:hidden; height:1px; width:0.003em"></span></span><span class="mo" id="MathJax-Span-65" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="mi" id="MathJax-Span-66" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">θ</span><span class="mo" id="MathJax-Span-67" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">)</span></span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:2.113em"></span></span></span><span style="display:inline-block; position:static; border-width:0px 0px 0px 0.004em; border-left-style:solid; border-color:initial; padding:0px; margin:0px; vertical-align:-0.425em; overflow:hidden; width:0px; height:1.432em; color:rgb(255,255,255)"></span></span> 
    </span>,如下图所示某一待处理像素点它位于block中的C0单元中， 利用该点与四个cell中的中心像素点 （图中4个圆点，<span class="MathJax_Preview" style="color:rgb(136,136,136)"></span><span class="MathJax" id="MathJax-Element-8-Frame" style="display:inline; line-height:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px; padding:0px; margin:0px"> 
     
     <span class="math" id="MathJax-Span-68" style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:11.258em"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:8.498em; height:0px; font-size:18.48px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-2.27em; left:0.003em"><span class="mrow" id="MathJax-Span-69" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px"><span class="mo" id="MathJax-Span-70" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">(</span><span class="msubsup" id="MathJax-Span-71" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0.977em; height:0px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.945em; left:0.003em"><span class="mi" id="MathJax-Span-72" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">x</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.951em"></span></span><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.621em; left:0.544em"><span class="mn" id="MathJax-Span-73" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-size:13.0654px; font-family:MathJax_Main">1</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.788em"></span></span></span></span><span class="mo" id="MathJax-Span-74" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="msubsup" id="MathJax-Span-75" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0.977em; height:0px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.945em; left:0.003em"><span class="mi" id="MathJax-Span-76" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">y<span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; overflow:hidden; height:1px; width:0.003em"></span></span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.951em"></span></span><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.567em; left:0.544em"><span class="mn" id="MathJax-Span-77" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-size:13.0654px; font-family:MathJax_Main">1</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.788em"></span></span></span></span><span class="mo" id="MathJax-Span-78" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">)</span><span class="mo" id="MathJax-Span-79" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="mo" id="MathJax-Span-80" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px; font-family:MathJax_Main">.</span><span class="mo" id="MathJax-Span-81" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px; font-family:MathJax_Main">.</span><span class="mo" id="MathJax-Span-82" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px; font-family:MathJax_Main">.</span><span class="mo" id="MathJax-Span-83" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="mo" id="MathJax-Span-84" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px; font-family:MathJax_Main">(</span><span class="msubsup" id="MathJax-Span-85" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0.977em; height:0px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.945em; left:0.003em"><span class="mi" id="MathJax-Span-86" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">x</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.951em"></span></span><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.621em; left:0.544em"><span class="mn" id="MathJax-Span-87" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-size:13.0654px; font-family:MathJax_Main">4</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.788em"></span></span></span></span><span class="mo" id="MathJax-Span-88" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="msubsup" id="MathJax-Span-89" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0.977em; height:0px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.945em; left:0.003em"><span class="mi" id="MathJax-Span-90" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">y<span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; overflow:hidden; height:1px; width:0.003em"></span></span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.951em"></span></span><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.567em; left:0.544em"><span class="mn" id="MathJax-Span-91" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-size:13.0654px; font-family:MathJax_Main">4</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.788em"></span></span></span></span><span class="mo" id="MathJax-Span-92" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">)</span></span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:2.275em"></span></span></span><span style="display:inline-block; position:static; border-width:0px 0px 0px 0.004em; border-left-style:solid; border-color:initial; padding:0px; margin:0px; vertical-align:-0.425em; overflow:hidden; width:0px; height:1.432em; color:rgb(255,255,255)"></span></span> 
    </span>） 的距离计算权值， 将待处理像素点的梯度幅值分别加权累加到C0、C1、 C2、 C3中相应的直方图上，与θ相邻的两个bin上（θ1，θ2）。 <br style=""> <img src="https://images2.imgbox.com/d7/6b/bccIOhp0_o.jpg" alt="这里写图片描述" title="" style="border:none; max-width:100%; height:auto"><br style=""> <img src="https://images2.imgbox.com/70/0a/e9WswBIH_o.jpg" alt="这里写图片描述" title="" style="border:none; max-width:100%; height:auto"> <br style=""> 参见上图，以(x,y,θ)对cell0的梯度直方图即h(x1,y1,θ1)的加权投影为例，三线性插值公式如下： <br style=""> <img src="https://images2.imgbox.com/14/88/A8R90uyb_o.jpg" alt="这里写图片描述" title="" style="border:none; max-width:100%; height:auto"> <br style=""> 这样不断累加更新得到最终的<span class="MathJax_Preview" style="color:rgb(136,136,136)"></span><span class="MathJax" id="MathJax-Element-9-Frame" style="display:inline; line-height:normal; word-spacing:normal; word-wrap:normal; white-space:nowrap; float:none; direction:ltr; max-width:none; max-height:none; min-width:0px; min-height:0px; border:0px; padding:0px; margin:0px"> 
     
     <span class="math" id="MathJax-Span-93" style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:16.074em"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:12.178em; height:0px; font-size:18.48px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-2.27em; left:0.003em"><span class="mrow" id="MathJax-Span-94" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px"><span class="mi" id="MathJax-Span-95" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">h</span><span class="mo" id="MathJax-Span-96" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">(</span><span class="msubsup" id="MathJax-Span-97" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0.977em; height:0px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.945em; left:0.003em"><span class="mi" id="MathJax-Span-98" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">x</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.951em"></span></span><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.621em; left:0.544em"><span class="mn" id="MathJax-Span-99" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-size:13.0654px; font-family:MathJax_Main">1</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.788em"></span></span></span></span><span class="mo" id="MathJax-Span-100" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="msubsup" id="MathJax-Span-101" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0.977em; height:0px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.945em; left:0.003em"><span class="mi" id="MathJax-Span-102" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">y<span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; overflow:hidden; height:1px; width:0.003em"></span></span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.951em"></span></span><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.567em; left:0.544em"><span class="mn" id="MathJax-Span-103" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-size:13.0654px; font-family:MathJax_Main">1</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.788em"></span></span></span></span><span class="mo" id="MathJax-Span-104" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="msubsup" id="MathJax-Span-105" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0.869em; height:0px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.945em; left:0.003em"><span class="mi" id="MathJax-Span-106" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">θ</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.951em"></span></span><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.621em; left:0.436em"><span class="mn" id="MathJax-Span-107" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-size:13.0654px; font-family:MathJax_Main">1</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.788em"></span></span></span></span><span class="mo" id="MathJax-Span-108" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">)</span><span class="mo" id="MathJax-Span-109" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="mo" id="MathJax-Span-110" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px; font-family:MathJax_Main">.</span><span class="mo" id="MathJax-Span-111" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px; font-family:MathJax_Main">.</span><span class="mo" id="MathJax-Span-112" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px; font-family:MathJax_Main">.</span><span class="mo" id="MathJax-Span-113" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="mi" id="MathJax-Span-114" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">h</span><span class="mo" id="MathJax-Span-115" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">(</span><span class="msubsup" id="MathJax-Span-116" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0.977em; height:0px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.945em; left:0.003em"><span class="mi" id="MathJax-Span-117" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">x</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.951em"></span></span><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.621em; left:0.544em"><span class="mn" id="MathJax-Span-118" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-size:13.0654px; font-family:MathJax_Main">4</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.788em"></span></span></span></span><span class="mo" id="MathJax-Span-119" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="msubsup" id="MathJax-Span-120" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0.977em; height:0px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.945em; left:0.003em"><span class="mi" id="MathJax-Span-121" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">y<span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; overflow:hidden; height:1px; width:0.003em"></span></span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.951em"></span></span><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.567em; left:0.544em"><span class="mn" id="MathJax-Span-122" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-size:13.0654px; font-family:MathJax_Main">4</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.788em"></span></span></span></span><span class="mo" id="MathJax-Span-123" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">,</span><span class="msubsup" id="MathJax-Span-124" style="display:inline; position:static; border:0px; padding:0px 0px 0px 0.165em; margin:0px; vertical-align:0px"><span style="display:inline-block; position:relative; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0.869em; height:0px"><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.945em; left:0.003em"><span class="mi" id="MathJax-Span-125" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Math-italic">θ</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.951em"></span></span><span style="position:absolute; border:0px; padding:0px; margin:0px; vertical-align:0px; top:-1.621em; left:0.436em"><span class="mn" id="MathJax-Span-126" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-size:13.0654px; font-family:MathJax_Main">4</span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:1.788em"></span></span></span></span><span class="mo" id="MathJax-Span-127" style="display:inline; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; font-family:MathJax_Main">)</span></span><span style="display:inline-block; position:static; border:0px; padding:0px; margin:0px; vertical-align:0px; width:0px; height:2.275em"></span></span></span><span style="display:inline-block; position:static; border-width:0px 0px 0px 0.004em; border-left-style:solid; border-color:initial; padding:0px; margin:0px; vertical-align:-0.425em; overflow:hidden; width:0px; height:1.432em; color:rgb(255,255,255)"></span></span> 
    </span>，就是我们所要4个cell的梯度直方图。</p> 
  <h2 id="7-normalization-and-descriptor-blocks" style="margin:0.8em 0px; padding:0px; font-weight:100"> <a target="_blank" name="t7" style="color:rgb(12,137,207)"></a><a target="_blank" name="t7" style="color:rgb(51,102,153)"></a>7 Normalization and Descriptor Blocks</h2> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 由于局部光照的变化以及前景-背景对比度的变化，使得梯度强度的变化范围非常大。这就需要对梯度强度做归一化。归一化能够进一步地对光照、阴影和边缘进行压缩，使特征向量空间对光照，阴影和边缘变化具有鲁棒性。本文的做法是：把各个细胞单元组合成大的、空间上连通的区域（blocks）。这样，一个block内所有cell的特征向量串联起来便得到该block的HOG特征。这些区间是互有重叠的，这就意味着：每一个单元格的特征会以不同的结果多次出现在最后的特征向量中。归一化之后的块描述符（向量）就称之为HOG描述符。 <br style=""> <img src="https://images2.imgbox.com/95/3a/1zGckykp_o.jpg" alt="BLOCK结构" title="" style="border:none; max-width:100%; height:auto"><br style=""> 通常使用的HOG结构大致有三种：矩形HOG（简称为R-HOG），圆形HOG和中心环绕HOG。它们的单位都是Block（即块）。Dalal的试验证明矩形HOG和圆形HOG的检测效果基本一致，而环绕形HOG效果相对差一些。 <br style=""> <img src="https://images2.imgbox.com/be/77/nHuWxJ4S_o.jpg" alt="Block层次结构" title="" style="border:none; max-width:100%; height:auto"> <br style=""> 如上图，一般一个块（Block）都由若干单元（Cell）组成，一个单元都有如干个像素点组成。 <br style=""> 假设行人检测的参数设置是：2×2 cell/block、8×8像素/cell、9个直方图通道（9 bins），一个块的特征向量长度为：2×2×9。</p> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 对block块内的HOG特征向量进行归一化。一般采用的归一化函数有以下四种： <br style=""> <img src="https://images2.imgbox.com/47/0f/h7K6ewCe_o.jpg" alt="归一化方式" title="" style="border:none; max-width:100%; height:auto"><br style=""> 在人体检测系统中进行HOG计算时一般使用L2-norm，Dalal的文章也验证了对于人体检测系统使用L2-norm的时候效果最好。</p> 
  <h2 id="8-classiﬁer" style="margin:0.8em 0px; padding:0px; font-weight:100"><a target="_blank" name="t8" style="color:rgb(12,137,207)"></a><a target="_blank" name="t8" style="color:rgb(51,102,153)"></a>8 Classiﬁer</h2> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 计算一个样本的HOG特征维度，例如： <br style=""> detection window:64×128; 8×8 pixels/cell; bin=9;2×2cells/block; blockstride=1cell; <br style=""> block number:15×7=105;Length of HOG feature vector: 2×2×9×15×7=3780 <br style=""> 最后就是把这么一个3780维的特征向量输入给SVM做训练分类。</p> 
  <h2 id="9-visualizing-object-detection-features" style="margin:0.8em 0px; padding:0px; font-weight:100"> <a target="_blank" name="t9" style="color:rgb(12,137,207)"></a><a target="_blank" name="t9" style="color:rgb(51,102,153)"></a>9 Visualizing Object Detection Features</h2> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 关于HOG特征可视化的程序如下：</p> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 基于OpenCV的C++程序，效果图如下，通过该程序可以帮助理解HOG特征。 <br style=""> 下载链接：<a target="_blank" href="http://download.csdn.net/detail/u011285477/9472067" style="text-decoration:none; color:rgb(51,102,153)" rel="noopener noreferrer">http://download.csdn.net/detail/u011285477/9472067</a> <br style=""> <img src="https://images2.imgbox.com/c0/c0/Hz2Bcpkv_o.jpg" alt="这里写图片描述" title="" style="border:none; max-width:100%; height:auto"></p> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 用MATLAB实现的HOG特征可视化代码，视觉效果不错。 <br style=""> <img src="https://images2.imgbox.com/dc/a8/gw6rczvf_o.jpg" alt="这里写图片描述" title="" style="border:none; max-width:100%; height:auto"><br style=""> 下载链接：<a target="_blank" href="http://web.mit.edu/vondrick/ihog/index.html#code" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(51,102,153)">http://web.mit.edu/vondrick/ihog/index.html#code</a>。 <br style=""> 相关资料：Vondrick C, Khosla A, Malisiewicz T, et al. Hoggles: Visualizing object detection features[C]//Proceedings of the IEEE International Conference on Computer Vision. 2013: 1-8.(Google Citation: 98)</p> 
  <h2 id="10-multi-scale-object-localisation" style="margin:0.8em 0px; padding:0px; font-weight:100"> <a target="_blank" name="t10" style="color:rgb(12,137,207)"></a><a target="_blank" name="t10" style="color:rgb(51,102,153)"></a>10 Multi-Scale Object Localisation</h2> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> <img src="https://images2.imgbox.com/40/bc/Pn30PSRf_o.jpg" alt="这里写图片描述" title="" style="border:none; max-width:100%; height:auto"><br style=""> 上图右上角是对SVM分类结果的置信度做个映射得到检测评分。检测过程就是用固定大小的窗口对多个尺度的图像进行滑窗检测，将多个尺度计算得到的矩形框都还原成原图尺寸，再进行非极大值抑制(NMS,Non-maximum Suppression)处理。在物体检测非极大值抑制应用十分广泛，主要目的是为了消除多余的框，找到最佳的检测框的位置，大致思想如下图所示。 <br style=""> <img src="https://images2.imgbox.com/bd/71/16ebB3bS_o.jpg" alt="NMS" title="" style="border:none; max-width:100%; height:auto"></p> 
  <h2 id="11-conclusions" style="margin:0.8em 0px; padding:0px; font-weight:100"><a target="_blank" name="t11" style="color:rgb(12,137,207)"></a><a target="_blank" name="t11" style="color:rgb(51,102,153)"></a>11 Conclusions</h2> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> HOG的优点： <br style=""> - 核心思想是所检测的局部物体外形能够被梯度或边缘方向的分布所描述，HOG能较好地捕捉局部形状信息，对几何和光学变化都有很好的不变性； <br style=""> - HOG是在密集采样的图像块中求取的，在计算得到的HOG特征向量中隐含了该块与检测窗口之间的空间位置关系。</p> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> 矩形HOG和SIFT有些相似的地方，关于SIFT具体看这篇博文<a target="_blank" href="http://blog.csdn.net/abcjennifer/article/details/7639681" style="text-decoration:none; color:rgb(51,102,153)" rel="noopener noreferrer">SIFT特征提取分析</a></p> 
  <p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"> HOG的缺陷： <br style=""> - 很难处理遮挡问题，人体姿势动作幅度过大或物体方向改变也不易检测（这个问题后来在<a target="_blank" href="http://blog.csdn.net/masibuaa/article/details/17924671" style="text-decoration:none; color:rgb(51,102,153)" rel="noopener noreferrer">DPM</a>中采用可变形部件模型的方法得到了改善）； <br style=""> - 跟SIFT相比，HOG没有选取主方向，也没有旋转梯度方向直方图，因而本身不具有旋转不变性（较大的方向变化），其旋转不变性是通过采用不同旋转方向的训练样本来实现的； <br style=""> - 跟SIFT相比，HOG本身不具有尺度不变性，其尺度不变性是通过缩放检测窗口图像的大小来实现的； <br style=""> - 此外，由于梯度的性质，HOG对噪点相当敏感，在实际应用中，在Block和Cell划分之后，对于得到各个像区域中，有时候还会做一次高斯平滑去除噪点。</p> 
 </div> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/92d2cee214afcb83332c4d989e16a28b/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">线性回归标准化与R、T、F</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/7c364646ae29a9b34b2142d7b25030f5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java 8 HashMap键与Comparable接口</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>