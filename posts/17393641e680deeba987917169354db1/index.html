<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>协方差矩阵的定义及其计算公式 （转） - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="协方差矩阵的定义及其计算公式 （转）" />
<meta property="og:description" content="协方差矩阵的定义及其计算公式 (2014-03-20 18:36:56) 转载▼ 分类： matlab 协方差矩阵在机器学习中经常用到，查看wiki：http://zh.wikipedia.org/wiki/协方差矩阵 可知协方差矩阵的具体计算公式如下：
在统计学与概率论中，协方差矩阵是一个矩阵，其每个元素是各个向量元素之间的协方差。这是从标量随机变量到高维度随机向量的自然推广。
假设是以个标量随机变量组成的列向量，
并且是其第i个元素的期望值，即, 。协方差矩阵被定义的第i，j项是如下：
即：
矩阵中的第个元素是与的协方差。这个概念是对于标量随机变量方差的一般化推广。
二、理解的关键
1、理解的关键是两个随机变量x1,x2的协方差如何计算，有cov(x1,x2) = E{[(x1-E(x1)][x2-E(x2)]}，对于离散的随机变量x1,x2,协方差矩阵描述的x1,x2相互联系的偏差，所以两个随机变量是一一对应的，即假设有m个样本值，则分别为(x11,x21),(x12,x22),(x13,x23),...(x1m,x2m)，这便可以写成一个2*m的矩阵的形式。则x1,x2协方差表示的是两个随机变量对应的样本值分别都减去各自均值后的乘积的均值（因为无偏性估计的缘故，除以的不是m而是m-1)；
2、所以对于一个n*m的样本矩阵，得出的协方差矩阵C是n*n的矩阵，协方差矩阵每个元素Cij表示的随机变量xi,xj的协方差。所以协方差矩阵是一个对称矩阵，且对角线上元素为每个随机变量的方差（如果是信号的话可以看成是能量）；如果各个变量相关性很小的话，互相的协方差接近0，即协方差矩阵基本上为对角阵；
3、可以证明，协方差矩阵是非负定矩阵，这可以有非负定矩阵的定义得到；
4、同样地，为了表示各个随机变量相关性到底有多大，可以引入相关性矩阵。
统计学的基本概念
学过概率统计的孩子都知道，统计里最基本的概念就是样本的均值，方差，或者再加个标准差。首先我们给你一个含有n个样本的集合，依次给出这些概念的公式描述，这些高中学过数学的孩子都应该知道吧，一带而过。
均值：
标准差：
方差：
很显然，均值描述的是样本集合的中间点，它告诉我们的信息是很有限的，而标准差给我们描述的则是样本集合的各个样本点到均值的距离之平均。以这两个集合为例，[0，8，12，20]和[8，9，11，12]，两个集合的均值都是10，但显然两个集合差别是很大的，计算两者的标准差，前者是8.3，后者是1.8，显然后者较为集中，故其标准差小一些，标准差描述的就是这种“散布度”。之所以除以n-1而不是除以n，是因为这样能使我们以较小的样本集更好的逼近总体的标准差，即统计上所谓的“无偏估计”。而方差则仅仅是标准差的平方。
为什么需要协方差？
上面几个统计量看似已经描述的差不多了，但我们应该注意到，标准差和方差一般是用来描述一维数据的，但现实生活我们常常遇到含有多维数据的数据集，最简单的大家上学时免不了要统计多个学科的考试成绩。面对这样的数据集，我们当然可以按照每一维独立的计算其方差，但是通常我们还想了解更多，比如，一个男孩子的猥琐程度跟他受女孩子欢迎程度是否存在一些联系啊，协方差就是这样一种用来度量两个随机变量关系的统计量，我们可以仿照方差的定义：
来度量各个维度偏离其均值的程度，标准差可以这么来定义：
协方差的结果有什么意义呢？如果结果为正值，则说明两者是正相关的(从协方差可以引出“相关系数”的定义)，也就是说一个人越猥琐就越受女孩子欢迎，那必须的~结果为负值就说明负相关的，越猥琐女孩子越讨厌，可能吗？如果为0，也是就是统计上说的“相互独立”。
从协方差的定义上我们也可以看出一些显而易见的性质，如：
协方差多了就是协方差矩阵
上一节提到的猥琐和受欢迎的问题是典型二维问题，而协方差也只能处理二维问题，那维数多了自然就需要计算多个协方差，比如n维的数据集就需要计算个协方差，那自然而然的我们会想到使用矩阵来组织这些数据。给出协方差矩阵的定义：
这个定义还是很容易理解的，我们可以举一个简单的三维的例子，假设数据集有三个维度，则协方差矩阵为
可见，协方差矩阵是一个对称的矩阵，而且对角线是各个维度上的方差。
Matlab协方差实战
上面涉及的内容都比较容易，协方差矩阵似乎也很简单，但实战起来就很容易让人迷茫了。必须要明确一点，协方差矩阵计算的是不同维度之间的协方差，而不是不同样本之间的。这个我将结合下面的例子说明，以下的演示将使用Matlab，为了说明计算原理，不直接调用Matlab的cov函数(蓝色部分为Matlab代码)。
首先，随机产生一个10*3维的整数矩阵作为样本集，10为样本的个数，3为样本的维数。
1MySample = fix(rand(10,3)*50)
根据公式，计算协方差需要计算均值，那是按行计算均值还是按列呢，我一开始就老是困扰这个问题。前面我们也特别强调了，协方差矩阵是计算不同维度间的协方差，要时刻牢记这一点。样本矩阵的每行是一个样本，每列为一个维度，所以我们要按列计算均值。为了描述方便，我们先将三个维度的数据分别赋值：
dim1 = MySample(:,1);dim2 = MySample(:,2);dim3 = MySample(:,3);
计算dim1与dim2，dim1与dim3，dim2与dim3的协方差：
1sum( (dim1-mean(dim1)) .* (dim2-mean(dim2)) ) / ( size(MySample,1)-1 ) %(10行；（10-1）) 得到 74.53332；sum( (dim1-mean(dim1)) .* (dim3-mean(dim3)) ) / ( size(MySample,1)-1 ) % 得到 -10." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/17393641e680deeba987917169354db1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-02-10T00:07:06+08:00" />
<meta property="article:modified_time" content="2017-02-10T00:07:06+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">协方差矩阵的定义及其计算公式 （转）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="articalTitle" style="clear:both; line-height:20px; padding-bottom:10px; color:rgb(73,73,73); font-family:Verdana,宋体,sans-serif; background-color:rgb(193,207,208)"> 
 <h3 id="t_6b7d710b0101l1s7" class="titName SG_txta" style="margin:0px; padding:0px; border:0px; list-style:none; color:rgb(86,96,83); font-size:18px; font-family:微软雅黑,黑体; font-weight:300; display:inline"> 协方差矩阵的定义及其计算公式</h3>   
 <span class="img2" style="white-space:nowrap; padding-top:4px"><img width="15" height="15" align="absmiddle" title="此博文包含图片" src="https://images2.imgbox.com/b0/d2/QOVdtAq3_o.gif" class="SG_icon SG_icon18" alt="" style="margin:0px 0px 0px 5px; padding:0px; border:0px; list-style:none; vertical-align:text-bottom"> </span> 
 <span class="time SG_txtc" style="color:rgb(134,134,134); white-space:nowrap; font-family:Arial; font-size:10px; margin-left:5px; margin-right:13px">(2014-03-20 18:36:56)</span> 
 <div class="turnBoxzz" style="float:right"> 
  <a target="_blank" class="SG_aBtn SG_aBtn_ico SG_turn" style="padding:0px 0px 0px 3px; overflow:hidden; white-space:nowrap; display:inline-block; margin-right:6px; position:relative; letter-spacing:5px; width:86px; zoom:1"><cite style="font-style:normal; line-height:23px; padding:0px 20px 0px 32px; height:23px; min-width:1px; overflow-x:visible; width:34px; display:inline-block!important"><img class="SG_icon SG_icon111" src="https://images2.imgbox.com/7d/be/MEKfER8D_o.gif" width="15" height="15" align="absmiddle" alt="" style="margin:0px; padding:0px; border:0px; list-style:none; position:absolute; left:11px; top:4px">转载<span class="arrow" style="font-size:7px; position:absolute; right:5px; top:2px">▼</span></cite></a> 
 </div> 
</div> 
<div class="articalTag" id="sina_keyword_ad_area" style="width:690px; clear:both; word-break:break-all; line-height:20px; color:rgb(73,73,73); font-family:Verdana,宋体,sans-serif; background-color:rgb(193,207,208)"> 
 <table style="margin:0px; padding:0px"><tbody><tr><td class="blog_tag" style="margin:0px; padding:0px 10px 0px 0px; font-family:宋体; vertical-align:top">  </td><td class="blog_class" style="margin:0px; padding:0px; font-family:宋体; vertical-align:top; width:220px; white-space:nowrap"> <span class="SG_txtb" style="color:rgb(134,134,134)">分类：</span> <a target="_blank" href="http://blog.sina.com.cn/s/articlelist_1803383051_2_1.html" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(86,96,83)">matlab</a></td></tr></tbody></table> 
</div> 
<div id="sina_keyword_ad_area2" class="articalContent   " style="width:690px; clear:both; padding-top:18px; font-size:14px; padding-bottom:30px; overflow:hidden; font-family:simsun; word-wrap:normal; word-break:normal; line-height:21px; color:rgb(73,73,73); background-color:rgb(193,207,208)"> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> 协方差矩阵在机器学习中经常用到，查看wiki：<a target="_blank" href="http://zh.wikipedia.org/wiki/%E5%8D%8F%E6%96%B9%E5%B7%AE%E7%9F%A9%E9%98%B5" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(86,96,83)">http://zh.wikipedia.org/wiki/协方差矩阵 <wbr></wbr></a>可知协方差矩阵的具体计算公式如下：</p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> <span style="color:#494949; word-wrap:normal; word-break:normal; line-height:21px">在</span><a target="_blank" title="统计学" href="http://zh.wikipedia.org/wiki/%E7%BB%9F%E8%AE%A1%E5%AD%A6" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(86,96,83)">统计学</a><span style="color:#494949; word-wrap:normal; word-break:normal; line-height:21px">与</span><a target="_blank" title="概率论" href="http://zh.wikipedia.org/wiki/%E6%A6%82%E7%8E%87%E8%AE%BA" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(86,96,83)">概率论</a><span style="color:#494949; word-wrap:normal; word-break:normal; line-height:21px">中，</span><span style="padding:0px; margin:0px">协方差矩阵</span><span style="color:#00B7EF; word-wrap:normal; word-break:normal; line-height:21px">是一个矩阵，其每个元素是各个向量元素之间的<a target="_blank" title="协方差" href="http://zh.wikipedia.org/wiki/%E5%85%B1%E8%AE%8A%E7%95%B0%E6%95%B8" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(86,96,83)">协方差</a>。</span><span style="word-wrap:normal; word-break:normal; line-height:21px">这是从标量<a target="_blank" title="随机变量" href="http://zh.wikipedia.org/wiki/%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(86,96,83)">随机变量</a>到高维度<a target="_blank" title="随机向量（页面不存在）" href="http://zh.wikipedia.org/w/index.php?title=%E9%9A%8F%E6%9C%BA%E5%90%91%E9%87%8F&amp;action=edit&amp;redlink=1" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(86,96,83)">随机向量</a>的自然推广。</span></p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> 假设<img alt="X" src="https://images2.imgbox.com/ff/df/sP9Xzr1W_o.png" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none">是以<img alt="n" src="https://images2.imgbox.com/0d/01/lRDRPnIv_o.png" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none">个标量随机变量组成的<a target="_blank" title="列向量" href="http://zh.wikipedia.org/wiki/%E5%88%97%E5%90%91%E9%87%8F" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(86,96,83)">列向量</a>，</p> 
 <dl style="margin:0px; padding:0px; border:0px; list-style:none; font-family:Arial,Helvetica,sans-serif; line-height:22px; background-color:rgb(244,237,227)"> 
  <dd style="margin:0px; padding:0px; border:0px; list-style:none"> 
   <img alt="X = \begin{bmatrix}X_1 \\ \vdots \\ X_n \end{bmatrix}" src="https://images2.imgbox.com/91/e3/B5iQLfOh_o.png" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none"> 
  </dd> 
 </dl> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> 并且<img alt="\mu_i" src="https://images2.imgbox.com/c0/17/T4lWUYRs_o.png" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none">是其第<span style="padding:0px; margin:0px">i</span>个元素的<a target="_blank" title="期望值" href="http://zh.wikipedia.org/wiki/%E6%9C%9F%E6%9C%9B%E5%80%BC" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(86,96,83)">期望值</a>，即, <wbr></wbr><img alt="\mu_i = \mathrm{E}(X_i)" src="https://images2.imgbox.com/d8/69/y4K92QcQ_o.png" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none">。协方差矩阵被定义的第i，j项是如下：</p> 
 <dl style="margin:0px; padding:0px; border:0px; list-style:none; font-family:Arial,Helvetica,sans-serif; line-height:22px; background-color:rgb(244,237,227)"> 
  <dd style="margin:0px; padding:0px; border:0px; list-style:none"> 
   <img alt="\Sigma_{ij} = \mathrm{cov}(X_i, X_j) = \mathrm{E}\begin{bmatrix} (X_i - \mu_i)(X_j - \mu_j) \end{bmatrix}" src="https://images2.imgbox.com/0f/f8/u2ar8Zn7_o.png" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none"> 
  </dd> 
 </dl> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> 即：</p> 
 <dl style="margin:0px; padding:0px; border:0px; list-style:none; font-family:Arial,Helvetica,sans-serif; line-height:22px; background-color:rgb(244,237,227)"> 
  <dd style="margin:0px; padding:0px; border:0px; list-style:none"> 
   <img alt="\Sigma=\mathrm{E} \left[ \left( \textbf{X} - \mathrm{E}[\textbf{X}] \right) \left( \textbf{X} - \mathrm{E}[\textbf{X}] \right)^\top \right]" src="https://images2.imgbox.com/34/78/wlgggpqM_o.png" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none"> 
  </dd> 
 </dl> 
 <dl style="margin:0px; padding:0px; border:0px; list-style:none; font-family:Arial,Helvetica,sans-serif; line-height:22px; background-color:rgb(244,237,227)"> 
  <dd style="margin:0px; padding:0px; border:0px; list-style:none"> 
   <dl style="margin:0px; padding:0px; border:0px; list-style:none"> 
    <dd style="margin:0px; padding:0px; border:0px; list-style:none"> 
     <img alt="= \begin{bmatrix} \mathrm{E}[(X_1 - \mu_1)(X_1 - \mu_1)] &amp; \mathrm{E}[(X_1 - \mu_1)(X_2 - \mu_2)] &amp; \cdots &amp; \mathrm{E}[(X_1 - \mu_1)(X_n - \mu_n)] \\ \ \mathrm{E}[(X_2 - \mu_2)(X_1 - \mu_1)] &amp; \mathrm{E}[(X_2 - \mu_2)(X_2 - \mu_2)] &amp; \cdots &amp; \mathrm{E}[(X_2 - \mu_2)(X_n - \mu_n)] \\ \ \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\ \ \mathrm{E}[(X_n - \mu_n)(X_1 - \mu_1)] &amp; \mathrm{E}[(X_n - \mu_n)(X_2 - \mu_2)] &amp; \cdots &amp; \mathrm{E}[(X_n - \mu_n)(X_n - \mu_n)] \end{bmatrix}" src="https://images2.imgbox.com/20/42/kjfUsUC7_o.png" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none; width:690px"> 
    </dd> 
   </dl> 
  </dd> 
 </dl> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> 矩阵中的第<img alt="(i,j)" src="https://images2.imgbox.com/b6/8f/5GCjYxWe_o.png" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none">个元素是<img alt="X_i" src="https://images2.imgbox.com/21/01/1cb18JKY_o.png" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none">与<img alt="X_j" src="https://images2.imgbox.com/d4/01/BQaA6kMk_o.png" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none">的协方差。这个概念是对于<a target="_blank" title="标量" href="http://zh.wikipedia.org/wiki/%E6%A0%87%E9%87%8F" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(86,96,83)">标量</a><a target="_blank" title="随机变量" href="http://zh.wikipedia.org/wiki/%E9%9A%8F%E6%9C%BA%E5%8F%98%E9%87%8F" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(86,96,83)">随机变量</a><a target="_blank" title="方差" href="http://zh.wikipedia.org/wiki/%E6%96%B9%E5%B7%AE" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(86,96,83)">方差</a>的一般化推广。</p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)">  <wbr></wbr></p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> 二、理解的关键</p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> <span style="word-wrap:normal; word-break:normal; line-height:21px">　　1、理解的关键是两个随机变量x<sub style="padding:0px; margin:0px">1</sub>,x<sub style="padding:0px; margin:0px">2</sub>的协方差如何计算，有cov(x1,x2) = E{[(x<sub style="padding:0px; margin:0px">1</sub>-E(x<sub style="padding:0px; margin:0px">1</sub>)][x<sub style="padding:0px; margin:0px">2</sub>-E(x<sub style="padding:0px; margin:0px">2</sub>)]}，对于离散的随机变量x<sub style="padding:0px; margin:0px">1</sub>,x<sub style="padding:0px; margin:0px">2</sub>,<span style="color:#4D6DF3; word-wrap:normal; word-break:normal">协方差矩阵描述的x<sub style="padding:0px; margin:0px">1</sub>,x<sub style="padding:0px; margin:0px">2</sub>相互联系的偏差</span>，所以两个随机变量是一一对应的，即假设有m个样本值，则分别为(x<sub style="padding:0px; margin:0px">11</sub>,x<sub style="padding:0px; margin:0px">21</sub>),(x<sub style="padding:0px; margin:0px">12</sub>,x<sub style="padding:0px; margin:0px">22</sub>),(x<sub style="padding:0px; margin:0px">13</sub>,x<sub style="padding:0px; margin:0px">23</sub>),...(x<sub style="padding:0px; margin:0px">1m</sub>,x<sub style="padding:0px; margin:0px">2m</sub>)，这便可以写成一个2*m的矩阵的形式。</span><span style="color:#4D6DF3; word-wrap:normal; word-break:normal; line-height:21px">则x<sub style="padding:0px; margin:0px">1</sub>,x<sub style="padding:0px; margin:0px">2</sub>协方差表示的是两个随机变量对应的样本值分别都减去各自均值后的乘积的均值</span><span style="color:#494949; word-wrap:normal; word-break:normal; line-height:21px">（因为无偏性估计的缘故，除以的不是m而是m-1)；</span></p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> <span style="word-wrap:normal; word-break:normal; line-height:21px">　　2、所以对于一个n*m的样本矩阵，得出的协方差矩阵C是n*n的矩阵，协方差矩阵每个元素C<sub style="padding:0px; margin:0px">ij</sub>表示的随机变量x<sub style="padding:0px; margin:0px">i</sub>,x<sub style="padding:0px; margin:0px">j</sub>的协方差。所以协方差矩阵是一个对称矩阵，且对角线上元素为每个随机变量的方差（如果是信号的话可以看成是能量）；</span><span style="color:#4D6DF3; word-wrap:normal; word-break:normal; line-height:21px">如果各个变量相关性很小的话，互相的协方差接近0</span><span style="color:#494949; word-wrap:normal; word-break:normal; line-height:21px">，即协方差矩阵基本上为对角阵；</span></p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> 　　3、可以证明，协方差矩阵是非负定矩阵，这可以有非负定矩阵的定义得到；</p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> 　　4、同样地，为了表示各个随机变量相关性到底有多大，可以引入相关性矩阵。</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> <strong>统计学的基本概念</strong></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> 学过概率统计的孩子都知道，统计里最基本的概念就是样本的均值，方差，或者再加个标准差。首先我们给你一个含有n个样本的集合，依次给出这些概念的公式描述，这些高中学过数学的孩子都应该知道吧，一带而过。</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> <strong>均值：</strong><img src="https://images2.imgbox.com/ad/bf/tx3RomwA_o.jpg" alt="协方差矩阵的定义及其计算公式" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none"><br> <strong>标准差：</strong><img src="https://images2.imgbox.com/13/85/5CVKcTZH_o.jpg" alt="协方差矩阵的定义及其计算公式" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none"><br> <strong>方差：</strong><img src="https://images2.imgbox.com/97/5d/vxRi6R7a_o.jpg" alt="协方差矩阵的定义及其计算公式" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none"></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> 很显然，均值描述的是样本集合的中间点，它告诉我们的信息是很有限的，而标准差给我们描述的则是样本集合的各个样本点到均值的距离之平均。以这两个集合为例，[0，8，12，20]和[8，9，11，12]，两个集合的均值都是10，但显然两个集合差别是很大的，计算两者的标准差，前者是8.3，后者是1.8，显然后者较为集中，故其标准差小一些，标准差描述的就是这种“散布度”。<span style="color:#ED1C24; word-wrap:normal; word-break:normal">之所以除以n-1而不是除以n，是因为这样能使我们以较小的样本集更好的逼近总体的标准差，即统计上所谓的“无偏估计”。而方差则仅仅是标准差的平方。</span></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> <strong>为什么需要协方差？</strong></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> 上面几个统计量看似已经描述的差不多了，但我们应该注意到，标准差和方差一般是用来描述一维数据的，但现实生活我们常常遇到含有多维数据的数据集，最简单的大家上学时免不了要统计多个学科的考试成绩。面对这样的数据集，我们当然可以按照每一维独立的计算其方差，但是通常我们还想了解更多，比如，一个男孩子的猥琐程度跟他受女孩子欢迎程度是否存在一些联系啊，协方差就是这样一种用来度量两个随机变量关系的统计量，我们可以仿照方差的定义：</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> <img src="https://images2.imgbox.com/35/1e/XSidmEQQ_o.jpg" alt="协方差矩阵的定义及其计算公式" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none"></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> 来度量各个维度偏离其均值的程度，标准差可以这么来定义：</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> <img src="https://images2.imgbox.com/3a/c1/fA31wTqH_o.jpg" alt="协方差矩阵的定义及其计算公式" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none"></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> 协方差的结果有什么意义呢？如果结果为正值，则说明两者是正相关的(从协方差可以引出“相关系数”的定义)，也就是说一个人越猥琐就越受女孩子欢迎，那必须的~结果为负值就说明负相关的，越猥琐女孩子越讨厌，可能吗？如果为0，也是就是统计上说的“相互独立”。</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> 从协方差的定义上我们也可以看出一些显而易见的性质，如：</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> <img src="https://images2.imgbox.com/ea/bc/bSkEBpBG_o.jpg" alt="协方差矩阵的定义及其计算公式" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none"><br> <img src="https://images2.imgbox.com/3c/cf/WkFhMSyr_o.jpg" alt="协方差矩阵的定义及其计算公式" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none"></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> <strong>协方差多了就是协方差矩阵</strong></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> 上一节提到的猥琐和受欢迎的问题是典型二维问题，而协方差也只能处理二维问题，那维数多了自然就需要计算多个协方差，比如n维的数据集就需要计算<img src="https://images2.imgbox.com/ea/e2/odkDEimb_o.jpg" alt="协方差矩阵的定义及其计算公式" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none">个协方差，那自然而然的我们会想到使用矩阵来组织这些数据。给出协方差矩阵的定义：</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> <img src="https://images2.imgbox.com/95/47/O4k56Ydb_o.jpg" alt="协方差矩阵的定义及其计算公式" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none"></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> 这个定义还是很容易理解的，我们可以举一个简单的三维的例子，假设数据集有<img src="https://images2.imgbox.com/4c/d0/rFilGYdm_o.jpg" alt="协方差矩阵的定义及其计算公式" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none">三个维度，则协方差矩阵为</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> <a target="_blank" href="http://www.pinkyway.info/wordpress/wp-content/uploads/2010/08/cov.jpg" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(86,96,83)"><img src="https://images2.imgbox.com/e8/3b/44VQXGxg_o.jpg" width="368" height="99" alt="协方差矩阵的定义及其计算公式" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none"></a></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> 可见，协方差矩阵是一个对称的矩阵，而且对角线是各个维度上的方差。</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> <strong>Matlab协方差实战</strong></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> 上面涉及的内容都比较容易，协方差矩阵似乎也很简单，但实战起来就很容易让人迷茫了。必须要明确一点，<strong>协方差矩阵计算的是不同维度之间的协方差，而不是不同样本之间的。</strong>这个我将结合下面的例子说明，以下的演示将使用Matlab，为了说明计算原理，不直接调用Matlab的cov函数(蓝色部分为Matlab代码)。</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> 首先，<span style="color:#ED1C24; word-wrap:normal; word-break:normal">随机产生一个10*3维的整数矩阵作为样本集，10为样本的个数，3为样本的维数</span>。</p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> 1MySample = fix(rand(10,3)*50)</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> <a target="_blank" href="http://www.pinkyway.info/wordpress/wp-content/uploads/2010/08/data.jpg" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(86,96,83)"><img src="https://images2.imgbox.com/ce/93/nL9wTll2_o.jpg" width="160" height="229" alt="协方差矩阵的定义及其计算公式" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none"></a></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> 根据公式，计算协方差需要计算均值，那是按行计算均值还是按列呢，我一开始就老是困扰这个问题。前面我们也特别强调了，<span style="color:#ED1C24; word-wrap:normal; word-break:normal"><span style="color:#4D6DF3; word-wrap:normal; word-break:normal">协方差矩阵是计算不同维度间的协方差</span>，要时刻牢记这一点。样本矩阵的每行是一个样本，每列为一个维度，所以我们要<strong>按列计算均值</strong></span>。为了描述方便，我们先将三个维度的数据分别赋值：</p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> dim1 = MySample(:,1);dim2 = MySample(:,2);dim3 = MySample(:,3);</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> <strong>计算dim1与dim2，dim1与dim3，dim2与dim3的协方差：</strong></p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)">  <wbr></wbr>1sum( (dim1-mean(dim1)) .* (dim2-mean(dim2)) ) / ( size(MySample,1)-1 ) %(10行；（10-1）) 得到 <wbr></wbr>74.53332；sum( (dim1-mean(dim1)) .* (dim3-mean(dim3)) ) / ( size(MySample,1)-1 ) % 得到 <wbr></wbr> -10.08893；sum( (dim2-mean(dim2)) .* (dim3-mean(dim3)) ) / ( size(MySample,1)-1 ) % 得到 <wbr></wbr> -106.4000</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> 搞清楚了这个后面就容易多了，<strong>协方差矩阵的对角线就是各个维度上的方差</strong>，下面我们依次计算：</p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> 1std(dim1)^2 % 得到  <wbr></wbr> 108.3222；2std(dim2)^2 % 得到  <wbr></wbr> 260.6222；3std(dim3)^2 % 得到 <wbr></wbr> <wbr></wbr> 94.1778</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> 这样，我们就得到了计算协方差矩阵所需要的所有数据，调用Matlab自带的cov函数进行验证：</p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> 1cov(MySample)</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> <a target="_blank" href="http://www.pinkyway.info/wordpress/wp-content/uploads/2010/08/covResult.jpg" rel="nofollow noopener noreferrer" style="text-decoration:none; color:rgb(86,96,83)"><img src="https://images2.imgbox.com/06/06/oYJlV1Bj_o.jpg" width="210" height="70" alt="协方差矩阵的定义及其计算公式" title="协方差矩阵的定义及其计算公式" style="margin:0px; padding:0px; border:0px; list-style:none"></a></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> 把我们计算的数据对号入座，是不是一摸一样？</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> <span style="color:#ED1C24; word-wrap:normal; word-break:normal; line-height:24px; font-size:16px"><strong>Update</strong></span>：今天突然发现，原来协方差矩阵还可以这样计算，先让样本矩阵中心化，即每一维度减去该维度的均值，使每一维度上的均值为0，然后直接用新的到的样本矩阵乘上它的转置，然后除以(N-1)即可。其实这种方法也是由前面的公式通道而来，只不过理解起来不是很直观，但在抽象的公式推导时还是很常用的！同样给出Matlab代码实现：</p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> 1X = MySample - repmat(mean(MySample),10,1); <wbr></wbr> <wbr></wbr> <wbr></wbr> % 中心化样本矩阵，使各维度均值为02C = (X'*X)./(size(X,1)-1);%B = repmat(A,m,n)将矩阵 A 复制 m×n 块，即把 A 作为 B 的元素，B 由 m×n 个 A 平铺而成。B 的维数是 [size(A,1)*m, (size(A,2)*n]</p> 
 <div style="margin-bottom:5px; color:rgb(51,51,51); line-height:24px; font-family:arial,宋体,sans-serif; text-indent:2em; background-color:rgb(255,255,255)">
   &gt;&gt; A = [1,2;3,4] 
 </div> 
 <div style="margin-bottom:5px; color:rgb(51,51,51); line-height:24px; font-family:arial,宋体,sans-serif; text-indent:2em; background-color:rgb(255,255,255)">
   A = 
 </div> 
 <div style="margin-bottom:5px; color:rgb(51,51,51); line-height:24px; font-family:arial,宋体,sans-serif; text-indent:2em; background-color:rgb(255,255,255)">
   1 2 
 </div> 
 <div style="margin-bottom:5px; color:rgb(51,51,51); line-height:24px; font-family:arial,宋体,sans-serif; text-indent:2em; background-color:rgb(255,255,255)">
   3 4 
 </div> 
 <div style="margin-bottom:5px; color:rgb(51,51,51); line-height:24px; font-family:arial,宋体,sans-serif; text-indent:2em; background-color:rgb(255,255,255)">
   &gt;&gt; B = repmat(A,2,3) 
 </div> 
 <div style="margin-bottom:5px; color:rgb(51,51,51); line-height:24px; font-family:arial,宋体,sans-serif; text-indent:2em; background-color:rgb(255,255,255)">
   B = 
 </div> 
 <div style="margin-bottom:5px; color:rgb(51,51,51); line-height:24px; font-family:arial,宋体,sans-serif; text-indent:2em; background-color:rgb(255,255,255)"> 
  <span style="color:#ED1C24; word-wrap:normal; word-break:normal; line-height:21px">1 2</span>  
  <span style="color:#FFC20E; word-wrap:normal; word-break:normal; line-height:21px">1 2</span>  
  <span style="color:#A8E61D; word-wrap:normal; word-break:normal; line-height:21px">1 2</span> 
 </div> 
 <div style="margin-bottom:5px; color:rgb(51,51,51); line-height:24px; font-family:arial,宋体,sans-serif; text-indent:2em; background-color:rgb(255,255,255)"> 
  <span style="color:#ED1C24; word-wrap:normal; word-break:normal; line-height:21px">3 4</span>  
  <span style="color:#FFC20E; word-wrap:normal; word-break:normal; line-height:21px">3 4</span>  
  <span style="color:#A8E61D; word-wrap:normal; word-break:normal; line-height:21px">3 4</span> 
 </div> 
 <div style="margin-bottom:5px; color:rgb(51,51,51); line-height:24px; font-family:arial,宋体,sans-serif; text-indent:2em; background-color:rgb(255,255,255)"> 
  <span style="color:#00B7EF; word-wrap:normal; word-break:normal; line-height:21px">1 2</span>  
  <span style="color:#2F3699; word-wrap:normal; word-break:normal; line-height:21px">1 2</span> 1 2 
 </div> 
 <div style="margin-bottom:5px; color:rgb(51,51,51); line-height:24px; font-family:arial,宋体,sans-serif; text-indent:2em; background-color:rgb(255,255,255)"> 
  <span style="color:#00B7EF; word-wrap:normal; word-break:normal; line-height:21px">3 4</span>  
  <span style="color:#2F3699; word-wrap:normal; word-break:normal; line-height:21px">3 4</span> 3 4 
 </div> 
 <div style="margin-bottom:5px; color:rgb(51,51,51); line-height:24px; font-family:arial,宋体,sans-serif; text-indent:2em; background-color:rgb(255,255,255)">
     
  <wbr></wbr> 
 </div> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> <strong>总结</strong></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> 理解协方差矩阵的关键就在于牢记它计算的是不同维度之间的协方差，而不是不同样本之间，拿到一个样本矩阵，我们最先要明确的就是一行是一个样本还是一个维度。</p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> matlab：</p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> 1、均值<br> 数学定义：<br> Matlab 函数：mean<br> &gt;&gt;X=[1,2,3]<br> &gt;&gt;mean(X)=2<br> 如果X 是一个矩阵，则其均值是一个向量组。<span style="color:#ED1C24; word-wrap:normal; word-break:normal; line-height:21px">mean(X,1)为列向量的均值，mean(X,2)为行向量的均<br> 值。<br> </span>&gt;&gt;X=[1 2 3<br>  <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> 4 5 6]<br> &gt;&gt;mean(X,1)=[2.5, 3.5, 4.5]<br> &gt;&gt;mean(X,2)=[2<br>  <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> 5]<br> 若要求整个矩阵元素的均值，则为mean(mean(X))。<br> &gt;&gt;mean(mean(X))=3.5<br> 也可使用<span style="color:#ED1C24; word-wrap:normal; word-break:normal; line-height:21px">mean2</span>函数：<br> &gt;&gt;mean2(X)=3.5<br> median，求一组数据的中值，用法与mean 相同。<br> &gt;&gt;X=[1,2,9]<br> &gt;&gt;mean(X)=4<br> &gt;&gt;median(X)=2<br> 2、方差<br> 数学定义：<br> 均方差：<br> Matlab 函数：var<br> 要注意的是var 函数所采用公式中，分母不是，而是。这是因为var 函数实际上求的并不是方差，<br> 而是误差理论中“有限次测量数据的标准偏差的估计值”。<br> &gt;&gt;X=[1,2,3,4]<br> &gt;&gt;var(X)=1.6667<br> &gt;&gt; sum((X(1,:)-mean(X)).^2)/length(X)=1.2500<br> &gt;&gt; sum((X(1,:)-mean(X)).^2)/(length(X)-1)=1.6667<br> var 没有求矩阵的方差功能，可使用std 先求均方差，再平方得到方差。<br> std，均方差，<span style="color:#ED1C24; word-wrap:normal; word-break:normal; line-height:21px">std(X,0,1)求列向量方差，std(X,0,2)求行向量方差</span>。<br> &gt;&gt;X=[1 2<br>  <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> 3 4]<br> &gt;&gt;std(X,0,1)=1.4142 1.4142<br> &gt;&gt;std(X,0,2)=0.7071<br>  <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> 0.7071<br> 若要求整个矩阵所有元素的均方差，则要使用std2函数：<br> &gt;&gt;std2(X)=1.2910<br> 4、协方差矩阵<br> A=[61.45,55.9,61.95,59,58.14,53.61,55.48,54.21,61.52,54.92];<br> B=[40.36,39.8,49.2,48,51.5,49.39,51.13,58.06,61,62.35];<br> C=[8.61,8.91,10.43,13.32,13.48,15.75,18.14,19.95,21.95,23.53];<br> D=[14.31,14.72,15.28,15.91,14.67,15,15.86,15.16,13.72,12.94];<br> E=[7.67,7.75,8.15,9.24,10.68,10.58,10.31,10,8.91,8.51];<br> &gt;&gt; q=[A',B',C',D',E'];<br> &gt;&gt; w=cov(q)<br> w =<br> 10.3710 -4.7446 -6.6023 -0.1873 -1.8881<br> -4.7446 59.1503 38.7606 -3.0743 3.0982<br> -6.6023 38.7606 28.6966 -2.0199 2.4166<br> -0.1873 -3.0743 -2.0199 0.8474 0.3936</p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> -1.8881 3.0982 2.4166 0.3936 1.3412</p> 
 <p style="margin:10px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial,Helvetica,sans-serif; background-color:rgb(244,237,227)"> 例：</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> <span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">a <wbr></wbr><wbr></wbr></span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">=</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)"><br>  <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr></span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">-</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">1</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)"> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr></span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">1</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)"> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr></span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">2</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)"><br>  <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr></span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">-</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">2</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)"> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr></span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">3</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)"> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr></span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">1</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)"><br>  <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr></span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">4</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)"> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr></span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">0</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)"> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr></span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">3</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)"><br> <br> </span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,255)">for</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)"> <wbr></wbr><wbr></wbr>i</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">=</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">1</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">:size(a,</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">2</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">) <wbr></wbr>%<span style="word-wrap:normal; word-break:normal; color:rgb(68,68,68); font-family:Tahoma,'Microsoft Yahei',simsun; text-indent:0px; background-color:rgb(255,255,255)"><span style="color:#FF0000; word-wrap:normal; word-break:normal">size(a,1)求矩阵的行数；</span></span><span style="word-wrap:normal; word-break:normal; color:rgb(68,68,68); font-family:Tahoma,'Microsoft Yahei',simsun; text-indent:0px; background-color:rgb(255,255,255)"><span style="color:#FF0000; word-wrap:normal; word-break:normal">size(a,2)求矩阵的列数</span>，相当于length(a)；</span><span style="word-wrap:normal; word-break:normal; color:rgb(68,68,68); font-family:Tahoma,'Microsoft Yahei',simsun; text-indent:0px; background-color:rgb(255,255,255)">size(a)同时求矩阵的行和列数</span><wbr></wbr><br>  <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr></span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,255)">for</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)"> <wbr></wbr><wbr></wbr>j</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">=</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">1</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">:size(a,</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">2</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">) <wbr></wbr>%<span style="color:#FF0000; word-wrap:normal; word-break:normal">A(1,:)表示这个矩阵的第一行；A(:,1)表示这个矩阵的第一列</span></span></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> <wbr></wbr><br>  <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr>c(i,j)<span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">=</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">sum((a(:,i)</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">-</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">mean(a(:,i))).</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">*</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">(a(:,j)</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">-</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">mean(a(:,j))))</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">/</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">(size(a,</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">1</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">)</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">-</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">1</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">);<br>  <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr>end <wbr></wbr><wbr></wbr><br> end</span></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> c =</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> 10.3333  <wbr></wbr><wbr></wbr> -4.1667  <wbr></wbr><wbr></wbr>  <wbr></wbr><wbr></wbr>3.0000</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> -4.1667  <wbr></wbr><wbr></wbr>  <wbr></wbr><wbr></wbr>2.3333  <wbr></wbr><wbr></wbr> -1.5000</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> 3.0000  <wbr></wbr><wbr></wbr> -1.5000  <wbr></wbr><wbr></wbr>  <wbr></wbr><wbr></wbr>1.0000</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> c为求得的协方差矩阵，<span style="color:#FF0000; word-wrap:normal; word-break:normal">在matlab以矩阵a的每一列为变量，对应的每一行为样本</span>。这样在矩阵a中就有3个列变量分别为a（:,1), a(:,2), a(:,3)。</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> 在协方差矩阵c中，每一个元素c(i,j)为对第i列与第j列的协方差，例如c(1,2) = -4.1667为第一列与第二列的协方差。</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em">  <wbr></wbr><wbr></wbr></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> 拿c(1,2)的求解过程来说</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> <span style="word-wrap:normal; word-break:normal; line-height:19.5px; font-size:13px; font-family:'Courier new'"><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">c(1,2)</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">=</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">sum((a(:,1)</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">-</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">mean(a(:,1))).</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">*</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">(a(:,2)</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">-</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">mean(a(:,2))))</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">/</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">(size(a,</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">1</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">)</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">-</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">1</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">);</span></span></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> <span style="color:#4D6DF3; word-wrap:normal; word-break:normal">1</span>. <wbr></wbr><wbr></wbr><span style="word-wrap:normal; word-break:normal; line-height:19.5px; font-size:13px; font-family:'Courier new'"><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">a(:,1)</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">-</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">mean(a(:,1))，第一列的元素减去该列的均值得到</span></span></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> -1.3333</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> -2.3333</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> 3.6667</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> <span style="color:#4D6DF3; word-wrap:normal; word-break:normal">2</span>,  <wbr></wbr><wbr></wbr><span style="word-wrap:normal; word-break:normal; line-height:19.5px; font-size:13px; font-family:'Courier new'"><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">a(:,2)</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">-</span><span style="word-wrap:normal; word-break:normal; color:rgb(0,0,0)">mean(a(:,2))，第二列的元素减去该列的均值得到</span></span></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> -0.3333</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> 1.6667</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> -1.3333</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> <span style="color:#4D6DF3; word-wrap:normal; word-break:normal">3</span>, 再将第一步与第二部的结果相乘</p> 
 <p style="margin:5px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> -1.3333  <wbr></wbr><wbr></wbr>  <wbr></wbr><wbr></wbr>  <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr> <wbr></wbr>-0.3333 <wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr> <wbr></wbr><wbr></wbr>0.4444</p> 
 <p style="margin:5px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> -2.3333  <wbr></wbr><wbr></wbr>.*  <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> 1.6667  <wbr></wbr><wbr></wbr>=  <wbr></wbr><wbr></wbr>  <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr> <wbr></wbr>-3.8889</p> 
 <p style="margin:5px auto; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> 3.6667 <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr>  <wbr></wbr><wbr></wbr>  <wbr></wbr><wbr></wbr>  <wbr></wbr><wbr></wbr> <wbr></wbr> <wbr></wbr>-1.3333  <wbr></wbr><wbr></wbr>  <wbr></wbr><wbr></wbr>  <wbr></wbr><wbr></wbr>  <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr> <wbr></wbr><wbr></wbr>-4.8889</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em">  <wbr></wbr><wbr></wbr></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> <span style="color:#4D6DF3; word-wrap:normal; word-break:normal">4</span>, 再将结果求和/size(a,1)-1 得 -4.1667,该值即为c（1,2）的值。</p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal; text-indent:2em"> 再细看一下是不是与协方差公式：<span style="word-wrap:normal; word-break:normal; line-height:22px; font-family:Arial"><strong>Cov(X,Y) = E{ [ (X-E(X) ] [ (Y-E(Y) ] } <wbr></wbr><wbr></wbr></strong>过程基本一致呢，只是在第4步的时候matlab做了稍微的调整，自由度为n-1，减少了一行的样本值个数。</span></p> 
 <p style="margin-top:0px; margin-bottom:5px; padding-top:0px; padding-bottom:0px; border:0px; list-style:none; word-wrap:normal; word-break:normal"> clear all;<br> a =[-1,1,2;-2,3,1;4,0,3]<br> b=cov(a)<br> for i=1:size(a,2) %size(a,1)求矩阵的行数；size(a,2)求矩阵的列数<br>  <wbr></wbr> <wbr></wbr> <wbr></wbr> for j=1:size(a,2) %A(1,:)表示这个矩阵的第一行；A(:,1)表示这个矩阵的第一列<br>  <wbr></wbr> <wbr></wbr> <wbr></wbr> c(i,j)=sum((a(:,i)-mean(a(:,i))).*(a(:,j)-mean(a(:,j))))/(size(a,1)-1)<br>  <wbr></wbr> <wbr></wbr> <wbr></wbr> end<br> end</p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/474a746bded0914c21f9e8909d1517db/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">java was started but returned exit code = 1</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/5bd927a6da1ebdcd33fa7cd2e0bbe244/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">scrapy下载图片问题</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>