<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>国内常用地图坐标系总结 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="国内常用地图坐标系总结" />
<meta property="og:description" content="文章目录 一、国内的常用坐标系1.1 坐标系简介1.2 国内各地图厂家坐标系1.3位置数据坐标系分析 二、坐标系介绍2.1 WGS-84坐标系：2.2 CGCS20002.3 GCJ02 坐标系2.4 BD09坐标系2.5.墨卡托投影法2.6. Pseudo-Mercator投影2.7BD09MC投影2.8. UTM投影 三、各厂家地图偏移说明3.1 为什么天地图没有偏移3.2 为什么谷歌地球没有偏移3.3 为什么谷歌卫星地图（国外服务器）没有偏移？3.4为什么必应卫星地图没有偏移？3.5为什么OpenStreetMap地图没有偏移？ 一、国内的常用坐标系 1.1 坐标系简介 WGS84\GCJ02\CGCS2000\BD09是地心坐标系，坐标表现形式为经度、纬度。Pseudo-Mercator\UTM\BD09MC是投影坐标系，坐标表现形式为x、y。WGS84\CGCS2000是原始坐标系，GCJ02\BD09是加密坐标系。 1.2 国内各地图厂家坐标系 厂商国内国外天地图CGCS2000和Pseudo-Mercator投影坐标系CGCS2000和Pseudo-Mercator投影坐标系谷歌已停用
街道图是GCJ-02,数据来源于高德，两者互通
卫星图采用的是全84坐标系,导致在我国区域谷歌地图的街景和卫星图不重合WGS84坐标系和Pseudo-Mercator投影坐标系OSM无WGS84坐标系和Pseudo-Mercator投影坐标系百度BD09和BD09MC投影坐标系(包括港澳台)
1）BD09是在GCJ-02坐标系基础上再次加密
2）支持WGS-84、GCJ-02转换成BD09，反向不支持，并且批量转换一次有条数限制WGS-84高德GCJ-02和Pseudo-Mercator投影坐标系 1）WGS-84-&gt;GCJ-02（高德有接口提供，反过来没有）
2）MapABC 是高德集团底下的图盟公司，主要面向大众型企业或政府机关，并提供付费的有偿服务,
3）Amap和MapABC，数据和服务都是共享的无腾讯GCJ-02和Pseudo-Mercator投影坐标系无Bing街道:GCJ-02
卫星图:WGS84或CGCS2000WGS-84 1.3位置数据坐标系分析 国内Android系统手机采集的AGPS数据是GCJ02坐标系的，GPS数据应该为WGS84；RTK和一些PDA设备采集的GPS数据是WGS84坐标系的；IOS系统手机采集的AGPS数据是WGS84坐标系的；GPS芯片原生得到的是坐标是84坐标，在我国，必须要得到授权后，才可以得到并使用02坐标系的加密方式，并且可以在我国02坐标系下进行使用。而国内几家大公司的地图的sdk，由于得到了国家的许可，提供了相应的sdk，可以通过调用sdk的方式得到02坐标系下的坐标值；北斗芯片获取的定位数据是CGCS2000坐标系的。 二、坐标系介绍 2.1 WGS-84坐标系： 全称，World Geodetic System-1984，既1984年的全球坐标系统。
美国GPS系统使用的是WGS84坐标系，受益于GPS系统的发展，现在全球用的最多的坐标系就是WGS84坐标系，它的EPSG编码是4326。（EPSG是大地基准面、空间参考系统、地球椭球体、坐标转换和相关度量单位的公共注册中心，它为每个坐标系都分配有一个编码）。
WGS84坐标系的坐标原点为地球质心，地心空间直角坐标系的Z轴指向BIH （国际时间服务机构）1984.0定义的协议地球极（CTP）方向，X轴指向BIH 1984.0的零子午面和CTP赤道的交点，Y轴与Z轴、X轴垂直构成右手坐标系。
WGS84坐标系的EPSG编码为4326，赤道半径为6378137，扁率为1/298.257223565，是目前应用最为广泛的坐标系统，只要跟GPS定位相关，使用的都是WGS84坐标系，谷歌、OSM也用的WGS84坐标系，很多软件（QGIS、ARCGIS）、前端脚本库（leaflet、mapbox、openlayer），在没有特别声明的时候，默认数据使用是WGS84坐标。
2.2 CGCS2000 China Geodetic Coordinate System 2000，2000国家大地坐标系，是我国当前最新的国家大地坐标系，它的EPSG编码为，4490。
2000国家大地坐标系的原点为包括海洋和大气的整个地球的质量中心；2000国家大地坐标系的Z轴由原点指向历元2000.0的地球参考极的方向，该历元的指向由国际时间局给定的历元为1984.0的初始指向推算，定向的时间演化保证相对于地壳不产生残余的全球旋转，X轴由原点指向格林尼治参考子午线与地球赤道面（历元2000.0）的交点，Y轴与Z轴、X轴构成右手正交坐标系。采用广义相对论意义下的尺度。
相较于WGS84，CGCS2000坐标系的区别主要在于，它采用的是2000年的地球物理和大地测量的结果平差计算而设定的，坐标系Z轴指向历元2000的地球参考极方向，这些差异对高精数据有影响，但对于精度在10m以上的数据来说，这些差异可以忽略不计。
很多软件和框架都还没有兼容CGCS2000坐标系，我们在使用CGCS2000坐标系的数据的时候，可以设置为WGS84坐标系，这样也便于传输和查阅。
天地图采用的是CGCS2000坐标系
既非高精度的大多数情况下，我们可以认为WGS84坐标系=CGCS2000坐标系,2000坐标系与WGS84坐标系偏差不大，因为CGCS2000坐标系与WGS84坐标系的原点、尺度、定向及定向演变的定义都是相同的，参考椭球的参数略有不同而已。相同的坐标点，在CGCS2000与WGS84下，经度是相同的，只在纬度上存有0.11mm上下的区别，可以忽略掉。。
2.3 GCJ02 坐标系 为了数据安全和保密，通过地形图非线性保密处理算法（俗称火星加密）加密过的WGS84坐标系，俗称国测局坐标系，或火星坐标系。
GCJ02坐标系与WGS84坐标系之间的偏差大概在50-700m左右。
目前国内大部分地图底图和矢量数据（除了LBS服务的坐标数据，还包括Android手机的定位数据）都使用GCJ02坐标系，为了使GCJ02坐标系的底图与数据和WGS84坐标系的底图与数据适配，通常会使用坐标系纠偏算法，将坐标系统一。
各种形式的纠偏算法，JavaScript、java、python等，都可以在网上搜索到，数据处理和webgis开发，坐标系纠偏与数据融合统一是很重要的环节。
通过对原始数据和加偏后的数据进行分析，猜测加偏的算法大概是，使用克拉索夫斯基椭球的参数，将原始坐标对应经线和纬线上的偏差转为弧度后，与原始坐标相加，形成加偏坐标。
这个算法非常优秀，它既能保证GCJ02坐标系，相对于WGS84坐标系的线性单调性；又能保证GCJ02坐标系在伪距墨卡托投影下，相对于WGS84坐标系在伪距墨卡托投影下的线性单调性；既能保证数据在加偏后，仍能维持实际的空间相对位置，又能保证数据可以无损的纠偏回去。
GCJ02坐标系是一种加密坐标系，目前国内大部分地图底图（高德、腾讯）和矢量数据（图商的LBS服务和Android手机的定位数据）都使用的是GCJ02坐标系，GCJ02的加密算法非常精妙，地图底图和矢量数据在使用之前，需要将坐标系进行统一。
2.4 BD09坐标系 D09坐标系是百度地图使用的地心坐标系，2009年，百度地图在GCJ02的基础上，做了二次加密，形成了BD09坐标系。坐标系的命名规则是首写字母&#43;年份，BD09是2009年提出的，GCJ02是2002年提出的，CGCS2000是2000年提出的，WGS84是1984年提出的。）" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/70bc9a74c09524f41fcc56eae648e2c1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-12T14:42:36+08:00" />
<meta property="article:modified_time" content="2022-05-12T14:42:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">国内常用地图坐标系总结</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">一、国内的常用坐标系</a></li><li><ul><li><a href="#11__2" rel="nofollow">1.1 坐标系简介</a></li><li><a href="#12__6" rel="nofollow">1.2 国内各地图厂家坐标系</a></li><li><a href="#13_16" rel="nofollow">1.3位置数据坐标系分析</a></li></ul> 
  </li><li><a href="#_23" rel="nofollow">二、坐标系介绍</a></li><li><ul><li><a href="#21_WGS84_24" rel="nofollow">2.1 WGS-84坐标系：</a></li><li><a href="#22_CGCS2000_29" rel="nofollow">2.2 CGCS2000</a></li><li><a href="#23_GCJ02__37" rel="nofollow">2.3 GCJ02 坐标系</a></li><li><a href="#24_BD09_51" rel="nofollow">2.4 BD09坐标系</a></li><li><a href="#25_59" rel="nofollow">2.5.墨卡托投影法</a></li><li><a href="#26_PseudoMercator_68" rel="nofollow">2.6. Pseudo-Mercator投影</a></li><li><a href="#27BD09MC_79" rel="nofollow">2.7BD09MC投影</a></li><li><a href="#28_UTM_86" rel="nofollow">2.8. UTM投影</a></li></ul> 
  </li><li><a href="#_102" rel="nofollow">三、各厂家地图偏移说明</a></li><li><ul><li><a href="#31__103" rel="nofollow">3.1 为什么天地图没有偏移</a></li><li><a href="#32__106" rel="nofollow">3.2 为什么谷歌地球没有偏移</a></li><li><a href="#33__108" rel="nofollow">3.3 为什么谷歌卫星地图（国外服务器）没有偏移？</a></li><li><a href="#34_112" rel="nofollow">3.4为什么必应卫星地图没有偏移？</a></li><li><a href="#35OpenStreetMap_114" rel="nofollow">3.5为什么OpenStreetMap地图没有偏移？</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>一、国内的常用坐标系</h2> 
<h3><a id="11__2"></a>1.1 坐标系简介</h3> 
<ul><li>WGS84\GCJ02\CGCS2000\BD09是地心坐标系，坐标表现形式为经度、纬度。</li><li>Pseudo-Mercator\UTM\BD09MC是投影坐标系，坐标表现形式为x、y。</li><li>WGS84\CGCS2000是原始坐标系，GCJ02\BD09是加密坐标系。</li></ul> 
<h3><a id="12__6"></a>1.2 国内各地图厂家坐标系</h3> 
<table><thead><tr><th align="center">厂商</th><th align="center">国内</th><th align="center">国外</th></tr></thead><tbody><tr><td align="center">天地图</td><td align="center">CGCS2000和Pseudo-Mercator投影坐标系</td><td align="center">CGCS2000和Pseudo-Mercator投影坐标系</td></tr><tr><td align="center">谷歌</td><td align="center">已停用<br>街道图是GCJ-02,数据来源于高德，两者互通<br>卫星图采用的是全84坐标系,导致在我国区域谷歌地图的街景和卫星图不重合</td><td align="center">WGS84坐标系和Pseudo-Mercator投影坐标系</td></tr><tr><td align="center">OSM</td><td align="center">无</td><td align="center">WGS84坐标系和Pseudo-Mercator投影坐标系</td></tr><tr><td align="center">百度</td><td align="center">BD09和BD09MC投影坐标系(包括港澳台)<br> 1）BD09是在GCJ-02坐标系基础上再次加密<br>2）支持WGS-84、GCJ-02转换成BD09，反向不支持，并且批量转换一次有条数限制</td><td align="center">WGS-84</td></tr><tr><td align="center">高德</td><td align="center">GCJ-02和Pseudo-Mercator投影坐标系 <br>1）WGS-84-&gt;GCJ-02（高德有接口提供，反过来没有）<br>2）MapABC 是高德集团底下的图盟公司，主要面向大众型企业或政府机关，并提供付费的有偿服务,<br>3）Amap和MapABC，数据和服务都是共享的</td><td align="center">无</td></tr><tr><td align="center">腾讯</td><td align="center">GCJ-02和Pseudo-Mercator投影坐标系</td><td align="center">无</td></tr><tr><td align="center">Bing</td><td align="center">街道:GCJ-02<br>卫星图:WGS84或CGCS2000</td><td align="center">WGS-84</td></tr></tbody></table> 
<h3><a id="13_16"></a>1.3位置数据坐标系分析</h3> 
<ul><li>国内Android系统手机采集的AGPS数据是GCJ02坐标系的，GPS数据应该为WGS84；</li><li>RTK和一些PDA设备采集的GPS数据是WGS84坐标系的；</li><li>IOS系统手机采集的AGPS数据是WGS84坐标系的；</li><li>GPS芯片原生得到的是坐标是84坐标，在我国，必须要得到授权后，才可以得到并使用02坐标系的加密方式，并且可以在我国02坐标系下进行使用。而国内几家大公司的地图的sdk，由于得到了国家的许可，提供了相应的sdk，可以通过调用sdk的方式得到02坐标系下的坐标值；</li><li>北斗芯片获取的定位数据是CGCS2000坐标系的。</li></ul> 
<h2><a id="_23"></a>二、坐标系介绍</h2> 
<h3><a id="21_WGS84_24"></a>2.1 WGS-84坐标系：</h3> 
<p> 全称，World Geodetic System-1984，既1984年的全球坐标系统。<br>  美国GPS系统使用的是WGS84坐标系，受益于GPS系统的发展，现在全球用的最多的坐标系就是WGS84坐标系，它的EPSG编码是4326。（EPSG是大地基准面、空间参考系统、地球椭球体、坐标转换和相关度量单位的公共注册中心，它为每个坐标系都分配有一个编码）。<br>  WGS84坐标系的坐标原点为地球质心，地心空间直角坐标系的Z轴指向BIH （国际时间服务机构）1984.0定义的协议地球极（CTP）方向，X轴指向BIH 1984.0的零子午面和CTP赤道的交点，Y轴与Z轴、X轴垂直构成右手坐标系。<br>  WGS84坐标系的EPSG编码为4326，赤道半径为6378137，扁率为1/298.257223565，是目前应用最为广泛的坐标系统，只要跟GPS定位相关，使用的都是WGS84坐标系，谷歌、OSM也用的WGS84坐标系，很多软件（QGIS、ARCGIS）、前端脚本库（leaflet、mapbox、openlayer），在没有特别声明的时候，默认数据使用是WGS84坐标。</p> 
<h3><a id="22_CGCS2000_29"></a>2.2 CGCS2000</h3> 
<p> China Geodetic Coordinate System 2000，2000国家大地坐标系，是我国当前最新的国家大地坐标系，它的EPSG编码为，4490。<br>  2000国家大地坐标系的原点为包括海洋和大气的整个地球的质量中心；2000国家大地坐标系的Z轴由原点指向历元2000.0的地球参考极的方向，该历元的指向由国际时间局给定的历元为1984.0的初始指向推算，定向的时间演化保证相对于地壳不产生残余的全球旋转，X轴由原点指向格林尼治参考子午线与地球赤道面（历元2000.0）的交点，Y轴与Z轴、X轴构成右手正交坐标系。采用广义相对论意义下的尺度。<br>  相较于WGS84，CGCS2000坐标系的区别主要在于，它采用的是2000年的地球物理和大地测量的结果平差计算而设定的，坐标系Z轴指向历元2000的地球参考极方向，这些差异对高精数据有影响，但对于精度在10m以上的数据来说，这些差异可以忽略不计。<br>  很多软件和框架都还没有兼容CGCS2000坐标系，我们在使用CGCS2000坐标系的数据的时候，可以设置为WGS84坐标系，这样也便于传输和查阅。<br>  <strong>天地图采用的是CGCS2000坐标系</strong><br>  <strong>既非高精度的大多数情况下，我们可以认为WGS84坐标系=CGCS2000坐标系,2000坐标系与WGS84坐标系偏差不大，因为CGCS2000坐标系与WGS84坐标系的原点、尺度、定向及定向演变的定义都是相同的，参考椭球的参数略有不同而已。相同的坐标点，在CGCS2000与WGS84下，经度是相同的，只在纬度上存有0.11mm上下的区别，可以忽略掉。</strong>。</p> 
<h3><a id="23_GCJ02__37"></a>2.3 GCJ02 坐标系</h3> 
<p> 为了数据安全和保密，通过地形图非线性保密处理算法（俗称火星加密）加密过的WGS84坐标系，俗称国测局坐标系，或<strong>火星坐标系</strong>。</p> 
<p> GCJ02坐标系与WGS84坐标系之间的偏差大概在50-700m左右。</p> 
<p> 目前国内大部分地图底图和矢量数据（除了LBS服务的坐标数据，还包括Android手机的定位数据）都使用GCJ02坐标系，为了使GCJ02坐标系的底图与数据和WGS84坐标系的底图与数据适配，通常会使用坐标系纠偏算法，将坐标系统一。</p> 
<p> 各种形式的纠偏算法，JavaScript、java、python等，都可以在网上搜索到，数据处理和webgis开发，坐标系纠偏与数据融合统一是很重要的环节。</p> 
<p> 通过对原始数据和加偏后的数据进行分析，猜测加偏的算法大概是，使用克拉索夫斯基椭球的参数，将原始坐标对应经线和纬线上的偏差转为弧度后，与原始坐标相加，形成加偏坐标。</p> 
<p> 这个算法非常优秀，它既能保证GCJ02坐标系，相对于WGS84坐标系的线性单调性；又能保证GCJ02坐标系在伪距墨卡托投影下，相对于WGS84坐标系在伪距墨卡托投影下的线性单调性；既能保证数据在加偏后，仍能维持实际的空间相对位置，又能保证数据可以无损的纠偏回去。</p> 
<p> GCJ02坐标系是一种加密坐标系，目前国内大部分地图底图（高德、腾讯）和矢量数据（图商的LBS服务和Android手机的定位数据）都使用的是GCJ02坐标系，GCJ02的加密算法非常精妙，地图底图和矢量数据在使用之前，需要将坐标系进行统一。</p> 
<h3><a id="24_BD09_51"></a>2.4 BD09坐标系</h3> 
<p> D09坐标系是百度地图使用的地心坐标系，2009年，百度地图在GCJ02的基础上，做了二次加密，形成了BD09坐标系。坐标系的命名规则是首写字母+年份，BD09是2009年提出的，GCJ02是2002年提出的，CGCS2000是2000年提出的，WGS84是1984年提出的。）<br>  BD09坐标系大概是先将GCJ02坐标转为极坐标后，添加一个常量做偏移值，再将偏移后的极坐标转回到直角坐标。<br>  这种加偏算法，仅能保证相对于GCJ02坐标系的线性单调性，无法保证投影后的线性单调性，所以百度地图的墨卡托投影需要分区域进行。<br>  <a href="https://lbsyun.baidu.com/index.php?title=webapi/guide/changeposition" rel="nofollow">百度地图提供WGS84、GCJ02坐标系向BD09坐标系的转换API</a>;<a href="https://lbsyun.baidu.com/index.php?title=jspopularGL/guide/coorinfo" rel="nofollow">在前端，百度地图也支持声明数据坐标系，以自动适配百度地图底图</a>。<br>  除了百度自己的API外，网上也能搜索到BD09、GCJ02、WGS84坐标系之间的<a href="https://blog.csdn.net/sinat_41310868/article/details/113791826">转换方法</a><br>  因为在GCJ02坐标系的基础上，又做了一次加密，所以百度地图与其他地图的数据兼容性变得很不好。但作为国内硕果仅存的还在做街景的商业地图平台，加之其与echart开源JavaScript库的良好结合，我们很多时候，还需要使用百度地图，这时候，虽然麻烦，但还是需要对它的底图和数据进行坐标系统一。<br>  BD09坐标系是在GCJ02坐标系基础上二次加密而成，仅有百度地图在用，但百度地图有街景、有三维、有echart，很多情况下，我们需要使用百度地图的底图和数据，这时候，就需要对坐标系进行统一了，百度地图webAPI和js API都支持坐标系的转换。</p> 
<h3><a id="25_59"></a>2.5.墨卡托投影法</h3> 
<p> 在说其他投影坐标系之前，我们先来了解一下墨卡托投影法，因为它是所有网络地图投影的基础。<br>  墨卡托投影法，又称麦卡托投影法、正轴等角圆柱投影，是一种等角的圆柱形地图投影法。<br> 本投影法得名于法兰德斯出身的地理学家杰拉杜斯·墨卡托，他于1569年发表长202公分、宽124公分以此方式绘制的世界地图。在以此投影法绘制的地图上，经纬线于任何位置皆垂直相交，使世界地图可以绘制在一个长方形上。由于可显示任两点间的正确方位，航海用途的海图、航路图大都以此方式绘制。在该投影中线型比例尺在图中任意一点周围都保持不变，从而可以保持大陆轮廓投影后的角度和形状不变（即等角）；但墨卡托投影会使面积产生变形，极点的比例甚至达到了无穷大。<br> <img src="https://images2.imgbox.com/a8/a3/e0pjluFG_o.png" alt=""><br> <img src="https://images2.imgbox.com/64/d4/cwWCVH6n_o.png" alt=""><br>  在制作小比例尺地图的时候，近似认为地球是正球体，将上述中的x和y乘以地球半径，即可形成对应地点的墨卡托投影相对坐标，在制作大比例尺地图的时候，要考虑到地球扁率。<br>  <strong>墨卡托投影法是一种等角圆柱形地图投影，它的投影公式计算简单，可以将地球投影到一张长方形图上，它是Web-Mercator投影的基础。</strong></p> 
<h3><a id="26_PseudoMercator_68"></a>2.6. Pseudo-Mercator投影</h3> 
<p> Pseudo-Mercator又称Web-Mercator，是墨卡托投影的一种变体，是WGS84坐标系的伪距墨卡托投影，是网络地图应用的标准投影。自从2005年，谷歌地图使用Web-Mercator投影发布自己的瓦片地图起，后续的图商OSM、高德、腾讯、百度都沿袭了这种投影方法发布自己的地图。它的EPSG编码为3857。<br>  墨卡托投影在大比例下会考虑地球扁率，但Web-Mercator在所有比例尺下都使用球面公式，会导致局部地区的地图偏离同一比例尺下的椭球面墨卡托地图。离赤道越远，偏差就越明显，在地面上可以达到40 km。<br>  因为很多人不知道Web-Mercator和墨卡托投影有这样的差别，导致两者经常被乱用，为了避免投影乱用，致使数据混淆，很多官方机构规定正规途径禁用Web-Mercator投影。<br>  通常情况，Web-Mercator投影仅在网络地图上使用。<br> Web-Mercator投影公式与标准球面墨卡托的公式基本相同，但将世界坐标调整为左上角为(0, 0)，右下角为(256, 256)的正方形，假设地图投影在一个256像素*256像素的图幅上：<br> <img src="https://images2.imgbox.com/3d/30/JHwiCCpV_o.png" alt="图片跑丢了"><br>  其中x和y是像素坐标，λ是经度，φ是纬度，pixel是像素，zoom level是地图瓦片比例尺层级。<br>  Web-Mercator投影的数据覆盖范围在经度[-180°,180°]，纬度[-85.051129°, 85.051129°]之间，这有两个好处，其一是避免将极点投影到无穷远处，其二是能将整个投影地图变成正方形；虽然它会把部分南北极地区截掉，但毕竟，除了极为特殊的情况外，企鹅和北极熊不看网络地图。<br>  <strong>Web-Mercator投影的缺点是变形失真比较严重，不适用于大比例尺、高精度数据的显示；但优点也很明显，投影公式计算简单，投影结果是正方形，切图方便，坐标结果是各层级的像素坐标。</strong><br>  <strong>Web-Mercator投影坐标系是网络地图的投影坐标系，几乎所有的网络地图都使用这种投影，它的投影结果是正方形的，计算简单，切图方便。</strong></p> 
<h3><a id="27BD09MC_79"></a>2.7BD09MC投影</h3> 
<p> BD09MC是BD09坐标系的Web-Mercator投影坐标系。<br>  前文已经说过，GCJ02坐标系是WGS84坐标系的加密结果，GCJ02坐标系相对于WGS84坐标保证了投影后的线性单调性，所以GCJ02坐标系可以直接使用Web-Mercator投影，但作为GCJ02坐标系的二次加密结果BD09坐标系没有做到投影后的线性单调性，为了保障投影后的线性单调性，百度地图基于Web-Mercator投影进行了修改，加入了常量矩阵，分区域对投影结果进行纠正。<br>  因为BD09坐标系采用极坐标加常量的方法进行偏移，所以BD09MC投影不是基于正球体的，而是椭球，其椭球赤道半径a=6378206m，极半径b=6356584.314245179m，数据覆盖范围与Web-Mercator投影一致。<br>  BD09MC投影坐标系与Web-Mercator投影坐标系之间的转换可参见：https://blog.csdn.net/sinat_41310868/article/details/113791826。<br>  地图底图瓦片栅格的转换，考虑到精度要求不需要太高，通常情况下，仅需进行瓦片中心点坐标的平移即可。<br>  因为BD09坐标系是极坐标加常量加密，无法保证投影后的线性单调性，所以BD09MC投影坐标系需要在BD09坐标系进行Web-Mercator投影后，进行坐标纠正。因为精度不需要太高，地图瓦片的坐标纠正，仅需进行瓦片中心点坐标的平移即可。</p> 
<h3><a id="28_UTM_86"></a>2.8. UTM投影</h3> 
<p> Universal Transverse Mercator，通用横轴墨卡托投影，是一种国际标准化的地图投影法。使用笛卡尔坐标系，标记南纬80°至北纬84°之间的所有位置，它的坐标基础是WGS84坐标系，因为UTM是一种分度带投影，所以不同经度区间的UTM投影坐标系的EPSG编码不同。<br>  UTM采用网格编码，每个网格的编码经度在前，纬度在后。<br>  经度区间，每6°被编排为一经度区间。每一个经度区间均以一个数字表示，由西向东数以01至60编排。<br>  纬度区间，从南纬80°开始，每8°被编排为一个纬度区间，而最北的纬度区间（北纬74°以北）则被延伸至北纬84°，以覆盖世界上大部分陆地。每一个纬度区间均以一个英文字母表示，由南向北数以C至X编排。<br> 具体情况如下图︰<br> <img src="https://images2.imgbox.com/1f/24/PM6POJ9M_o.png" alt=""><br>  在网格编码的基础上，某一点的UTM坐标表示为该点所在的网格编码，加上该点由网格西南角起向北和向东的距离（细分网格数）。<br>  坐标可由不同位数的数字组成，根据精确度而定。<br>  如下图，假设在一个大网格（例如17T）中，网格被不断以10<em>10的尺度被细分（第一次细分为100</em>100）。<br>  A点的UTM细分坐标为17T 11 83，B点的UTM细分坐标为17T 106 827，C点的细分坐标为17T 1085 8255。<br> <img src="https://images2.imgbox.com/29/cc/TL36dZbV_o.png" alt=""><br>  通常，一些自动驾驶项目采集的高精地图数据（点云、街景）是UTM投影坐标系的。某些网站上的卫星影像和自然资源数据，也使用UTM投影编码进行索引。<br>  UTM是通用横轴墨卡托投影，以细分网格的方式表示地球上的区间，一些高精地图数据使用的是UTM投影坐标系，某些网站上的卫星影像和自然资源数据，也是用UTM投影编码进行索引。<br> <em><strong>UTM投影坐标系经常应用在无人驾驶及高精地图上面</strong></em></p> 
<h2><a id="_102"></a>三、各厂家地图偏移说明</h2> 
<h3><a id="31__103"></a>3.1 为什么天地图没有偏移</h3> 
<p> 天地图是在国测局主导下生产建设的地图，是为了促进地理信息资源共享和高效利用，提高测绘地理信息公共服务能力和水平，改进测绘地理信息成果的服务方式，更好地满足国家信息化建设的需要，为社会公众的工作和生活提供方便。这样一个关乎国家民生的地图，你说能随意偏移吗，有必要偏移吗？<br>  那么为什么其它百度或高德等公众地图就一定要用GCJ-02加密呢？制作过地图或搞过测绘的朋友一定了解，对于国家一些重要的机构是不能出现在地图中的（有地图测绘相关的法律法规），比如一些军事管理区或国防战备设施等，它就像一柄利剑，且能随意示人？对于这些敏感的重要信息，国家天地图肯定是可以进行了严格管控的，但对于其它商用地图，在监管困难的情况下，于是就制定了GCJ-02标准，这就是商用地图必须要采用GCJ-02加密的根本原因。</p> 
<h3><a id="32__106"></a>3.2 为什么谷歌地球没有偏移</h3> 
<p> 谷歌地球（GoogleEarth）是针对全球的，坐标完全没有偏移，由于没有详细的标注信息，服务器不在国内，且也不是主要针对国内用户，因此ZF也没有对其采取强硬措施，但现在谷歌地球（GoogleEarth）越来越难登录，一般需要采取翻墙才能访问，这是不争的事实。</p> 
<h3><a id="33__108"></a>3.3 为什么谷歌卫星地图（国外服务器）没有偏移？</h3> 
<p> Web版谷歌地图分两种，一种是谷歌国外服务器在线地图，通过map.google.com访问，一个是谷歌国内服务器在线地图，通过map.google.cn访问。而谷歌国外服务器在线地图，也分三种，分别是谷歌卫星地图、谷歌电子地图和谷歌地表地形图。<br> 谷歌卫星地图同谷歌地球（GoogleEarth）一样，谷歌国外服务器在线地图的卫星地图，由于服务器不在国内，且也不是主要针对国内用户，因此卫星地图是没有偏移的，也没有详细的标注信息，而且访问也需要翻墙才可以。它与谷歌地球（GoogleEarth）卫星影像的主要区别是采用的坐标系是WGS84 Web墨卡托投影且有Google水印，而谷歌地球（GoogleEarth）卫星影像采用的是WGS84地球坐标系且没有Google水印，它们的共同点是坐标都没有偏移。<br> 对于谷歌电子地图和谷歌地表地形图而言，由于有详细的标注信息，也在国家的管控下进行了GCJ-02加密。</p> 
<h3><a id="34_112"></a>3.4为什么必应卫星地图没有偏移？</h3> 
<p> 必应卫星地图的情况与谷歌卫星地图（国外服务）基本相同，投影为WGS84 Web 墨卡托且坐标没有偏移，而必应电子地图还是有偏移的。</p> 
<h3><a id="35OpenStreetMap_114"></a>3.5为什么OpenStreetMap地图没有偏移？</h3> 
<p> OpenStreetMap是一个网上地图协作计划，目标是创造一个内容自由且能让所有人编辑的世界地图，相对于其它主流地图来讲，可能影响力还没有这么大，国内用户用得相对较少，信息的详细程序也比较有限，因此ZF还没有对其进行管控。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/204145447ca9fe363efc002a948fe0ed/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">钉钉微应用调试方法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/43546f7ac6f04780ebc653c171bce83e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Go使用Private仓库用作module依赖</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>