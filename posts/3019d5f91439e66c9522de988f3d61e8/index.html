<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>电子科大软件系统架构设计——软件建模详细设计 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="电子科大软件系统架构设计——软件建模详细设计" />
<meta property="og:description" content="文章目录 软件建模详细设计概述软件建模详细设计目标软件建模详细设计原则开闭原则里氏 (Liskov) 替换原则依赖倒置原则接口分离原则单一职责原则最少知识原则（迪米特法则）高内聚原则松耦合原则可重用原则 软件建模详细设计内容 UML 软件静态结构视图建模软件静态结构细化设计类的聚合关系细分专属聚合 (Exclusive0wns)从属聚合 (0wns)拥有聚合 (Has)成员聚合 (Member) 泛化与继承实现继承扩展继承限制继承方便继承 高级类图建模可见性导出信息限定关联关联类与具体化类 接口与抽象类接口抽象类接口与抽象类的区别 类内聚与耦合类内聚与耦合的启发规则类耦合的种类类之间 6 种关系的耦合强度依次增强迪米特法则应用 设计类图建模实践 UML软件动态交互视图建模顺序图通信图类操作发现操作类操作的表示 顺序图高级交互技术创建与销毁临时对象片段交互引用 UML软件状态机视图建模UML 软件的实现视图建模实现视图构件图构件和构件之间的依赖关系构件与接口之间的关系端口端口连接 部署图包图包包的可见性包的嵌套包图 图书借阅管理系统软件建模设计实践系统需求系统静态模型设计系统动态模型设计图书搜索功能逻辑设计图书借阅功能逻辑设计图书归还功能逻辑设计Book对象的状态机图设计Borrower对象的状态机图设计静态结构的类图模型细化设计 软件建模详细设计概述 软件建模详细设计目标 软件建模详细设计是在软件架构模型设计基础上，对系统中各模型进一步细化设计，给出软件程序实现的设计方案。
软件建模详细设计原则 开闭原则 软件实体（类、构件等）应该对功能扩展具有开放性，对代码修改具有封闭性。当应用需求改变时，在不修改软件实体源代码的前提下，就可以扩展模块的功能，使其满足新的需求。 案例：“环境监测器”功能构件设计
开闭原则设计的好处：
在不修改原有代码基础上，可以扩展新功能。提高代码的可复用性及可维护性。 里氏 (Liskov) 替换原则 子类可以扩展基类的功能，但不能改变基类原有的功能。子类在继承基类时，除了添加新的方法且完成新增功能外，不要重写基类的方法代码。子类必须遵守基类与外部类之间的隐含约定。 里氏替换原则设计的好处：
解决了继承重写父类带来的可复用性变差问题。提高代码的可复用性及可维护性。 案例：鸟类飞行时间计算模块程序设计
//鸟类 class Bird { protected double flySpeed; public void setSpeed(double speed) { flySpeed = speed; } public double getFlyTime(double distance) { return (distance / flySpeed); } } //燕子类 class Swallow extends Bird { } //几维鸟类 class BrownKiwi extends Bird { public void setSpeed(double speed) { flySpeed = 0; } } package principle; public class LSPtest { public static void main(String[] args) { Bird bird1 = new Swallow(); Bird bird2 = new BrownKiwi(); bird1." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/3019d5f91439e66c9522de988f3d61e8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-12-27T21:53:02+08:00" />
<meta property="article:modified_time" content="2023-12-27T21:53:02+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">电子科大软件系统架构设计——软件建模详细设计</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">软件建模详细设计概述</a></li><li><ul><li><a href="#_3" rel="nofollow">软件建模详细设计目标</a></li><li><a href="#_7" rel="nofollow">软件建模详细设计原则</a></li><li><ul><li><a href="#_9" rel="nofollow">开闭原则</a></li><li><a href="#_Liskov__23" rel="nofollow">里氏 (Liskov) 替换原则</a></li><li><a href="#_134" rel="nofollow">依赖倒置原则</a></li><li><a href="#_218" rel="nofollow">接口分离原则</a></li><li><a href="#_238" rel="nofollow">单一职责原则</a></li><li><a href="#_258" rel="nofollow">最少知识原则（迪米特法则）</a></li><li><a href="#_274" rel="nofollow">高内聚原则</a></li><li><a href="#_288" rel="nofollow">松耦合原则</a></li><li><a href="#_359" rel="nofollow">可重用原则</a></li></ul> 
   </li><li><a href="#_548" rel="nofollow">软件建模详细设计内容</a></li></ul> 
  </li><li><a href="#UML__555" rel="nofollow">UML 软件静态结构视图建模</a></li><li><ul><li><a href="#_557" rel="nofollow">软件静态结构细化设计</a></li><li><a href="#_564" rel="nofollow">类的聚合关系细分</a></li><li><ul><li><a href="#_Exclusive0wns_566" rel="nofollow">专属聚合 (Exclusive0wns)</a></li><li><a href="#_0wns_577" rel="nofollow">从属聚合 (0wns)</a></li><li><a href="#_Has_587" rel="nofollow">拥有聚合 (Has)</a></li><li><a href="#_Member_596" rel="nofollow">成员聚合 (Member)</a></li></ul> 
   </li><li><a href="#_607" rel="nofollow">泛化与继承</a></li><li><a href="#_614" rel="nofollow">实现继承</a></li><li><ul><li><a href="#_618" rel="nofollow">扩展继承</a></li><li><a href="#_624" rel="nofollow">限制继承</a></li><li><a href="#_632" rel="nofollow">方便继承</a></li></ul> 
   </li><li><a href="#_640" rel="nofollow">高级类图建模</a></li><li><ul><li><a href="#_649" rel="nofollow">可见性</a></li><li><a href="#_714" rel="nofollow">导出信息</a></li><li><a href="#_724" rel="nofollow">限定关联</a></li><li><a href="#_730" rel="nofollow">关联类与具体化类</a></li></ul> 
   </li><li><a href="#_736" rel="nofollow">接口与抽象类</a></li><li><ul><li><a href="#_738" rel="nofollow">接口</a></li><li><a href="#_763" rel="nofollow">抽象类</a></li><li><a href="#_834" rel="nofollow">接口与抽象类的区别</a></li></ul> 
   </li><li><a href="#_842" rel="nofollow">类内聚与耦合</a></li><li><ul><li><a href="#_850" rel="nofollow">类内聚与耦合的启发规则</a></li><li><a href="#_860" rel="nofollow">类耦合的种类</a></li><li><a href="#_6__884" rel="nofollow">类之间 6 种关系的耦合强度依次增强</a></li><li><a href="#_910" rel="nofollow">迪米特法则应用</a></li></ul> 
   </li><li><a href="#_922" rel="nofollow">设计类图建模实践</a></li></ul> 
  </li><li><a href="#UML_1093" rel="nofollow">UML软件动态交互视图建模</a></li><li><ul><li><a href="#_1097" rel="nofollow">顺序图</a></li><li><a href="#_1106" rel="nofollow">通信图</a></li><li><a href="#_1112" rel="nofollow">类操作</a></li><li><ul><li><a href="#_1116" rel="nofollow">发现操作</a></li><li><a href="#_1123" rel="nofollow">类操作的表示</a></li></ul> 
   </li><li><a href="#_1178" rel="nofollow">顺序图高级交互技术</a></li><li><ul><li><a href="#_1180" rel="nofollow">创建与销毁临时对象</a></li><li><a href="#_1188" rel="nofollow">片段</a></li><li><a href="#_1223" rel="nofollow">交互引用</a></li></ul> 
  </li></ul> 
  </li><li><a href="#UML_1237" rel="nofollow">UML软件状态机视图建模</a></li><li><a href="#UML__1365" rel="nofollow">UML 软件的实现视图建模</a></li><li><ul><li><a href="#_1367" rel="nofollow">实现视图</a></li><li><a href="#_1375" rel="nofollow">构件图</a></li><li><ul><li><a href="#_1380" rel="nofollow">构件和构件之间的依赖关系</a></li><li><a href="#_1384" rel="nofollow">构件与接口之间的关系</a></li><li><a href="#_1393" rel="nofollow">端口</a></li><li><a href="#_1399" rel="nofollow">端口连接</a></li></ul> 
   </li><li><a href="#_1428" rel="nofollow">部署图</a></li><li><a href="#_1450" rel="nofollow">包图</a></li><li><ul><li><a href="#_1455" rel="nofollow">包</a></li><li><a href="#_1461" rel="nofollow">包的可见性</a></li><li><a href="#_1471" rel="nofollow">包的嵌套</a></li><li><a href="#_1479" rel="nofollow">包图</a></li></ul> 
  </li></ul> 
  </li><li><a href="#_1523" rel="nofollow">图书借阅管理系统软件建模设计实践</a></li><li><ul><li><a href="#_1525" rel="nofollow">系统需求</a></li><li><a href="#_1533" rel="nofollow">系统静态模型设计</a></li><li><a href="#_1550" rel="nofollow">系统动态模型设计</a></li><li><ul><li><a href="#_1553" rel="nofollow">图书搜索功能逻辑设计</a></li><li><a href="#_1559" rel="nofollow">图书借阅功能逻辑设计</a></li><li><a href="#_1563" rel="nofollow">图书归还功能逻辑设计</a></li><li><a href="#Book_1567" rel="nofollow">Book对象的状态机图设计</a></li><li><a href="#Borrower_1573" rel="nofollow">Borrower对象的状态机图设计</a></li><li><a href="#_1581" rel="nofollow">静态结构的类图模型细化设计</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>软件建模详细设计概述</h2> 
<h3><a id="_3"></a>软件建模详细设计目标</h3> 
<p>软件建模详细设计是在软件架构模型设计基础上，对系统中各模型进一步细化设计，给出软件程序实现的设计方案。</p> 
<h3><a id="_7"></a>软件建模详细设计原则</h3> 
<h4><a id="_9"></a>开闭原则</h4> 
<ul><li>软件实体（类、构件等）应该对功能扩展具有开放性，对代码修改具有封闭性。</li><li>当应用需求改变时，在不修改软件实体源代码的前提下，就可以扩展模块的功能，使其满足新的需求。</li></ul> 
<p>案例：“环境监测器”功能构件设计</p> 
<p><img src="https://images2.imgbox.com/79/b2/YtdOreDH_o.png" alt="image-20231222200751781"></p> 
<p><font color="blue">开闭原则设计的好处：</font></p> 
<ul><li>在不修改原有代码基础上，可以扩展新功能。</li><li>提高代码的可复用性及可维护性。</li></ul> 
<h4><a id="_Liskov__23"></a>里氏 (Liskov) 替换原则</h4> 
<ul><li>子类可以扩展基类的功能，但不能改变基类原有的功能。</li><li>子类在继承基类时，除了添加新的方法且完成新增功能外，不要重写基类的方法代码。</li><li>子类必须遵守基类与外部类之间的隐含约定。</li></ul> 
<p><img src="https://images2.imgbox.com/db/a1/88NsJeqw_o.png" alt="image-20231222201247864"></p> 
<p><font color="blue">里氏替换原则设计的好处：</font></p> 
<ul><li>解决了继承重写父类带来的可复用性变差问题。</li><li>提高代码的可复用性及可维护性。</li></ul> 
<p>案例：鸟类飞行时间计算模块程序设计</p> 
<p><img src="https://images2.imgbox.com/f0/64/w6srLAsQ_o.png" alt="image-20231222202235280"></p> 
<pre><code class="prism language-java"><span class="token comment">//鸟类</span>
<span class="token keyword">class</span> <span class="token class-name">Bird</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">protected</span> <span class="token keyword">double</span> flySpeed<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setSpeed</span><span class="token punctuation">(</span><span class="token keyword">double</span> speed<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        flySpeed <span class="token operator">=</span> speed<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getFlyTime</span><span class="token punctuation">(</span><span class="token keyword">double</span> distance<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>distance <span class="token operator">/</span> flySpeed<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//燕子类</span>
<span class="token keyword">class</span> <span class="token class-name">Swallow</span> <span class="token keyword">extends</span> <span class="token class-name">Bird</span> <span class="token punctuation">{<!-- --></span>
<span class="token punctuation">}</span>

<span class="token comment">//几维鸟类</span>
<span class="token keyword">class</span> <span class="token class-name">BrownKiwi</span> <span class="token keyword">extends</span> <span class="token class-name">Bird</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setSpeed</span><span class="token punctuation">(</span><span class="token keyword">double</span> speed<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        flySpeed <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/6f/0c/PP98MEz9_o.png" alt="image-20231222213807148"></p> 
<pre><code class="prism language-java"><span class="token keyword">package</span> <span class="token namespace">principle</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LSPtest</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Bird</span> bird1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Swallow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Bird</span> bird2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BrownKiwi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bird1<span class="token punctuation">.</span><span class="token function">setSpeed</span><span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bird2<span class="token punctuation">.</span><span class="token function">setSpeed</span><span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"如果飞行300公里: "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"燕子将飞行"</span> <span class="token operator">+</span>
                    bird1<span class="token punctuation">.</span><span class="token function">getFlyTime</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"小时."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"几维鸟将飞行"</span> <span class="token operator">+</span>
                    bird2<span class="token punctuation">.</span><span class="token function">getFlyTime</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"小时."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> err<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"发生错误了!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p><font color="red">按照里氏替换原则重新设计该模块</font></p> 
<p><img src="https://images2.imgbox.com/5e/86/W9tVXRJZ_o.png" alt="image-20231222220441588"></p> 
<p>完整代码：</p> 
<pre><code class="prism language-java"><span class="token comment">// 动物类</span>
<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">protected</span> <span class="token keyword">double</span> runSpeed<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRunSpeed</span><span class="token punctuation">(</span><span class="token keyword">double</span> speed<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        runSpeed <span class="token operator">=</span> speed<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getRunTime</span><span class="token punctuation">(</span><span class="token keyword">double</span> distance<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>distance <span class="token operator">/</span> runSpeed<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 鸟类</span>
<span class="token keyword">class</span> <span class="token class-name">Bird</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">protected</span> <span class="token keyword">double</span> flySpeed<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setFlySpeed</span><span class="token punctuation">(</span><span class="token keyword">double</span> speed<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        flySpeed <span class="token operator">=</span> speed<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getFlyTime</span><span class="token punctuation">(</span><span class="token keyword">double</span> distance<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>distance <span class="token operator">/</span> flySpeed<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 燕子类</span>
<span class="token keyword">class</span> <span class="token class-name">Swallow</span> <span class="token keyword">extends</span> <span class="token class-name">Bird</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 燕子类可以继承 Bird 类的飞行行为</span>
<span class="token punctuation">}</span>

<span class="token comment">// 几维鸟类</span>
<span class="token keyword">class</span> <span class="token class-name">BrownKiwi</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{<!-- --></span>
    <span class="token comment">// 几维鸟不能飞，所以我们不实现飞行相关的方法</span>
    <span class="token comment">// 而是使用 Animal 类的跑步行为</span>
    <span class="token comment">// 如果需要，这里可以覆盖跑步速度设置方法或行为</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_134"></a>依赖倒置原则</h4> 
<ul><li>基于抽象类编程，不依赖具体类编程。</li><li>面向接口编程，不要面向实现编程。</li></ul> 
<p><img src="https://images2.imgbox.com/6b/dd/QnedxX9a_o.png" alt="image-20231222220812371"></p> 
<p><font color="blue">依赖倒置原则设计的好处：</font></p> 
<ul><li>降低客户类与实现类之间的耦合性，容易实现代码可扩展性。</li><li>降低并行开发可能出现的风险性。</li></ul> 
<p>案例：顾客购物模块程序设计</p> 
<p>顾客类 (Customer) 通过韶关网店（ShaoguanShop）类实现购物，其代码如下：</p> 
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Customer</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">shopping</span><span class="token punctuation">(</span><span class="token class-name">ShaoguanShop</span> shop<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//购物</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>shop<span class="token punctuation">.</span><span class="token function">sell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>顾客若想从婺源网店 (WuyuanShop) 购物，需要对顾客类 (Customer ）代码修改：</p> 
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Customer</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">shopping</span><span class="token punctuation">(</span><span class="token class-name">WuyuanShop</span> shop<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//购物</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>shop<span class="token punctuation">.</span><span class="token function">sell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>解决方法：定义“婺源网店”和“韶关网店”的共同接口 Shop ，顾客类 (Customer ）面向该接口编程，其代码修改如下：</p> 
<p><img src="https://images2.imgbox.com/5a/0e/DCHJGi2M_o.png" alt="image-20231222221518622"></p> 
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Customer</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">shopping</span><span class="token punctuation">(</span><span class="token class-name">Shop</span> shop<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">//购物</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>shop<span class="token punctuation">.</span><span class="token function">sell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>完整代码：</p> 
<pre><code class="prism language-java"><span class="token comment">// 定义 Shop 接口</span>
<span class="token keyword">interface</span> <span class="token class-name">Shop</span> <span class="token punctuation">{<!-- --></span>
    <span class="token class-name">String</span> <span class="token function">sell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 韶关网店实现 Shop 接口</span>
<span class="token keyword">class</span> <span class="token class-name">ShaoguanShop</span> <span class="token keyword">implements</span> <span class="token class-name">Shop</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sell</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 实现卖出商品的方法，返回结果</span>
        <span class="token keyword">return</span> <span class="token string">"韶关网店销售的商品"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 婺源网店实现 Shop 接口</span>
<span class="token keyword">class</span> <span class="token class-name">WuyuanShop</span> <span class="token keyword">implements</span> <span class="token class-name">Shop</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sell</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 实现卖出商品的方法，返回结果</span>
        <span class="token keyword">return</span> <span class="token string">"婺源网店销售的商品"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 顾客类，面向 Shop 接口编程</span>
<span class="token keyword">class</span> <span class="token class-name">Customer</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">shopping</span><span class="token punctuation">(</span><span class="token class-name">Shop</span> shop<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 购物</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>shop<span class="token punctuation">.</span><span class="token function">sell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_218"></a>接口分离原则</h4> 
<ul><li>一个构件对外应提供不同服务的专用接口，而不要试图去建立一个很庞大的接口供所有依赖它的构件去调用，避免客户端依赖不必要的接口方法</li><li>提供者构件应该为每个不同访问构件类型提供一个特定的接口</li></ul> 
<p><img src="https://images2.imgbox.com/2c/11/5fbn1UHC_o.png" alt="image-20231222223341534"></p> 
<p><font color="blue">接口分离原则设计的好处：</font></p> 
<ul><li>符合高内聚低耦合设计思想，提高代码可扩展性。</li><li>使得类具有很好的可读性、可扩展性和可维护性。</li></ul> 
<p>案例：学生成绩管理程序</p> 
<p><img src="https://images2.imgbox.com/4a/df/jYPqAlEY_o.png" alt="image-20231222223506809"></p> 
<ul><li>学生成绩管理程序一般包含插入成绩、删除成绩、修改成绩、计算总分、计算均分、打印成绩信息、查询成绩信息等功能。</li><li>如果将这些功能全部放到一个接口中对外提供访问服务，这显然不太合理。</li><li>合理的做法是对外提供不同的功能服务访问接口。</li></ul> 
<h4><a id="_238"></a>单一职责原则</h4> 
<ul><li>一个类应该有且仅有一个功能职责，否则该类应该被拆分。</li><li>单一职责原则的核心就是控制类的粒度大小，将对象解耦，提高其内聚性。</li></ul> 
<p><font color="blue">单一职责原则设计的好处：</font></p> 
<ul><li>降低类的复杂度。一个类只负责一项职责，其代码逻辑肯定要比负责多项职责简单得多。</li><li>提高类代码的可读性。复杂性降低，自然其可读性会提高。</li><li>提高类代码的可维护性。可读性提高，那自然更容易维护了。</li></ul> 
<p>案例：学生工作管理</p> 
<p><img src="https://images2.imgbox.com/79/bb/tXMKdNss_o.png" alt="image-20231222225406643"></p> 
<p>学生工作主要包括学生生活辅导和学生学业指导两个方面的工作：</p> 
<ul><li>生活辅导主要包括班委建设、出勤统计、心理辅导、费用催缴、班级管理等工学业指导主要包括专业引导、学习辅导、科研指导、学习总结等工作。</li><li>如果将这些工作交给一位老师负责显然不合理，好的做法是生活辅导由辅导员负责，学业指导由学业导师负责。</li></ul> 
<h4><a id="_258"></a>最少知识原则（迪米特法则）</h4> 
<p>迪米特法则的定义是：只与你的朋友交谈，不跟“陌生人”说话。在程序设计中，如果两个软件实体没有直接关系，那么就不直接调用，可以通过第三方转发该调用。</p> 
<p><font color="blue">迪米特法则具有以下好处：</font></p> 
<ul><li>降低了类之间的耦合度，提高了模块的相对独立性。</li><li>由于耦合度降低，从而提高了类的可复用性和系统的扩展性。</li></ul> 
<p>案例：明星与经纪人的关系</p> 
<p><img src="https://images2.imgbox.com/1e/f5/V3Ai9FUs_o.png" alt="image-20231222230017098"></p> 
<ul><li>明星需全身心投入艺术，所以许多日常事务交给经纪人去处理，如与粉丝的见面会，与媒体公司的业务洽淡等。</li><li>经纪人是明星的朋友，而粉丝和媒体公司对明星来讲是陌生人。</li></ul> 
<h4><a id="_274"></a>高内聚原则</h4> 
<p>内聚性意味着构件或者类只封装那些密切关联的属性和操作。</p> 
<p>按照内聚性的级别，内聚性分为以下三种，它们的内聚性依次变弱：</p> 
<ul><li><font color="red">功能内聚</font>：模块内的所有元素紧密配合完成同一个功能，即满足单一职责原则。</li><li><font color="red">分层内聚</font>：系统采用分层结构，高层能够访问低层服务，但低层不能访问高层服务。</li><li><font color="red">通信内聚</font>：模块内的所有元素都访问相同数据。通信内聚通常用于数据的查询、访问和存储。</li></ul> 
<p>一般来说，内聚性越高，构件越易于实现、测试和维护。</p> 
<p><img src="https://images2.imgbox.com/10/a8/WBOjX5Px_o.png" alt="image-20231222231011912"></p> 
<h4><a id="_288"></a>松耦合原则</h4> 
<p>耦合性指不同对象之间相互关联的程度。如果一个对象过多地依赖于其它对象来完成自己的工作，这会增加测试、修改的难度，同时降低了对象的可重用性和可移植性。</p> 
<p>在详细设计中要尽可能保持对象之间松耦合。但是软件必须进行内部和外部的通信，因此耦合是必然存在的。当两个对象必须相互联系时，应该通过类的公共接口实现耦合，不应该直接依赖于类的实例。</p> 
<p>补充例子：</p> 
<pre><code class="prism language-java"><span class="token comment">// 定义一个通信接口</span>
<span class="token keyword">interface</span> <span class="token class-name">Communicator</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> <span class="token function">receiveMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 实现Communicator接口的Email类</span>
<span class="token keyword">class</span> <span class="token class-name">EmailCommunicator</span> <span class="token keyword">implements</span> <span class="token class-name">Communicator</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Sending email with message: "</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">receiveMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 假设接收到消息</span>
        <span class="token keyword">return</span> <span class="token string">"Email message received"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 实现Communicator接口的SMS类</span>
<span class="token keyword">class</span> <span class="token class-name">SMSCommunicator</span> <span class="token keyword">implements</span> <span class="token class-name">Communicator</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Sending SMS with message: "</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">receiveMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 假设接收到消息</span>
        <span class="token keyword">return</span> <span class="token string">"SMS message received"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用Communicator接口的Client类</span>
<span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Communicator</span> communicator<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Client</span><span class="token punctuation">(</span><span class="token class-name">Communicator</span> communicator<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>communicator <span class="token operator">=</span> communicator<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">communicate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        communicator<span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token string">"Hello World!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>communicator<span class="token punctuation">.</span><span class="token function">receiveMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 在应用程序中使用Client和Communicator</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CommunicationApp</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">Communicator</span> email <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EmailCommunicator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Communicator</span> sms <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SMSCommunicator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Client</span> emailClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Client</span><span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Client</span> smsClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Client</span><span class="token punctuation">(</span>sms<span class="token punctuation">)</span><span class="token punctuation">;</span>

        emailClient<span class="token punctuation">.</span><span class="token function">communicate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        smsClient<span class="token punctuation">.</span><span class="token function">communicate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在这个例子中，<code>Client</code> 类不直接与 <code>EmailCommunicator</code> 或 <code>SMSCommunicator</code> 类耦合。相反，它通过 <code>Communicator</code> 接口与它们通信。这允许 <code>Client</code> 类在不知道通信细节的情况下发送和接收消息。因此，如果将来引入了一个新的 <code>Communicator</code> 实现，例如 <code>WhatsAppCommunicator</code>，<code>Client</code> 类不需要任何修改就能使用它，只需在创建 <code>Client</code> 实例时传入新的通信器即可。这就是通过类的公共接口实现耦合的一个典型例子。</p> 
<h4><a id="_359"></a>可重用原则</h4> 
<ul><li>为了提高工作效率、减少错误、降低成本，要充分考虑软件元素的<font color="red">重用性</font>。</li><li>重用性有两个方面的含义：尽量复用已有的类代码，如开发环境提供的类库；在设计新类时考虑将来的可重用性。</li><li>设计一个可重用的软件比设计一个普通软件的代价要高，但是随着这些软件被重用次数的增加，分摊到它的设计和实现成本就会降低。</li></ul> 
<p>补充例子：</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token comment">// 一个通用的接口定义了操作的契约</span>
<span class="token keyword">interface</span> <span class="token class-name">Operable</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">void</span> <span class="token function">operate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 一个具体的类实现了Operable接口</span>
<span class="token keyword">class</span> <span class="token class-name">Printer</span> <span class="token keyword">implements</span> <span class="token class-name">Operable</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Printing a document..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 另一个具体的类实现了Operable接口</span>
<span class="token keyword">class</span> <span class="token class-name">Scanner</span> <span class="token keyword">implements</span> <span class="token class-name">Operable</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">operate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Scanning a document..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 设计一个工作流程类，它可以利用Operable接口操作任何设备</span>
<span class="token keyword">class</span> <span class="token class-name">Workflow</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Operable</span><span class="token punctuation">&gt;</span></span> operations <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addOperation</span><span class="token punctuation">(</span><span class="token class-name">Operable</span> operable<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        operations<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>operable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">runAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Operable</span> operable <span class="token operator">:</span> operations<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            operable<span class="token punctuation">.</span><span class="token function">operate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 演示如何重用Workflow类来操作不同的设备</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OfficeAutomationApp</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 创建设备的实例</span>
        <span class="token class-name">Printer</span> printer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Printer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 创建工作流并添加操作</span>
        <span class="token class-name">Workflow</span> officeWorkflow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Workflow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        officeWorkflow<span class="token punctuation">.</span><span class="token function">addOperation</span><span class="token punctuation">(</span>printer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        officeWorkflow<span class="token punctuation">.</span><span class="token function">addOperation</span><span class="token punctuation">(</span>scanner<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 运行所有操作</span>
        officeWorkflow<span class="token punctuation">.</span><span class="token function">runAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>在这个例子中，<code>Operable</code> 接口允许我们定义一个可以操作任何设备的通用契约。<code>Printer</code> 和 <code>Scanner</code> 类都实现了这个接口，使得它们可以在 <code>Workflow</code> 类中互换使用。这样的设计不仅提高了类的重用性，而且在设计新类时也考虑到了将来的可重用性。例如，如果我们想添加一个新设备类如 <code>FaxMachine</code>，我们只需要让它实现 <code>Operable</code> 接口，就可以轻松地添加到现有的工作流程中而不需要修改 <code>Workflow</code> 类的代码。</p> 
<p>此外，这个例子还展示了如何复用Java开发环境提供的类库，例如 <code>ArrayList</code> 类，来管理 <code>Operable</code> 对象的集合。这种复用标准类库可以提高开发效率，减少错误，并降低开发成本。</p> 
<p>以下客户功能模块存在什么设计问题？该如何完善？</p> 
<p><img src="https://images2.imgbox.com/13/e5/6RqP3604_o.png" alt=""></p> 
<p>接口分离原则， <code>IClient</code> 接口提供的方法太多或不是所有的客户端都需要这些方法，它违反了接口分离原则。客户端不应该被迫依赖于它们不使用的方法。 根据不同的职责将 <code>IClient</code> 接口拆分为更小的接口。详细代码如下：</p> 
<pre><code class="prism language-java"><span class="token comment">// 接口负责连接管理</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IConnectionManager</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">void</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 接口负责数据的发送和接收</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IDataTransfer</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">void</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">receive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 客户端类实现这两个接口</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Client</span> <span class="token keyword">implements</span> <span class="token class-name">IConnectionManager</span><span class="token punctuation">,</span> <span class="token class-name">IDataTransfer</span> <span class="token punctuation">{<!-- --></span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 实现连接逻辑</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">disconnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 实现断开连接逻辑</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 实现发送数据逻辑</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receive</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 实现接收数据逻辑</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>问题探讨：以下客户数据图形分析模块存在什么设计问题？该如何完善？</p> 
<p><img src="https://images2.imgbox.com/00/5d/sJayyYxc_o.png" alt="image-20231223123236184"></p> 
<p>违背单一职责原则，应将该类进行拆分，<code>CustomerDataChart</code> 类负责图表的创建和显示，一个 <code>CustomerDAO</code> 类负责数据访问操作，以及一个 <code>DBUtil</code> 类负责数据库连接。</p> 
<p>代码如下：</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">Connection</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">DBUtil</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 实现数据库连接的逻辑</span>
        <span class="token comment">// 例如使用 JDBC 连接到数据库</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 应返回实际的数据库连接对象</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">CustomerDAO</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">DBUtil</span> util<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">CustomerDAO</span><span class="token punctuation">(</span><span class="token class-name">DBUtil</span> util<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>util <span class="token operator">=</span> util<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Customer</span><span class="token punctuation">&gt;</span></span> <span class="token function">findCustomers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 使用 util.getConnection() 获取数据库连接</span>
        <span class="token comment">// 执行查询并返回客户列表</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 应返回实际查询到的客户列表</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">CustomerDataChart</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">CustomerDAO</span> dao<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">CustomerDataChart</span><span class="token punctuation">(</span><span class="token class-name">CustomerDAO</span> dao<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dao <span class="token operator">=</span> dao<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">createChart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 使用 dao.findCustomers() 获取数据</span>
        <span class="token comment">// 根据获取的数据创建图表</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">displayChart</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 显示图表的逻辑</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// 创建 DBUtil 实例</span>
        <span class="token class-name">DBUtil</span> dbUtil <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DBUtil</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 使用 DBUtil 实例来创建 CustomerDAO 实例</span>
        <span class="token class-name">CustomerDAO</span> customerDAO <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CustomerDAO</span><span class="token punctuation">(</span>dbUtil<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 使用 CustomerDAO 实例来创建 CustomerDataChart 实例</span>
        <span class="token class-name">CustomerDataChart</span> dataChart <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CustomerDataChart</span><span class="token punctuation">(</span>customerDAO<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 创建图表</span>
        dataChart<span class="token punctuation">.</span><span class="token function">createChart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 显示图表</span>
        dataChart<span class="token punctuation">.</span><span class="token function">displayChart</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>图形展示如下：</p> 
<p><img src="https://images2.imgbox.com/0b/24/zW0RLNGs_o.png" alt="image-20231223123656209"></p> 
<h3><a id="_548"></a>软件建模详细设计内容</h3> 
<ul><li>在分析类基础上，对软件静态结构模型的<font color="red">类图</font>进行详细设计。各个功能构件均需给出设计类模型。</li><li>针对构件功能，分析对象之间的交互关系，给出功能构件逻辑实现的动态行为<font color="red">交互图</font>模型详细设计。</li><li>分析对象生命周期的状态变化，给出对象状态变迁的<font color="red">状态机图</font>模型详细设计。</li><li>对反映软件物理实现模型的<font color="red">构件图</font>和<font color="red">部署图</font>进行详细设计。</li></ul> 
<h2><a id="UML__555"></a>UML 软件静态结构视图建模</h2> 
<h3><a id="_557"></a>软件静态结构细化设计</h3> 
<ul><li>静态结构视图用来表示软件系统的类程序组成结构，同时也反映各个类中封装的数据与操作方法。</li><li>静态结构视图支撑面向对象程序编程。</li></ul> 
<p><img src="https://images2.imgbox.com/44/e6/KUSKmVeO_o.png" alt="image-20231223131811928"></p> 
<h3><a id="_564"></a>类的聚合关系细分</h3> 
<h4><a id="_Exclusive0wns_566"></a>专属聚合 (Exclusive0wns)</h4> 
<p>专属聚合是类之间语义最强的聚合，部分类与整体类之间满足 4 个条件：</p> 
<ol><li>部分类对整体类具有存在依赖性，删除整体类时，部分类也被删除。</li><li>具有传递性，如果对象 C1是 B1 的一部分，并且 B1 是 A1 的一部分， C1 也是 A1 的一部分。</li><li>具有非对称性，如果 B1 是 A1 的一部分，则 A1 不是 B1 的一部分。</li><li>具有固定性，如果 B1 是 A1 的一部分，则它绝不是 Ai （i！=1）的一部分。</li></ol> 
<p><img src="https://images2.imgbox.com/f8/c2/sHI1SVSN_o.png" alt="image-20231223133005855"></p> 
<h4><a id="_0wns_577"></a>从属聚合 (0wns)</h4> 
<p>从属聚合的语义比专属聚合稍弱，部分类与整体类之间满足 3 个条件：</p> 
<ol><li>部分类对整体类具有存在依赖性，删除整体类时，部分类也被删除。</li><li>具有传递性，如果对象 C1 是 B1 的一部分，并且 B1 是 A1 的一部分，则 C1 是 A1 的一部分。</li><li>具有非对称性，如果 B1 是 A1 的一部分，则 A1 不是 B1 的一部分。</li></ol> 
<p><img src="https://images2.imgbox.com/db/57/TT7JiVjv_o.png" alt="image-20231223133208338"></p> 
<h4><a id="_Has_587"></a>拥有聚合 (Has)</h4> 
<p>拥有聚合的语义比从属聚合弱，部分类与整体类之间满足 2 个条件：</p> 
<ol><li>具有传递性，如果对象 C1 是 B1 的一部分，并且 B1 是 A1 的一部分，则 C1 是 A1 的一部分。</li><li>具有非对称性，如果 B1 是 A1 的一部分，则 A1 不是 B1 的一部分。</li></ol> 
<p><img src="https://images2.imgbox.com/20/20/7U15NeDU_o.png" alt="image-20231223133256847"></p> 
<h4><a id="_Member_596"></a>成员聚合 (Member)</h4> 
<p>成员聚合的语义最低，仅仅是将一组对象组合在一起。</p> 
<ul><li>不具有存在依赖性、传递性、非对称性、固定性。</li><li>Member 聚合具有组合独立对象的特征。</li><li>表示一组对象作为一个高层复合对象来考虑。</li><li>一个对象可以同时属于一个以上的复合对象，因此 member 聚合的多重性可以是多对多。</li></ul> 
<p><img src="https://images2.imgbox.com/b4/aa/6jOx4Qjc_o.png" alt="image-20231223133531574"></p> 
<h3><a id="_607"></a>泛化与继承</h3> 
<ul><li><font color="red">泛化</font>是指多个类的公共特征抽象到一个更一般化的类中，它描述类之间的一般与具体关系。</li><li><font color="red">继承</font>是指子类复用基类（超类）属性与操作的机制。</li></ul> 
<p><img src="https://images2.imgbox.com/33/8b/fiE2fjqh_o.png" alt="image-20231223133655398"></p> 
<h3><a id="_614"></a>实现继承</h3> 
<p><font color="red">实现继承</font>是指在子类中组合基类（超类）的特征，并允许在必要时以新的实现来重载这些特征。</p> 
<h4><a id="_618"></a>扩展继承</h4> 
<p><img src="https://images2.imgbox.com/87/38/wWiK71d5_o.png" alt="image-20231223133923122"></p> 
<p>在扩展继承中，子类组合来自超类的特征，并增加新的特征。</p> 
<h4><a id="_624"></a>限制继承</h4> 
<p><font color="red">限制继承</font>是指子类组合来自超类的特征，并重载部分继承来的特征。</p> 
<p><img src="https://images2.imgbox.com/cc/ce/afJXhSV7_o.png" alt="image-20231223134137099"></p> 
<p>问题：重载导致子类没有包括超类的所有特征，会带来维护上的问题，可替换性原则失效。</p> 
<h4><a id="_632"></a>方便继承</h4> 
<p>某些类之间具有一定相似的实现，但它们之间不存在泛化关系，即没有概念上的分类关系。<font color="red">方便继承</font>是指将它们中一个类作为其它类的超类。</p> 
<p><img src="https://images2.imgbox.com/d9/ac/R4OY5kYO_o.png" alt="image-20231223134310533"></p> 
<p>问题：子类没有包括超类的所有特征，子类与超类之间没有泛化关系，可替换性原则无效。尽量避免采用这种方式实现继承。</p> 
<h3><a id="_640"></a>高级类图建模</h3> 
<p>软件开发的实际情况很复杂，复杂的问题不会有简单的解决方案。本节引入类图建模的高级概念，包括：</p> 
<ul><li>可见性</li><li>导出信息</li><li>限定关联</li><li>关联类与具体化类</li></ul> 
<h4><a id="_649"></a>可见性</h4> 
<p>通过设置<font color="red">可见性</font>可以确定类内部的封装程度，决定其他类能否访问该类的元素。应用于类的属性和操作的可见性类型包括：</p> 
<ul><li><code>+ public</code>公共可见性: 该元素对任何类都可见；</li><li><code>- private</code>私有可见性: 该元素只对本类可见；</li><li><code># protected</code>保护可见性: 该元素对本类及子类可见；</li><li><code>~ package</code>包可见性: 该元素对同一包中的元素可见.</li></ul> 
<p>在设计良好的面向对象系统中，大多数操作是公共的，大多数属性是私有的。</p> 
<p><img src="https://images2.imgbox.com/4a/be/zR8ljJvq_o.png" alt="image-20231223135711089"></p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Visibility</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> privateAttribute<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> publicAttribute<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">int</span> protectedAttribute<span class="token punctuation">;</span>
    <span class="token keyword">int</span> packageAttribute<span class="token punctuation">;</span> <span class="token comment">// 默认访问修饰符，也称为包访问权限</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">privateOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">publicOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">protectedOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">packageOperation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span> <span class="token comment">// 默认访问修饰符，也称为包访问权限</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>（ 1 ）保护可见性</p> 
<ul><li>保护可见性指类的属性或操作对本类及其子类可见。</li><li>应用于继承的情况，允许子类对象访问父类对象中的属性和操作。</li></ul> 
<p><img src="https://images2.imgbox.com/a2/9f/VLgqbJjZ_o.png" alt="image-20231223140102952"></p> 
<p>（ 2 ）包可见性</p> 
<ul><li>具有包可见性类的属性和操作能够被处于同一包中的其他类访问。</li><li>包可见性是 Java 语言默认的可见性。</li></ul> 
<p><img src="https://images2.imgbox.com/8e/ea/wzCDrHNy_o.png" alt="image-20231223140200495"></p> 
<p>（ 3 ）友元可见性友元可见性用于 c++语言。当一个类需要访问另一个类的私有属性或操作时，可以采用友元可见性，在授予友元关系的类中声明友元操作。</p> 
<p><img src="https://images2.imgbox.com/e5/89/Q0UfqSZL_o.png" alt="image-20231223140224108"></p> 
<pre><code class="prism language-c++">class Book {
private:
    void putOnBookShelf();
};

class BookShelf {
public:
    friend void Book::putOnBookShelf();
};

</code></pre> 
<h4><a id="_714"></a>导出信息</h4> 
<p><font color="red">导出信息</font>是指从其他元素计算得到的信息。它作为一种冗余信息，其目的是为了增加可读性和信息存取速度。导出信息包括<font color="red">导出属性</font>和<font color="red">导出关联。</font></p> 
<ul><li>导出属性是指可以由其他信息导出的属性。</li><li>导出关联是指由其它关联导出的关联。</li><li>导出信息的 UML 表示是在导出属性名或导出关联名前面加上一条斜线“/”。</li></ul> 
<p><img src="https://images2.imgbox.com/98/e4/cF0z5hUF_o.png" alt="image-20231223140818360"></p> 
<h4><a id="_724"></a>限定关联</h4> 
<p><font color="red">限定关联</font>是一对多或多对多关联的约束条件表示。限定关联在二元关联的一端设定属性限定符，即在框中给出一个或多个属性用于约束条件。</p> 
<p><img src="https://images2.imgbox.com/25/6b/6gT3T9UP_o.png" alt="image-20231223140934691"></p> 
<h4><a id="_730"></a>关联类与具体化类</h4> 
<p>如果两个类之间是多对多的关联，且每个关联实例都具有属性值，这时可以使用<font color="red">关联类</font>。关联类具有一个约束，要求对于每一对链接起来的类实例，只能作为关联类的一个实例。如果不能满足这个约束的话，就需要将关联具体化，即使用一个<font color="red">具体化类</font>来代替关联类。这个具体化类与之前的两个类均具有二元关联。</p> 
<p><img src="https://images2.imgbox.com/17/39/b2j1dyKc_o.png" alt="image-20231223141222186"></p> 
<h3><a id="_736"></a>接口与抽象类</h3> 
<h4><a id="_738"></a>接口</h4> 
<p><font color="red">接口</font>用于定义一个类或者构件的功能操作函数集。</p> 
<ul><li>接口定义一组操作，但不定义操作的实现。</li><li>接口一般不定义属性，只有定义操作，并且所有操作都隐含是公共的、抽象的可视性。</li><li>在实现接口的类中，这些操作都要被实现。</li><li>一个类可以实现多个接口，一个接口可以被多个类实现</li></ul> 
<p><img src="https://images2.imgbox.com/b3/78/UCqspg3P_o.png" alt="image-20231223143811716"></p> 
<p>接口是一种特殊的类，所有的接口都是构造型为<code>&lt;&lt;interface&gt;&gt;</code>的类。在UML中，接口的表示方式有三种: 第一种是接口的图标表示，第二种是接口的修饰表示，第三种是接口的构造型标签表示。</p> 
<p><img src="https://images2.imgbox.com/19/6e/Y2F8rVW7_o.png" alt="image-20231223144103353"></p> 
<p><img src="https://images2.imgbox.com/e0/c4/Zc9NbtCX_o.png" alt="image-20231223144123081"></p> 
<ul><li>如果接口使用 构造型标签表示，实现关系线是一条末端带有空心三角的虚线，箭头指向接口，虚线上可以加上构造型关键字《implement》。</li><li>如果接口使用图标表示，实现关系线则是一条实线，没有箭头，实线上也可以加上构造型关键字《implement》。</li><li>一个类使用接口，表明该类依赖该接口，用指向接口的一条虚线箭头表示，箭头上可以加上构造型关键字《use》。</li></ul> 
<p>案例: IElectricalEquipment接口定义了turnOn操作和turnoff操作，TV类和Player类均实现了该接口，即实现了turnOn操作和turnoff操作，RemoteControl类使用了IElectricalEquipment接口。</p> 
<p><img src="https://images2.imgbox.com/b6/3c/FF8n1lzA_o.png" alt="image-20231223144513328"></p> 
<h4><a id="_763"></a>抽象类</h4> 
<p><font color="red">抽象类</font>指不具有实例的类，它通常作为父类，不创建实例对象。抽象类的子类可以实例化。</p> 
<ul><li>抽象类一般至少有一个抽象操作。</li><li>抽象类的作用是为其子类描述它们的公共属性和行为。</li><li>UML 采用斜体表示抽象类的名称，也可以使用 {abstract) 约束来表示。</li></ul> 
<p><img src="https://images2.imgbox.com/f1/81/cddFEpl9_o.png" alt="image-20231223144739041"></p> 
<p>补充代码：</p> 
<pre><code class="prism language-java"><span class="token comment">// 定义一个 Vehicle 基类</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> color<span class="token punctuation">;</span> <span class="token comment">// 车辆颜色属性</span>

    <span class="token keyword">public</span> <span class="token class-name">Vehicle</span><span class="token punctuation">(</span><span class="token class-name">String</span> color<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">return</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setColor</span><span class="token punctuation">(</span><span class="token class-name">String</span> color<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 定义一个抽象方法 drive</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">drive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Plane 类继承自 Vehicle</span>
<span class="token keyword">class</span> <span class="token class-name">Plane</span> <span class="token keyword">extends</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">Plane</span><span class="token punctuation">(</span><span class="token class-name">String</span> color<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 实现 drive 方法</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">drive</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Plane is flying."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Bus 类继承自 Vehicle</span>
<span class="token keyword">class</span> <span class="token class-name">Bus</span> <span class="token keyword">extends</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">Bus</span><span class="token punctuation">(</span><span class="token class-name">String</span> color<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 实现 drive 方法</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">drive</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Bus is driving on the road."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Driver 类与 Vehicle 有关联关系</span>
<span class="token keyword">class</span> <span class="token class-name">Driver</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">Vehicle</span> vehicle<span class="token punctuation">;</span>

    <span class="token comment">// Driver 可以驾驶任何类型的 Vehicle</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">driveVehicle</span><span class="token punctuation">(</span><span class="token class-name">Vehicle</span> vehicle<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>vehicle <span class="token operator">=</span> vehicle<span class="token punctuation">;</span>
        vehicle<span class="token punctuation">.</span><span class="token function">drive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h4><a id="_834"></a>接口与抽象类的区别</h4> 
<ul><li>抽象类是对一组具有相同属性和方法、逻辑上有关系的类抽象。</li><li>接口是对一组具有相同属性和方法、逻辑上不相关的类抽象。</li><li>抽象类可提供部分方法的代码实现，而接口不实现任何方法的代码实现。</li><li>抽象类体现一种泛化关系，而接口体现契约关系。</li><li>抽象是在问题域分析中发现，而是接口是在设计发现。</li></ul> 
<h3><a id="_842"></a>类内聚与耦合</h3> 
<p><font color="red">类内聚</font>是指类内部元素之间相关性的程度。<font color="red">类耦合</font>是指类之间联系的程度。</p> 
<ul><li> <p>内聚和耦合彼此相关联，更强的内聚会导致更弱的耦合，反之亦然。</p> </li><li> <p>良好的程序设计应确保在类的内聚与耦合之间达到良好平衡。</p> </li></ul> 
<h4><a id="_850"></a>类内聚与耦合的启发规则</h4> 
<p>为了取得类内聚和类耦合之间的平衡， Riel提出了一些启发规则：</p> 
<ul><li>属性及其相关操作封装在一个类中；</li><li>类之间只通过公共接口产生依赖；</li><li>每个类应该只实现单一职责功能；</li><li>类中不存在一个操作子集只与一个属性子集相关的情况；</li><li>系统功能应尽可能在各个类中均匀分配。</li></ul> 
<h4><a id="_860"></a>类耦合的种类</h4> 
<p>（ 1 ） x 类有属性指向 Y 类的实例</p> 
<p>（ 2 ） x 类有方法引用了 Y 类的实例，如x 使用 Y 类对象作为局部变量；或者返回 Y 类对象</p> 
<p><img src="https://images2.imgbox.com/25/8c/W7Io9FeY_o.png" alt="image-20231223145855463"></p> 
<p>（ 3 ） x 类对象调用 Y 类对象方法发送消息</p> 
<p><img src="https://images2.imgbox.com/7d/ef/DtGjQjMm_o.png" alt="image-20231223150051051"></p> 
<p>（ 4 ） Y 类是 X 类的直接或间接子类</p> 
<p><img src="https://images2.imgbox.com/37/31/b9rvZl1G_o.png" alt="image-20231223150243469"></p> 
<p>（ 5 ）X 类方法中输入参数为 Y 类的实例。</p> 
<p><img src="https://images2.imgbox.com/4d/8f/DU9MJRRT_o.png" alt="image-20231223150330305"></p> 
<p>（ 6 ） Y 类是一个接口，而 X 类实现了该接口。</p> 
<p><img src="https://images2.imgbox.com/21/ca/NeaFAcjc_o.png" alt="image-20231223150352801"></p> 
<h4><a id="_6__884"></a>类之间 6 种关系的耦合强度依次增强</h4> 
<p>1 ）依赖关系一耦合度最弱</p> 
<p><img src="https://images2.imgbox.com/cb/cb/18d3SWSm_o.png" alt="image-20231223150456224"></p> 
<p>2 ）关联关系一耦合度其次弱</p> 
<p><img src="https://images2.imgbox.com/62/7e/Y7gsghlJ_o.png" alt="image-20231223150507795"></p> 
<p>3 ）聚合关系一耦合度一般</p> 
<p><img src="https://images2.imgbox.com/78/b4/BSI1eVTP_o.png" alt="image-20231223150609064"></p> 
<p>4 ）组合关系一耦合度较高</p> 
<p><img src="https://images2.imgbox.com/7d/d9/lzSFi2cE_o.png" alt="image-20231223150621436"></p> 
<p>5 ）继承关系一耦合度高</p> 
<p><img src="https://images2.imgbox.com/44/ce/RHBGBrhW_o.png" alt="image-20231223150654467"></p> 
<p>6 ）实现关系一耦合度最高</p> 
<p><img src="https://images2.imgbox.com/64/87/Cr6J3lGT_o.png" alt="image-20231223150736520"></p> 
<h4><a id="_910"></a>迪米特法则应用</h4> 
<p>类耦合对于对象之间协作实现特定功能是必要的，但它应该尽量被限制在类的层次内，即<font color="red">层内耦合</font>，层间耦合应该最小化。</p> 
<p>为了限制类间任意通信，采用<font color="red">迪米特法则</font>（最少知识原则）设计，指明在类操作中只允许将以下对象作为消息目标，即没有直接关系的类之间不交互通信，仅仅有直接关系类进行通信。</p> 
<ul><li>当前对象本身</li><li>当前操作中作为参数的对象</li><li>当前对象的属性指向的对象</li><li>当前操作创建的对象</li><li>全局变量引用的对象</li></ul> 
<h3><a id="_922"></a>设计类图建模实践</h3> 
<ul><li>设计类图建模是在分析类图基础之上对系统分析类图进行细化与完善设计，从而在设计层面描述系统的静态结构。</li><li>在设计类图中除了详细定义各种类属性与方法外，还需定义类之间关系的设计约束。</li></ul> 
<p>Power Designer 建模实践：雇员职位管理设计类图建模</p> 
<p><img src="https://images2.imgbox.com/2e/10/Fg1Y8qav_o.png" alt="image-20231223151832857"></p> 
<p>ChatGPT4：</p> 
<ol><li><strong>Person 类</strong>： 
  <ul><li>属性：<code>name</code> (String), <code>sex</code> (char)</li><li>方法：<code>getName()</code> 返回 String，<code>getSex()</code> 返回 char</li><li>这个类似乎代表了具有基本属性如姓名和性别的普通人。</li></ul> </li><li><strong>Employee 类（继承自 Person 类）</strong>： 
  <ul><li>属性：<code>username</code> (String), <code>password</code> (String)</li><li>方法：<code>username</code> 和 <code>password</code> 的获取和设置方法，一个接受用户名和密码并返回布尔值的 <code>login()</code> 方法，以及重写的 <code>getName()</code> 和 <code>getSex()</code> 方法。</li><li><code>Employee</code> 类继承自 <code>Person</code> 类，这意味着每个 <code>Employee</code> 都是 <code>Person</code>，但具有特定于雇员的额外属性和行为，如登录系统的凭证。</li></ul> </li><li><strong>Post 类</strong>： 
  <ul><li>属性：<code>postname</code> (String)</li><li>方法：<code>getPostname()</code> 返回 String，<code>setPostname()</code> 接受一个 String，<code>addPost()</code> 返回一个布尔值。</li><li>这个类似乎代表 <code>Employee</code> 可以持有的职位或职称。<code>1..1</code> 表示每个 <code>Employee</code> 有且仅有一个 <code>Post</code>。</li></ul> </li><li><strong>Department 类</strong>： 
  <ul><li>属性：<code>departmentname</code> (String)</li><li>方法：<code>departmentname</code> 的获取和设置方法，<code>addDepartment()</code> 返回布尔值。</li><li>代表组织中的一个部门。每个 <code>Employee</code> 与一个 <code>Department</code> 关联，而一个 <code>Department</code> 可以有多个雇员（<code>1..*</code> 关系）。</li></ul> </li><li><strong>Power 类</strong>： 
  <ul><li>属性：<code>powername</code> (String)</li><li>方法：<code>powername</code> 的获取和设置方法。</li><li>代表与 <code>Post</code> 关联的权力或权限。每个 <code>Post</code> 有且仅有一个 <code>Power</code>，表示一对一的关系。</li></ul> </li><li><strong>Poweritem 类（继承自 Power 类）</strong>： 
  <ul><li>属性：<code>itemname</code> (String), <code>isvalue</code> (int)</li><li>方法：<code>itemname</code> 和 <code>isvalue</code> 的获取和设置方法，<code>addItem()</code> 返回布尔值。</li><li>这个类继承自 <code>Power</code> 类，暗示每个权限可以有多个 <code>Poweritem</code> 实例，这些是更具体的权限或许可。</li></ul> </li></ol> 
<p>类图还展示了类之间的关联关系：</p> 
<ul><li>一个 <code>Employee</code> 与一个 <code>Person</code> 相关联（继承关系）。</li><li>一个 <code>Employee</code> 可以有一个或多个 <code>Post</code>（<code>0..*</code> 到 <code>1..1</code> 的关系），但每个 <code>Post</code> 都确切地与一个 <code>Employee</code> 相关联。</li><li>每个 <code>Post</code> 与一个 <code>Power</code> 关联，每个 <code>Power</code> 与一个 <code>Post</code> 关联（<code>1..1</code> 关系）。</li><li>一个 <code>Department</code> 可以有多个 <code>Employee</code> 实例，但每个 <code>Employee</code> 都与一个 <code>Department</code> 相关联。</li></ul> 
<p>这个模型旨在管理组织中雇员的角色和责任。它捕捉了不同组织实体如人员、职位、部门以及与这些职位相关联的权限之间的层次结构和关系。该系统可用于跟踪员工的职位角色、所属部门及其在组织内的相应权限。使用继承和关联确保了清晰、可维护的结构，能够准确反映组织结构。</p> 
<p>1 .分析说明如下模型中类之间设计该关系依据是什么？以及它们的耦合度高低。</p> 
<p>2 .针对如下 UML 设计类图给出 Vehicle 类、 Car 类、 Bus 类的 Java 编程代码。</p> 
<p><img src="https://images2.imgbox.com/a8/bd/MaJGsicq_o.png" alt="image.png"></p> 
<p>1）耦合度高低：依赖&lt;关联&lt;聚合&lt;组合&lt;实现</p> 
<p>2）</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token comment">// Vehicle.java</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Car.java</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token keyword">implements</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Driver</span><span class="token punctuation">&gt;</span></span> drivers<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>drivers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// Car的run实现</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">beforeRun</span><span class="token punctuation">(</span><span class="token class-name">Oil</span> oil<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// Car的beforeRun实现</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addDriver</span><span class="token punctuation">(</span><span class="token class-name">Driver</span> driver<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>drivers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Bus.java</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Bus</span> <span class="token keyword">extends</span> <span class="token class-name">Car</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">Bus</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Bus可能有特定的行为和属性，这里只提供基础构造方法</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>完整代码：</p> 
<pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token comment">// Vehicle.java</span>
<span class="token keyword">interface</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Car.java</span>
<span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token keyword">implements</span> <span class="token class-name">Vehicle</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Driver</span><span class="token punctuation">&gt;</span></span> drivers<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>drivers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// Car的run实现</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">beforeRun</span><span class="token punctuation">(</span><span class="token class-name">Oil</span> oil<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// Car的beforeRun实现</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addDriver</span><span class="token punctuation">(</span><span class="token class-name">Driver</span> driver<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>drivers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Bus.java</span>
<span class="token keyword">class</span> <span class="token class-name">Bus</span> <span class="token keyword">extends</span> <span class="token class-name">Car</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">Bus</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Bus可能有特定的行为和属性，这里只提供基础构造方法</span>
<span class="token punctuation">}</span>

<span class="token comment">// Driver.java</span>
<span class="token keyword">class</span> <span class="token class-name">Driver</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Car</span><span class="token punctuation">&gt;</span></span> cars<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Driver</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cars <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addCar</span><span class="token punctuation">(</span><span class="token class-name">Car</span> car<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>cars<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>car<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Oil.java</span>
<span class="token keyword">class</span> <span class="token class-name">Oil</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> type<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Oil</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// Oil的add方法实现</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="UML_1093"></a>UML软件动态交互视图建模</h2> 
<p><font color="red">软件动态交互视图</font>用于描述系统功能的对象之间动态交互行为。顺序图和通信图均属于动态交互模型图。</p> 
<h3><a id="_1097"></a>顺序图</h3> 
<p><font color="red">顺序图</font>也称序列图，它按照从上至下顺序描述对象之间的消息交互，其目的是展示功能逻辑的设计实现。</p> 
<ul><li>顺序图由一组对象及它们之间的消息组成，强调消息的先后时间顺序。</li><li>顺序图也包括生命线、激活、片段等图形元素。</li></ul> 
<p><img src="https://images2.imgbox.com/fa/f7/xNXjNsfn_o.png" alt="image-20231223163902262"></p> 
<h3><a id="_1106"></a>通信图</h3> 
<p>通信图是另一种类型的动态交互图，它用于表现对象之间的协作关系。通信图由对象以及其关联组成，它强调对象间的连接关系，对象之间消息通信顺序使用序列号表示。</p> 
<p><img src="https://images2.imgbox.com/39/9d/ruL1aPEg_o.png" alt="image-20231223165901323"></p> 
<h3><a id="_1112"></a>类操作</h3> 
<p><font color="red">类操作（方法）</font>是指类所能提供的服务或功能函数。类将一组操作函数作为服务提供给系统中的其他类访问。</p> 
<h4><a id="_1116"></a>发现操作</h4> 
<ul><li>可从顺序图或通信图的对象交互中发现类操作。顺序图和通信图中的每一条消息，都必须有目标对象的一个操作为其服务。</li><li>根据类的职责确定操作，如数据记录创建、读取、更新和删除操作。</li></ul> 
<p><img src="https://images2.imgbox.com/e2/d8/txOOSILw_o.png" alt="image-20231223170220267"></p> 
<h4><a id="_1123"></a>类操作的表示</h4> 
<p>在 UML 中，类操作的表示语法为：</p> 
<p><code>[可见性] 操作名称 [（参数表）] [:返回类型] [{属性字符串}]</code></p> 
<p>操作名称是动词或动词短语，单词首字母小写。如果有多个单词，则将这些单词连接起来，第一个单词首字母小写，其他单词首字母大写。</p> 
<p><img src="https://images2.imgbox.com/96/c3/FbeJZix9_o.png" alt="image-20231223170420445"></p> 
<p>ChatGPT4:</p> 
<p>类图代表了使用数据传输对象（DTO）模式的用户注册系统设计。这种模式在面向对象设计中常用于软件应用子系统之间的数据传输。这里是类图的每个部分的详细解释：</p> 
<p><strong>UserDTO</strong> 类：</p> 
<p>这是一个简单的 DTO 类，包含两个属性：</p> 
<ul><li><code>userAccount</code>：一个 <code>String</code> 类型，用来存储用户的账户名。</li><li><code>userPassword</code>：一个 <code>String</code> 类型，用来存储用户的密码。</li></ul> 
<p>它还提供了两个属性的获取和设置方法，允许其他类访问和修改这些值：</p> 
<ul><li><code>getUserAccount()</code>：返回 <code>userAccount</code> 字符串。</li><li><code>setUserAccount(String userAccount)</code>：设置 <code>userAccount</code> 字符串。</li><li><code>getUserPassword()</code>：返回 <code>userPassword</code> 字符串。</li><li><code>setUserPassword(String userPassword)</code>：设置 <code>userPassword</code> 字符串。</li></ul> 
<p><strong>RegisterForm</strong> 类：</p> 
<p>这个类似乎代表用户填写的注册表单。它包含：</p> 
<ul><li><code>user</code>：<code>UserDTO</code> 的一个实例，用来保存与用户相关的表单数据。</li><li><code>userDao</code>：<code>IUserDAO</code> 接口的一个实例（下面会解释），可能用于将用户添加到某种类型的数据存储中。</li></ul> 
<p><strong>IUserDAO</strong> 接口：</p> 
<p>这是一个定义用户数据访问对象（DAO）契约的接口，包含以下方法：</p> 
<ul><li><code>addUser(UserDTO user)</code>：一个接受 <code>UserDTO</code> 对象并返回一个表示添加用户到数据存储是否成功的 <code>boolean</code> 值的方法。</li></ul> 
<p><strong>OracleUserDAO</strong> 类：</p> 
<p>这是 <code>IUserDAO</code> 接口的一个具体实现，专门设计用来与 Oracle 数据库交互。它实现了 <code>IUserDAO</code> 接口的 <code>addUser</code> 方法。</p> 
<p><strong>关系</strong>：</p> 
<ul><li><code>RegisterForm</code> 与 <code>UserDTO</code> 有一个组合关系，由实心菱形表示，意味着 <code>RegisterForm</code> 包含并控制 <code>UserDTO</code> 实例的生命周期。</li><li><code>RegisterForm</code> 与 <code>IUserDAO</code> 有一个关联关系，由箭头表示，意味着它使用 <code>IUserDAO</code> 接口来访问用户数据。</li><li><code>IUserDAO</code> 与 <code>OracleUserDAO</code> 有一个实现关系，由虚线和空心箭头表示。这意味着 <code>OracleUserDAO</code> 承诺实现 <code>IUserDAO</code> 定义的契约。</li></ul> 
<p>案例：发现操作</p> 
<p><img src="https://images2.imgbox.com/1a/82/NlD6ZbQW_o.png" alt="image-20231223170723340"></p> 
<h3><a id="_1178"></a>顺序图高级交互技术</h3> 
<h4><a id="_1180"></a>创建与销毁临时对象</h4> 
<ul><li>当创建临时对象时，发送者发出一个实例化消息后将创建临时对象。</li><li>当销毁临时对象时，发送者发出消息销毁临时对象，并回收其拥有的资源。</li><li>在顺序图中，在对象的生命线上标记“×”符号，表示对象被销毁。</li></ul> 
<p><img src="https://images2.imgbox.com/2b/e0/7iKp6iTI_o.png" alt="image-20231223171503752"></p> 
<h4><a id="_1188"></a>片段</h4> 
<p>在模块功能详细设计中，需要描述功能处理的控制逻辑，如展示<font color="red">条件分支</font>、<font color="red">循环处理</font>，以及并行执行。在顺序图中采用不同类型的片段来表示这些控制逻辑。</p> 
<p>UML 2.x中预定义了如下片段:</p> 
<ul><li>opt选项片段</li><li>alt条件片段</li><li>loop循环片段</li><li>para并行片段</li></ul> 
<p><font color="blue">(1) loop循环片段</font></p> 
<p>在模块功能逻辑设计中，使用loop片段表示重复执行一些操作。</p> 
<p><img src="https://images2.imgbox.com/62/92/xOhA9HCi_o.png" alt="image-20231223172428127"></p> 
<p><font color="blue">（2）para并行片段</font></p> 
<p>在模块功能逻辑设计中，使用para片段表示执行一些并行操作。</p> 
<p><img src="https://images2.imgbox.com/b7/61/pCTNXMsS_o.png" alt="image-20231223172616562"></p> 
<p><font color="blue">（3）alt条件片段</font></p> 
<p>在模块功能逻辑设计中，使用alt片段表示根据条件执行操作。alt片段表达if-then-else逻辑。</p> 
<p><img src="https://images2.imgbox.com/ef/46/yTjIteab_o.png" alt="image-20231223172942095"></p> 
<p><font color="blue">(4) opt选项片段</font></p> 
<p>在模块功能逻辑设计中，使用opt片段根据当条件执行选项操作。opt片段表达if…then逻辑。</p> 
<p><img src="https://images2.imgbox.com/1e/81/YjP9kopn_o.png" alt="image-20231223173118811"></p> 
<h4><a id="_1223"></a>交互引用</h4> 
<p>在设计有较多相同处理逻辑的模块时，可以采用交互引用复用已有处理逻辑，被引用的处理逻辑采用标签 ref 标注。</p> 
<p><img src="https://images2.imgbox.com/40/14/9nBAyTzD_o.png" alt="image-20231223173248501"></p> 
<p>在如下订单提交模块序列图模型中，包含了哪些处理逻辑？并分别说明各交互对象的对象类型。</p> 
<p><img src="https://images2.imgbox.com/1e/84/8cUD7kVc_o.png" alt="image.png"></p> 
<p>订单结账和信用卡支付。</p> 
<p>Customer、Payment Processor为参与者， Order Checkout、CreditCard Payment为控制类对象， Checkout Page为边界类对象 ，Order、OrderItem、Item为实体类对象。</p> 
<h2><a id="UML_1237"></a>UML软件状态机视图建模</h2> 
<p><font color="red">状态机图</font>是对系统中对象的状态变化逻辑进行建模，它描述类对象随时间变化的行为状态，以及对象受事件影响如何进行状态变迁。</p> 
<p>状态机图建模步骤：</p> 
<ul><li>发现对象状态</li><li>分析对象变迁的事件与条件</li><li>建立对象状态图</li></ul> 
<p>案例：微波炉工作的状态机图</p> 
<p><img src="https://images2.imgbox.com/1e/c4/Lfe4z3u6_o.png" alt="image-20231223175114284"></p> 
<p>ChatGPT4：</p> 
<p>状态：</p> 
<ul><li><strong>Waiting（等待）</strong>：微波炉的初始状态，显示时间，等待用户输入。</li><li><strong>Full Power（全功率）</strong>：微波炉在全功率模式下工作，功率设置为600W。</li><li><strong>Half Power（半功率）</strong>：微波炉在半功率模式下工作，功率设置为300W。</li><li><strong>Set Time（设置时间）</strong>：用户设置微波炉的工作时间。</li><li><strong>Enabled（启用）</strong>：微波炉门关闭，准备开始工作，显示“Ready”。</li><li><strong>Disabled（禁用）</strong>：微波炉门开启，不允许操作，显示“Waiting”。</li><li><strong>Operation（操作）</strong>：微波炉开始工作。</li></ul> 
<p>转换和触发事件：</p> 
<ul><li>用户选择全功率或半功率，微波炉进入相应的功率状态。</li><li>在任何功率状态下，设置时间后，微波炉进入设置时间的状态。</li><li>当时间被设置后，如果微波炉门关闭，微波炉变为启用状态。</li><li>如果微波炉门打开，微波炉将变为禁用状态。</li><li>从启用状态，开始操作将使微波炉进入操作状态并开始加热。</li><li>用户可以在任何时候取消操作，微波炉将返回到等待状态。</li><li>在操作结束后，微波炉将完成加热过程并返回到等待状态。</li></ul> 
<p>针对如下电梯对象的状态机图模型，如何编写其Java控制程序？</p> 
<p><img src="https://images2.imgbox.com/9d/7a/DSM8NCN3_o.png" alt="image.png"></p> 
<p>代码均为简化代码，参考思路即可：</p> 
<p>1.定义电梯的状态和事件：</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">ElevatorState</span> <span class="token punctuation">{<!-- --></span>
    <span class="token constant">IDLE</span><span class="token punctuation">,</span>
    <span class="token constant">MOVING_UP</span><span class="token punctuation">,</span>
    <span class="token constant">MOVING_DOWN</span><span class="token punctuation">,</span>
    <span class="token constant">OPEN_DOORS</span><span class="token punctuation">,</span>
    <span class="token constant">CLOSED_DOORS</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">ElevatorEvent</span> <span class="token punctuation">{<!-- --></span>
    <span class="token constant">CALL_UP</span><span class="token punctuation">,</span>
    <span class="token constant">CALL_DOWN</span><span class="token punctuation">,</span>
    <span class="token constant">MOVE_UP</span><span class="token punctuation">,</span>
    <span class="token constant">MOVE_DOWN</span><span class="token punctuation">,</span>
    <span class="token constant">DOORS_OPEN</span><span class="token punctuation">,</span>
    <span class="token constant">DOORS_CLOSE</span><span class="token punctuation">,</span>
    <span class="token constant">TIMEOUT</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>2.创建电梯的控制类</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ElevatorControl</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">private</span> <span class="token class-name">ElevatorState</span> currentState<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ElevatorControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>currentState <span class="token operator">=</span> <span class="token class-name">ElevatorState</span><span class="token punctuation">.</span><span class="token constant">IDLE</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handleEvent</span><span class="token punctuation">(</span><span class="token class-name">ElevatorEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>currentState<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
            <span class="token keyword">case</span> <span class="token constant">IDLE</span><span class="token operator">:</span>
                <span class="token keyword">switch</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">case</span> <span class="token constant">CALL_UP</span><span class="token operator">:</span>
                        <span class="token function">openDoors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                        currentState <span class="token operator">=</span> <span class="token class-name">ElevatorState</span><span class="token punctuation">.</span><span class="token constant">OPEN_DOORS</span><span class="token punctuation">;</span>
                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                    <span class="token keyword">case</span> <span class="token constant">CALL_DOWN</span><span class="token operator">:</span>
                        <span class="token comment">// Similar logic for CALL_DOWN</span>
                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                    <span class="token comment">// Handle other events</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">case</span> <span class="token constant">MOVING_UP</span><span class="token operator">:</span>
                <span class="token keyword">switch</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
                    <span class="token keyword">case</span> <span class="token constant">MOVE_UP</span><span class="token operator">:</span>
                        <span class="token comment">// Logic for moving up</span>
                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                    <span class="token keyword">case</span> <span class="token constant">TIMEOUT</span><span class="token operator">:</span>
                        currentState <span class="token operator">=</span> <span class="token class-name">ElevatorState</span><span class="token punctuation">.</span><span class="token constant">IDLE</span><span class="token punctuation">;</span>
                        <span class="token keyword">break</span><span class="token punctuation">;</span>
                    <span class="token comment">// Handle other events</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token comment">// Implement logic for other states</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">openDoors</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token comment">// Logic to open elevator doors</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Doors are opening."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Define other methods such as closeDoors(), moveUp(), moveDown(), etc.</span>
<span class="token punctuation">}</span>
</code></pre> 
<p>3.使用控制类响应事件</p> 
<pre><code class="prism language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ElevatorSystem</span> <span class="token punctuation">{<!-- --></span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>
        <span class="token class-name">ElevatorControl</span> elevator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ElevatorControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Simulate events</span>
        elevator<span class="token punctuation">.</span><span class="token function">handleEvent</span><span class="token punctuation">(</span><span class="token class-name">ElevatorEvent</span><span class="token punctuation">.</span><span class="token constant">CALL_UP</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        elevator<span class="token punctuation">.</span><span class="token function">handleEvent</span><span class="token punctuation">(</span><span class="token class-name">ElevatorEvent</span><span class="token punctuation">.</span><span class="token constant">DOORS_CLOSE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        elevator<span class="token punctuation">.</span><span class="token function">handleEvent</span><span class="token punctuation">(</span><span class="token class-name">ElevatorEvent</span><span class="token punctuation">.</span><span class="token constant">MOVE_UP</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Add more events as needed</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> 
<h2><a id="UML__1365"></a>UML 软件的实现视图建模</h2> 
<h3><a id="_1367"></a>实现视图</h3> 
<p>实现视图是对系统的实现结构建模，包括如下模型图：</p> 
<ul><li><font color="red">构件图</font>：建模构件和构件间的接口和依赖关系，表示系统构件组成结构；：</li><li><font color="red">部署图</font>：建模在系统运行时，构件在系统各节点上的物理部署关系及其运行环境；</li><li><font color="red">子系统与包图</font>：子系统可以用包来体现，可使用包图表示系统逻辑架构。</li></ul> 
<h3><a id="_1375"></a>构件图</h3> 
<ul><li>构件图是用来表示系统中构件与构件之间、构件与接口之间关系的图。</li><li>构件图可以从多种层次粒度描述系统实现架构，如系统分解哪几个子系统，子系统包括哪些构件，构件由哪些类封装组成。</li></ul> 
<h4><a id="_1380"></a>构件和构件之间的依赖关系</h4> 
<p><img src="https://images2.imgbox.com/0a/49/6fxn6RIT_o.png" alt="image-20231223181134347"></p> 
<h4><a id="_1384"></a>构件与接口之间的关系</h4> 
<ul><li>构件与构件之间通过定义良好的<font color="red">接口</font>进行协作。</li><li>构件图中，构件之间的关系表现为<font color="red">依赖关系</font>或<font color="red">实现关系</font>。</li><li>实现关系指一个构件实现了一个接口，使用实线连接到小圆上。该接口被称为<font color="red">供给接口</font>。</li><li>依赖关系指一个构件使用了一个接口，使用实线连接到半圆上。该接口被称为<font color="red">请求接口</font>。</li></ul> 
<p><img src="https://images2.imgbox.com/ea/e4/0ZNmVPv7_o.png" alt="image-20231223181425907"></p> 
<h4><a id="_1393"></a>端口</h4> 
<p><font color="red">端口</font>是指构件一个对外交互点。端口显示为一个小正方形，放置在构件方框的边界上。</p> 
<p><img src="https://images2.imgbox.com/3f/9a/0O4qwxCh_o.png" alt="image-20231223181609946"></p> 
<h4><a id="_1399"></a>端口连接</h4> 
<p>在 UML 软件架构建模设计中，主要使用如下连接器将构件的端口进行连接。</p> 
<ul><li>装配连接器：用于连接构件之间的端口</li><li>委托连接器：用于连接构件供给端口与内部供给端口或内部请求端口与构件请求端口</li></ul> 
<p><img src="https://images2.imgbox.com/dc/43/V5hXYzjm_o.png" alt="image-20231223182203179"></p> 
<p>作为一种选择， UML 还允许将<font color="red">连接器</font>按如下方案连接构件端口。</p> 
<p><img src="https://images2.imgbox.com/a5/92/4tksbpzP_o.png" alt="image-20231223182641103"></p> 
<p>若有多个构件使用相同接口访问另一构件接口， UML 允许将连接器按如下方案连接构件端口。</p> 
<p><img src="https://images2.imgbox.com/e8/31/axfGs5Mv_o.png" alt="image-20231223184949103"></p> 
<p>身份认证构件 (Authentication）端口与订单构件 (Orders) 端口均使用相同请求接口（lCustomers）连接客户构件（:Customers )端口的供给接口lCustomers。</p> 
<p><font color="red">委托连接器</font>是将构件的端口连接到实现该行为的对象。它表示消息到达一个端口后，将被传递给内部目标对象进行处理。</p> 
<p><img src="https://images2.imgbox.com/53/7f/AAjgjXom_o.png" alt="image-20231223185338266"></p> 
<p><img src="https://images2.imgbox.com/c8/22/LzP8kkdY_o.png" alt="image-20231223185434470"></p> 
<p>案例：电子商务系统的构件图</p> 
<p><img src="https://images2.imgbox.com/ae/d0/B7evfp9Y_o.png" alt="image-20231223185547292"></p> 
<h3><a id="_1428"></a>部署图</h3> 
<ul><li>部署图用于对系统的物理实现情况进行建模。</li><li>部署图用于表示软件构件如何部署到硬件环境中，它显示系统中的不同构件在何处物理地运行，以及彼此之间如何进行通信。</li></ul> 
<p><strong>节点</strong></p> 
<ul><li>节点是指人工制品和构件在系统中部署的硬件设备及其运行环境。</li><li>节点之间通过通信线路将连接起来实现信息传输。</li></ul> 
<p><img src="https://images2.imgbox.com/da/3f/cf4cd343_o.png" alt="image-20231223190533597"></p> 
<p><strong>构件在节点中部署</strong></p> 
<p>构件需要在节点设备中运行。在建模时，需要将构件在节点中进行部署</p> 
<p><img src="https://images2.imgbox.com/69/47/LrFqbgLl_o.png" alt="image-20231223190606027"></p> 
<p>案例：电子商务系统部署图</p> 
<p><img src="https://images2.imgbox.com/b1/cf/iwG10Vdo_o.png" alt="image-20231223190641805"></p> 
<h3><a id="_1450"></a>包图</h3> 
<ul><li>在 UML 模型图中包用来对模型元素进行分组，简化 UML 图，使其更容易理解。</li><li>包图用于对模型自身组织进行建模，它是由一系列模型元素（类、用例等）构成的包所组成的模型，描述包与包之间的关系。</li></ul> 
<h4><a id="_1455"></a>包</h4> 
<p>UML 中包表示为左上方带有小矩形的矩形。包的名称采用字符串，简单名仅包含名称字符串，全限定名则以本包所处的外围包的名称作为前缀。</p> 
<p><img src="https://images2.imgbox.com/50/34/UP268uOV_o.png" alt="image-20231223191018148"></p> 
<h4><a id="_1461"></a>包的可见性</h4> 
<p>包可以控制protected所包含的内部元素的可见性，即外部元素访问包内元素的权限：</p> 
<ul><li><code>+ public</code>公共可见性: 对它所在包和内嵌包的对象可见，也对所有引入它的包及其子包中对象可见；</li><li><code>- private</code>私有可见性: 只对它所在包中对象可见；</li><li><code># protected</code>保护可见性: 对它所在包和内嵌包中对象可见；</li></ul> 
<p><img src="https://images2.imgbox.com/09/79/BjzUuOkx_o.png" alt="image-20231223191331202"></p> 
<h4><a id="_1471"></a>包的嵌套</h4> 
<ul><li>包可以拥有其他包，子包又可以拥有自己的子包，从而构成嵌套结构。</li><li>包的嵌套可以清晰地表现模型元素之间的层次结构关系。</li><li>但是包的嵌套不宜过深，层数一般以 2到 3 层为宜</li></ul> 
<p><img src="https://images2.imgbox.com/79/81/UAzl6IMh_o.png" alt="image-20231223191441457"></p> 
<h4><a id="_1479"></a>包图</h4> 
<ul><li>包图描述包与包之间的关系，可用于描述软件系统的逻辑模型。</li><li>包与包之间可以存在依赖关系。两个包之间存在着依赖关系通常是指这两个包所包含的模型元素之间存在着一个或多个依赖关系。</li><li>包的依赖关系使用一根虚线箭线表示，箭头指向被依赖的包。依赖关系可以标上标签，在《》中包含依赖关系的类型。</li></ul> 
<p><img src="https://images2.imgbox.com/62/5c/OE1KpJyX_o.png" alt="image-20231223191748930"></p> 
<p>案例：应用包图描述系统的软件架构</p> 
<p><img src="https://images2.imgbox.com/80/b5/u3aJK9UN_o.png" alt="image-20231223191823052"></p> 
<p><img src="https://images2.imgbox.com/7a/e4/CETSluqy_o.png" alt="image-20231223191939764"></p> 
<p>针对如下股票投资分析系统构件模型，分析构件之间关系如何设计？</p> 
<p><img src="https://images2.imgbox.com/ee/de/Z6BNddIY_o.png" alt="image.png"></p> 
<p>ChatGPT4：</p> 
<p>在这个股票投资分析系统的构件模型中，构件之间的关系是按照客户端-服务器架构设计的。客户端包含用户界面（GUI）、图形库（Graphing Lib）、客户端会话（Client Session）和股票组合（Stock Portfolio）构件。服务器端包含认证服务器（Authentication Server）、服务器会话（Server Session）、股票市场分析器（Stock Market Analyzer）和投资组合数据库（Portfolio DB）构件。</p> 
<p>客户端的GUI用于展示信息和接收用户输入，图形库用于数据可视化。客户端会话管理用户与系统的交互，而股票组合构件负责管理用户的个人投资组合信息。这些客户端构件通过API与服务器端的构件交互。服务器端的认证服务器负责处理登录和安全认证，服务器会话维护与客户端的连接状态。股票市场分析器是系统的核心，负责分析股票市场数据和生成投资建议，而投资组合数据库存储用户的投资组合信息。</p> 
<p>客户端与服务器之间的交互通过网络进行。例如，用户通过GUI发起请求，客户端会话将请求发送到服务器，服务器会话接收请求并与认证服务器进行认证，然后由股票市场分析器处理请求。结果通过服务器会话返回给客户端会话，并最终通过GUI展示给用户。</p> 
<p>此外，系统还接入了第三方服务，如彭博数据库（Bloomberg DB），这提供了额外的市场数据，股票市场分析器可能会使用这些数据来增强分析结果的准确性。</p> 
<p>针对如下房地产按揭交易系统部署模型，分析各要素之间关系如何设计？</p> 
<p><img src="https://images2.imgbox.com/78/ba/sbBtaoGZ_o.png" alt="image.png"></p> 
<p>针对如下电商系统软件架构模型，分析包之间关系如何设计？</p> 
<p><img src="https://images2.imgbox.com/8d/e1/mloYsG0y_o.png" alt="image.png"></p> 
<p>《use》关系表示使用依赖，Web Shopping依赖Payment，Mobile Shopping依赖Payment…</p> 
<p>《merge》关系表示合并，Web Shopping、Mobile Shopping、Phone Shopping、和Mail Shopping合并之后就拥有了Shopping Cart的全部功能 。也表明了它们共享一些在“Web Shopping”包中定义的通用功能。</p> 
<p>《Access》关系表示私有引入，比如代码中的指定包名类名 。Payment可以访问Shopping Cart中的特定功能或类，但这种访问是受限的。</p> 
<p>《Import》关系表示公共引入，比如Java中的import之后，就可以直接使用import包中的类了。一旦“Shopping Cart”公共导入了“Inventory”，它就可以直接使用“Inventory”中定义的公共类和接口。</p> 
<h2><a id="_1523"></a>图书借阅管理系统软件建模设计实践</h2> 
<h3><a id="_1525"></a>系统需求</h3> 
<p><img src="https://images2.imgbox.com/67/34/G6xAKhFo_o.png" alt="image-20231223200450359"></p> 
<p><img src="https://images2.imgbox.com/97/95/XXB3hhL3_o.png" alt="image-20231223200521472"></p> 
<p><img src="https://images2.imgbox.com/be/ee/zN9d9WTW_o.png" alt="image-20231223200634562"></p> 
<h3><a id="_1533"></a>系统静态模型设计</h3> 
<p>建立系统静态模型类图。建立类图需要确定系统中的类，确定类的属性，确疋类之间的关系。根据系统动态模型确定类的操作并完善类图。</p> 
<p>（ 1 ）确定系统中的类</p> 
<ul><li>系统用户有管理员 (Administrator) 、图书管理员 (Librarian) 和借阅者(Borrower) 三个参与者，可将他们抽取为的角色实体类。</li><li>系统需存储图书信息，可抽取出Book类；需要存储借阅信息，可抽取出Loan类；需要存储预定信息，可抽取出Reservation类；这些类是系统中的主要业务实体类。</li></ul> 
<p>（ 2 ）确定类的属性</p> 
<p><img src="https://images2.imgbox.com/18/d0/gLtxdxBB_o.png" alt="image-20231223200936822"></p> 
<p>（ 3 ）确定类之间的关系，创建系统类图</p> 
<p><img src="https://images2.imgbox.com/d6/45/loHMomH3_o.png" alt="image-20231223201018670"></p> 
<h3><a id="_1550"></a>系统动态模型设计</h3> 
<p>系统详细设计阶段，针对用例图中的每一个用例，考虑如何通过对象之间的协作来完成用例的功能。采用顺序图或通信图对用例功能进行设计建模，采用状态机图对类的行为状态进行设计建模。</p> 
<h4><a id="_1553"></a>图书搜索功能逻辑设计</h4> 
<p><img src="https://images2.imgbox.com/36/d6/jqHhLFng_o.png" alt="image-20231223201152550"></p> 
<p><img src="https://images2.imgbox.com/21/12/q4cmLGuq_o.png" alt="image-20231223201207722"></p> 
<h4><a id="_1559"></a>图书借阅功能逻辑设计</h4> 
<p><img src="https://images2.imgbox.com/15/c9/Lgrn6yxp_o.png" alt="image-20231223201319348"></p> 
<h4><a id="_1563"></a>图书归还功能逻辑设计</h4> 
<p><img src="https://images2.imgbox.com/01/6a/QPCTBEUR_o.png" alt="image-20231223201354929"></p> 
<h4><a id="Book_1567"></a>Book对象的状态机图设计</h4> 
<p>Book 对象是图书管理系统中具有明显状态变化的对象，图书借阅业务都与Book对象状态有关。Book对象具有如下状态: 新书 (NewBook) 、可借阅预定(Available) 、被预定 (Reserved) 、被借阅 (Borrowed) 、被删除 (Deleted)。</p> 
<p><img src="https://images2.imgbox.com/d1/5b/k92JnCvc_o.png" alt="image-20231223201509834"></p> 
<h4><a id="Borrower_1573"></a>Borrower对象的状态机图设计</h4> 
<p>Borrower对象也具有比较明显的状态，因此也采用状态机图对其建模。</p> 
<p>Borrower 对象具 有 如下状态: 新建 (NewUser) 、未预定未借书 (NoLoanReserve) 、有预定 (HasReserve) 、有借书 (HasLoan) 、有预定有借书 (HasLoanReserve) 、被删除 (Deleted)。</p> 
<p><img src="https://images2.imgbox.com/f4/21/IXcvXgrU_o.png" alt="image-20231223201645185"></p> 
<h4><a id="_1581"></a>静态结构的类图模型细化设计</h4> 
<ul><li> <p>Borrower类需要提供</p> 
  <ul><li>checkBorrower操作</li><li>checkNumBooks操作</li><li>addLoan操作</li><li>deleteLoan操作</li></ul> </li><li> <p>Book类需要提供</p> 
  <ul><li>searchBook操作</li><li>checkBook操作</li><li>setLoanStatus操作</li></ul> </li><li> <p>Loan类需要提供</p> 
  <ul><li>addLoan操作</li><li>deleteLoan操作</li><li>checkOverdue操作</li></ul> </li></ul> 
<p><img src="https://images2.imgbox.com/7a/0d/TT1bS0Bx_o.png" alt="image-20231223201905272"></p> 
<p>针对图书借阅管理系统如下构件，如何设计系统部署图模型，并在部署图中给出部署关系和运行环境（Apache、JBoss、PostgreSQL、Ubuntu）。</p> 
<p>1）页面构件：borrowBook.jsp、returnBook.jsp、reserveBook.jsp、searchBook.jsp、viewBook.jsp、borrowerInfo.jsp，</p> 
<p>2）控制构件：borrowBook.java、returnBook.java、reserveBook.java、searchBook.java、viewBook.java、borrowerInfo.java，</p> 
<p>3）实体构件：book.java、reservation.java、loan.java、borrower.java，</p> 
<p>4）数据库表：BookInfo、Reservation、Loan、Borrower、BookType</p> 
<p>ChatGPT4：</p> 
<p>我们可以按照三层架构来组织这些构件：</p> 
<ul><li><strong>表示层</strong>（通过Apache和JBoss托管）: 包括所有的JSP页面，如 <code>borrowBook.jsp</code>, <code>returnBook.jsp</code> 等。</li><li><strong>业务逻辑层</strong>（运行在JBoss上）: 包括控制和实体构件，如 <code>borrowBook.java</code>, <code>book.java</code> 等。</li><li><strong>数据层</strong>（使用PostgreSQL）: 包含所有数据库表，如 <code>BookInfo</code>, <code>Loan</code> 等。</li></ul> 
<p>现在，我将详细设计一个系统部署图模型来展示这些构件是如何部署和相互作用的：</p> 
<ol><li><strong>Apache Web Server</strong>: 托管所有的JSP页面。这些页面通过HTTP请求与JBoss服务器通信。</li><li><strong>JBoss Application Server</strong>: 处理来自Apache服务器的请求，并运行Java控制和实体构件。JBoss可以部署这些Java构件，并提供必要的运行环境。</li><li><strong>PostgreSQL Database Server</strong>: 存储所有的数据库表，由JBoss服务器通过JDBC进行访问和操作。</li></ol> 
<ul><li>Apache Web Server托管JSP页面，并将请求转发给JBoss服务器。</li><li>JBoss服务器处理业务逻辑，并与数据库服务器进行交互以存储或检索数据。</li><li>PostgreSQL数据库服务器存储和管理数据，为业务逻辑层提供数据支持。</li></ul> 
<p>所有这些组件都部署在Ubuntu操作系统上，确保系统兼容性和稳定性。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/9610c5c27de147964541e3583bb718b7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">7&#43;非肿瘤&#43;线粒体&#43;PPI&#43;机器学习&#43;实验，多套路搭配干湿结合</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/3e3810e45a0db86173a3cf5e56583206/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">月薪高达6W，多家大厂急招鸿蒙开发工程师，现在转还来得及吗？</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>