<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>C语言课程设计——航班信息管理系统 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="C语言课程设计——航班信息管理系统" />
<meta property="og:description" content="目录 实现功能
整体概述
系统结构
主要功能模块实现
身份验证
信息遍历
查找航班信息
编辑航班信息
整理信息顺序
预订航班
小结
实现功能： 通过此系统可以实现如下功能：（1）录入：管理员用户可以录入航班情况，数据存储在一个数据文件中；（2）遍历：可以查看某一类信息的所有数据如航班信息、订单信息等；（3）查询：可以查询某个航线的情况，如输入航班号来查询起降时间、起飞抵达城市、航班票价、票价折扣、航班是否满仓；也可以输入起飞抵达城市，查询飞机航班情况；（4）订票：普通用户可以订票，订单相关数据会存储在数据文件中，客户资料有姓名，证件号，订票数量及航班情况，订单要有编号；（5）退票： 可退票，退票后修改相关数据文件；（6）修改：当航班信息改变可以修改航班数据文件。
整体概述： 本系统为实现信息的增删改查等功能的应用程序。采用的开发环境为codeblocks，系统环境为windows10。本系统使用的数据结构为结构体数组，相关数据文件的存储方式为使用txt文件存储。本系统实现对数据文件的修改基本思路为：先读取计算机硬盘中的数据文件内容并将其以结构体数组的方式存入计算机内存，修改内容时首先修改的是结构体数组，修改完毕后将修改后的结构体数组重新写入数据文件（覆盖原文件）。
本系统设计思路为，首先通过身份验证用户的身份，二者所能使用的功能与权限不同；验证通过后，根据具体用户的身份系统会提供不同的操作界面，用户可以根据自己的实际需求使用具体功能包括查找航班信息、添加、删除、修改航班信息、整理信息顺序以及预订、退订航班等等操作。
系统结构： 经过分析，本系统的整体结构示意如下：
主要功能模块实现： 本系统使用的头文件为以下三个：
#include&lt;stdio.h&gt; #include&lt;string.h&gt; #include&lt;windows.h&gt; 身份验证 用户在使用本系统时需要输入用户名和密码验证用户身份来取得相应的使用本系统的权限。相关用户信息存放在userinfo.txt中。两类用户分别为管理员和普通用户，系统先将使用者输入的用户信息与数据库中的对应信息作匹配，若匹配成功则进一步判断用户类型。若使用者输入的信息和数据库中的所有信息均不匹配，则计数加一且系统会提示用户重新输入，计数达到三时系统会提示使用者无权使用本应用并自动退出程序。
主要实现代码：
/*打开用户信息文件并读取所有用户信息*/ if((user_fp=fopen(&#34;.\\datafiles\\userinfo.txt&#34;,&#34;r&#34;))==NULL){ printf(&#34;数据读取失败！请检查“userinfo.txt”是否存在或路径是否正确！&#34;); //若文件位置错误或不存在 Sleep(1000); exit(0); } user=user_info_readin(user_fp); //读取用户信息并将其写入用户信息结构体数组 fclose(user_fp); /*将使用者输入的用户信息与所有用户信息进行匹配并验证用户类型*/ for(i1=1;i1&lt;=3;i1&#43;&#43;){ printf(&#34;用户名：&#34;); scanf(&#34;%s&#34;,usn); printf(&#34;密码：&#34;); scanf(&#34;%s&#34;,psw); for(i=0;i&lt;user_num;i&#43;&#43;){ if(strcmp(usn,user[i].username)==0&amp;&amp;strcmp(psw,user[i].password)==0){ un=i; //全局变量un，用于在其他函数中匹配用户信息 printf(&#34;登录成功！当前身份：&#34;); if(user[i].id==1){ //根据用户信息的id选择跳转到指定界面 printf(&#34;管理员\n&#34;); Sleep(1000); admt_menu(); //调用管理员操作界面函数 }else if(user[i].id==0){ printf(&#34;普通用户\n&#34;); Sleep(1000); user_menu(); //调用普通用户操作界面函数 } break; } } if(strcmp(usn,user[i].username)==0&amp;&amp;strcmp(psw,user[i].password)==0) break; if(i1==3){ printf(&#34;验证失败！请先获取用户信息后再登录&#34;); //用户输错三次信息后系统提示 Sleep(1000); exit(0); } printf(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/3cc3b800bd262ec83c141088bc8a5219/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-21T10:18:44+08:00" />
<meta property="article:modified_time" content="2023-02-21T10:18:44+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">C语言课程设计——航班信息管理系统</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div class="kdocs-document"> 
 <h2 style="text-align:left;"><span class="kdocs-color" style="color:#078654;">目录</span></h2> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p><span class="kdocs-bold" style="font-weight:bold;">实现功能</span></p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p><span class="kdocs-bold" style="font-weight:bold;">整体概述</span></p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p><span class="kdocs-bold" style="font-weight:bold;">系统结构</span></p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p><span class="kdocs-bold" style="font-weight:bold;">主要功能模块实现</span></p></li></ul> 
 <ul><li style="margin-left:2.8em;list-style-type:circle;text-indent:0;"><p>身份验证</p></li></ul> 
 <ul><li style="margin-left:2.8em;list-style-type:circle;text-indent:0;"><p>信息遍历</p></li></ul> 
 <ul><li style="margin-left:2.8em;list-style-type:circle;text-indent:0;"><p>查找航班信息</p></li></ul> 
 <ul><li style="margin-left:2.8em;list-style-type:circle;text-indent:0;"><p>编辑航班信息</p></li></ul> 
 <ul><li style="margin-left:2.8em;list-style-type:circle;text-indent:0;"><p>整理信息顺序</p></li></ul> 
 <ul><li style="margin-left:2.8em;list-style-type:circle;text-indent:0;"><p>预订航班</p></li></ul> 
 <ul><li style="margin-left:1.4em;list-style-type:disc;text-indent:0;"><p><span class="kdocs-bold" style="font-weight:bold;">小结</span></p></li></ul> 
 <hr> 
 <div class="kdocs-line-container" style="display:flex;justify-content:center;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:740px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:66.21622%;height:0;"> 
    <img src="https://images2.imgbox.com/a1/77/wLdZ3EGu_o.jpg" style="margin-left:;display:block;width:740px;margin-top:-66.21622%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <hr> 
 <h3 style="">实现功能：</h3> 
 <p style="text-indent:1.4em;">通过此系统可以实现如下功能：（1）<span class="kdocs-color" style="color:#C21C13;">录入</span>：管理员用户可以录入航班情况，数据存储在一个数据文件中；（2）<span class="kdocs-color" style="color:#C21C13;">遍历</span>：可以查看某一类信息的所有数据如航班信息、订单信息等；（3）<span class="kdocs-color" style="color:#C21C13;">查询</span>：可以查询某个航线的情况，如输入航班号来查询起降时间、起飞抵达城市、航班票价、票价折扣、航班是否满仓；也可以输入起飞抵达城市，查询飞机航班情况；（4）<span class="kdocs-color" style="color:#C21C13;">订票</span>：普通用户可以订票，订单相关数据会存储在数据文件中，客户资料有姓名，证件号，订票数量及航班情况，订单要有编号；（5）<span class="kdocs-color" style="color:#C21C13;">退票</span>： 可退票，退票后修改相关数据文件；（6）<span class="kdocs-color" style="color:#C21C13;">修改</span>：当航班信息改变可以修改航班数据文件。</p> 
 <hr> 
 <h3 style="">整体概述：</h3> 
 <p style="text-indent:1.4em;">本系统为实现<span class="kdocs-color" style="color:#C21C13;">信息的增删改查</span>等功能的应用程序。采用的开发环境为<span class="kdocs-color" style="color:#DB7800;">codeblocks</span>，系统环境为<span class="kdocs-color" style="color:#DB7800;">windows10</span>。本系统使用的数据结构为<span class="kdocs-color" style="color:#C21C13;">结构体数组</span>，相关数据文件的存储方式为使用<span class="kdocs-color" style="color:#C21C13;">txt文件</span>存储。本系统实现对数据文件的修改基本思路为：先读取计算机硬盘中的数据文件内容并将其以结构体数组的方式存入计算机内存，修改内容时首先修改的是结构体数组，修改完毕后将修改后的结构体数组重新写入数据文件（覆盖原文件）。</p> 
 <p style="text-indent:1.4em;">本系统设计思路为，首先通过<span class="kdocs-color" style="color:#C21C13;">身份验证</span>用户的身份，二者所能使用的功能与权限不同；验证通过后，根据具体用户的身份系统会<span class="kdocs-color" style="color:#C21C13;">提供不同的操作界面</span>，用户可以根据自己的实际需求使用具体功能包括<span class="kdocs-color" style="color:#C21C13;">查找航班信息、添加、删除、修改航班信息、整理信息顺序</span>以及<span class="kdocs-color" style="color:#C21C13;">预订、退订航班</span>等等操作。</p> 
 <hr> 
 <h3 style="">系统结构：</h3> 
 <p style="text-indent:1.4em;">经过分析，本系统的整体结构示意如下：</p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:1042px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:59.40499%;height:0;"> 
    <img src="https://images2.imgbox.com/f7/ff/g0pNAhcD_o.png" style="margin-left:;display:block;width:1042px;margin-top:-59.40499%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <hr> 
 <h3 style="">主要功能模块实现：</h3> 
 <p style="text-indent:1.4em;">本系统使用的头文件为以下三个：</p> 
 <pre class="kdocs-cpp"><code class="language-cpp">#include&lt;stdio.h&gt;
#include&lt;string.h&gt;
#include&lt;windows.h&gt;</code></pre> 
 <ol start="1"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h5>身份验证</h5></li></ol> 
 <p style="text-indent:1.4em;">用户在使用本系统时需要输入用户名和密码验证用户身份来取得相应的使用本系统的权限。相关用户信息存放在userinfo.txt中。两类用户分别为<span class="kdocs-color" style="color:#C21C13;">管理员</span>和<span class="kdocs-color" style="color:#C21C13;">普通用户</span>，系统先将使用者输入的用户信息与数据库中的对应信息作匹配，若匹配成功则进一步判断用户类型。若使用者输入的信息和数据库中的所有信息均不匹配，则计数加一且系统会提示用户重新输入，计数达到三时系统会提示使用者无权使用本应用并自动退出程序。</p> 
 <p style="text-indent:1.4em;"><span class="kdocs-color" style="background-color:#FBF5B3;">主要实现代码：</span></p> 
 <pre class="kdocs-cpp"><code class="language-cpp">/*打开用户信息文件并读取所有用户信息*/
if((user_fp=fopen(".\\datafiles\\userinfo.txt","r"))==NULL){
    printf("数据读取失败！请检查“userinfo.txt”是否存在或路径是否正确！");    //若文件位置错误或不存在
    Sleep(1000);
    exit(0);
}
user=user_info_readin(user_fp);        //读取用户信息并将其写入用户信息结构体数组
fclose(user_fp);

/*将使用者输入的用户信息与所有用户信息进行匹配并验证用户类型*/
for(i1=1;i1&lt;=3;i1++){
    printf("用户名：");
    scanf("%s",usn);
    printf("密码：");
    scanf("%s",psw);
    for(i=0;i&lt;user_num;i++){
        if(strcmp(usn,user[i].username)==0&amp;&amp;strcmp(psw,user[i].password)==0){
            un=i;                               //全局变量un，用于在其他函数中匹配用户信息
            printf("登录成功！当前身份：");
            if(user[i].id==1){                  //根据用户信息的id选择跳转到指定界面
                printf("管理员\n");
                Sleep(1000);
                admt_menu();        //调用管理员操作界面函数
            }else if(user[i].id==0){
                printf("普通用户\n");
                Sleep(1000);
                user_menu();        //调用普通用户操作界面函数
            }
            break;
        }
    }
    if(strcmp(usn,user[i].username)==0&amp;&amp;strcmp(psw,user[i].password)==0)
        break;
    if(i1==3){
        printf("验证失败！请先获取用户信息后再登录");    //用户输错三次信息后系统提示
        Sleep(1000);
        exit(0);
    }
    printf("\n登录失败！用户名或密码错误\n您还有%d次输入机会\n",(3-i1));
}</code></pre> 
 <p style="text-indent:1.4em;"><span class="kdocs-color" style="background-color:#FBF5B3;">用户信息文件：</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:869px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:26.352129%;height:0;"> 
    <img src="https://images2.imgbox.com/16/9c/cplb3Fum_o.png" style="margin-left:;display:block;width:869px;margin-top:-26.352129%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""><span class="kdocs-color" style="color:#757575;"><span class="kdocs-italic" style="font-style:italic;">*该部分数据需要使用者在程序之外自行设定</span></span></p> 
 <p style="text-indent:1.4em;"><span class="kdocs-color" style="background-color:#FBF5B3;">运行示例：</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div style="flex-direction:column;max-width:100%;display:flex;width:979px;text-align:center;"> 
   <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:979px;justify-content:center;align-items:center;height:auto;"> 
    <div class="kdocs-img" style="padding-top:52.298264%;height:0;"> 
     <img src="https://images2.imgbox.com/f7/c0/A1dMp6pL_o.png" style="margin-left:;display:block;width:979px;margin-top:-52.298264%;height:auto;"> 
    </div> 
   </div> 
   <p class="kdocs-caption">普通用户—登录成功</p> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div style="flex-direction:column;max-width:100%;display:flex;width:979px;text-align:center;"> 
   <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:979px;justify-content:center;align-items:center;height:auto;"> 
    <div class="kdocs-img" style="padding-top:52.298264%;height:0;"> 
     <img src="https://images2.imgbox.com/40/c7/Raat5RqK_o.png" style="margin-left:;display:block;width:979px;margin-top:-52.298264%;height:auto;"> 
    </div> 
   </div> 
   <p class="kdocs-caption">登录失败</p> 
  </div> 
 </div> 
 <ol start="2"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h5>信息遍历（以航班信息为例）</h5></li></ol> 
 <p style="text-indent:1.4em;">信息管理系统最基础的一个功能就是对于其<span class="kdocs-color" style="color:#C21C13;">主要信息的遍历</span>，本系统为航班信息管理系统，最主要的信息自然就是航班信息。要实现航班信息的遍历，也就是查看全部航班信息，首先需要一个现有航班的<span class="kdocs-color" style="color:#C21C13;">航班信息数据库</span>，本系统使用的<span class="kdocs-color" style="background-color:#FBF5B3;">航班信息数据格式示例如下：</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:869px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:27.157654%;height:0;"> 
    <img src="https://images2.imgbox.com/cf/59/7JMSPCL9_o.png" style="margin-left:;display:block;width:869px;margin-top:-27.157654%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style=""><span class="kdocs-color" style="color:#757575;"><span class="kdocs-italic" style="font-style:italic;">*实际文件没有表头信息，这里为了方便大家理解，展示的是预览文件。另外两个数据文件同理</span></span></p> 
 <p style="text-indent:1.4em;">同时为了在程序中将这些数据展示出来，还需要定义一个<span class="kdocs-color" style="color:#C21C13;">航班信息结构体数组</span><span class="kdocs-color" style="color:#080F17;">（也就是</span><span class="kdocs-color" style="color:#C21C13;">航班信息顺序表</span><span class="kdocs-color" style="color:#080F17;">）</span>来保存每一条航班信息。结构体变量可根据实际的航班信息来定义，本系统定义的<span class="kdocs-color" style="background-color:#FBF5B3;">航班信息结构体格式如下：</span></p> 
 <pre class="kdocs-cpp"><code class="language-cpp">typedef struct Flight_info{         //定义航班信息结构体
    int num;                //航班号
    char time_s[6];
    char time_e[6];         //起降时间
    char city_s[20];
    char city_e[20];        //起落城市
    float price;            //票价
    float discount;         //折扣
    char if_full;           //是否满座
}Flight_info;</code></pre> 
 <p style="text-indent:1.4em;">定义一个<span class="kdocs-color" style="color:#C21C13;"><span class="kdocs-bold" style="font-weight:bold;">全局变量</span></span><span class="kdocs-color" style="color:#080F17;">，</span>指向航班信息结构体数组的<span class="kdocs-color" style="color:#C21C13;">指针</span>：</p> 
 <pre class="kdocs-cpp"><code class="language-cpp">Flight_info *flight;    //定义指向航班信息结构体数组的指针</code></pre> 
 <p style="text-indent:1.4em;">定义读文件函数用于读取数据库中的数据并将其写入该<span class="kdocs-color" style="color:#C21C13;">结构体数组</span>：</p> 
 <pre class="kdocs-cpp"><code class="language-cpp">Flight_info* flight_info_readin(FILE* fp){      //读取航班信息 并将其写入结构体数组
    int i;
    static Flight_info flight[MAX];
    flight_num=0;                             //每次调用函数时重新记录数量
    for(i=0;!feof(fp);i++){
        fscanf(fp,"%d %s %s %s %s %f %f %c",&amp;flight[i].num,&amp;flight[i].time_s,&amp;flight[i].time_e,&amp;flight[i].city_s,&amp;flight[i].city_e,&amp;flight[i].price,&amp;flight[i].discount,&amp;flight[i].if_full);            //读取每一条航班信息数据
        flight_num++;        //令航班信息数加一
    }
    flight_num--;
    return flight;            //返回航班信息结构体数组的首元素地址
}</code></pre> 
 <p style="text-indent:1.4em;">遍历航班信息时，系统会调用相应函数来实现此功能。首先程序需要<span class="kdocs-color" style="color:#C21C13;">打开对应文件</span>，然后再<span class="kdocs-color" style="color:#C21C13;">调用遍历信息的函数</span>，<span class="kdocs-color" style="background-color:#FBF5B3;">主要代码如下：</span></p> 
 <pre class="kdocs-cpp"><code class="language-cpp">/*打开文件并读取数据信息*/
FILE *f_i_fp;           //flight_info_filepointer即航班信息文件指针
if((f_i_fp=fopen(".\\datafiles\\flightinfo.txt","r"))==NULL){    //若数据文件位置错误或不存在
    printf("数据读取失败！请检查“flightinfo.txt”是否存在或路径是否正确！");
    Sleep(1000);
    exit(0);
}
flight=flight_info_readin(f_i_fp);        //调用上面提到的函数将航班信息写入结构体数组
fclose(f_i_fp);

/*遍历航班信息的函数*/
void flight_info_checkall(Flight_info* flight){         //显示全部航班信息
    int i;
    system("cls");
    printf("\n-------------------------------------------全部航班信息---------------------------------------------\n\n");
    printf("航班号    起飞时刻       落地时刻       始发城市            终点城市            票价      折扣      是否满座  \n");
    for(i=0;i&lt;flight_num;i++)
        printf("%-10d%-15s%-15s%-20s%-20s%-10.2f%-10.2f%-10c\n",flight[i].num,flight[i].time_s,flight[i].time_e,flight[i].city_s,flight[i].city_e,flight[i].price,flight[i].discount,flight[i].if_full);
}</code></pre> 
 <p style="text-indent:1.4em;"><span class="kdocs-color" style="background-color:#FBF5B3;">运行示例：</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div style="flex-direction:column;max-width:100%;display:flex;width:979px;text-align:center;"> 
   <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:979px;justify-content:center;align-items:center;height:auto;"> 
    <div class="kdocs-img" style="padding-top:52.298264%;height:0;"> 
     <img src="https://images2.imgbox.com/d6/3b/fF1EHt2D_o.png" style="margin-left:;display:block;width:979px;margin-top:-52.298264%;height:auto;"> 
    </div> 
   </div> 
   <p class="kdocs-caption">遍历航班信息</p> 
  </div> 
 </div> 
 <ol start="3"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h5>查找航班信息</h5></li></ol> 
 <p style="text-indent:1.4em;">不仅是全部信息的遍历，查找指定信息的功能也非常重要。本系统为使用者提供了：指定<span class="kdocs-color" style="color:#C21C13;">航班号查找</span>、指定<span class="kdocs-color" style="color:#C21C13;">始发城市查找</span>和指定<span class="kdocs-color" style="color:#C21C13;">终点城市查找</span>三种查找航班信息的方式。本帖以<span class="kdocs-color" style="color:#C21C13;">指定航班号查找</span>为例解释一下实现查找功能的原理。实现三种查找方式的原理相类似，因此我将其拆分成三个部分，分别为<span class="kdocs-color" style="color:#DB7800;">整体框架</span>、<span class="kdocs-color" style="color:#DB7800;">查找函数</span>和<span class="kdocs-color" style="color:#DB7800;">输出显示函数</span>。在第一个部分，系统接收用户输入的航班号并将其传递给第二部分进行查找匹配，再将查找的<span class="kdocs-color" style="color:#080F17;">结果</span>值传递给第三部分。这样一来，另外两种查找方式只需要在这基础上进行简单的改动就可以实现了。既简化了工作又保证了代码的一致性，便于后续维护。<span class="kdocs-color" style="background-color:#FBF5B3;">主要代码如下：</span></p> 
 <pre class="kdocs-cpp"><code class="language-cpp">/*1.输入航班号查找航班信息并输出*/
printf("请输入要查找的航班号：");
scanf("%d",&amp;n);
f_info=search_num(flight,n);        //将用户输入的航班号作实参，调用按航班号查找航班的函数
if(f_info==NULL){
    printf("未查找到该航班号信息！");
    Sleep(1000);
    break;
}
system("cls");
printf("\n航班号：%d\n",n);
printf("\n-----------------------------------------查找到的航班信息-------------------------------------------\n\n");
printf("+航班号+  起飞时刻       落地时刻       始发城市            终点城市            票价      折扣      是否满座  \n");
result_print(f_info);                           //输出查找结果

/*2.按航班号查找航班的函数*/
Flight_info* search_num(Flight_info* flight,int n){         //按照航班号查找，查找整个信息表
    int i;
    for(i=0;i&lt;flight_num;i++){
        if(n==flight[i].num)
            return &amp;flight[i];        //若查找成功则返回该元素的地址
    }
    return NULL;            //查找失败则返回空地址
}

/*3.输出信息的函数*/
void result_print(Flight_info* f_info){                 //输出显示某航班的详细信息
    if(f_info==NULL)
        return;                                     //若传入的信息地址为空则直接返回，不输出任何内容
    printf("%-10d%-15s%-15s%-20s%-20s%-10.2f%-10.2f%-10c\n",f_info-&gt;num,f_info-&gt;time_s,f_info-&gt;time_e,f_info-&gt;city_s,f_info-&gt;city_e,f_info-&gt;price,f_info-&gt;discount,f_info-&gt;if_full);
}</code></pre> 
 <p style="text-indent:1.4em;"><span class="kdocs-color" style="background-color:#FBF5B3;">运行示例：</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div style="flex-direction:column;max-width:100%;display:flex;width:979px;text-align:center;"> 
   <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:979px;justify-content:center;align-items:center;height:auto;"> 
    <div class="kdocs-img" style="padding-top:52.298264%;height:0;"> 
     <img src="https://images2.imgbox.com/0b/03/Pfar4mWj_o.png" style="margin-left:;display:block;width:979px;margin-top:-52.298264%;height:auto;"> 
    </div> 
   </div> 
   <p class="kdocs-caption">查找失败时</p> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div style="flex-direction:column;max-width:100%;display:flex;width:979px;text-align:center;"> 
   <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:979px;justify-content:center;align-items:center;height:auto;"> 
    <div class="kdocs-img" style="padding-top:52.298264%;height:0;"> 
     <img src="https://images2.imgbox.com/4e/84/t1dSDnNO_o.png" style="margin-left:;display:block;width:979px;margin-top:-52.298264%;height:auto;"> 
    </div> 
   </div> 
   <p class="kdocs-caption">查找成功</p> 
  </div> 
 </div> 
 <ol start="4"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h5>编辑航班信息</h5></li></ol> 
 <p style="text-indent:1.4em;">一个信息管理系统的管理人员，肯定少不了对信息进行编辑的需求。通过本系统对航班信息进行编辑有三种方式，分别为<span class="kdocs-color" style="color:#C21C13;">添加</span>、<span class="kdocs-color" style="color:#C21C13;">删除</span>和<span class="kdocs-color" style="color:#C21C13;">修改航班信息</span>。其中添加信息的操作较为简单，使用fopen函数打开文本文件时，选择打开方式为“<span class="kdocs-color" style="color:#DB7800;">追加</span>（append）”即可在原数据末尾加上新添加的航班信息。实现添加信息的<span class="kdocs-color" style="background-color:#FBF5B3;">主要代码如下：</span></p> 
 <pre class="kdocs-cpp"><code class="language-cpp">n=flight_num;
system("cls");
printf("\n-------------------------------------------添加航班信息---------------------------------------------\n\n");
do{        //这里设置循环语句目的是检测添加的航班号是否符合规定
    printf("1.请输入航班号：");
    scanf("%d",&amp;(flight+n)-&gt;num);
    fg=0;       //用于判断是否需要循环输入
    for(i=0;i&lt;n;i++)        //for循环用于验证航班号
        if(flight[n].num==flight[i].num||flight[n].num==0){
            printf("航班号不符合规则（航班号不可重复或为0）！请重新输入\n");
            fg=1;       //航班号不合要求，继续循环
            break;
        }
}while(fg==1);
printf("2.请输入起飞时刻（格式：23:59）：");
scanf("%s",&amp;(flight+n)-&gt;time_s);
printf("3.请输入落地时间：");
scanf("%s",&amp;(flight+n)-&gt;time_e);
printf("4.请输入始发城市（格式：英文名字，首字母大写）：");
scanf("%s",&amp;(flight+n)-&gt;city_s);
printf("5.请输入终点城市：");
scanf("%s",&amp;(flight+n)-&gt;city_e);
printf("6.请输入航班票价：");
scanf("%f",&amp;(flight+n)-&gt;price);
printf("7.请输入票价折扣：");
scanf("%f",&amp;(flight+n)-&gt;discount);
printf("8.航班是否满座？（Y表示满座，N表示未满）");
getchar();      //输入char之前需要用getchar清除缓存中的换行符
scanf("%c",&amp;(flight+n)-&gt;if_full);
flight_num++;
fprintf(f_i_fp,"%d %s %s %s %s %.2f %.2f %c\n",flight[n].num,flight[n].time_s,flight[n].time_e,flight[n].city_s,flight[n].city_e,flight[n].price,flight[n].discount,flight[n].if_full);        //将待添加的信息追加在数据文件的末尾</code></pre> 
 <p style="text-indent:1.4em;"><span class="kdocs-color" style="background-color:#FBF5B3;">运行示例：</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div style="flex-direction:column;max-width:100%;display:flex;width:979px;text-align:center;"> 
   <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:979px;justify-content:center;align-items:center;height:auto;"> 
    <div class="kdocs-img" style="padding-top:52.298264%;height:0;"> 
     <img src="https://images2.imgbox.com/28/23/d2WcO32s_o.png" style="margin-left:;display:block;width:979px;margin-top:-52.298264%;height:auto;"> 
    </div> 
   </div> 
   <p class="kdocs-caption">添加航班信息</p> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div style="flex-direction:column;max-width:100%;display:flex;width:979px;text-align:center;"> 
   <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:979px;justify-content:center;align-items:center;height:auto;"> 
    <div class="kdocs-img" style="padding-top:52.298264%;height:0;"> 
     <img src="https://images2.imgbox.com/49/21/bO9uHHAB_o.png" style="margin-left:;display:block;width:979px;margin-top:-52.298264%;height:auto;"> 
    </div> 
   </div> 
   <p class="kdocs-caption">重新遍历航班信息，最后一行为新添加的信息</p> 
  </div> 
 </div> 
 <p style="text-indent:1.4em;"><span class="kdocs-color" style="color:#C21C13;">航班信息的删除、修改</span>功能的实现与添加相类似但方法并不相同。本程序实现对信息的删除/修改原理为：先将结构体数组中的指定信息删除/修改，之后通过“<span class="kdocs-color" style="color:#C21C13;">写出</span>（write）”方法打开数据文件并将修改后的信息写入文件。<span class="kdocs-color" style="color:#757575;"><span class="kdocs-italic" style="font-style:italic;">*通过这种方式写入文件，其实是删除原文件的内容后再写入新内容，相当于</span></span><span class="kdocs-color" style="color:#D1A300;"><span class="kdocs-italic" style="font-style:italic;">使用新数据覆盖了原数据</span></span><span class="kdocs-color" style="color:#757575;"><span class="kdocs-italic" style="font-style:italic;">。虽然这并不是一个好的方法，面对大量的数据时，这种方法可能会消耗较多的资源和时间，但遗憾的是笔者水平有限，只能采取这种方式修改数据文件。</span></span>相关代码如下：</p> 
 <p style="text-indent:1.4em;"><span class="kdocs-color" style="color:#C21C13;">将结构体数组的内容写入到数据文件中</span>的函数：</p> 
 <pre class="kdocs-cpp"><code class="language-cpp">void flight_info_writeout(Flight_info* flight){        //将顺序表中的航班信息输出，写入到数据文件中，通过此函数实现对航班信息的修改
    int i;
    FILE* f_i_fp;
    if((f_i_fp=fopen(".\\datafiles\\flightinfo.txt","w"))==NULL){
        printf("数据读取失败！请检查“flightinfo.txt”是否存在或路径是否正确！");
        Sleep(1000);
        exit(0);
    }
    for(i=0;i&lt;flight_num;i++)
        fprintf(f_i_fp,"%d %s %s %s %s %.2f %.2f %c\n",flight[i].num,flight[i].time_s,flight[i].time_e,flight[i].city_s,flight[i].city_e,flight[i].price,flight[i].discount,flight[i].if_full);
    fclose(f_i_fp);
}</code></pre> 
 <p style="text-indent:1.4em;">实现删除功能的<span class="kdocs-color" style="background-color:#FBF5B3;">主要代码：</span></p> 
 <pre class="kdocs-cpp"><code class="language-cpp">for(i=n;i&lt;flight_num-1;i++){        //删除顺序表中的选中信息条目
    (flight+i)-&gt;num=(flight+i+1)-&gt;num;
    strcpy(((flight+i)-&gt;time_s),((flight+i+1)-&gt;time_s));
    strcpy(((flight+i)-&gt;time_e),((flight+i+1)-&gt;time_e));
    strcpy(((flight+i)-&gt;city_s),((flight+i+1)-&gt;city_s));
    strcpy(((flight+i)-&gt;city_e),((flight+i+1)-&gt;city_e));
    (flight+i)-&gt;price=(flight+i+1)-&gt;price;
    (flight+i)-&gt;discount=(flight+i+1)-&gt;discount;
    (flight+i)-&gt;if_full=(flight+i+1)-&gt;if_full;
}            //将待删除信息之后的每一条信息的每一个子信息赋值给前一条信息的对应子信息
flight_num--;                //航班信息数减一
flight_info_writeout(flight);       //将删除信息后的顺序表重新输出，写入到数据文件（覆盖原文件）</code></pre> 
 <p style="text-indent:1.4em;"><span class="kdocs-color" style="background-color:#FBF5B3;">运行示例：</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div style="flex-direction:column;max-width:100%;display:flex;width:979px;text-align:center;"> 
   <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:979px;justify-content:center;align-items:center;height:auto;"> 
    <div class="kdocs-img" style="padding-top:52.298264%;height:0;"> 
     <img src="https://images2.imgbox.com/30/24/NAiDHPZz_o.png" style="margin-left:;display:block;width:979px;margin-top:-52.298264%;height:auto;"> 
    </div> 
   </div> 
   <p class="kdocs-caption">删除航班信息</p> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div style="flex-direction:column;max-width:100%;display:flex;width:979px;text-align:center;"> 
   <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:979px;justify-content:center;align-items:center;height:auto;"> 
    <div class="kdocs-img" style="padding-top:52.298264%;height:0;"> 
     <img src="https://images2.imgbox.com/ea/bc/tFTvKeQv_o.png" style="margin-left:;display:block;width:979px;margin-top:-52.298264%;height:auto;"> 
    </div> 
   </div> 
   <p class="kdocs-caption">删除之后（对比上一张图）</p> 
  </div> 
 </div> 
 <p style="text-indent:1.4em;">实现<span class="kdocs-color" style="color:#C21C13;">航班信息修改</span>的原理与删除相类似，都是先对结构体数组中某一元素的若干成员变量进行改动，然后再将其覆写到原数据文件中以实现对数据的修改和更新。有一点区别在于，修改航班信息往往是<span class="kdocs-color" style="color:#DB7800;">对某一条航班信息的某一个项目</span><span class="kdocs-color" style="color:#080F17;">进行修改</span>，而不是<span class="kdocs-color" style="color:#DB7800;">对于整条信息</span>进行“修改”。例如xx号航班的起飞时刻发生了改变，需要修改；又或者是另一趟航班的票价或折扣发生了变化，需要对其进行修改。在这种情况下我们就可以使用<span class="kdocs-color" style="color:#DB7800;">switch—case</span>函数来选择指定的项目，然后再单独进行修改即可。此外，不同于<span class="kdocs-color" style="color:#DB7800;">普通数组的元素</span>，对于<span class="kdocs-color" style="color:#DB7800;">结构体数组某一元素的成员变量</span>，是可以直接赋值的。<span class="kdocs-color" style="background-color:#FBF5B3;">关键代码如下：</span></p> 
 <pre class="kdocs-cpp"><code class="language-cpp">printf("请输入需要修改的项目的序号：");
scanf("%c",&amp;k1);
switch(k1){
    case '1':
        printf("航班号不可修改！\n");
        break;
    case '2':
        printf("请输入修改后的起飞时刻：");
        scanf("%s",time_s_m);
        strcpy((flight+n)-&gt;time_s,time_s_m);
        break;
    case '3':
        printf("请输入修改后的降地时刻：");
        scanf("%s",time_e_m);
        strcpy((flight+n)-&gt;time_e,time_e_m);
        break;
    case '4':
        printf("请输入修改后的始发城市：");
        scanf("%s",city_s_m);
        strcpy((flight+n)-&gt;city_s,city_s_m);
        break;
    case '5':
        printf("请输入修改后的终点城市：");
        scanf("%s",city_e_m);
        strcpy((flight+n)-&gt;city_e,city_e_m);
        break;
    case '6':
        printf("请输入修改后的航班票价：");
        scanf("%f",&amp;price_m);
        (flight+n)-&gt;price=price_m;
        break;
    case '7':
        printf("请输入修改后的票价折扣：");
        scanf("%f",&amp;discount_m);
        (flight+n)-&gt;discount=discount_m;
        break;
    case '8':
        printf("请输入修改后的满座情况（Y表示满座，N表示未满）：");
        scanf("%c",&amp;if_full_m);
        (flight+n)-&gt;if_full=if_full_m;
        break;
    default:
        printf("需要正确选择项目对应序号！");
        break;
}</code></pre> 
 <p style="text-indent:1.4em;"><span class="kdocs-color" style="background-color:#FBF5B3;">运行示例：</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div style="flex-direction:column;max-width:100%;display:flex;width:979px;text-align:center;"> 
   <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:979px;justify-content:center;align-items:center;height:auto;"> 
    <div class="kdocs-img" style="padding-top:52.298264%;height:0;"> 
     <img src="https://images2.imgbox.com/00/cf/QjxFT5d7_o.png" style="margin-left:;display:block;width:979px;margin-top:-52.298264%;height:auto;"> 
    </div> 
   </div> 
   <p class="kdocs-caption">修改航班信息</p> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div style="flex-direction:column;max-width:100%;display:flex;width:979px;text-align:center;"> 
   <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:979px;justify-content:center;align-items:center;height:auto;"> 
    <div class="kdocs-img" style="padding-top:52.298264%;height:0;"> 
     <img src="https://images2.imgbox.com/e5/2d/CYl1vsBt_o.png" style="margin-left:;display:block;width:979px;margin-top:-52.298264%;height:auto;"> 
    </div> 
   </div> 
   <p class="kdocs-caption">修改信息之后（对比上一张图）</p> 
  </div> 
 </div> 
 <ol start="5"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h5>整理信息顺序</h5></li></ol> 
 <p style="text-indent:1.4em;">本系统提供了三种对航班信息进行排序的方式，分别为<span class="kdocs-color" style="color:#C21C13;">按航班号升序排序，按起点城市名升序排序和按终点城市名升序排序</span>。第一、三种排序采用的是简单排序之<span class="kdocs-color" style="color:#DB7800;">冒泡排序法</span>，第二种排序采用的是<span class="kdocs-color" style="color:#DB7800;">快速排序法</span>，在这里以第二种排序为例简单解释一下本系统实现该功能的原理。快速排序的大致思路为：<span class="kdocs-color" style="color:#080F17;"><span class="kdocs-bold" style="font-weight:bold;">在待排序序列（如一个数组r[n]）中选择一个记录（通常选择首元素r[0]）作为中间变量key，然后开始排序，把所有小于中间变量key的记录通过交换置于其左边称作左子序列，所有大于中间变量key的记录置于其右边称作右子序列，然后再分别以左子序列和右子序列为新的待排序序列，重复以上流程，也就是递归，直到不再产生新的子序列，排序完毕。</span></span><span class="kdocs-color" style="background-color:#FBF5B3;">以下为实现该功能的主要代码：</span></p> 
 <pre class="kdocs-cpp"><code class="language-cpp">void sort_city_s_up(int begin,int end){         //按始发城市名升序排序，快速排序法
    void flight_info_swap(int,int);
    if(begin&gt;=end)
        return;
    char key[20];            //定义key作为中间变量
    int left,right;
    left=begin;
    right=end;
    strcpy(key,(flight+begin)-&gt;city_s);     //将起始值赋给中间变量key
    while(end&gt;begin){
        while(strcmp((flight+end)-&gt;city_s,key)&gt;=0&amp;&amp;end&gt;begin)
            end--;
        flight_info_swap(begin,end);
        while(strcmp((flight+begin)-&gt;city_s,key)&lt;=0&amp;&amp;end&gt;begin)
            begin++;
        flight_info_swap(end,begin);        //循环完毕后将两条航班信息相交换
    }
    sort_city_s_up(left,begin-1);        //左边的子数组继续进行排序
    sort_city_s_up(end+1,right);        //右边的同理
    flight_info_writeout(flight);        //排序完成后将数据覆写入数据文件
    return;
}</code></pre> 
 <p style="text-indent:1.4em;"><span class="kdocs-color" style="background-color:#FBF5B3;">运行示例：</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div style="flex-direction:column;max-width:100%;display:flex;width:979px;text-align:center;"> 
   <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:979px;justify-content:center;align-items:center;height:auto;"> 
    <div class="kdocs-img" style="padding-top:52.298264%;height:0;"> 
     <img src="https://images2.imgbox.com/c0/5e/Ei6KoSaK_o.png" style="margin-left:;display:block;width:979px;margin-top:-52.298264%;height:auto;"> 
    </div> 
   </div> 
   <p class="kdocs-caption">按起点城市名升序排序</p> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div style="flex-direction:column;max-width:100%;display:flex;width:979px;text-align:center;"> 
   <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:979px;justify-content:center;align-items:center;height:auto;"> 
    <div class="kdocs-img" style="padding-top:52.298264%;height:0;"> 
     <img src="https://images2.imgbox.com/52/6b/cdlmJm9b_o.png" style="margin-left:;display:block;width:979px;margin-top:-52.298264%;height:auto;"> 
    </div> 
   </div> 
   <p class="kdocs-caption">排序完成之后（对比上一张图）</p> 
  </div> 
 </div> 
 <ol start="6"><li style="margin-left:1.4em;list-style-type:decimal;text-indent:0;"><h5>预订航班</h5></li></ol> 
 <p style="text-indent:1.4em;"><span class="kdocs-color" style="color:#C21C13;">预定航班</span>功能的实现原理与<span class="kdocs-color" style="color:#C21C13;">添加航班信息</span>功能的实现原理相类似。首先需要创建一个数据文件用于储存用户的<span class="kdocs-color" style="color:#DB7800;">订单信息</span>（用户执行预订航班的操作后将产生对应订单）。<span class="kdocs-color" style="background-color:#FBF5B3;">订单信息数据格式示例如下：</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:869px;justify-content:center;align-items:center;height:auto;"> 
   <div class="kdocs-img" style="padding-top:23.590336%;height:0;"> 
    <img src="https://images2.imgbox.com/32/ba/yJykkXmX_o.png" style="margin-left:;display:block;width:869px;margin-top:-23.590336%;height:auto;"> 
   </div> 
  </div> 
 </div> 
 <p style="text-indent:1.4em;">但预订航班与添加航班信息<span class="kdocs-bold" style="font-weight:bold;">不同的</span>地方在于，用户首先需要<span class="kdocs-color" style="color:#DB7800;">根据自己的需求搜索</span>对应的航班，然后从系统<span class="kdocs-color" style="color:#DB7800;">展示出的符合条件的航班</span>中选择符合需求的一个航班，通过<span class="kdocs-color" style="color:#C21C13;"><span class="kdocs-bold" style="font-weight:bold;">验证</span></span>后才会<span class="kdocs-color" style="color:#DB7800;">生成对应的订单信息</span>并将其<span class="kdocs-color" style="color:#DB7800;">追加在订单信息文件</span>的末尾。结合实际情况，本系统设计为可以通过两种方式预订航班，一种是<span class="kdocs-color" style="color:#C21C13;">指定起点城市</span><span class="kdocs-color" style="color:#080F17;">搜索航班</span>，另一种是<span class="kdocs-color" style="color:#C21C13;">指定终点城市</span>搜索航班。<span class="kdocs-color" style="color:#757575;"><span class="kdocs-italic" style="font-style:italic;">*由于本系统使用的数据库量较小所以只用这两种方式就可以满足搜索需求，若使用较大的数据库则需要编写同时指定起点和终点城市的搜索功能。</span></span>用户指定城市名称后，系统会在<span class="kdocs-color" style="color:#C21C13;">航班信息顺序表</span>中查找匹配的航班信息，然后将结果输出在屏幕上供用户参考选择。<span class="kdocs-color" style="color:#C21C13;">验证函数</span>存在的意义是，对于预订航班这个功能来说，用户执行该操作后可能会产生多种情形，例如：用户成功预订该航班；用户已经预订过该航班（不可重复预订）；该航班已经满座等等。而这些情形又都是不可忽略的，如果忽略了哪怕只有其中一种，也可能会产生严重的<span class="kdocs-color" style="color:#C21C13;">逻辑错误</span>。因此验证函数必不可少。<span class="kdocs-color" style="background-color:#FBF5B3;">以下为验证函数的主要代码：</span></p> 
 <pre class="kdocs-cpp"><code class="language-cpp">if(select_num==0){              //若用户输入0则返回主界面
    fg=-4;
    return fg;
}
for(k=0;k&lt;amount;k++){
    if(select_num==*select[k])
        fg2++;
    for(i=0;i&lt;order_num;i++)
        if(select_num==order[i].f_num&amp;&amp;strcmp(user[un].username,order[i].username)==0&amp;&amp;fg2!=0){      //若用户重复预订
            fg=-5;
            return fg;
        }
}
for(i=0;i&lt;amount;i++){
    Flight_info *f_info2;
    if(select_num==*select[i]&amp;&amp;(f_info2=search_num(flight,select_num))!=NULL){          //将用户输入的航班号与目标信息表列中的航班信息逐条对比
        if(f_info2-&gt;if_full=='Y'){
            fg=-1;
            break;
        }else{
            printf("┌----------------------------------┐\n");
            printf("├ 是否确认预订该航班？             ┤\n");
            printf("├----------------------------------┤\n");
            printf("├ 选择操作：                       ┤\n");
            printf("├ 1.确认      2.取消并选择其他航班 ┤\n");
            printf("├ 3.我不想预订航班了，返回主界面   ┤\n");
            printf("└----------------------------------┘\n");
            getchar();
            switch(getchar()){
                case '1':
                    printf("请输入您的证件号验证身份：");
                    scanf("%s",u_id_num);
                    if(strcmp(u_id_num,user[un].id_num)==0){
                        order_info_append(user[un].username,select_num);
                        order_num++;
                        fg=1;
                        return fg;        //用户成功预订
                    }else{
                        fg=-2;            //证件号输入错误
                        return fg;
                    }
                case '2':
                    fg=-3;        //用户选择其他航班
                    break;
                default:
                    fg=-4;        //用户取消了订单
                    return fg;
            }
        }
    }
}
return fg;</code></pre> 
 <p style="text-indent:1.4em;"><span class="kdocs-color" style="background-color:#FBF5B3;">运行示例：</span></p> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div style="flex-direction:column;max-width:100%;display:flex;width:979px;text-align:center;"> 
   <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:979px;justify-content:center;align-items:center;height:auto;"> 
    <div class="kdocs-img" style="padding-top:37.997955%;height:0;"> 
     <img src="https://images2.imgbox.com/45/75/EBbZCG57_o.png" style="margin-left:;display:block;width:979px;margin-top:-37.997955%;height:auto;"> 
    </div> 
   </div> 
   <p class="kdocs-caption">原始订单数据</p> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div style="flex-direction:column;max-width:100%;display:flex;width:979px;text-align:center;"> 
   <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:979px;justify-content:center;align-items:center;height:auto;"> 
    <div class="kdocs-img" style="padding-top:73.54443%;height:0;"> 
     <img src="https://images2.imgbox.com/7e/fd/LwwGd9rV_o.png" style="margin-left:;display:block;width:979px;margin-top:-73.54443%;height:auto;"> 
    </div> 
   </div> 
   <p class="kdocs-caption">预订航班时可能出现的问题</p> 
  </div> 
 </div> 
 <div class="kdocs-line-container" style="display:flex;"> 
  <div style="flex-direction:column;max-width:100%;display:flex;width:979px;text-align:center;"> 
   <div class="kdocs-img" style="flex-direction:column;max-width:100%;display:flex;width:979px;justify-content:center;align-items:center;height:auto;"> 
    <div class="kdocs-img" style="padding-top:36.87436%;height:0;"> 
     <img src="https://images2.imgbox.com/2a/27/j6yUIuhw_o.png" style="margin-left:;display:block;width:979px;margin-top:-36.87436%;height:auto;"> 
    </div> 
   </div> 
   <p class="kdocs-caption">订单信息已追加</p> 
  </div> 
 </div> 
 <p style="text-indent:1.4em;">退订航班的功能与删除航班信息的原理一致，在此不再赘述。</p> 
 <hr> 
 <h3 style="">小结</h3> 
 <p style="text-indent:1.4em;">以上便是关于C语言课程设计——航班信息管理系统的全部内容。由于笔者水平有限，若相关知识点出现错误，或对内容有疑问，欢迎在评论区留言。需要程序源码及1.5w+字的设计报告也可以私信我。最后，感谢您的阅读，如果本文对您有帮助，希望能留下个小小的赞。</p> 
</div>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/0c2e1a240b474a7dec89200381710964/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Java8新特性：Stream流的使用（高效操作集合类）</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/407435b8a5c9a29bf28adf7fb28a675e/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">文件系统概念</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>