<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>跨站点共享Session解决方案、单点登录解决方案（ASP.NET 2.0版本） - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="跨站点共享Session解决方案、单点登录解决方案（ASP.NET 2.0版本）" />
<meta property="og:description" content="我们在进行Web开发时经常会用到Session，用它去标识不同的会话，那么涉及到跨站点的时候如何实现Session共享呢？ 通常的解决方案有：使用数据库、使用Cookies做中间桥等等。
下面介绍一种基于ASP.NET 2.0的，通过序列化和反序列化机制实现的一种解决方案。
首先看一下通常的服务器集群的网络拓扑结构：
利用序列化机制实现Session共享的原理：
1、Web Server 1的应用程序序列化Session信息为文本值（可以是Binary或Soap格式）
2、将序列化后的值写入文件，保存到File Server上
3、Web Server 2 对保存在File Server上的Session序列化后的值进行反序列化
4、在Web Server 2上重新构建Session值
下面我们来详细看看实现代码，分以下几个步骤：
1、创建一个类库工程：ShareSession
引入以下的命名空间：
System.configuration System.Runtime.Serialization.Formatters.Soap System.Web
2、创建一个类：SessionEntity
代码如下：
using System; using System.Collections.Generic; using System.Text; using System.Collections; namespace ShareSession ... { /**//* ***************************** * * Author : Xiaojun Liu * Create Date : 2007.11.09 * Description : * * ***************************** */ [Serializable] public class SessionEntity ...{ [NonSerialized] public string AUTH_GUID = &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/1e1a7dd6974045908069adbd8728f07a/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2008-07-08T16:52:00+08:00" />
<meta property="article:modified_time" content="2008-07-08T16:52:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">跨站点共享Session解决方案、单点登录解决方案（ASP.NET 2.0版本）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    我们在进行Web开发时经常会用到Session，用它去标识不同的会话，那么涉及到跨站点的时候如何实现Session共享呢？ 
<p> 通常的解决方案有：使用数据库、使用Cookies做中间桥等等。</p> 
<p>下面介绍一种基于ASP.NET 2.0的，通过序列化和反序列化机制实现的一种解决方案。</p> 
<p>首先看一下通常的服务器集群的网络拓扑结构：</p> 
<p> <img alt="" src="https://images2.imgbox.com/74/ee/LtD8KMLW_o.jpg" border="1"> </p> 
<p>利用序列化机制实现Session共享的原理：</p> 
<p>1、Web Server 1的应用程序序列化Session信息为文本值（可以是Binary或Soap格式）</p> 
<p>2、将序列化后的值写入文件，保存到File Server上</p> 
<p>3、Web Server 2 对保存在File Server上的Session序列化后的值进行反序列化</p> 
<p>4、在Web Server 2上重新构建Session值</p> 
<p> <strong>下面我们来详细看看实现代码，分以下几个步骤：</strong></p> 
<p> 1、创建一个类库工程：ShareSession</p> 
<p> 引入以下的命名空间：</p> 
<p> System.configuration  System.Runtime.Serialization.Formatters.Soap  System.Web</p> 
<p>2、创建一个类：SessionEntity</p> 
<p>代码如下：</p> 
<div style="BORDER-RIGHT: windowtext 0.5pt solid; PADDING-RIGHT: 5.4pt; BORDER-TOP: windowtext 0.5pt solid; PADDING-LEFT: 5.4pt; BACKGROUND: #e6e6e6; PADDING-BOTTOM: 4px; BORDER-LEFT: windowtext 0.5pt solid; WIDTH: 95%; WORD-BREAK: break-all; PADDING-TOP: 4px; BORDER-BOTTOM: windowtext 0.5pt solid"> 
 <div> 
  <img alt="" src="https://images2.imgbox.com/36/72/kPKErXua_o.gif" align="top"> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System; <img alt="" src="https://images2.imgbox.com/8e/45/Iz7KkWSW_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Collections.Generic; <img alt="" src="https://images2.imgbox.com/fd/f3/gi0Du63t_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Text; <img alt="" src="https://images2.imgbox.com/c3/c0/qzljyuBT_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Collections; <img alt="" src="https://images2.imgbox.com/89/29/MLAzMzuA_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/f6/b6/OMOldDCb_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">namespace</span> 
  <span style="COLOR: #000000"> ShareSession <img id="_117_847_Open_Image" alt="" src="https://images2.imgbox.com/39/16/b6pR64Z2_o.gif" align="top"><img id="_117_847_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/97/eb/fd9JggEn_o.gif" align="top"></span> 
  <span id="_117_847_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span> 
  <span id="_117_847_Open_Text"><span style="COLOR: #000000">{ <img id="_123_309_Open_Image" style="DISPLAY: inline" alt="" src="https://images2.imgbox.com/3b/96/95h2b2DQ_o.gif" align="top"><img id="_123_309_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/3e/99/kuED710Q_o.gif" align="top">    </span><span id="_123_309_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">/**/</span><span id="_123_309_Open_Text" style="DISPLAY: inline"><span style="COLOR: #008000">/*</span><span style="COLOR: #008000"> ***************************** <img alt="" src="https://images2.imgbox.com/f8/9b/pGJscfIP_o.gif" align="top">     *  <img alt="" src="https://images2.imgbox.com/34/93/BVICcCi8_o.gif" align="top">     *  Author      :    Xiaojun Liu <img alt="" src="https://images2.imgbox.com/08/26/61trHn7K_o.gif" align="top">     *  Create Date :    2007.11.09 <img alt="" src="https://images2.imgbox.com/7a/a8/Gh8Evp6S_o.gif" align="top">     *  Description : <img alt="" src="https://images2.imgbox.com/52/a2/VQVLsKRw_o.gif" align="top">     *  <img alt="" src="https://images2.imgbox.com/6b/12/tYaGIy1g_o.gif" align="top">     * ***************************** <img alt="" src="https://images2.imgbox.com/91/13/MfL8mUgK_o.gif" align="top">    </span><span style="COLOR: #008000">*/</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/9c/94/ANAXOpCg_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/b6/b8/KmJCTpH3_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/a1/b5/Lva4NTCi_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/2c/78/COlgba4L_o.gif" align="top">    [Serializable] <img alt="" src="https://images2.imgbox.com/1a/26/YEFDD7ob_o.gif" align="top">    </span><span style="COLOR: #0000ff">public</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">class</span><span style="COLOR: #000000"> SessionEntity <img id="_368_841_Open_Image" style="DISPLAY: inline" alt="" src="https://images2.imgbox.com/ca/8e/2Pjhdc7e_o.gif" align="top"><img id="_368_841_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/e6/e7/Hu4Ux9uS_o.gif" align="top">    </span><span id="_368_841_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_368_841_Open_Text" style="DISPLAY: inline"><span style="COLOR: #000000">{              <img alt="" src="https://images2.imgbox.com/5c/2b/r4wXhJs9_o.gif" align="top">        [NonSerialized] <img alt="" src="https://images2.imgbox.com/6c/ac/F3qbm3N3_o.gif" align="top">        </span><span style="COLOR: #0000ff">public</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">string</span><span style="COLOR: #000000"> AUTH_GUID </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> </span><span style="COLOR: #000000">""</span><span style="COLOR: #000000">; <img alt="" src="https://images2.imgbox.com/28/49/MjQ178Eb_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/56/0a/LZohxqXh_o.gif" align="top">        </span><span style="COLOR: #0000ff">private</span><span style="COLOR: #000000"> Hashtable _HtShareSession; <img alt="" src="https://images2.imgbox.com/fc/b7/li34zPBM_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/a6/6d/YxstFj8A_o.gif" align="top">        </span><span style="COLOR: #0000ff">public</span><span style="COLOR: #000000"> Hashtable HtShareSession <img id="_538_727_Open_Image" alt="" src="https://images2.imgbox.com/60/ea/ZrzMu0nU_o.gif" align="top"><img id="_538_727_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/38/86/ntEy1pJw_o.gif" align="top">        </span><span id="_538_727_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_538_727_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/2b/8d/2TCJqQWZ_o.gif" align="top">            </span><span style="COLOR: #0000ff">get</span><span style="COLOR: #000000"> <img id="_568_627_Open_Image" alt="" src="https://images2.imgbox.com/06/e0/ZpVQPRPe_o.gif" align="top"><img id="_568_627_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/cd/93/pMUq6SFY_o.gif" align="top">            </span><span id="_568_627_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_568_627_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/1c/f4/ihH8SqWo_o.gif" align="top">                </span><span style="COLOR: #0000ff">return</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">this</span><span style="COLOR: #000000">._HtShareSession; <img alt="" src="https://images2.imgbox.com/b1/6e/WnH2OoYO_o.gif" align="top">            }</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/4c/4c/Iy3FC0fj_o.gif" align="top">            </span><span style="COLOR: #0000ff">set</span><span style="COLOR: #000000"> <img id="_657_717_Open_Image" alt="" src="https://images2.imgbox.com/a9/4f/TpkU8DrC_o.gif" align="top"><img id="_657_717_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/8b/e1/CbbQmfP9_o.gif" align="top">            </span><span id="_657_717_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_657_717_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/8e/94/MuXhSpEn_o.gif" align="top">                </span><span style="COLOR: #0000ff">this</span><span style="COLOR: #000000">._HtShareSession </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> value; <img alt="" src="https://images2.imgbox.com/6a/78/5C7clpm8_o.gif" align="top">            }</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/74/43/2BXwDlWb_o.gif" align="top">        }</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/12/fb/tea5W68G_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/c1/d4/usEJPCFH_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/57/77/V1iFjVk0_o.gif" align="top">        </span><span style="COLOR: #0000ff">public</span><span style="COLOR: #000000"> SessionEntity(</span><span style="COLOR: #0000ff">string</span><span style="COLOR: #000000"> guid) <img id="_781_826_Open_Image" alt="" src="https://images2.imgbox.com/6c/42/ArkG3eY7_o.gif" align="top"><img id="_781_826_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/52/90/YdssiSwy_o.gif" align="top">        </span><span id="_781_826_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_781_826_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/ae/f2/1JneRUmL_o.gif" align="top">            </span><span style="COLOR: #0000ff">this</span><span style="COLOR: #000000">.AUTH_GUID </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> guid; <img alt="" src="https://images2.imgbox.com/f7/75/rMajkUDn_o.gif" align="top">        }</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/50/ab/iYmV9kHL_o.gif" align="top">         <img alt="" src="https://images2.imgbox.com/33/e1/FaPMq2h5_o.gif" align="top">    }</span></span><span style="COLOR: #008000">// <img alt="" src="https://images2.imgbox.com/9c/8d/mgvl4w9t_o.gif" align="top"></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/d4/47/hm0cGlP8_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/d6/0a/7Z45RoFP_o.gif" align="top">}</span></span> 
  <span style="COLOR: #008000">//</span> 
  <span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/b5/fe/Rj4TTWFX_o.gif" align="top"></span> 
 </div> 
</div> 
<p> </p> 
<p>3、创建一个序列化、反序列化操作的类：ShareSessionFormatter</p> 
<p>代码如下：</p> 
<div style="BORDER-RIGHT: windowtext 0.5pt solid; PADDING-RIGHT: 5.4pt; BORDER-TOP: windowtext 0.5pt solid; PADDING-LEFT: 5.4pt; BACKGROUND: #e6e6e6; PADDING-BOTTOM: 4px; BORDER-LEFT: windowtext 0.5pt solid; WIDTH: 95%; WORD-BREAK: break-all; PADDING-TOP: 4px; BORDER-BOTTOM: windowtext 0.5pt solid"> 
 <div> 
  <img alt="" src="https://images2.imgbox.com/b1/5c/QR4BERrC_o.gif" align="top"> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System; <img alt="" src="https://images2.imgbox.com/b9/cb/H057UOwA_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Web; <img alt="" src="https://images2.imgbox.com/77/23/nDuONpke_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Data; <img alt="" src="https://images2.imgbox.com/80/4d/KmQqS9TW_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Collections.Generic; <img alt="" src="https://images2.imgbox.com/cd/c6/aUBJl2ce_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Text; <img alt="" src="https://images2.imgbox.com/b1/60/4Mv4xykU_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Runtime.Serialization.Formatters.Soap; <img alt="" src="https://images2.imgbox.com/b9/7f/4g2Hkxag_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Runtime.Serialization.Formatters.Binary; <img alt="" src="https://images2.imgbox.com/c9/7c/ngb0tkNo_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Collections; <img alt="" src="https://images2.imgbox.com/55/65/fICIn4Wm_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.IO; <img alt="" src="https://images2.imgbox.com/1e/03/m85V03H1_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/aa/e6/6SWJhZyR_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">namespace</span> 
  <span style="COLOR: #000000"> ShareSession <img id="_277_5469_Open_Image" alt="" src="https://images2.imgbox.com/bd/c5/2gDDrbIC_o.gif" align="top"><img id="_277_5469_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/94/18/2NqEqhcy_o.gif" align="top"></span> 
  <span id="_277_5469_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span> 
  <span id="_277_5469_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/54/7b/I0yByQXF_o.gif" align="top"> <img id="_284_470_Open_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/80/54/AxmUG2mS_o.gif" align="top"><img id="_284_470_Closed_Image" style="DISPLAY: inline" alt="" src="https://images2.imgbox.com/3f/f6/R7amzW2y_o.gif" align="top">    </span><span id="_284_470_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: inline; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">/**/</span><span id="_284_470_Open_Text" style="DISPLAY: none"><span style="COLOR: #008000">/*</span><span style="COLOR: #008000"> ***************************** <img alt="" src="https://images2.imgbox.com/8d/c4/FjXfaCNS_o.gif" align="top">     *  <img alt="" src="https://images2.imgbox.com/b8/eb/iJFt1p4Y_o.gif" align="top">     *  Author      :    Xiaojun Liu <img alt="" src="https://images2.imgbox.com/73/96/ZPBCLs6S_o.gif" align="top">     *  Create Date :    2007.11.09 <img alt="" src="https://images2.imgbox.com/a9/cc/49gg7mc0_o.gif" align="top">     *  Description : <img alt="" src="https://images2.imgbox.com/18/8d/SAbsggyL_o.gif" align="top">     *  <img alt="" src="https://images2.imgbox.com/fe/a4/iARJGR33_o.gif" align="top">     * ***************************** <img alt="" src="https://images2.imgbox.com/cd/b8/DZlFGZuq_o.gif" align="top">    </span><span style="COLOR: #008000">*/</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/fb/fe/FeJWj1r4_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/b1/55/NPEp2WC3_o.gif" align="top"> <img id="_478_525_Open_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/59/71/NNVOosbs_o.gif" align="top"><img id="_478_525_Closed_Image" style="DISPLAY: inline" alt="" src="https://images2.imgbox.com/e3/2b/xZ6bNQUg_o.gif" align="top">    </span><span id="_478_525_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: inline; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">/**/</span><span id="_478_525_Open_Text" style="DISPLAY: none"><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;summary&gt;</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/74/ff/gwQpyIwd_o.gif" align="top">    </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> 格式化操作器 <img alt="" src="https://images2.imgbox.com/35/aa/aJskzeSg_o.gif" align="top">    </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;/summary&gt;</span><span style="COLOR: #808080"></span></span> <img alt="" src="https://images2.imgbox.com/dd/72/bZyLCLZd_o.gif" align="top"><span style="COLOR: #000000">    </span><span style="COLOR: #0000ff">public</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">class</span><span style="COLOR: #000000"> ShareSessionFormatter <img id="_569_5465_Open_Image" style="DISPLAY: inline" alt="" src="https://images2.imgbox.com/6b/62/nGzFHWhT_o.gif" align="top"><img id="_569_5465_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/f9/80/CfIZxGfc_o.gif" align="top">    </span><span id="_569_5465_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_569_5465_Open_Text" style="DISPLAY: inline"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/95/14/8TRqczp9_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/9b/d6/sEodjk8Q_o.gif" align="top">        </span><span style="COLOR: #0000ff">private</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">static</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">string</span><span style="COLOR: #000000"> _ShareSessionPath </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> System.Configuration.ConfigurationManager.AppSettings[</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">ShareSessionPath</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">].ToString(); <img alt="" src="https://images2.imgbox.com/cf/0d/fF4akR6s_o.gif" align="top">         <img id="_725_782_Open_Image" alt="" src="https://images2.imgbox.com/9c/1b/qodtdsz2_o.gif" align="top"><img id="_725_782_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/b8/ec/Z2vdpJN1_o.gif" align="top">        </span><span id="_725_782_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">/**/</span><span id="_725_782_Open_Text"><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;summary&gt;</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/40/5f/SEK4vhmC_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> 序列化格式器类型 <img alt="" src="https://images2.imgbox.com/07/6e/PWQ5ggqn_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;/summary&gt;</span><span style="COLOR: #808080"></span></span> <img alt="" src="https://images2.imgbox.com/6d/79/Je9v50qR_o.gif" align="top"><span style="COLOR: #000000">        </span><span style="COLOR: #0000ff">public</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">enum</span><span style="COLOR: #000000"> FormatterType <img id="_825_872_Open_Image" alt="" src="https://images2.imgbox.com/f5/bd/VmvXbYc1_o.gif" align="top"><img id="_825_872_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/b7/82/CXjMbh5B_o.gif" align="top">        </span><span id="_825_872_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_825_872_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/8b/9d/ZzRufV6l_o.gif" align="top">            Binary, <img alt="" src="https://images2.imgbox.com/0f/f9/pWZ7LMPk_o.gif" align="top">            Soap <img alt="" src="https://images2.imgbox.com/9a/0a/39IjENhi_o.gif" align="top">        }</span></span><span style="COLOR: #000000">; <img alt="" src="https://images2.imgbox.com/27/cd/jPmWgs7K_o.gif" align="top"> <img id="_884_989_Open_Image" alt="" src="https://images2.imgbox.com/0d/fe/gLx2UlQn_o.gif" align="top"><img id="_884_989_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/e9/13/krs1iYgT_o.gif" align="top">        </span><span id="_884_989_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">/**/</span><span id="_884_989_Open_Text"><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;summary&gt;</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/ca/45/k2ovO7AM_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> 执行序列化 <img alt="" src="https://images2.imgbox.com/37/b8/WG877mDJ_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;/summary&gt;</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/38/81/9bK13zKM_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;param name="formatterType"&gt;</span><span style="COLOR: #008000">类型</span><span style="COLOR: #808080">&lt;/param&gt;</span><span style="COLOR: #808080"></span></span> <img alt="" src="https://images2.imgbox.com/24/db/qc3yubq8_o.gif" align="top"><span style="COLOR: #000000">        </span><span style="COLOR: #0000ff">public</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">static</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">void</span><span style="COLOR: #000000"> Serialize(FormatterType formatterType) <img id="_1064_1876_Open_Image" alt="" src="https://images2.imgbox.com/16/09/mqFRjZ1I_o.gif" align="top"><img id="_1064_1876_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/7f/bf/JnB5sqcP_o.gif" align="top">        </span><span id="_1064_1876_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_1064_1876_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/94/39/q7pmMmQ6_o.gif" align="top">            </span><span style="COLOR: #0000ff">if</span><span style="COLOR: #000000"> (HttpContext.Current.Session[</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">AUTH_GUID</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">] </span><span style="COLOR: #000000">==</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">null</span><span style="COLOR: #000000">) <img id="_1144_1244_Open_Image" alt="" src="https://images2.imgbox.com/9b/6e/KSaqpkJv_o.gif" align="top"><img id="_1144_1244_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/86/0c/qb0nCV0t_o.gif" align="top">            </span><span id="_1144_1244_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_1144_1244_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/96/ae/OgqzR2Pz_o.gif" align="top">                HttpContext.Current.Session[</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">AUTH_GUID</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">] </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> Guid.NewGuid().ToString(); <img alt="" src="https://images2.imgbox.com/af/3d/SpiCGKA2_o.gif" align="top">            }</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/1f/32/3Ds3q3CO_o.gif" align="top">            Hashtable ht </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">new</span><span style="COLOR: #000000"> Hashtable(); <img alt="" src="https://images2.imgbox.com/45/e3/i9qtsbbx_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/c8/45/zjYULddd_o.gif" align="top">            </span><span style="COLOR: #008000">//</span><span style="COLOR: #008000">遍历Session           </span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/da/7a/GL6ELnxF_o.gif" align="top"></span><span style="COLOR: #000000">            </span><span style="COLOR: #0000ff">foreach</span><span style="COLOR: #000000"> (</span><span style="COLOR: #0000ff">string</span><span style="COLOR: #000000"> key </span><span style="COLOR: #0000ff">in</span><span style="COLOR: #000000"> HttpContext.Current.Session.Contents.Keys) <img id="_1416_1493_Open_Image" alt="" src="https://images2.imgbox.com/fa/81/NCWqH4Pq_o.gif" align="top"><img id="_1416_1493_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/4e/98/JWksBauR_o.gif" align="top">            </span><span id="_1416_1493_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_1416_1493_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/02/7f/y1eg7Vuy_o.gif" align="top">                ht.Add(key, HttpContext.Current.Session[key]); <img alt="" src="https://images2.imgbox.com/db/52/MwUjTs4K_o.gif" align="top">            }</span></span><span style="COLOR: #000000">                 <img alt="" src="https://images2.imgbox.com/5f/b7/SwwJTQ2O_o.gif" align="top"> <img id="_1524_1533_Open_Image" alt="" src="https://images2.imgbox.com/08/2e/WxDUl1Op_o.gif" align="top"><img id="_1524_1533_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/a6/23/Nr5WOz0q_o.gif" align="top">            </span><span id="_1524_1533_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">/**/</span><span id="_1524_1533_Open_Text"><span style="COLOR: #808080">///</span><span style="COLOR: #008000">/执行序列化</span><span style="COLOR: #808080"></span></span> <img alt="" src="https://images2.imgbox.com/4e/68/0rpF9Ahg_o.gif" align="top"><span style="COLOR: #000000">            </span><span style="COLOR: #0000ff">switch</span><span style="COLOR: #000000"> (formatterType) <img id="_1581_1865_Open_Image" alt="" src="https://images2.imgbox.com/93/9e/xPhCuKZj_o.gif" align="top"><img id="_1581_1865_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/d7/57/mAaBx8K4_o.gif" align="top">            </span><span id="_1581_1865_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_1581_1865_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/2d/1b/XXtcAFYH_o.gif" align="top">                </span><span style="COLOR: #0000ff">case</span><span style="COLOR: #000000"> FormatterType.Binary: <img alt="" src="https://images2.imgbox.com/26/30/CgNGGkhg_o.gif" align="top">                    BinarySerialize(ht); <img alt="" src="https://images2.imgbox.com/80/2d/pxRWpnKg_o.gif" align="top">                    </span><span style="COLOR: #0000ff">break</span><span style="COLOR: #000000">; <img alt="" src="https://images2.imgbox.com/e1/9c/v85oyI5Z_o.gif" align="top">                </span><span style="COLOR: #0000ff">case</span><span style="COLOR: #000000"> FormatterType.Soap: <img alt="" src="https://images2.imgbox.com/45/8a/Cicv8qXS_o.gif" align="top">                    SoapSerialize(ht); <img alt="" src="https://images2.imgbox.com/4f/de/qRQq8zHC_o.gif" align="top">                    </span><span style="COLOR: #0000ff">break</span><span style="COLOR: #000000">; <img alt="" src="https://images2.imgbox.com/64/1f/jAnfBkJu_o.gif" align="top">                </span><span style="COLOR: #0000ff">default</span><span style="COLOR: #000000">: <img alt="" src="https://images2.imgbox.com/53/f2/OwvLWgfA_o.gif" align="top">                    </span><span style="COLOR: #0000ff">break</span><span style="COLOR: #000000">; <img alt="" src="https://images2.imgbox.com/0f/38/4fBUaY8p_o.gif" align="top">            }</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/03/f6/N2h2pWUp_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/11/e9/NInNrFRB_o.gif" align="top">        }</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/61/0b/jxSqBDxw_o.gif" align="top"> <img id="_1887_1987_Open_Image" alt="" src="https://images2.imgbox.com/0c/cc/pVMlbz4p_o.gif" align="top"><img id="_1887_1987_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/b8/46/PuL2vQgA_o.gif" align="top">        </span><span id="_1887_1987_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">/**/</span><span id="_1887_1987_Open_Text"><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;summary&gt;</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/07/49/xZCgyWPD_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> 按照Binary格式序列化 <img alt="" src="https://images2.imgbox.com/33/a3/P9wZeRZK_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;/summary&gt;</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/54/a0/fxvFICir_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;param name="ht"&gt;&lt;/param&gt;</span><span style="COLOR: #808080"></span></span> <img alt="" src="https://images2.imgbox.com/cc/52/F5TrE312_o.gif" align="top"><span style="COLOR: #000000">        </span><span style="COLOR: #0000ff">private</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">static</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">void</span><span style="COLOR: #000000"> BinarySerialize(Hashtable ht) <img id="_2054_2574_Open_Image" alt="" src="https://images2.imgbox.com/38/c5/GuxdHqc4_o.gif" align="top"><img id="_2054_2574_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/f1/11/PGcjGuir_o.gif" align="top">        </span><span id="_2054_2574_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_2054_2574_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/c3/39/LeWtlaIH_o.gif" align="top">            </span><span style="COLOR: #0000ff">string</span><span style="COLOR: #000000"> guid </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> HttpContext.Current.Session[</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">AUTH_GUID</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">].ToString(); <img alt="" src="https://images2.imgbox.com/0c/75/Nq9uStVp_o.gif" align="top">            SessionEntity obj </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">new</span><span style="COLOR: #000000"> SessionEntity(guid); <img alt="" src="https://images2.imgbox.com/e0/7e/msuiuRWr_o.gif" align="top">            obj.HtShareSession </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> ht; <img alt="" src="https://images2.imgbox.com/82/26/kIHe1Tb6_o.gif" align="top">            <img alt="" src="https://images2.imgbox.com/27/7c/SvllM2DU_o.gif" align="top">            </span><span style="COLOR: #008000">//</span><span style="COLOR: #008000"> 创建一个文件guid.xml</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/ab/b5/ZVNAwC2v_o.gif" align="top"></span><span style="COLOR: #000000">            Stream stream </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> File.Open(_ShareSessionPath </span><span style="COLOR: #000000">+</span><span style="COLOR: #000000"> guid </span><span style="COLOR: #000000">+</span><span style="COLOR: #000000"> </span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">.xml</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">, FileMode.Create); <img alt="" src="https://images2.imgbox.com/08/c3/P46FdiCY_o.gif" align="top">            BinaryFormatter formatter </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">new</span><span style="COLOR: #000000"> BinaryFormatter(); <img alt="" src="https://images2.imgbox.com/9b/c5/tTzAl4G2_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/b5/24/RFoRrBdK_o.gif" align="top">            </span><span style="COLOR: #008000">//</span><span style="COLOR: #008000">执行序列化</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/9b/32/8ErRZblX_o.gif" align="top"></span><span style="COLOR: #000000">            formatter.Serialize(stream, obj); <img alt="" src="https://images2.imgbox.com/08/c1/SjXfON2w_o.gif" align="top">            stream.Close(); <img alt="" src="https://images2.imgbox.com/20/e8/LV5DFQcu_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/ba/8d/nui6nvVY_o.gif" align="top">            </span><span style="COLOR: #008000">//</span><span style="COLOR: #008000"> 将对象置空</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/65/98/PkP8ElFt_o.gif" align="top"></span><span style="COLOR: #000000">            obj </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">null</span><span style="COLOR: #000000">; <img alt="" src="https://images2.imgbox.com/1d/bd/lQs5QNKW_o.gif" align="top">        }</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/91/23/dzS1poPa_o.gif" align="top"> <img id="_2585_2683_Open_Image" alt="" src="https://images2.imgbox.com/b1/c4/Zpv8Vtor_o.gif" align="top"><img id="_2585_2683_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/6a/f3/FH6dau2v_o.gif" align="top">        </span><span id="_2585_2683_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">/**/</span><span id="_2585_2683_Open_Text"><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;summary&gt;</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/de/48/V24EGJQd_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> 按照Soap格式序列化 <img alt="" src="https://images2.imgbox.com/95/59/oO1M7bKy_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;/summary&gt;</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/0e/3c/9jbcGIkP_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;param name="ht"&gt;&lt;/param&gt;</span><span style="COLOR: #808080"></span></span> <img alt="" src="https://images2.imgbox.com/d6/9e/XUERHSTW_o.gif" align="top"><span style="COLOR: #000000">        </span><span style="COLOR: #0000ff">private</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">static</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">void</span><span style="COLOR: #000000"> SoapSerialize(Hashtable ht) <img id="_2748_3253_Open_Image" alt="" src="https://images2.imgbox.com/a3/fc/GxTKound_o.gif" align="top"><img id="_2748_3253_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/3a/29/OkywawpQ_o.gif" align="top">        </span><span id="_2748_3253_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_2748_3253_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/9a/85/xPC1CrDM_o.gif" align="top">            </span><span style="COLOR: #0000ff">string</span><span style="COLOR: #000000"> guid </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> HttpContext.Current.Session[</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">AUTH_GUID</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">].ToString(); <img alt="" src="https://images2.imgbox.com/89/c1/zg6RoAlm_o.gif" align="top">            SessionEntity obj </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">new</span><span style="COLOR: #000000"> SessionEntity(guid); <img alt="" src="https://images2.imgbox.com/f6/35/VZYtaa6M_o.gif" align="top">            obj.HtShareSession </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> ht; <img alt="" src="https://images2.imgbox.com/57/a5/5wMDpEpg_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/76/29/IZN3fREq_o.gif" align="top">            </span><span style="COLOR: #008000">//</span><span style="COLOR: #008000"> 创建一个文件guid.xml</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/45/a0/0vvVSeW6_o.gif" align="top"></span><span style="COLOR: #000000">            Stream stream </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> File.Open(_ShareSessionPath </span><span style="COLOR: #000000">+</span><span style="COLOR: #000000"> guid </span><span style="COLOR: #000000">+</span><span style="COLOR: #000000"> </span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">.xml</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">, FileMode.Create); <img alt="" src="https://images2.imgbox.com/e7/1f/IEFQZIoa_o.gif" align="top">            SoapFormatter formatter </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">new</span><span style="COLOR: #000000"> SoapFormatter(); <img alt="" src="https://images2.imgbox.com/46/d0/IrsHA3FY_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/1d/a2/OzADHEtK_o.gif" align="top">            </span><span style="COLOR: #008000">//</span><span style="COLOR: #008000">执行序列化</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/b4/f0/VcTQoA5u_o.gif" align="top"></span><span style="COLOR: #000000">            formatter.Serialize(stream, obj); <img alt="" src="https://images2.imgbox.com/54/c3/AIEzpQSq_o.gif" align="top">            stream.Close(); <img alt="" src="https://images2.imgbox.com/69/16/JueXX64s_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/42/f5/QkmLNTDC_o.gif" align="top">            </span><span style="COLOR: #008000">//</span><span style="COLOR: #008000"> 将对象置空</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/f6/af/QfSrVnmo_o.gif" align="top"></span><span style="COLOR: #000000">            obj </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">null</span><span style="COLOR: #000000">; <img alt="" src="https://images2.imgbox.com/76/d6/Kz7EjkOi_o.gif" align="top">        }</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/49/33/qTJ0oeMh_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/96/62/VtVabspA_o.gif" align="top"> <img id="_3265_3431_Open_Image" alt="" src="https://images2.imgbox.com/8e/b2/yosGeMrV_o.gif" align="top"><img id="_3265_3431_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/07/d7/OhMSORbp_o.gif" align="top">        </span><span id="_3265_3431_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">/**/</span><span id="_3265_3431_Open_Text"><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;summary&gt;</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/c8/a0/6Dz2T2ru_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> 反序列化 <img alt="" src="https://images2.imgbox.com/cd/ee/Rf63eYG6_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;/summary&gt;</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/30/23/dFqmmZs8_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;param name="formatterType"&gt;</span><span style="COLOR: #008000">传送端的Session["AUTH_GUID"]</span><span style="COLOR: #808080">&lt;/param&gt;</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/48/78/sfOiyN0k_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;param name="guid"&gt;&lt;/param&gt;</span><span style="COLOR: #808080"></span></span> <img alt="" src="https://images2.imgbox.com/26/91/3XKIuzrH_o.gif" align="top"><span style="COLOR: #000000">        </span><span style="COLOR: #0000ff">public</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">static</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">void</span><span style="COLOR: #000000"> Deserialize(FormatterType formatterType, </span><span style="COLOR: #0000ff">string</span><span style="COLOR: #000000"> guid) <img id="_3521_3872_Open_Image" alt="" src="https://images2.imgbox.com/d9/3c/ptN8pHRa_o.gif" align="top"><img id="_3521_3872_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/46/86/dnGt0tPA_o.gif" align="top">        </span><span id="_3521_3872_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_3521_3872_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/36/b2/Hk5dUuUT_o.gif" align="top">            </span><span style="COLOR: #0000ff">switch</span><span style="COLOR: #000000"> (formatterType) <img id="_3570_3862_Open_Image" alt="" src="https://images2.imgbox.com/24/cc/14GmEhrd_o.gif" align="top"><img id="_3570_3862_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/2e/38/T7UGcOyV_o.gif" align="top">            </span><span id="_3570_3862_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_3570_3862_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/3c/de/okRCQEdW_o.gif" align="top">                </span><span style="COLOR: #0000ff">case</span><span style="COLOR: #000000"> FormatterType.Binary: <img alt="" src="https://images2.imgbox.com/19/3e/JWCk3Wo4_o.gif" align="top">                    BinaryDeserialize(guid); <img alt="" src="https://images2.imgbox.com/35/08/YypSg7jv_o.gif" align="top">                    </span><span style="COLOR: #0000ff">break</span><span style="COLOR: #000000">; <img alt="" src="https://images2.imgbox.com/53/e3/AHaozLSQ_o.gif" align="top">                </span><span style="COLOR: #0000ff">case</span><span style="COLOR: #000000"> FormatterType.Soap: <img alt="" src="https://images2.imgbox.com/00/1d/hhkbNy8S_o.gif" align="top">                    SoapDeserialize(guid); <img alt="" src="https://images2.imgbox.com/df/a6/7xCLauA8_o.gif" align="top">                    </span><span style="COLOR: #0000ff">break</span><span style="COLOR: #000000">; <img alt="" src="https://images2.imgbox.com/cb/1d/vMFSzobb_o.gif" align="top">                </span><span style="COLOR: #0000ff">default</span><span style="COLOR: #000000">: <img alt="" src="https://images2.imgbox.com/57/d3/OXzWbtB4_o.gif" align="top">                    </span><span style="COLOR: #0000ff">break</span><span style="COLOR: #000000">; <img alt="" src="https://images2.imgbox.com/ec/43/ecjtJGnG_o.gif" align="top">            }</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/db/ee/BFLOSbqG_o.gif" align="top">        }</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/f0/15/42dBgMEb_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/51/40/AgpCsWjB_o.gif" align="top"> <img id="_3884_3946_Open_Image" alt="" src="https://images2.imgbox.com/54/e7/BCXAZLDe_o.gif" align="top"><img id="_3884_3946_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/53/3c/Pezegigw_o.gif" align="top">        </span><span id="_3884_3946_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">/**/</span><span id="_3884_3946_Open_Text"><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;summary&gt;</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/4a/fc/id2DolRI_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> 以Binary方式反序列化 <img alt="" src="https://images2.imgbox.com/54/7b/TjLIYM22_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;/summary&gt;</span><span style="COLOR: #808080"></span></span> <img alt="" src="https://images2.imgbox.com/f4/e3/XmkjEMwf_o.gif" align="top"><span style="COLOR: #000000">        </span><span style="COLOR: #0000ff">private</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">static</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">void</span><span style="COLOR: #000000"> BinaryDeserialize(</span><span style="COLOR: #0000ff">string</span><span style="COLOR: #000000"> guid) <img id="_4014_4488_Open_Image" alt="" src="https://images2.imgbox.com/63/ff/yrUNzzOc_o.gif" align="top"><img id="_4014_4488_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/44/2a/y6XNtBbj_o.gif" align="top">        </span><span id="_4014_4488_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_4014_4488_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/f6/6c/D9wBLG9B_o.gif" align="top">            SessionEntity obj </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">new</span><span style="COLOR: #000000"> SessionEntity(guid); <img alt="" src="https://images2.imgbox.com/a5/d3/krwTL5Nc_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/36/73/ocKTiQQd_o.gif" align="top">            </span><span style="COLOR: #008000">//</span><span style="COLOR: #008000"> 打开文件guid.xml</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/0d/83/SELZUlB5_o.gif" align="top"></span><span style="COLOR: #000000">            Stream stream </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> File.Open(_ShareSessionPath </span><span style="COLOR: #000000">+</span><span style="COLOR: #000000"> guid </span><span style="COLOR: #000000">+</span><span style="COLOR: #000000"> </span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">.xml</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">, FileMode.Open); <img alt="" src="https://images2.imgbox.com/94/c5/OAqkjjMY_o.gif" align="top">            BinaryFormatter formatter </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">new</span><span style="COLOR: #000000"> BinaryFormatter(); <img alt="" src="https://images2.imgbox.com/17/f0/YvQ56aTr_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/b7/29/jXz2CFOF_o.gif" align="top">            obj </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> (SessionEntity)formatter.Deserialize(stream); <img alt="" src="https://images2.imgbox.com/7d/35/KPncgPJF_o.gif" align="top">            stream.Close(); <img alt="" src="https://images2.imgbox.com/b7/c7/DjHEbrpV_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/4e/43/mZ8CDCYv_o.gif" align="top">            Hashtable ht </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> obj.HtShareSession; <img alt="" src="https://images2.imgbox.com/1f/51/nO0QksT4_o.gif" align="top">            obj </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">null</span><span style="COLOR: #000000">; <img alt="" src="https://images2.imgbox.com/c5/17/xP5mwPtd_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/1b/c5/BIPwIsTr_o.gif" align="top">            </span><span style="COLOR: #008000">//</span><span style="COLOR: #008000">遍历ht，生成Session</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/ce/a9/yXzX5e2P_o.gif" align="top"></span><span style="COLOR: #000000">            CreateSession(ht); <img alt="" src="https://images2.imgbox.com/dc/4e/TKLp9J6K_o.gif" align="top">        }</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/fc/3c/B4Dwvwi0_o.gif" align="top"> <img id="_4499_4559_Open_Image" alt="" src="https://images2.imgbox.com/66/29/J3FCibmr_o.gif" align="top"><img id="_4499_4559_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/53/fd/TQ4rB2gq_o.gif" align="top">        </span><span id="_4499_4559_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">/**/</span><span id="_4499_4559_Open_Text"><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;summary&gt;</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/cb/5d/5FA5gf1L_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> 以Soap方式反序列化 <img alt="" src="https://images2.imgbox.com/31/ca/otzxTjEp_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;/summary&gt;</span><span style="COLOR: #808080"></span></span> <img alt="" src="https://images2.imgbox.com/15/7f/x3DQY8FJ_o.gif" align="top"><span style="COLOR: #000000">        </span><span style="COLOR: #0000ff">private</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">static</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">void</span><span style="COLOR: #000000"> SoapDeserialize(</span><span style="COLOR: #0000ff">string</span><span style="COLOR: #000000"> guid) <img id="_4625_5095_Open_Image" alt="" src="https://images2.imgbox.com/9a/c0/VCOgQZb0_o.gif" align="top"><img id="_4625_5095_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/ea/82/Z4iJ93fe_o.gif" align="top">        </span><span id="_4625_5095_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_4625_5095_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/dd/06/OzpnjK8V_o.gif" align="top">            SessionEntity obj </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">new</span><span style="COLOR: #000000"> SessionEntity(guid); <img alt="" src="https://images2.imgbox.com/31/8e/afyDWuie_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/c5/84/AHxzVMF4_o.gif" align="top">            </span><span style="COLOR: #008000">//</span><span style="COLOR: #008000"> 打开文件guid.xml</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/ad/11/q9FCr5cH_o.gif" align="top"></span><span style="COLOR: #000000">            Stream stream </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> File.Open(_ShareSessionPath </span><span style="COLOR: #000000">+</span><span style="COLOR: #000000"> guid </span><span style="COLOR: #000000">+</span><span style="COLOR: #000000"> </span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">.xml</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">, FileMode.Open); <img alt="" src="https://images2.imgbox.com/14/65/xEOlcCaZ_o.gif" align="top">            SoapFormatter formatter </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">new</span><span style="COLOR: #000000"> SoapFormatter(); <img alt="" src="https://images2.imgbox.com/a8/92/8usekf38_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/04/d0/2hgqesXP_o.gif" align="top">            obj </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> (SessionEntity)formatter.Deserialize(stream); <img alt="" src="https://images2.imgbox.com/aa/b6/KC1bN1fN_o.gif" align="top">            stream.Close(); <img alt="" src="https://images2.imgbox.com/b8/64/HgVwxlUT_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/05/83/EVSw6bzR_o.gif" align="top">            Hashtable ht </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> obj.HtShareSession; <img alt="" src="https://images2.imgbox.com/01/76/e7GebT2c_o.gif" align="top">            obj </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">null</span><span style="COLOR: #000000">; <img alt="" src="https://images2.imgbox.com/df/d7/BV6yXkan_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/54/31/cnkoRDJg_o.gif" align="top">            </span><span style="COLOR: #008000">//</span><span style="COLOR: #008000">遍历ht，生成Session</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/67/72/Cm8JCMaG_o.gif" align="top"></span><span style="COLOR: #000000">            CreateSession(ht); <img alt="" src="https://images2.imgbox.com/7f/04/UBmQFljw_o.gif" align="top">        }</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/c5/b4/i2DwVLW2_o.gif" align="top"> <img id="_5106_5216_Open_Image" alt="" src="https://images2.imgbox.com/70/70/yfpMyW8s_o.gif" align="top"><img id="_5106_5216_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/71/4d/iauwGcUf_o.gif" align="top">        </span><span id="_5106_5216_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">/**/</span><span id="_5106_5216_Open_Text"><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;summary&gt;</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/61/54/z9PVPL9S_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> 遍历Hashtable，同时创建Session <img alt="" src="https://images2.imgbox.com/b1/b1/zxLf9OQE_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;/summary&gt;</span><span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/22/b5/iLchpBMd_o.gif" align="top">        </span><span style="COLOR: #808080">///</span><span style="COLOR: #008000"> </span><span style="COLOR: #808080">&lt;param name="ht"&gt;&lt;/param&gt;</span><span style="COLOR: #808080"></span></span> <img alt="" src="https://images2.imgbox.com/69/f6/RWZWH2hP_o.gif" align="top"><span style="COLOR: #000000">        </span><span style="COLOR: #0000ff">private</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">static</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">void</span><span style="COLOR: #000000"> CreateSession(Hashtable ht) <img id="_5281_5441_Open_Image" alt="" src="https://images2.imgbox.com/6c/d2/zobgplDS_o.gif" align="top"><img id="_5281_5441_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/52/ca/xW42dMnr_o.gif" align="top">        </span><span id="_5281_5441_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_5281_5441_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/1e/9a/K6LKjFR5_o.gif" align="top">            </span><span style="COLOR: #0000ff">foreach</span><span style="COLOR: #000000"> (DictionaryEntry de </span><span style="COLOR: #0000ff">in</span><span style="COLOR: #000000"> ht) <img id="_5342_5431_Open_Image" alt="" src="https://images2.imgbox.com/b1/2f/K3b4rnLb_o.gif" align="top"><img id="_5342_5431_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/06/33/kcZFerrJ_o.gif" align="top">            </span><span id="_5342_5431_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_5342_5431_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/9d/c5/xNEwA5xq_o.gif" align="top">                HttpContext.Current.Session[de.Key.ToString()] </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> de.Value; <img alt="" src="https://images2.imgbox.com/02/e5/COoVEor7_o.gif" align="top">            }</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/6a/73/CRUFsBGD_o.gif" align="top">        }</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/f1/18/ILxZEbMd_o.gif" align="top">         <img alt="" src="https://images2.imgbox.com/a9/ca/XMq6jPCj_o.gif" align="top">         <img alt="" src="https://images2.imgbox.com/93/19/iHSJODMA_o.gif" align="top">    }</span></span><span style="COLOR: #008000">// <img alt="" src="https://images2.imgbox.com/96/d7/EUxQ8GmF_o.gif" align="top"></span><span style="COLOR: #000000">}</span></span> 
  <span style="COLOR: #008000">//</span> 
  <span style="COLOR: #008000"> <img alt="" src="https://images2.imgbox.com/45/10/5uiuNksL_o.gif" align="top"></span> 
 </div> 
</div> 
<p> </p> 
<p>4、编译项目，生成ShareSession.dll</p> 
<p>5、把ShareSession.dll引入Web Server 1上的应用程序中，同时在Web.config文件中增加配置字节</p> 
<p> 代码如下：</p> 
<div style="BORDER-RIGHT: windowtext 0.5pt solid; PADDING-RIGHT: 5.4pt; BORDER-TOP: windowtext 0.5pt solid; PADDING-LEFT: 5.4pt; BACKGROUND: #e6e6e6; PADDING-BOTTOM: 4px; BORDER-LEFT: windowtext 0.5pt solid; WIDTH: 95%; WORD-BREAK: break-all; PADDING-TOP: 4px; BORDER-BOTTOM: windowtext 0.5pt solid"> 
 <div> 
  <img alt="" src="https://images2.imgbox.com/ed/40/4gaVB46x_o.gif" align="top"> 
  <span style="COLOR: #008000">&lt;!--</span> 
  <span style="COLOR: #008000"> Session信息序列化后保存路径 </span> 
  <span style="COLOR: #008000">--&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/1e/f6/soAb8L1g_o.gif" align="top">        </span> 
  <span style="COLOR: #0000ff">&lt;</span> 
  <span style="COLOR: #800000">add </span> 
  <span style="COLOR: #ff0000">key</span> 
  <span style="COLOR: #0000ff">="ShareSessionPath"</span> 
  <span style="COLOR: #ff0000"> value</span> 
  <span style="COLOR: #0000ff">="C:/ShareSession/"</span> 
  <span style="COLOR: #0000ff">/&gt;</span> 
 </div> 
</div> 
<p> </p> 
<p>6、在Web Server 1上的应用程序中新建一个页面，功能是初始化Session，然后把Session信息序列化，代码如下：</p> 
<p> 前台代码：</p> 
<div style="BORDER-RIGHT: windowtext 0.5pt solid; PADDING-RIGHT: 5.4pt; BORDER-TOP: windowtext 0.5pt solid; PADDING-LEFT: 5.4pt; BACKGROUND: #e6e6e6; PADDING-BOTTOM: 4px; BORDER-LEFT: windowtext 0.5pt solid; WIDTH: 95%; WORD-BREAK: break-all; PADDING-TOP: 4px; BORDER-BOTTOM: windowtext 0.5pt solid"> 
 <div> 
  <img id="_2_112_Open_Image" alt="" src="https://images2.imgbox.com/8d/61/PzXiseko_o.gif" align="top"> 
  <img id="_2_112_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/69/1c/LqzhiUAa_o.gif" align="top"> 
  <span style="COLOR: #000000; BACKGROUND-COLOR: #ffff00">&lt;%</span> 
  <span id="_2_112_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span> 
  <span id="_2_112_Open_Text"><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">@ Page Language</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">=</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">"</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">C#</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">"</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5"> AutoEventWireup</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">=</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">"</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">true</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">"</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5"> CodeFile</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">=</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">"</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">ShareSession.aspx.cs</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">"</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5"> Inherits</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">=</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">"</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">Front_Test_ShareSession</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">"</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5"> </span></span> 
  <span style="COLOR: #000000; BACKGROUND-COLOR: #ffff00">%&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/9c/f6/rI1P76nZ_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/ac/39/6Km2ACpo_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">&lt;!</span> 
  <span style="COLOR: #ff00ff">DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/28/f7/VxxE9TWv_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">&lt;</span> 
  <span style="COLOR: #800000">html </span> 
  <span style="COLOR: #ff0000">xmlns</span> 
  <span style="COLOR: #0000ff">="http://www.w3.org/1999/xhtml"</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/28/99/C2mGr35q_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">&lt;</span> 
  <span style="COLOR: #800000">head </span> 
  <span style="COLOR: #ff0000">runat</span> 
  <span style="COLOR: #0000ff">="server"</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/36/c0/9QFzMc9W_o.gif" align="top">    </span> 
  <span style="COLOR: #0000ff">&lt;</span> 
  <span style="COLOR: #800000">title</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000">Session共享</span> 
  <span style="COLOR: #0000ff">&lt;/</span> 
  <span style="COLOR: #800000">title</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/f0/95/0m5wa9Jq_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">&lt;/</span> 
  <span style="COLOR: #800000">head</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/66/65/z0b4KZKH_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">&lt;</span> 
  <span style="COLOR: #800000">body</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/db/d5/46UNDTUu_o.gif" align="top">    </span> 
  <span style="COLOR: #0000ff">&lt;</span> 
  <span style="COLOR: #800000">form </span> 
  <span style="COLOR: #ff0000">id</span> 
  <span style="COLOR: #0000ff">="form1"</span> 
  <span style="COLOR: #ff0000"> runat</span> 
  <span style="COLOR: #0000ff">="server"</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/6e/d1/FqvWoeqs_o.gif" align="top">        </span> 
  <span style="COLOR: #0000ff">&lt;</span> 
  <span style="COLOR: #800000">div</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/4e/55/ywZpxXox_o.gif" align="top">            </span> 
  <span style="COLOR: #0000ff">&lt;</span> 
  <span style="COLOR: #800000">asp:Label </span> 
  <span style="COLOR: #ff0000">ID</span> 
  <span style="COLOR: #0000ff">="lHttp_Cookie"</span> 
  <span style="COLOR: #ff0000"> runat</span> 
  <span style="COLOR: #0000ff">="server"</span> 
  <span style="COLOR: #ff0000"> Text</span> 
  <span style="COLOR: #0000ff">=""</span> 
  <span style="COLOR: #0000ff">&gt;&lt;/</span> 
  <span style="COLOR: #800000">asp:Label</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/b9/45/j7aKw4pa_o.gif" align="top">            </span> 
  <span style="COLOR: #0000ff">&lt;</span> 
  <span style="COLOR: #800000">a </span> 
  <span style="COLOR: #ff0000">href</span> 
  <span style="COLOR: #0000ff">="http://localhost:5000/Front/Test/ShareSession.aspx?AUTH_GUID=&lt;%=AUTH_GUID %&gt;"</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000">Go Other Web Site(port:5000)</span> 
  <span style="COLOR: #0000ff">&lt;/</span> 
  <span style="COLOR: #800000">a</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/ec/c8/Y7lLPtYj_o.gif" align="top">        </span> 
  <span style="COLOR: #0000ff">&lt;/</span> 
  <span style="COLOR: #800000">div</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/3d/cf/U2ROnxkR_o.gif" align="top">    </span> 
  <span style="COLOR: #0000ff">&lt;/</span> 
  <span style="COLOR: #800000">form</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/ef/b6/kO8HYGw0_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">&lt;/</span> 
  <span style="COLOR: #800000">body</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/96/13/I6iV8Zhx_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">&lt;/</span> 
  <span style="COLOR: #800000">html</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/7d/3c/Lzn4qb5w_o.gif" align="top"></span> 
 </div> 
</div> 
<p>后台代码：</p> 
<div style="BORDER-RIGHT: windowtext 0.5pt solid; PADDING-RIGHT: 5.4pt; BORDER-TOP: windowtext 0.5pt solid; PADDING-LEFT: 5.4pt; BACKGROUND: #e6e6e6; PADDING-BOTTOM: 4px; BORDER-LEFT: windowtext 0.5pt solid; WIDTH: 95%; WORD-BREAK: break-all; PADDING-TOP: 4px; BORDER-BOTTOM: windowtext 0.5pt solid"> 
 <div> 
  <img alt="" src="https://images2.imgbox.com/a8/52/tnvCvG3W_o.gif" align="top"> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System; <img alt="" src="https://images2.imgbox.com/68/1d/22o5se4f_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Data; <img alt="" src="https://images2.imgbox.com/54/56/sZlwx13V_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Configuration; <img alt="" src="https://images2.imgbox.com/a0/b9/vyAb8cyN_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Collections; <img alt="" src="https://images2.imgbox.com/d2/bb/9culSFgn_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Web; <img alt="" src="https://images2.imgbox.com/d5/6a/N9wPuvmp_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Web.Security; <img alt="" src="https://images2.imgbox.com/20/c5/OGZhWLOI_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Web.UI; <img alt="" src="https://images2.imgbox.com/db/15/Pk7NpBIv_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Web.UI.WebControls; <img alt="" src="https://images2.imgbox.com/d4/fd/FwxqX07M_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Web.UI.WebControls.WebParts; <img alt="" src="https://images2.imgbox.com/12/09/B4CPoWDr_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Web.UI.HtmlControls; <img alt="" src="https://images2.imgbox.com/87/09/XmmCeGrd_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/54/98/mgygDsAz_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">public</span> 
  <span style="COLOR: #000000"> </span> 
  <span style="COLOR: #0000ff">partial</span> 
  <span style="COLOR: #000000"> </span> 
  <span style="COLOR: #0000ff">class</span> 
  <span style="COLOR: #000000"> Front_Test_ShareSession : System.Web.UI.Page <img id="_329_749_Open_Image" alt="" src="https://images2.imgbox.com/e2/74/PXjlj741_o.gif" align="top"><img id="_329_749_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/f1/b4/oeWtpk7R_o.gif" align="top"></span> 
  <span id="_329_749_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span> 
  <span id="_329_749_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/c9/e6/lsH977YM_o.gif" align="top">    </span><span style="COLOR: #0000ff">public</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">string</span><span style="COLOR: #000000"> AUTH_GUID </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> </span><span style="COLOR: #000000">""</span><span style="COLOR: #000000">; <img alt="" src="https://images2.imgbox.com/86/5b/RSKfNRa7_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/24/b5/aXAo8Djg_o.gif" align="top">    </span><span style="COLOR: #0000ff">protected</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">void</span><span style="COLOR: #000000"> Page_Load(</span><span style="COLOR: #0000ff">object</span><span style="COLOR: #000000"> sender, EventArgs e) <img id="_427_747_Open_Image" alt="" src="https://images2.imgbox.com/a3/81/QJN0lpcM_o.gif" align="top"><img id="_427_747_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/48/c8/h4lHduB6_o.gif" align="top">    </span><span id="_427_747_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_427_747_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/4d/7a/OsmlHgsn_o.gif" align="top">        Session.Clear(); <img alt="" src="https://images2.imgbox.com/ee/14/GcSjOa9F_o.gif" align="top">        Session.Abandon(); <img alt="" src="https://images2.imgbox.com/e0/54/vik88RDD_o.gif" align="top">        Session.Add(</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">USER_ID</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">, </span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">2002</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">); <img alt="" src="https://images2.imgbox.com/f3/12/7oFvFvPB_o.gif" align="top">        Session.Add(</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">USER_NAME</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">, </span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">Xiaojun Liu</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">); <img alt="" src="https://images2.imgbox.com/ca/d1/FEJN6HhR_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/87/1c/WqWKU1l0_o.gif" align="top">        ShareSession.ShareSessionFormatter.Serialize(ShareSession.ShareSessionFormatter.FormatterType.Soap); <img alt="" src="https://images2.imgbox.com/42/d9/vCznFWMy_o.gif" align="top">        AUTH_GUID </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> Session[</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">AUTH_GUID</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">].ToString(); <img alt="" src="https://images2.imgbox.com/e5/75/K9cjr6hg_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/a2/a5/UQq2hrTw_o.gif" align="top">         <img alt="" src="https://images2.imgbox.com/7b/61/GU3PlqlI_o.gif" align="top">    }</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/3a/1d/daHahVRu_o.gif" align="top">}</span></span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/4e/b9/f1fJP9F3_o.gif" align="top"></span> 
 </div> 
</div> 
<p> </p> 
<p>7、在Web Server 2上进行第5步操作</p> 
<p>8、在Web Server 2上的应用程序中新建一个页面，功能是反序列化，还原Session，同时读取Session信息进行测试，代码如下：</p> 
<p>前台代码：</p> 
<div style="BORDER-RIGHT: windowtext 0.5pt solid; PADDING-RIGHT: 5.4pt; BORDER-TOP: windowtext 0.5pt solid; PADDING-LEFT: 5.4pt; BACKGROUND: #e6e6e6; PADDING-BOTTOM: 4px; BORDER-LEFT: windowtext 0.5pt solid; WIDTH: 95%; WORD-BREAK: break-all; PADDING-TOP: 4px; BORDER-BOTTOM: windowtext 0.5pt solid"> 
 <div> 
  <img id="_2_112_Open_Image" alt="" src="https://images2.imgbox.com/4e/6f/zw9WNjox_o.gif" align="top"> 
  <img id="_2_112_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/82/63/2qrntGpZ_o.gif" align="top"> 
  <span style="COLOR: #000000; BACKGROUND-COLOR: #ffff00">&lt;%</span> 
  <span id="_2_112_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span> 
  <span id="_2_112_Open_Text"><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">@ Page Language</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">=</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">"</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">C#</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">"</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5"> AutoEventWireup</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">=</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">"</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">true</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">"</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5"> CodeFile</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">=</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">"</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">ShareSession.aspx.cs</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">"</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5"> Inherits</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">=</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">"</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">Front_Test_ShareSession</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5">"</span><span style="COLOR: #000000; BACKGROUND-COLOR: #f5f5f5"> </span></span> 
  <span style="COLOR: #000000; BACKGROUND-COLOR: #ffff00">%&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/4e/0c/izC1AZln_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/fd/08/nz5u8uJ6_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">&lt;!</span> 
  <span style="COLOR: #ff00ff">DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/38/08/2NGtneDh_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">&lt;</span> 
  <span style="COLOR: #800000">html </span> 
  <span style="COLOR: #ff0000">xmlns</span> 
  <span style="COLOR: #0000ff">="http://www.w3.org/1999/xhtml"</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/7c/35/bYQj3nC0_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">&lt;</span> 
  <span style="COLOR: #800000">head </span> 
  <span style="COLOR: #ff0000">runat</span> 
  <span style="COLOR: #0000ff">="server"</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/73/c8/dThy8ZfZ_o.gif" align="top">    </span> 
  <span style="COLOR: #0000ff">&lt;</span> 
  <span style="COLOR: #800000">title</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000">Session共享</span> 
  <span style="COLOR: #0000ff">&lt;/</span> 
  <span style="COLOR: #800000">title</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/94/d3/g3p3Glu2_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">&lt;/</span> 
  <span style="COLOR: #800000">head</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/a6/bf/DxFTTW1P_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">&lt;</span> 
  <span style="COLOR: #800000">body</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/67/dd/CCl80LzW_o.gif" align="top">    </span> 
  <span style="COLOR: #0000ff">&lt;</span> 
  <span style="COLOR: #800000">form </span> 
  <span style="COLOR: #ff0000">id</span> 
  <span style="COLOR: #0000ff">="form1"</span> 
  <span style="COLOR: #ff0000"> runat</span> 
  <span style="COLOR: #0000ff">="server"</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/e8/52/m1nHjRbI_o.gif" align="top">        </span> 
  <span style="COLOR: #0000ff">&lt;</span> 
  <span style="COLOR: #800000">div</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/65/5d/xZbEFXiX_o.gif" align="top">            </span> 
  <span style="COLOR: #0000ff">&lt;</span> 
  <span style="COLOR: #800000">asp:Label </span> 
  <span style="COLOR: #ff0000">ID</span> 
  <span style="COLOR: #0000ff">="lHttp_Cookie"</span> 
  <span style="COLOR: #ff0000"> runat</span> 
  <span style="COLOR: #0000ff">="server"</span> 
  <span style="COLOR: #ff0000"> Text</span> 
  <span style="COLOR: #0000ff">=""</span> 
  <span style="COLOR: #0000ff">&gt;&lt;/</span> 
  <span style="COLOR: #800000">asp:Label</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/16/9c/QlLlURsG_o.gif" align="top">        </span> 
  <span style="COLOR: #0000ff">&lt;/</span> 
  <span style="COLOR: #800000">div</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/f0/60/KJXTXcg8_o.gif" align="top">    </span> 
  <span style="COLOR: #0000ff">&lt;/</span> 
  <span style="COLOR: #800000">form</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/cd/af/ZGaVQJ6t_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">&lt;/</span> 
  <span style="COLOR: #800000">body</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/88/ae/XPfVLXk4_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">&lt;/</span> 
  <span style="COLOR: #800000">html</span> 
  <span style="COLOR: #0000ff">&gt;</span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/63/ac/jVJprSgn_o.gif" align="top"></span> 
 </div> 
</div> 
<p>后台代码：</p> 
<div style="BORDER-RIGHT: windowtext 0.5pt solid; PADDING-RIGHT: 5.4pt; BORDER-TOP: windowtext 0.5pt solid; PADDING-LEFT: 5.4pt; BACKGROUND: #e6e6e6; PADDING-BOTTOM: 4px; BORDER-LEFT: windowtext 0.5pt solid; WIDTH: 95%; WORD-BREAK: break-all; PADDING-TOP: 4px; BORDER-BOTTOM: windowtext 0.5pt solid"> 
 <div> 
  <img alt="" src="https://images2.imgbox.com/c3/c6/rnpl9Euv_o.gif" align="top"> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System; <img alt="" src="https://images2.imgbox.com/44/16/bCjLM6aw_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Data; <img alt="" src="https://images2.imgbox.com/09/ae/derscwP0_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Configuration; <img alt="" src="https://images2.imgbox.com/12/61/og71Fb9J_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Collections; <img alt="" src="https://images2.imgbox.com/3c/a9/FZVXLgsU_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Web; <img alt="" src="https://images2.imgbox.com/f7/e3/13SOIFCi_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Web.Security; <img alt="" src="https://images2.imgbox.com/74/59/v0H7QyEM_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Web.UI; <img alt="" src="https://images2.imgbox.com/99/2b/PrCWOY0T_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Web.UI.WebControls; <img alt="" src="https://images2.imgbox.com/84/b5/lgsk0SIr_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Web.UI.WebControls.WebParts; <img alt="" src="https://images2.imgbox.com/ce/07/AKC2r8dw_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">using</span> 
  <span style="COLOR: #000000"> System.Web.UI.HtmlControls; <img alt="" src="https://images2.imgbox.com/9e/ba/7BrZbPPA_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/e6/21/YkXk74sj_o.gif" align="top"></span> 
  <span style="COLOR: #0000ff">public</span> 
  <span style="COLOR: #000000"> </span> 
  <span style="COLOR: #0000ff">partial</span> 
  <span style="COLOR: #000000"> </span> 
  <span style="COLOR: #0000ff">class</span> 
  <span style="COLOR: #000000"> Front_Test_ShareSession : System.Web.UI.Page <img id="_329_822_Open_Image" alt="" src="https://images2.imgbox.com/65/c1/kNHQuNPy_o.gif" align="top"><img id="_329_822_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/d2/7f/q2wRp5IK_o.gif" align="top"></span> 
  <span id="_329_822_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span> 
  <span id="_329_822_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/aa/02/Pbos6OPl_o.gif" align="top">    </span><span style="COLOR: #0000ff">protected</span><span style="COLOR: #000000"> </span><span style="COLOR: #0000ff">void</span><span style="COLOR: #000000"> Page_Load(</span><span style="COLOR: #0000ff">object</span><span style="COLOR: #000000"> sender, EventArgs e) <img id="_392_820_Open_Image" alt="" src="https://images2.imgbox.com/00/bd/eaHry0c0_o.gif" align="top"><img id="_392_820_Closed_Image" style="DISPLAY: none" alt="" src="https://images2.imgbox.com/70/41/bRF5aNFF_o.gif" align="top">    </span><span id="_392_820_Closed_Text" style="BORDER-RIGHT: #808080 1px solid; BORDER-TOP: #808080 1px solid; DISPLAY: none; BORDER-LEFT: #808080 1px solid; BORDER-BOTTOM: #808080 1px solid; BACKGROUND-COLOR: #ffffff">...</span><span id="_392_820_Open_Text"><span style="COLOR: #000000">{ <img alt="" src="https://images2.imgbox.com/f1/d7/BFdp66Qv_o.gif" align="top">        </span><span style="COLOR: #0000ff">string</span><span style="COLOR: #000000"> guid </span><span style="COLOR: #000000">=</span><span style="COLOR: #000000"> Request.Params[</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">AUTH_GUID</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">].ToString(); <img alt="" src="https://images2.imgbox.com/64/15/vMnwAEWx_o.gif" align="top">        ShareSession.ShareSessionFormatter.Deserialize(ShareSession.ShareSessionFormatter.FormatterType.Soap,guid); <img alt="" src="https://images2.imgbox.com/d9/d0/h00aIxan_o.gif" align="top"> <img alt="" src="https://images2.imgbox.com/0b/ea/mjoskUYT_o.gif" align="top">        Response.Write(</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">USER_ID = </span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">+</span><span style="COLOR: #000000">Session[</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">USER_ID</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">].ToString()</span><span style="COLOR: #000000">+</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">&lt;br /&gt;</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">); <img alt="" src="https://images2.imgbox.com/06/59/MMEM5iYL_o.gif" align="top">        Response.Write(</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">USER_NAME = </span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">+</span><span style="COLOR: #000000">Session[</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">USER_NAME</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">].ToString()</span><span style="COLOR: #000000">+</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">&lt;br /&gt;</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">); <img alt="" src="https://images2.imgbox.com/47/d4/vr6hgv2g_o.gif" align="top">        Response.Write(</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">AUTH_GUID = </span><span style="COLOR: #000000">"</span><span style="COLOR: #000000"> </span><span style="COLOR: #000000">+</span><span style="COLOR: #000000"> Session[</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">AUTH_GUID</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">].ToString() </span><span style="COLOR: #000000">+</span><span style="COLOR: #000000"> </span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">&lt;br /&gt;</span><span style="COLOR: #000000">"</span><span style="COLOR: #000000">); <img alt="" src="https://images2.imgbox.com/76/49/HSpoifX2_o.gif" align="top">    }</span></span><span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/4b/48/QspbOR24_o.gif" align="top">}</span></span> 
  <span style="COLOR: #000000"> <img alt="" src="https://images2.imgbox.com/4d/bb/Mu4CNkwc_o.gif" align="top"></span> 
 </div> 
</div> 
<p> </p> 
<p>此例子只是提供了一种解决思路，在应用过程中应根据项目不同进行调整及详细设计。</p> 
<p> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3b88fa61b03d933f80ac6b65e61a50fe/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">柯图泰感光胶使用说明书</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/587960b071c7bef1c26298ef6333e361/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">js随机图片，十秒后循环</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>