<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Python桌面应用开发之PyQt - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Python桌面应用开发之PyQt" />
<meta property="og:description" content="文章目录 引言：桌面应用开发三大框架介绍一、PyQT介绍二、安装三、使用教程(1)基础窗口(2)分区布局窗口(类似于html中div的使用)(3)栅格布局窗口(类似于html中的table)(4)表单布局窗口(类似于html中的form)(5)事件函数与事件过滤器(6)信号和槽四、实战示例(1)状态栏（追踪鼠标移动轨迹）(2)菜单栏(3)工具栏(4)对话框(5)相册(6)计算器(7)秒表(8)嵌入浏览器或其他windows应用5.图形化界面Qt Designer(1)安装(2)基础控件(3)使用教程 引言：桌面应用开发三大框架介绍 Tkinter：优势是免安装、相对简单，缺点是功能少，无界面设计工具。
PyQT：使用率高，功能最为强大，代码可维护性和易读性高。
WxPython：介于Tkinter和PyQT之间，相当于压缩版QT。
总结：三种框架各有优劣，有时间可以全部学习，并不复杂。如果只选一种，这里推荐使用最主流、最保值、上限最高的PyQT。
一、PyQT介绍 Qt：Qt是一个跨平台的C&#43;&#43;图形用户界面应用程序开发框架，目前已成为最强大，最受欢迎的跨平台GUI库之一。Qt不仅可以开发GUI程序，也可开发非GUI程序，比如控制台工具和服务程序。
PyQt：PyQt是Qt的Python封装，提供Qt类和函数的API。
PyQt6的官网：https://www.riverbankcomputing.co.uk/news
可以参考的中文手册：https://www.syrr.cn/news/415861.html?action=onClick
PyQt常用模块：
QtWidgets模块：包含应用程序类、窗口类、控件类和组件类
QtGui模块：包含和gui相关的功能，例如用于事件处理、图像处理、字体和颜色类等
QtCore模块：包含核心的非gui功能，例如线程、定时器、日期时间类、文件类等
二、安装 安装：pip install PyQt6
检查安装版本(进入python命令行)：
from PyQt6.QtCore import QT_VERSION_STR, PYQT_VERSION_STR QT_VERSION_STR, PYQT_VERSION_STR 三、使用教程 (1)基础窗口 import sys from PyQt6.QtWidgets import QApplication, QWidget, QLabel from PyQt6.QtGui import QIcon, QFont from PyQt6.QtCore import Qt #从QWidget类派生的桌面应用程序窗口类 class MyWindow(QWidget): #QtWidgets模块：包含应用程序类、窗口类、控件类和组件类 #构造函数 def __init__(self): super().__init__() # 调用基类的构造函数 self.setWindowTitle(&#39;Hello World&#39;) # 设置标题 #self.setWindowIcon(QIcon(&#39;res/qt.png&#39;)) # 可以设置图标 lab = QLabel(&#39;Hello World&#39;, self) # 实例化标签 lab." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/290b814e3bf46d8f131fda1d71f47815/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-06-28T16:54:57+08:00" />
<meta property="article:modified_time" content="2023-06-28T16:54:57+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Python桌面应用开发之PyQt</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#_2" rel="nofollow">引言：桌面应用开发三大框架介绍</a></li><li><a href="#PyQT_9" rel="nofollow">一、PyQT介绍</a></li><li><a href="#_22" rel="nofollow">二、安装</a></li><li><a href="#_31" rel="nofollow">三、使用教程</a></li><li><a href="#1_33" rel="nofollow">(1)基础窗口</a></li><li><a href="#2htmldiv_63" rel="nofollow">(2)分区布局窗口(类似于html中div的使用)</a></li><li><a href="#3htmltable_125" rel="nofollow">(3)栅格布局窗口(类似于html中的table)</a></li><li><a href="#4htmlform_163" rel="nofollow">(4)表单布局窗口(类似于html中的form)</a></li><li><a href="#5_214" rel="nofollow">(5)事件函数与事件过滤器</a></li><li><a href="#6_357" rel="nofollow">(6)信号和槽</a></li><li><a href="#_578" rel="nofollow">四、实战示例</a></li><li><a href="#1_580" rel="nofollow">(1)状态栏（追踪鼠标移动轨迹）</a></li><li><a href="#2_649" rel="nofollow">(2)菜单栏</a></li><li><a href="#3_718" rel="nofollow">(3)工具栏</a></li><li><a href="#4_881" rel="nofollow">(4)对话框</a></li><li><a href="#5_981" rel="nofollow">(5)相册</a></li><li><a href="#6_1049" rel="nofollow">(6)计算器</a></li><li><a href="#7_1147" rel="nofollow">(7)秒表</a></li><li><a href="#8windows_1221" rel="nofollow">(8)嵌入浏览器或其他windows应用</a></li><li><a href="#5Qt_Designer_1273" rel="nofollow">5.图形化界面Qt Designer</a></li><li><a href="#1_1278" rel="nofollow">(1)安装</a></li><li><a href="#2_1291" rel="nofollow">(2)基础控件</a></li><li><a href="#3_1363" rel="nofollow">(3)使用教程</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h3><a id="_2"></a>引言：桌面应用开发三大框架介绍</h3> 
<p>Tkinter：优势是免安装、相对简单，缺点是功能少，无界面设计工具。<br> PyQT：使用率高，功能最为强大，代码可维护性和易读性高。<br> WxPython：介于Tkinter和PyQT之间，相当于压缩版QT。</p> 
<p>总结：三种框架各有优劣，有时间可以全部学习，并不复杂。如果只选一种，这里推荐使用最主流、最保值、上限最高的PyQT。</p> 
<h3><a id="PyQT_9"></a>一、PyQT介绍</h3> 
<p>Qt：Qt是一个跨平台的C++图形用户界面应用程序开发框架，目前已成为最强大，最受欢迎的跨平台GUI库之一。Qt不仅可以开发GUI程序，也可开发非GUI程序，比如控制台工具和服务程序。<br> PyQt：PyQt是Qt的Python封装，提供Qt类和函数的API。<br> PyQt6的官网：https://www.riverbankcomputing.co.uk/news<br> 可以参考的中文手册：https://www.syrr.cn/news/415861.html?action=onClick</p> 
<p>PyQt常用模块：<br> QtWidgets模块：包含应用程序类、窗口类、控件类和组件类<br> QtGui模块：包含和gui相关的功能，例如用于事件处理、图像处理、字体和颜色类等<br> QtCore模块：包含核心的非gui功能，例如线程、定时器、日期时间类、文件类等</p> 
<h3><a id="_22"></a>二、安装</h3> 
<p>安装：<code>pip install PyQt6</code><br> 检查安装版本(进入python命令行)：</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> QT_VERSION_STR<span class="token punctuation">,</span> PYQT_VERSION_STR
QT_VERSION_STR<span class="token punctuation">,</span> PYQT_VERSION_STR
</code></pre> 
<h3><a id="_31"></a>三、使用教程</h3> 
<h3><a id="1_33"></a>(1)基础窗口</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QLabel
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon<span class="token punctuation">,</span> QFont
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt

<span class="token comment">#从QWidget类派生的桌面应用程序窗口类</span>
<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment">#QtWidgets模块：包含应用程序类、窗口类、控件类和组件类</span>
	<span class="token comment">#构造函数</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> 
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 调用基类的构造函数</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">)</span> <span class="token comment"># 设置标题</span>
        <span class="token comment">#self.setWindowIcon(QIcon('res/qt.png')) # 可以设置图标</span>
        lab <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">'Hello World'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span> <span class="token comment"># 实例化标签</span>
        lab<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">320</span><span class="token punctuation">,</span><span class="token number">160</span><span class="token punctuation">)</span> <span class="token comment"># 设置标签大小</span>
        lab<span class="token punctuation">.</span>setFont<span class="token punctuation">(</span>QFont<span class="token punctuation">(</span><span class="token string">'Arial'</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> QFont<span class="token punctuation">.</span>Weight<span class="token punctuation">.</span>Bold<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 设置字体字号</span>
        lab<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignmentFlag<span class="token punctuation">.</span>AlignCenter<span class="token punctuation">)</span> <span class="token comment"># 文本在标签内居中</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 显示窗口</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> <span class="token comment"># 创建应用程序，接收来自命令行的参数列表</span>
    win <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 创建窗口,这里初始化的时候不需要QWidget入参</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 应用程序主循环结束后，调用sys.exit()方法清理现场</span>
</code></pre> 
<p>执行后结果如下：<br> <img src="https://images2.imgbox.com/a0/6f/NuOr2Ovp_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2htmldiv_63"></a>(2)分区布局窗口(类似于html中div的使用)</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QLabel<span class="token punctuation">,</span> QLineEdit<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QHBoxLayout<span class="token punctuation">,</span> QVBoxLayout
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt

<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>     
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'分区布局'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">)</span> <span class="token comment"># 设置窗位置和大小</span>
        lab_acc <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">'账号：'</span><span class="token punctuation">)</span> <span class="token comment"># 实例化标签</span>
        account <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#单行文本编辑框</span>
        account<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignmentFlag<span class="token punctuation">.</span>AlignCenter<span class="token punctuation">)</span> <span class="token comment"># 文本在标签内居中</span>
        lab_pw <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">'密码：'</span><span class="token punctuation">)</span>
        passwd <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        passwd<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignmentFlag<span class="token punctuation">.</span>AlignCenter<span class="token punctuation">)</span>
        passwd<span class="token punctuation">.</span>setEchoMode<span class="token punctuation">(</span>QLineEdit<span class="token punctuation">.</span>EchoMode<span class="token punctuation">.</span>Password<span class="token punctuation">)</span> <span class="token comment"># 不显示密码</span>
        btn_ok <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">'确定'</span><span class="token punctuation">)</span> <span class="token comment">#按钮</span>
        btn_cancel <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">'取消'</span><span class="token punctuation">)</span>
        <span class="token comment"># 使用水平布局管理器布局lab_acc控件和account控件，左右留白10像素</span>
        hbox_acc <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#水平布局管理器</span>
        hbox_acc<span class="token punctuation">.</span>addSpacing<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>  <span class="token comment">#水平布局间隔</span>
        hbox_acc<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>lab_acc<span class="token punctuation">)</span> <span class="token comment">#将实例化标签账号放入</span>
        hbox_acc<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>account<span class="token punctuation">)</span> <span class="token comment">#将#单行文本编辑框放入</span>
        hbox_acc<span class="token punctuation">.</span>addSpacing<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token comment"># 使用水平布局管理器布局lab_pw控件和passwd控件，左右留白10像素</span>
        hbox_pw <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#垂直布局管理器</span>
        hbox_pw<span class="token punctuation">.</span>addSpacing<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        hbox_pw<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>lab_pw<span class="token punctuation">)</span>
        hbox_pw<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>passwd<span class="token punctuation">)</span>
        hbox_pw<span class="token punctuation">.</span>addSpacing<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token comment"># 使用水平布局管理器布局btn_ok控件和btn_cancel控件</span>
        hbox_btn <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 水平布局管理器</span>
        hbox_btn<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token comment"># 设置左侧拉伸因子</span>
        hbox_btn<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn_ok<span class="token punctuation">)</span> <span class="token comment"># 添加btn_ok控件</span>
        hbox_btn<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn_cancel<span class="token punctuation">)</span> <span class="token comment"># 添加btn_cancel控件</span>
        hbox_btn<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># 设置右侧拉伸因子</span>
        <span class="token comment"># 使用垂直布局管理器布局上面3个水平布局管理器</span>
        vbox <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span> 
        vbox<span class="token punctuation">.</span>addSpacing<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addLayout<span class="token punctuation">(</span>hbox_acc<span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addSpacing<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addLayout<span class="token punctuation">(</span>hbox_pw<span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addLayout<span class="token punctuation">(</span>hbox_btn<span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addSpacing<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token comment"># 将垂直布局管理器应用到窗口</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>vbox<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 显示窗口</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> 
    win <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>执行后结果如下：<br> <img src="https://images2.imgbox.com/93/5e/YWPG9MCV_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3htmltable_125"></a>(3)栅格布局窗口(类似于html中的table)</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QGridLayout
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon

<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'栅格布局'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 初始化界面</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 显示窗口</span>
    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>   <span class="token comment">#创建一个5*5的数组，后面会逐一放入栅格</span>
        keys <span class="token operator">=</span> <span class="token punctuation">[</span>
            <span class="token punctuation">[</span><span class="token string">'('</span><span class="token punctuation">,</span> <span class="token string">')'</span><span class="token punctuation">,</span> <span class="token string">'Back'</span><span class="token punctuation">,</span> <span class="token string">'Clear'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'7'</span><span class="token punctuation">,</span>  <span class="token string">'8'</span><span class="token punctuation">,</span>  <span class="token string">'9'</span><span class="token punctuation">,</span>  <span class="token string">'/'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
            <span class="token punctuation">[</span><span class="token string">'4'</span><span class="token punctuation">,</span>  <span class="token string">'5'</span><span class="token punctuation">,</span>  <span class="token string">'6'</span><span class="token punctuation">,</span>  <span class="token string">'*'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
            <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span>  <span class="token string">'2'</span><span class="token punctuation">,</span>  <span class="token string">'3'</span><span class="token punctuation">,</span>  <span class="token string">'-'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
            <span class="token punctuation">[</span><span class="token string">'0'</span><span class="token punctuation">,</span>  <span class="token string">'.'</span><span class="token punctuation">,</span>  <span class="token string">'='</span><span class="token punctuation">,</span>  <span class="token string">'+'</span><span class="token punctuation">]</span>
        <span class="token punctuation">]</span>  
        grid <span class="token operator">=</span> QGridLayout<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 创建网格布局管理器</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>grid<span class="token punctuation">)</span> <span class="token comment"># 将网格布局管理器应用到窗口</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                button <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
                grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>button<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span> <span class="token comment">#将元素放入栅格，i是横坐标，j是纵坐标</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> 
    win <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>执行后结果如下： <br> <img src="https://images2.imgbox.com/98/1c/SZVEDlS2_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4htmlform_163"></a>(4)表单布局窗口(类似于html中的form)</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QLabel<span class="token punctuation">,</span> QLineEdit<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QVBoxLayout<span class="token punctuation">,</span> QFormLayout
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt

<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'表单布局'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token comment"># 设置窗位置和大小</span>
        form <span class="token operator">=</span> QFormLayout<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 创建表单布局管理器</span>
        form<span class="token punctuation">.</span>setLabelAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignmentFlag<span class="token punctuation">.</span>AlignRight<span class="token punctuation">)</span> <span class="token comment">#设置标签右对齐（默认左对齐）</span>
        name <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#单行文本编辑框</span>
        mobile <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        passwd <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        addr <span class="token operator">=</span> QLineEdit<span class="token punctuation">(</span><span class="token punctuation">)</span>
        form<span class="token punctuation">.</span>addRow<span class="token punctuation">(</span><span class="token string">'姓名'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token comment">#将文本放入form中</span>
        form<span class="token punctuation">.</span>addRow<span class="token punctuation">(</span><span class="token string">'移动电话'</span><span class="token punctuation">,</span> mobile<span class="token punctuation">)</span>
        form<span class="token punctuation">.</span>addRow<span class="token punctuation">(</span><span class="token string">'密码'</span><span class="token punctuation">,</span> passwd<span class="token punctuation">)</span>
        form<span class="token punctuation">.</span>addRow<span class="token punctuation">(</span><span class="token string">'通讯地址'</span><span class="token punctuation">,</span> addr<span class="token punctuation">)</span>
        name<span class="token punctuation">.</span>setPlaceholderText<span class="token punctuation">(</span><span class="token string">"请输入姓名"</span><span class="token punctuation">)</span> <span class="token comment">#设置placeholder灰体默认值</span>
        mobile<span class="token punctuation">.</span>setPlaceholderText<span class="token punctuation">(</span><span class="token string">"请输入移动电话"</span><span class="token punctuation">)</span>
        passwd<span class="token punctuation">.</span>setPlaceholderText<span class="token punctuation">(</span><span class="token string">"请输入密码"</span><span class="token punctuation">)</span>
        addr<span class="token punctuation">.</span>setPlaceholderText<span class="token punctuation">(</span><span class="token string">"请输入通讯地址"</span><span class="token punctuation">)</span>
        name<span class="token punctuation">.</span>setEchoMode<span class="token punctuation">(</span>QLineEdit<span class="token punctuation">.</span>EchoMode<span class="token punctuation">.</span>Normal<span class="token punctuation">)</span> <span class="token comment">#EchoMode为Normal：显示输入的字符。这是默认值</span>
        mobile<span class="token punctuation">.</span>setEchoMode<span class="token punctuation">(</span>QLineEdit<span class="token punctuation">.</span>EchoMode<span class="token punctuation">.</span>NoEcho<span class="token punctuation">)</span> <span class="token comment">#EchoMode为NoEcho：不显示任何东西。这可能适用于连密码长度都应该保密的密码。</span>
        passwd<span class="token punctuation">.</span>setEchoMode<span class="token punctuation">(</span>QLineEdit<span class="token punctuation">.</span>EchoMode<span class="token punctuation">.</span>Password<span class="token punctuation">)</span> <span class="token comment">#EchoMode为Password：显示平台相关的密码掩码字符，而不是实际输入的字符。</span>
        addr<span class="token punctuation">.</span>setEchoMode<span class="token punctuation">(</span>QLineEdit<span class="token punctuation">.</span>EchoMode<span class="token punctuation">.</span>PasswordEchoOnEdit<span class="token punctuation">)</span> <span class="token comment">#EchoMode为PasswordEchoOnEdit：在编辑时显示输入的字符，否则显示与密码相同的字符。</span>
        btn_ok <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">'确定'</span><span class="token punctuation">)</span>
        vbox <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#垂直布局管理器布局</span>
        vbox<span class="token punctuation">.</span>addSpacing<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addLayout<span class="token punctuation">(</span>form<span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn_ok<span class="token punctuation">,</span> alignment<span class="token operator">=</span>Qt<span class="token punctuation">.</span>AlignmentFlag<span class="token punctuation">.</span>AlignCenter<span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addSpacing<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token comment"># 将垂直布局管理器应用到窗口</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>vbox<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 显示窗口</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> 
    win <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>执行后结果如下：<br> <img src="https://images2.imgbox.com/a3/1a/5BNRsKV6_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5_214"></a>(5)事件函数与事件过滤器</h3> 
<blockquote> 
 <p>常用的事件函数如下：<br> keyPressEvent()： 键盘按下事件 keyReleaseEvent()： 键盘释放事件<br> mouseDoubleClickEvent()： 鼠标双击事件<br> mouseMoveEvent()： 鼠标移动事件<br> mousePressEvent()： 鼠标按下事件<br> mouseReleaseEvent()： 鼠标释放事件<br> timerEvent()： 定时器事件<br> dragEnterEvent()： 拖拽进入当前窗口事件<br> dragLeaveEvent()： 拖拽离开当前窗口事件<br> dragMoveEvent()： 拖拽移动事件<br> enterEvent()： 进入窗口区域事件<br> leaveEvent()： 离开窗口区域事件<br> closeEvent()： 关闭窗口事件</p> 
</blockquote> 
<p>示例1–事件函数：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QLabel<span class="token punctuation">,</span> QHBoxLayout
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt

<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'事件和事件函数'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 初始化界面</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        lab <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">'按Esc键关闭窗口'</span><span class="token punctuation">)</span>
        box <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        box<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        box<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>lab<span class="token punctuation">)</span>
        box<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>box<span class="token punctuation">)</span>
	<span class="token comment">#重写"键盘按下事件"的事件函数，指定ESC键作为触发事件的键（如果不指定就是所有键都会触发事件）</span>
    <span class="token keyword">def</span> <span class="token function">keyPressEvent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> evt<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> evt<span class="token punctuation">.</span>key<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Qt<span class="token punctuation">.</span>Key<span class="token punctuation">.</span>Key_Escape<span class="token punctuation">.</span>value<span class="token punctuation">:</span> <span class="token comment">#Qt.Key对应的键盘下面有对照表</span>
            self<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> 
    win <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>执行后结果如下：<br> <img src="https://images2.imgbox.com/2b/63/95BogX0k_o.png" alt="在这里插入图片描述"><br> Qt.Key对应的键盘对照如下：</p> 
<blockquote> 
 <p>Qt::Key_Escape 0x01000000 Esc键<br> Qt::Key_Tab 0x01000001 Tab键 Qt::Key_Backtab 0x01000002 Tab补全键<br> Qt::Key_Backspace 0x01000003 退格键 Qt::Key_Return 0x01000004 Return键<br> Qt::Key_Enter 0x01000005 回车键 Qt::Key_Insert 0x01000006 Insert键<br> Qt::Key_Delete 0x01000007 Delete键 Qt::Key_Pause 0x01000008 暂停键<br> Qt::Key_Print 0x01000009 截图键 Qt::Key_SysReq 0x0100000a PrtSc<br> Qt::Key_Clear 0x0100000b 清除键 Qt::Key_Home 0x01000010 Home键<br> Qt::Key_End 0x01000011 End键 Qt::Key_Left 0x01000012 ←<br> Qt::Key_Up 0x01000013 ↑ Qt::Key_Right 0x01000014 →<br> Qt::Key_Down 0x01000015 ↓ Qt::Key_PageUp 0x01000016 上页<br> Qt::Key_PageDown 0x01000017 下页 Qt::Key_Shift 0x01000020 Shift键<br> Qt::Key_Control 0x01000021 Ctrl键 Qt::Key_Alt 0x01000023 Alt键<br> Qt::Key_AltGr 0x01001103 右侧Alt Qt::Key_CapsLock 0x01000024 大写键<br> Qt::Key_NumLock 0x01000025 NumLock Qt::Key_ScrollLock 0x01000026 滚动锁定<br> Qt::Key_F1 0x01000030 F1~F12 Qt::Key_F2 0x01000031 <br> Qt::Key_F3 0x01000032 Qt::Key_F4 0x01000033 Qt::Key_F5 0x01000034 <br> Qt::Key_F6 0x01000035 Qt::Key_F7 0x01000036 Qt::Key_F8 0x01000037 <br> Qt::Key_F9 0x01000038 Qt::Key_F10 0x01000039 <br> Qt::Key_F11 0x0100003a Qt::Key_F12 0x0100003b <br> Qt::Key_Menu 0x01000055 菜单键 Qt::Key_Help 0x01000058 Help键<br> Qt::Key_Space 0x20 空格键 Qt::Key_Exclam 0x21 ！ Qt::Key_QuoteDbl 0x22 引用<br> Qt::Key_NumberSign 0x23 # Qt::Key_Dollar 0x24 $ Qt::Key_Percent 0x25 %<br> Qt::Key_Ampersand 0x26 &amp; Qt::Key_Apostrophe 0x27 分词符" ’ "<br> Qt::Key_ParenLeft 0x28 ( Qt::Key_ParenRight 0x29 ）<br> Qt::Key_Asterisk 0x2a * Qt::Key_Plus 0x2b + Qt::Key_Comma 0x2c ，<br> Qt::Key_Minus 0x2d - Qt::Key_Period 0x2e 。 Qt::Key_Slash 0x2f /<br> Qt::Key_0 0x30 数字0~9 Qt::Key_1 0x31 Qt::Key_2 0x32 Qt::Key_3 0x33 <br> Qt::Key_4 0x34 Qt::Key_5 0x35 Qt::Key_6 0x36 Qt::Key_7 0x37 <br> Qt::Key_8 0x38 Qt::Key_9 0x39 Qt::Key_Colon 0x3a :<br> Qt::Key_Semicolon 0x3b ; Qt::Key_Less 0x3c &lt; Qt::Key_Equal 0x3d 等于<br> Qt::Key_Greater 0x3e &gt; Qt::Key_Question 0x3f ？ Qt::Key_At 0x40 @<br> Qt::Key_A 0x41 字母键 Qt::Key_B 0x42 Qt::Key_C 0x43 Qt::Key_D 0x44 <br> Qt::Key_E 0x45 Qt::Key_F 0x46 Qt::Key_G 0x47 Qt::Key_H 0x48 <br> Qt::Key_I 0x49 Qt::Key_J 0x4a Qt::Key_K 0x4b Qt::Key_L 0x4c <br> Qt::Key_M 0x4d Qt::Key_N 0x4e Qt::Key_O 0x4f Qt::Key_P 0x50 <br> Qt::Key_Q 0x51 Qt::Key_R 0x52 Qt::Key_S 0x53 Qt::Key_T 0x54 <br> Qt::Key_U 0x55 Qt::Key_V 0x56 Qt::Key_W 0x57 Qt::Key_X 0x58 <br> Qt::Key_Y 0x59 Qt::Key_Z 0x5a Qt::Key_BracketLeft 0x5b [<br> Qt::Key_Backslash 0x5c \ Qt::Key_BracketRight 0x5d ]<br> Qt::Key_AsciiCircum 0x5e ^ Qt::Key_Underscore 0x5f _<br> Qt::Key_QuoteLeft 0x60 “ Qt::Key_BraceLeft 0x7b { Qt::Key_Bar 0x7c |<br> Qt::Key_BraceRight 0x7d } Qt::Key_AsciiTilde 0x7e ~<br> Qt::Key_nobreakspace 0x0a0 不换行空格 Qt::Key_exclamdown 0x0a1 ！</p> 
</blockquote> 
<p>示例2–事件过滤器：<br> (在刚才的基础上增加导入QEvent，添加eventFilter方法，并在最后执行installEventFilter方法)</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QLabel<span class="token punctuation">,</span> QHBoxLayout
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt<span class="token punctuation">,</span> QEvent

<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'事件和事件函数'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 初始化界面</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
	    
    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        lab <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">'按Esc键关闭窗口'</span><span class="token punctuation">)</span>
        box <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        box<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        box<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>lab<span class="token punctuation">)</span>
        box<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>box<span class="token punctuation">)</span>
	<span class="token comment">#重写"键盘按下事件"的事件函数，指定ESC键作为触发事件的键（如果不指定就是所有键都会触发事件）</span>
    <span class="token keyword">def</span> <span class="token function">keyPressEvent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> evt<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> evt<span class="token punctuation">.</span>key<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Qt<span class="token punctuation">.</span>Key<span class="token punctuation">.</span>Key_Escape<span class="token punctuation">.</span>value<span class="token punctuation">:</span> 
            self<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">#事件过滤方法</span>
    <span class="token keyword">def</span> <span class="token function">eventFilter</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> objwatched<span class="token punctuation">,</span> evt<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> evt<span class="token punctuation">.</span><span class="token builtin">type</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> QEvent<span class="token punctuation">.</span>Type<span class="token punctuation">.</span>KeyPress<span class="token punctuation">.</span>value<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'忽略按键事件'</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
                
        <span class="token keyword">return</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>eventFilter<span class="token punctuation">(</span>objwatched<span class="token punctuation">,</span> evt<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> 
    win <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>installEventFilter<span class="token punctuation">(</span>win<span class="token punctuation">)</span> <span class="token comment">#安装本对象的事件过滤器</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>此时按Esc键无法关闭窗口</p> 
<h3><a id="6_357"></a>(6)信号和槽</h3> 
<p>介绍：信号（signal）和槽（slot）是Qt的核心机制，也是在PyQt编程中对象之间进行通信的机制。<br> 在创建事件循环之后，通过建立信号和槽的连接就可以实现对象之间的通信。当信号发射（emit）时，连接的槽函数将会自动执行。<br> 示例1–使用内置的信号和槽：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QPushButton<span class="token punctuation">,</span> QMessageBox<span class="token punctuation">,</span> QApplication<span class="token punctuation">,</span> QWidget

<span class="token keyword">class</span> <span class="token class-name">Window</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'按钮事件'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>btn <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">'按钮'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>init_ui<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">init_ui</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>btn<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>btn<span class="token punctuation">.</span>move<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>   <span class="token comment">#按钮的位置</span>
        self<span class="token punctuation">.</span>btn<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>btn_hand<span class="token punctuation">)</span> <span class="token comment">#使用connect绑定事件，点击按钮时触发</span>
        self<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">btn_hand</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        widget <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
        QMessageBox<span class="token punctuation">.</span>information<span class="token punctuation">(</span>widget<span class="token punctuation">,</span> <span class="token string">'Pop messgae'</span><span class="token punctuation">,</span> <span class="token string">'OK'</span><span class="token punctuation">)</span> <span class="token comment">#触发的事件时弹出会话框</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    window <span class="token operator">=</span> Window<span class="token punctuation">(</span><span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果如下：<br> <img src="https://images2.imgbox.com/bf/44/8OKoHnWh_o.png" alt="在这里插入图片描述"></p> 
<p>示例2–自定义信号和槽函数示例：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> pyqtSignal<span class="token punctuation">,</span> Qt
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token keyword">class</span> <span class="token class-name">WinForm</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 自定义信号，不带参数</span>
    button_clicked_signal <span class="token operator">=</span> pyqtSignal<span class="token punctuation">(</span><span class="token punctuation">)</span>
 
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> parent<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'自定义信号和槽函数示例'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
        <span class="token comment"># 接收信号，连接到自定义槽函数</span>
        self<span class="token punctuation">.</span>button_clicked_signal<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>pop_message<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">pop_message</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        QMessageBox<span class="token punctuation">.</span>information<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'Pop messgae'</span><span class="token punctuation">,</span> <span class="token string">'OK'</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">mousePressEvent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> event<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># 重写鼠标按下事件</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mousePressEvent<span class="token punctuation">(</span>event<span class="token punctuation">)</span>
        <span class="token keyword">if</span> event<span class="token punctuation">.</span>button<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> Qt<span class="token punctuation">.</span>MouseButton<span class="token punctuation">.</span>LeftButton<span class="token punctuation">:</span>     <span class="token comment"># 当鼠标左键单击时</span>
            self<span class="token punctuation">.</span>button_clicked_signal<span class="token punctuation">.</span>emit<span class="token punctuation">(</span><span class="token punctuation">)</span>     <span class="token comment"># 发射信号</span>
 
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    win <span class="token operator">=</span> WinForm<span class="token punctuation">(</span><span class="token punctuation">)</span>
    win<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果如下：<br> <img src="https://images2.imgbox.com/87/d9/2t5f27IZ_o.png" alt="在这里插入图片描述"></p> 
<p>示例三–结合信号和槽进行多线程操作：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span>QMainWindow<span class="token punctuation">,</span>QWidget<span class="token punctuation">,</span>QProgressBar<span class="token punctuation">,</span>QVBoxLayout<span class="token punctuation">,</span>QPushButton
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> QThread<span class="token punctuation">,</span>QObject<span class="token punctuation">,</span>pyqtSignal<span class="token punctuation">,</span>Qt
 
<span class="token comment">#线程函数 </span>
<span class="token keyword">class</span> <span class="token class-name">CountSever</span><span class="token punctuation">(</span>QObject<span class="token punctuation">)</span><span class="token punctuation">:</span>
    _isrun <span class="token operator">=</span> <span class="token boolean">False</span> <span class="token comment">#线程是否运行全局变量</span>
    countupdate <span class="token operator">=</span> pyqtSignal<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">#自定义信号</span>
 
    <span class="token comment">#构造函数</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> interval<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>  <span class="token comment">#-&gt; None 表示返回的数值类型不受限制</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>interval <span class="token operator">=</span> interval <span class="token comment">#执行间隔,初始化的时候在构造函数中指定,如self.cs1 = CountSever(100)代表每100ms执行一次</span>
 
    <span class="token comment">#判断单个线程是否运行</span>
    <span class="token keyword">def</span> <span class="token function">isrun</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>value<span class="token punctuation">:</span><span class="token builtin">bool</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_isrun <span class="token operator">=</span> value
 
    <span class="token comment">#线程运行函数</span>
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            <span class="token keyword">pass</span>
            <span class="token keyword">while</span> self<span class="token punctuation">.</span>_isrun<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>countupdate<span class="token punctuation">.</span>emit<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">#当线程运行时发射自定义信号</span>
                QThread<span class="token punctuation">.</span>msleep<span class="token punctuation">(</span>self<span class="token punctuation">.</span>interval<span class="token punctuation">)</span> <span class="token comment">#设置线程执行间隔</span>
 
 <span class="token comment">#进度条主界面，QMainWindow--顶层窗口类，重量级控件。</span>
<span class="token keyword">class</span> <span class="token class-name">MainWindow</span><span class="token punctuation">(</span>QMainWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>
    countstart <span class="token operator">=</span> pyqtSignal<span class="token punctuation">(</span><span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token comment">#自定义信号对象</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span> <span class="token comment">#-&gt; None 表示返回的数值类型不受限制</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span> 
        self<span class="token punctuation">.</span>init_ui<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setcenter<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#调用下面的居中方法</span>
 
 
    <span class="token keyword">def</span> <span class="token function">init_ui</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">"线程刷新进度条"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_widget <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setCentralWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>main_widget<span class="token punctuation">)</span> <span class="token comment">#居中展示</span>
        self<span class="token punctuation">.</span>main_layout <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">##垂直布局管理器布局</span>
        self<span class="token punctuation">.</span>main_layout<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignmentFlag<span class="token punctuation">.</span>AlignHCenter<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_widget<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>self<span class="token punctuation">.</span>main_layout<span class="token punctuation">)</span>
 
        <span class="token comment">#设置四个进度条</span>
        self<span class="token punctuation">.</span>progress_1 <span class="token operator">=</span> QProgressBar<span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token comment">#ProgressBar提供了一个水平或垂直的进度条，可以使用setMinimum()和setMaximum指定最小和最大步数</span>
        self<span class="token punctuation">.</span>progress_1<span class="token punctuation">.</span>setRange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>progress_1<span class="token punctuation">)</span> <span class="token comment">#在页面布局中添加进度条控件</span>
        self<span class="token punctuation">.</span>progress_2 <span class="token operator">=</span> QProgressBar<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>progress_2<span class="token punctuation">.</span>setRange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>progress_2<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_layout<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>progress_3 <span class="token operator">=</span> QProgressBar<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>progress_3<span class="token punctuation">.</span>setRange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>progress_3<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>progress_4 <span class="token operator">=</span> QProgressBar<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>progress_4<span class="token punctuation">.</span>setRange<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>progress_4<span class="token punctuation">)</span>
 
        self<span class="token punctuation">.</span>btn_start <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">"Start"</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>btn_start<span class="token punctuation">.</span>setFixedSize<span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">)</span>
        <span class="token comment">#点击start按钮触发下面定义的start方法，start方法会根据当前按钮发送True/Flase的信号给countstart自定义对象，然后这个True/Flase决定了isrun的结果，决定线程是否运行</span>
        self<span class="token punctuation">.</span>btn_start<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>start<span class="token punctuation">)</span> 
        self<span class="token punctuation">.</span>main_layout<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>btn_start<span class="token punctuation">)</span> <span class="token comment">#将开始按钮放入布局中</span>
        self<span class="token punctuation">.</span>main_layout<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>self<span class="token punctuation">.</span>btn_start<span class="token punctuation">,</span>Qt<span class="token punctuation">.</span>AlignmentFlag<span class="token punctuation">.</span>AlignCenter<span class="token punctuation">)</span>
        
        <span class="token comment"># thread</span>
        self<span class="token punctuation">.</span>cs1 <span class="token operator">=</span> CountSever<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment">#每100ms执行一次</span>
        <span class="token comment">#自定义信号绑定下面的事件countupdate，下面的 self.progress_1.setValue(self.progress_1.value() + 1)表示执行一次进度条progress_1的值加一，range值是0-100，加到100便会停止线程</span>
        self<span class="token punctuation">.</span>cs1<span class="token punctuation">.</span>countupdate<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>countupdate<span class="token punctuation">)</span> 
        self<span class="token punctuation">.</span>countstart<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>cs1<span class="token punctuation">.</span>isrun<span class="token punctuation">)</span> <span class="token comment">#自定义信号绑定下面的事件：判断线程是否在运行</span>
        self<span class="token punctuation">.</span>th1 <span class="token operator">=</span> QThread<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>cs1<span class="token punctuation">.</span>moveToThread<span class="token punctuation">(</span>self<span class="token punctuation">.</span>th1<span class="token punctuation">)</span> <span class="token comment">#moveToThread函数：给多个任务各分配一个线程去执行</span>
        self<span class="token punctuation">.</span>th1<span class="token punctuation">.</span>started<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>cs1<span class="token punctuation">.</span>run<span class="token punctuation">)</span> <span class="token comment">#QThread提供了QThread::started()（当线程开始时发射）和QThread::finished()（在线程运行结束后发射）两个信号</span>
        self<span class="token punctuation">.</span>th1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#线程开始执行</span>
 
        self<span class="token punctuation">.</span>cs2 <span class="token operator">=</span> CountSever<span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>cs2<span class="token punctuation">.</span>countupdate<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>countupdate<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>countstart<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>cs2<span class="token punctuation">.</span>isrun<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>th2 <span class="token operator">=</span> QThread<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>cs2<span class="token punctuation">.</span>moveToThread<span class="token punctuation">(</span>self<span class="token punctuation">.</span>th2<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>th2<span class="token punctuation">.</span>started<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>cs2<span class="token punctuation">.</span>run<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>th2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
 
        self<span class="token punctuation">.</span>cs3 <span class="token operator">=</span> CountSever<span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>cs3<span class="token punctuation">.</span>countupdate<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>countupdate<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>countstart<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>cs3<span class="token punctuation">.</span>isrun<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>th3 <span class="token operator">=</span> QThread<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>cs3<span class="token punctuation">.</span>moveToThread<span class="token punctuation">(</span>self<span class="token punctuation">.</span>th3<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>th3<span class="token punctuation">.</span>started<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>cs3<span class="token punctuation">.</span>run<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>th3<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
 
        self<span class="token punctuation">.</span>cs4 <span class="token operator">=</span> CountSever<span class="token punctuation">(</span><span class="token number">1500</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>cs4<span class="token punctuation">.</span>countupdate<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>countupdate<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>countstart<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>cs4<span class="token punctuation">.</span>isrun<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>th4 <span class="token operator">=</span> QThread<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>cs4<span class="token punctuation">.</span>moveToThread<span class="token punctuation">(</span>self<span class="token punctuation">.</span>th4<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>th4<span class="token punctuation">.</span>started<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>cs4<span class="token punctuation">.</span>run<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>th4<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
 
    <span class="token keyword">def</span> <span class="token function">setcenter</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#界面居中显示</span>
        win_rect <span class="token operator">=</span> self<span class="token punctuation">.</span>frameGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span>
        screen_center <span class="token operator">=</span> self<span class="token punctuation">.</span>screen<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>availableGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span>
        win_rect<span class="token punctuation">.</span>moveCenter<span class="token punctuation">(</span>screen_center<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>move<span class="token punctuation">(</span>win_rect<span class="token punctuation">.</span>topLeft<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 
    <span class="token comment">#start方法会根据当前按钮发送True/Flase的信号给countstart自定义对象，然后这个True/Flase决定了isrun的结果，决定线程是否运行</span>
    <span class="token keyword">def</span> <span class="token function">start</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>btn_start<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"Start"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>countstart<span class="token punctuation">.</span>emit<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>btn_start<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"Pause"</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>btn_start<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"Pause"</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>countstart<span class="token punctuation">.</span>emit<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>btn_start<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">"Start"</span><span class="token punctuation">)</span>
 
    <span class="token keyword">def</span> <span class="token function">countupdate</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>sender<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>cs1<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>progress_1<span class="token punctuation">.</span>setValue<span class="token punctuation">(</span>self<span class="token punctuation">.</span>progress_1<span class="token punctuation">.</span>value<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>  <span class="token comment">#表示执行一次进度条progress_1的值加一，range值是0-100，加到100便会停止线程</span>
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>sender<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>cs2<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>progress_2<span class="token punctuation">.</span>setValue<span class="token punctuation">(</span>self<span class="token punctuation">.</span>progress_2<span class="token punctuation">.</span>value<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>sender<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>cs3<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>progress_3<span class="token punctuation">.</span>setValue<span class="token punctuation">(</span>self<span class="token punctuation">.</span>progress_3<span class="token punctuation">.</span>value<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> self<span class="token punctuation">.</span>sender<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> self<span class="token punctuation">.</span>cs4<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>progress_4<span class="token punctuation">.</span>setValue<span class="token punctuation">(</span>self<span class="token punctuation">.</span>progress_4<span class="token punctuation">.</span>value<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
 
 
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">""" 主程序运行 """</span>
 
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    main_window <span class="token operator">=</span> MainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    main_window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果如下：<br> <img src="https://images2.imgbox.com/f0/c0/e2fYPR9t_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_578"></a>四、实战示例</h3> 
<h3><a id="1_580"></a>(1)状态栏（追踪鼠标移动轨迹）</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QMainWindow<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QLabel<span class="token punctuation">,</span> QHBoxLayout
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon<span class="token punctuation">,</span> QPixmap
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt

<span class="token keyword">class</span> <span class="token class-name">MainWindow</span><span class="token punctuation">(</span>QMainWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'状态栏'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 初始化界面</span>
        self<span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 窗口在屏幕上居中</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 显示窗口</span>
    
    <span class="token keyword">def</span> <span class="token function">center</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        win_rect <span class="token operator">=</span> self<span class="token punctuation">.</span>frameGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 窗口矩形（QRect类）</span>
        scr_center <span class="token operator">=</span> self<span class="token punctuation">.</span>screen<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>availableGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 屏幕中心</span>
        win_rect<span class="token punctuation">.</span>moveCenter<span class="token punctuation">(</span>scr_center<span class="token punctuation">)</span> <span class="token comment"># 窗口矩形中心移动到屏幕中心</span>
        self<span class="token punctuation">.</span>move<span class="token punctuation">(</span>win_rect<span class="token punctuation">.</span>topLeft<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 移动窗口和窗口矩形重合</span>
    
    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
        lab <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token punctuation">)</span>
        box <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        box<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>lab<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_widget <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_widget<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>box<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setCentralWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>main_widget<span class="token punctuation">)</span>
        <span class="token comment"># 对于需要处理鼠标移动事件的部件，开启感知鼠标移动轨迹</span>
        lab<span class="token punctuation">.</span>setMouseTracking<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_widget<span class="token punctuation">.</span>setMouseTracking<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setMouseTracking<span class="token punctuation">(</span><span class="token boolean">True</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>sbar <span class="token operator">=</span> self<span class="token punctuation">.</span>statusBar<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 返回窗口状态栏</span>
        self<span class="token punctuation">.</span>mouth_info <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 显示鼠标坐标的标签</span>
        self<span class="token punctuation">.</span>sbar<span class="token punctuation">.</span>addPermanentWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>mouth_info<span class="token punctuation">)</span> <span class="token comment"># 将显示鼠标坐标的标签添加到状态栏</span>
        self<span class="token punctuation">.</span>sbar<span class="token punctuation">.</span>addPermanentWidget<span class="token punctuation">(</span>QLabel<span class="token punctuation">(</span><span class="token string">'版权所有 '</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 将版权声明添加到状态栏</span>
        self<span class="token punctuation">.</span>sbar<span class="token punctuation">.</span>showMessage<span class="token punctuation">(</span><span class="token string">'准备就绪'</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span> <span class="token comment"># 显示消息，3秒钟后消失</span>
    
    <span class="token keyword">def</span> <span class="token function">enterEvent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> evt<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""响应鼠标进入窗口事件"""</span>
		
        <span class="token comment">#QStatusBar.showMessage(str, msecs=0)：显示str消息持续msecs毫秒。如果msecs为0（默认），则消息将一直显示，直到调用clearMessage()或再次showMessage以更改消息。</span>
        self<span class="token punctuation">.</span>sbar<span class="token punctuation">.</span>showMessage<span class="token punctuation">(</span><span class="token string">'鼠标进入'</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span> 

    
    <span class="token keyword">def</span> <span class="token function">leaveEvent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> evt<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""响应鼠标离开窗口事件"""</span>
        
        self<span class="token punctuation">.</span>sbar<span class="token punctuation">.</span>showMessage<span class="token punctuation">(</span><span class="token string">'鼠标离开'</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>mouth_info<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">mouseMoveEvent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> evt<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""响应鼠标移动事件"""</span>
        
        pos <span class="token operator">=</span> evt<span class="token punctuation">.</span>position<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>mouth_info<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'x=%d, y=%d '</span><span class="token operator">%</span><span class="token punctuation">(</span>pos<span class="token punctuation">.</span>x<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pos<span class="token punctuation">.</span>y<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> 
    win <span class="token operator">=</span> MainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果如下：<br> <img src="https://images2.imgbox.com/56/7c/e2ipniBz_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="2_649"></a>(2)菜单栏</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QMainWindow
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon<span class="token punctuation">,</span> QAction

<span class="token keyword">class</span> <span class="token class-name">MainWindow</span><span class="token punctuation">(</span>QMainWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'菜单栏'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 初始化界面</span>
        self<span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 窗口在屏幕上居中</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 显示窗口</span>
    
    <span class="token keyword">def</span> <span class="token function">center</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        win_rect <span class="token operator">=</span> self<span class="token punctuation">.</span>frameGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 窗口矩形（QRect类）</span>
        scr_center <span class="token operator">=</span> self<span class="token punctuation">.</span>screen<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>availableGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 屏幕中心</span>
        win_rect<span class="token punctuation">.</span>moveCenter<span class="token punctuation">(</span>scr_center<span class="token punctuation">)</span> <span class="token comment"># 窗口矩形中心移动到屏幕中心</span>
        self<span class="token punctuation">.</span>move<span class="token punctuation">(</span>win_rect<span class="token punctuation">.</span>topLeft<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 移动窗口和窗口矩形重合</span>
    
    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>sbar <span class="token operator">=</span> self<span class="token punctuation">.</span>statusBar<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 返回窗口状态栏</span>
        <span class="token comment">#openAction = QAction(QIcon('res/open_mso.png'), '&amp;打开', self) 可以在第一个参数设置图片</span>
        openAction <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">'&amp;打开'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        openAction<span class="token punctuation">.</span>setShortcut<span class="token punctuation">(</span><span class="token string">'Ctrl+O'</span><span class="token punctuation">)</span>  <span class="token comment">#设置快捷键</span>
        openAction<span class="token punctuation">.</span>setStatusTip<span class="token punctuation">(</span><span class="token string">'打开文件'</span><span class="token punctuation">)</span> <span class="token comment">#设置状态提示文字</span>
        openAction<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span> <span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'此处弹出打开文件的对话框'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        
        saveAction <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">'&amp;保存'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        saveAction<span class="token punctuation">.</span>setShortcut<span class="token punctuation">(</span><span class="token string">'Ctrl+S'</span><span class="token punctuation">)</span>
        saveAction<span class="token punctuation">.</span>setStatusTip<span class="token punctuation">(</span><span class="token string">'保存文件'</span><span class="token punctuation">)</span>
        saveAction<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span> <span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'此处弹出保存文件的对话框'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        
        quitAction <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">'&amp;退出'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        quitAction<span class="token punctuation">.</span>setShortcut<span class="token punctuation">(</span><span class="token string">'Ctrl+Q'</span><span class="token punctuation">)</span>
        quitAction<span class="token punctuation">.</span>setStatusTip<span class="token punctuation">(</span><span class="token string">'退出程序'</span><span class="token punctuation">)</span>
        quitAction<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>close<span class="token punctuation">)</span>
        
        singleAction <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">'&amp;个人权限'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        singleAction<span class="token punctuation">.</span>setStatusTip<span class="token punctuation">(</span><span class="token string">'个人权限'</span><span class="token punctuation">)</span>
        singleAction<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span> <span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'此处响应个人权限操作'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        
        groupAction <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">'&amp;组权限'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        groupAction<span class="token punctuation">.</span>setStatusTip<span class="token punctuation">(</span><span class="token string">'组权限'</span><span class="token punctuation">)</span>
        groupAction<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span> <span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'此处响应组权限操作'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 
        mb <span class="token operator">=</span> self<span class="token punctuation">.</span>menuBar<span class="token punctuation">(</span><span class="token punctuation">)</span>
        fm <span class="token operator">=</span> mb<span class="token punctuation">.</span>addMenu<span class="token punctuation">(</span><span class="token string">'&amp;文件'</span><span class="token punctuation">)</span>
        fm<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>openAction<span class="token punctuation">)</span>
        fm<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>saveAction<span class="token punctuation">)</span>
        fm<span class="token punctuation">.</span>addSeparator<span class="token punctuation">(</span><span class="token punctuation">)</span>
        subMenu <span class="token operator">=</span> fm<span class="token punctuation">.</span>addMenu<span class="token punctuation">(</span><span class="token string">'权限'</span><span class="token punctuation">)</span>
        subMenu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>singleAction<span class="token punctuation">)</span>
        subMenu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>groupAction<span class="token punctuation">)</span>
        fm<span class="token punctuation">.</span>addSeparator<span class="token punctuation">(</span><span class="token punctuation">)</span>
        fm<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>quitAction<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> 
    win <span class="token operator">=</span> MainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果如下：<br> <img src="https://images2.imgbox.com/e8/dc/TN5KFYvJ_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="3_718"></a>(3)工具栏</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QMainWindow<span class="token punctuation">,</span> QToolBar
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon<span class="token punctuation">,</span> QAction
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt

<span class="token keyword">class</span> <span class="token class-name">MainWindow</span><span class="token punctuation">(</span>QMainWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'工具栏'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 初始化界面</span>
        self<span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 窗口在屏幕上居中</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 显示窗口</span>
    
    <span class="token keyword">def</span> <span class="token function">center</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        win_rect <span class="token operator">=</span> self<span class="token punctuation">.</span>frameGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 窗口矩形（QRect类）</span>
        scr_center <span class="token operator">=</span> self<span class="token punctuation">.</span>screen<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>availableGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 屏幕中心</span>
        win_rect<span class="token punctuation">.</span>moveCenter<span class="token punctuation">(</span>scr_center<span class="token punctuation">)</span> <span class="token comment"># 窗口矩形中心移动到屏幕中心</span>
        self<span class="token punctuation">.</span>move<span class="token punctuation">(</span>win_rect<span class="token punctuation">.</span>topLeft<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 移动窗口和窗口矩形重合</span>
    
    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>sbar <span class="token operator">=</span> self<span class="token punctuation">.</span>statusBar<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 返回窗口状态栏</span>
        <span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QMainWindow<span class="token punctuation">,</span> QToolBar
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon<span class="token punctuation">,</span> QAction
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt

<span class="token keyword">class</span> <span class="token class-name">MainWindow</span><span class="token punctuation">(</span>QMainWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'工具栏'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>resize<span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 初始化界面</span>
        self<span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 窗口在屏幕上居中</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 显示窗口</span>
    
    <span class="token keyword">def</span> <span class="token function">center</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        win_rect <span class="token operator">=</span> self<span class="token punctuation">.</span>frameGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 窗口矩形（QRect类）</span>
        scr_center <span class="token operator">=</span> self<span class="token punctuation">.</span>screen<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>availableGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 屏幕中心</span>
        win_rect<span class="token punctuation">.</span>moveCenter<span class="token punctuation">(</span>scr_center<span class="token punctuation">)</span> <span class="token comment"># 窗口矩形中心移动到屏幕中心</span>
        self<span class="token punctuation">.</span>move<span class="token punctuation">(</span>win_rect<span class="token punctuation">.</span>topLeft<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 移动窗口和窗口矩形重合</span>
    
    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>sbar <span class="token operator">=</span> self<span class="token punctuation">.</span>statusBar<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 返回窗口状态栏</span>
        <span class="token comment">#openAction = QAction(QIcon('res/open_mso.png'), '&amp;打开', self) 可添加图标图片</span>
        openAction <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">'&amp;打开'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        openAction<span class="token punctuation">.</span>setShortcut<span class="token punctuation">(</span><span class="token string">'Ctrl+O'</span><span class="token punctuation">)</span>
        openAction<span class="token punctuation">.</span>setStatusTip<span class="token punctuation">(</span><span class="token string">'打开文件'</span><span class="token punctuation">)</span>
        openAction<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span> <span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'此处弹出打开文件的对话框'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        
        saveAction <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">'&amp;保存'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        saveAction<span class="token punctuation">.</span>setShortcut<span class="token punctuation">(</span><span class="token string">'Ctrl+S'</span><span class="token punctuation">)</span>
        saveAction<span class="token punctuation">.</span>setStatusTip<span class="token punctuation">(</span><span class="token string">'保存文件'</span><span class="token punctuation">)</span>
        saveAction<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span> <span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'此处弹出保存文件的对话框'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        
        quitAction <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">'&amp;退出'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        quitAction<span class="token punctuation">.</span>setShortcut<span class="token punctuation">(</span><span class="token string">'Ctrl+Q'</span><span class="token punctuation">)</span>
        quitAction<span class="token punctuation">.</span>setStatusTip<span class="token punctuation">(</span><span class="token string">'退出程序'</span><span class="token punctuation">)</span>
        quitAction<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>close<span class="token punctuation">)</span>
        
        singleAction <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">'&amp;个人权限'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        singleAction<span class="token punctuation">.</span>setStatusTip<span class="token punctuation">(</span><span class="token string">'个人权限'</span><span class="token punctuation">)</span>
        singleAction<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span> <span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'此处响应个人权限操作'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        
        groupAction <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">'&amp;组权限'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        groupAction<span class="token punctuation">.</span>setStatusTip<span class="token punctuation">(</span><span class="token string">'组权限'</span><span class="token punctuation">)</span>
        groupAction<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span> <span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'此处响应组权限操作'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 
        mb <span class="token operator">=</span> self<span class="token punctuation">.</span>menuBar<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        fm <span class="token operator">=</span> mb<span class="token punctuation">.</span>addMenu<span class="token punctuation">(</span><span class="token string">'&amp;文件'</span><span class="token punctuation">)</span>
        fm<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>openAction<span class="token punctuation">)</span>
        fm<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>saveAction<span class="token punctuation">)</span>
        
        fm<span class="token punctuation">.</span>addSeparator<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#添加分割线</span>
        subMenu <span class="token operator">=</span> fm<span class="token punctuation">.</span>addMenu<span class="token punctuation">(</span><span class="token string">'权限'</span><span class="token punctuation">)</span>
        subMenu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>singleAction<span class="token punctuation">)</span>
        subMenu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>groupAction<span class="token punctuation">)</span>
        
        fm<span class="token punctuation">.</span>addSeparator<span class="token punctuation">(</span><span class="token punctuation">)</span>
        fm<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>quitAction<span class="token punctuation">)</span>
        
        tb <span class="token operator">=</span> self<span class="token punctuation">.</span>addToolBar<span class="token punctuation">(</span><span class="token string">'文件'</span><span class="token punctuation">)</span>
        tb<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>openAction<span class="token punctuation">)</span>
        tb<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>saveAction<span class="token punctuation">)</span>
        
        tb <span class="token operator">=</span> self<span class="token punctuation">.</span>addToolBar<span class="token punctuation">(</span><span class="token string">'退出'</span><span class="token punctuation">)</span>
        tb<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>quitAction<span class="token punctuation">)</span>
        
        tb <span class="token operator">=</span> QToolBar<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        tb<span class="token punctuation">.</span>setObjectName<span class="token punctuation">(</span><span class="token string">'权限'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>addToolBar<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>ToolBarArea<span class="token punctuation">.</span>RightToolBarArea<span class="token punctuation">,</span> tb<span class="token punctuation">)</span>
        tb<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>singleAction<span class="token punctuation">)</span>
        tb<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>groupAction<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> 
    win <span class="token operator">=</span> MainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        openAction <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">'&amp;打开'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        openAction<span class="token punctuation">.</span>setShortcut<span class="token punctuation">(</span><span class="token string">'Ctrl+O'</span><span class="token punctuation">)</span>
        openAction<span class="token punctuation">.</span>setStatusTip<span class="token punctuation">(</span><span class="token string">'打开文件'</span><span class="token punctuation">)</span>
        openAction<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span> <span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'此处弹出打开文件的对话框'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        
        saveAction <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">'&amp;保存'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        saveAction<span class="token punctuation">.</span>setShortcut<span class="token punctuation">(</span><span class="token string">'Ctrl+S'</span><span class="token punctuation">)</span>
        saveAction<span class="token punctuation">.</span>setStatusTip<span class="token punctuation">(</span><span class="token string">'保存文件'</span><span class="token punctuation">)</span>
        saveAction<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span> <span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'此处弹出保存文件的对话框'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        
        quitAction <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">'&amp;退出'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        quitAction<span class="token punctuation">.</span>setShortcut<span class="token punctuation">(</span><span class="token string">'Ctrl+Q'</span><span class="token punctuation">)</span>
        quitAction<span class="token punctuation">.</span>setStatusTip<span class="token punctuation">(</span><span class="token string">'退出程序'</span><span class="token punctuation">)</span>
        quitAction<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>close<span class="token punctuation">)</span>
        
        singleAction <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">'&amp;个人权限'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        singleAction<span class="token punctuation">.</span>setStatusTip<span class="token punctuation">(</span><span class="token string">'个人权限'</span><span class="token punctuation">)</span>
        singleAction<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span> <span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'此处响应个人权限操作'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        
        groupAction <span class="token operator">=</span> QAction<span class="token punctuation">(</span><span class="token string">'&amp;组权限'</span><span class="token punctuation">,</span> self<span class="token punctuation">)</span>
        groupAction<span class="token punctuation">.</span>setStatusTip<span class="token punctuation">(</span><span class="token string">'组权限'</span><span class="token punctuation">)</span>
        groupAction<span class="token punctuation">.</span>triggered<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token keyword">lambda</span> <span class="token punctuation">:</span> <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'此处响应组权限操作'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 
        mb <span class="token operator">=</span> self<span class="token punctuation">.</span>menuBar<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        fm <span class="token operator">=</span> mb<span class="token punctuation">.</span>addMenu<span class="token punctuation">(</span><span class="token string">'&amp;文件'</span><span class="token punctuation">)</span>
        fm<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>openAction<span class="token punctuation">)</span>
        fm<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>saveAction<span class="token punctuation">)</span>
        
        fm<span class="token punctuation">.</span>addSeparator<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#添加分割线</span>
        subMenu <span class="token operator">=</span> fm<span class="token punctuation">.</span>addMenu<span class="token punctuation">(</span><span class="token string">'权限'</span><span class="token punctuation">)</span>
        subMenu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>singleAction<span class="token punctuation">)</span>
        subMenu<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>groupAction<span class="token punctuation">)</span>
        
        fm<span class="token punctuation">.</span>addSeparator<span class="token punctuation">(</span><span class="token punctuation">)</span>
        fm<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>quitAction<span class="token punctuation">)</span>
        
        tb <span class="token operator">=</span> self<span class="token punctuation">.</span>addToolBar<span class="token punctuation">(</span><span class="token string">'文件'</span><span class="token punctuation">)</span>
        tb<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>openAction<span class="token punctuation">)</span>
        tb<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>saveAction<span class="token punctuation">)</span>
        
        tb <span class="token operator">=</span> self<span class="token punctuation">.</span>addToolBar<span class="token punctuation">(</span><span class="token string">'退出'</span><span class="token punctuation">)</span>
        tb<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>quitAction<span class="token punctuation">)</span>
        
        tb <span class="token operator">=</span> QToolBar<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        tb<span class="token punctuation">.</span>setObjectName<span class="token punctuation">(</span><span class="token string">'权限'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>addToolBar<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>ToolBarArea<span class="token punctuation">.</span>RightToolBarArea<span class="token punctuation">,</span> tb<span class="token punctuation">)</span>
        tb<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>singleAction<span class="token punctuation">)</span>
        tb<span class="token punctuation">.</span>addAction<span class="token punctuation">(</span>groupAction<span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> 
    win <span class="token operator">=</span> MainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果如下：<br> <img src="https://images2.imgbox.com/47/82/8F0pDU3H_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="4_881"></a>(4)对话框</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys<span class="token punctuation">,</span> os
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QMainWindow<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QGridLayout<span class="token punctuation">,</span> QMessageBox<span class="token punctuation">,</span> QInputDialog<span class="token punctuation">,</span> QColorDialog<span class="token punctuation">,</span> QFileDialog
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt

<span class="token keyword">class</span> <span class="token class-name">MainWindow</span><span class="token punctuation">(</span>QMainWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'对话框'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        grid <span class="token operator">=</span> QGridLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        btns <span class="token operator">=</span> <span class="token punctuation">[</span>
            <span class="token punctuation">[</span><span class="token string">'通知消息'</span><span class="token punctuation">,</span> <span class="token string">'警告消息'</span><span class="token punctuation">,</span> <span class="token string">'错误消息'</span><span class="token punctuation">,</span> <span class="token string">'确认消息'</span><span class="token punctuation">,</span> <span class="token string">'关于'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'颜色选择'</span><span class="token punctuation">,</span> <span class="token string">'保存文件'</span><span class="token punctuation">,</span> <span class="token string">'打开文件'</span><span class="token punctuation">,</span> <span class="token string">'选择路径'</span><span class="token punctuation">,</span> <span class="token string">'输入'</span><span class="token punctuation">]</span>
        <span class="token punctuation">]</span>
        
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                btn <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span>btns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
                btn<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>on_button<span class="token punctuation">)</span>
                grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
        
        self<span class="token punctuation">.</span>main_widget <span class="token operator">=</span> QWidget<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>main_widget<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>grid<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setCentralWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>main_widget<span class="token punctuation">)</span>
        
        self<span class="token punctuation">.</span>sbar <span class="token operator">=</span> self<span class="token punctuation">.</span>statusBar<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>sbar<span class="token punctuation">.</span>showMessage<span class="token punctuation">(</span><span class="token string">'Ready'</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">on_button</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""响应按键"""</span>
        
        key <span class="token operator">=</span> self<span class="token punctuation">.</span>sender<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">#在槽函数种调用该方法可以返回信号的发出者</span>
        self<span class="token punctuation">.</span>sbar<span class="token punctuation">.</span>showMessage<span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
        <span class="token comment">#QMessageBox.information/warning/critical/question/about这几个方法的图标不一样</span>
        <span class="token comment">#方法API--int QMessageBox::information(QWidget *parent, const QString &amp;title, const QString &amp;text, button0|button1|button2)</span>
        <span class="token comment">#parent是父组件指针，title标题，text是文本文字，button0、1和 2是三个按钮，每个按钮间以|隔开。</span>
        <span class="token keyword">if</span> key <span class="token operator">==</span> <span class="token string">'通知消息'</span><span class="token punctuation">:</span>
            reply <span class="token operator">=</span> QMessageBox<span class="token punctuation">.</span>information<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'提示'</span><span class="token punctuation">,</span> <span class="token string">'对手认负，比赛结束。'</span><span class="token punctuation">,</span> 
                QMessageBox<span class="token punctuation">.</span>StandardButton<span class="token punctuation">.</span>Ok           
            <span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>sbar<span class="token punctuation">.</span>showMessage<span class="token punctuation">(</span>reply<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> key <span class="token operator">==</span> <span class="token string">'警告消息'</span><span class="token punctuation">:</span>
            reply <span class="token operator">=</span> QMessageBox<span class="token punctuation">.</span>warning<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'警告'</span><span class="token punctuation">,</span> <span class="token string">'不能连续提和！'</span><span class="token punctuation">,</span> 
                QMessageBox<span class="token punctuation">.</span>StandardButton<span class="token punctuation">.</span>Ok
            <span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>sbar<span class="token punctuation">.</span>showMessage<span class="token punctuation">(</span>reply<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> key <span class="token operator">==</span> <span class="token string">'错误消息'</span><span class="token punctuation">:</span>
            reply <span class="token operator">=</span> QMessageBox<span class="token punctuation">.</span>critical<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'错误'</span><span class="token punctuation">,</span> <span class="token string">'着法错误！'</span><span class="token punctuation">,</span> 
                QMessageBox<span class="token punctuation">.</span>StandardButton<span class="token punctuation">.</span>Retry<span class="token operator">|</span>QMessageBox<span class="token punctuation">.</span>StandardButton<span class="token punctuation">.</span>Ignore<span class="token operator">|</span>QMessageBox<span class="token punctuation">.</span>StandardButton<span class="token punctuation">.</span>Abort<span class="token operator">|</span>QMessageBox<span class="token punctuation">.</span>StandardButton<span class="token punctuation">.</span>Cancel
            <span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>sbar<span class="token punctuation">.</span>showMessage<span class="token punctuation">(</span>reply<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> key <span class="token operator">==</span> <span class="token string">'确认消息'</span><span class="token punctuation">:</span>
            reply <span class="token operator">=</span> QMessageBox<span class="token punctuation">.</span>question<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'请选择'</span><span class="token punctuation">,</span> <span class="token string">'对手提和，接受吗？'</span><span class="token punctuation">,</span> 
                QMessageBox<span class="token punctuation">.</span>StandardButton<span class="token punctuation">.</span>Yes <span class="token operator">|</span> QMessageBox<span class="token punctuation">.</span>StandardButton<span class="token punctuation">.</span>No <span class="token operator">|</span> QMessageBox<span class="token punctuation">.</span>StandardButton<span class="token punctuation">.</span>Cancel
            <span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>sbar<span class="token punctuation">.</span>showMessage<span class="token punctuation">(</span>reply<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>  <span class="token comment">#把按钮的选择结果展示到左下角消息展示栏</span>
        <span class="token keyword">elif</span> key <span class="token operator">==</span> <span class="token string">'关于'</span><span class="token punctuation">:</span>
            QMessageBox<span class="token punctuation">.</span>about<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'关于'</span><span class="token punctuation">,</span> <span class="token string">'云顶之弈 S9垃圾版本'</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> key <span class="token operator">==</span> <span class="token string">'颜色选择'</span><span class="token punctuation">:</span>
            color <span class="token operator">=</span> QColorDialog<span class="token punctuation">.</span>getColor<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> color<span class="token punctuation">.</span>isValid<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>sbar<span class="token punctuation">.</span>showMessage<span class="token punctuation">(</span>color<span class="token punctuation">.</span>name<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> key <span class="token operator">==</span> <span class="token string">'保存文件'</span><span class="token punctuation">:</span>
            dase_dir <span class="token operator">=</span> os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span>
            file_type <span class="token operator">=</span> <span class="token string">'Python Files (*.py);;Text Files (*.txt);;All Files (*)'</span>  <span class="token comment">#选择需要保存的文件格式:python或者txt</span>
            fname<span class="token punctuation">,</span> fext <span class="token operator">=</span> QFileDialog<span class="token punctuation">.</span>getSaveFileName<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'保存文件'</span><span class="token punctuation">,</span> directory<span class="token operator">=</span>dase_dir<span class="token punctuation">,</span> <span class="token builtin">filter</span><span class="token operator">=</span>file_type<span class="token punctuation">)</span>
            <span class="token keyword">if</span> fname<span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>sbar<span class="token punctuation">.</span>showMessage<span class="token punctuation">(</span>fname<span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> key <span class="token operator">==</span> <span class="token string">'打开文件'</span><span class="token punctuation">:</span>
            dase_dir <span class="token operator">=</span> os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span>
            file_type <span class="token operator">=</span> <span class="token string">'Python Files (*.py);;Text Files (*.txt);;All Files (*)'</span>  <span class="token comment">#选择需要保存的文件格式:python或者txt</span>
            fname <span class="token operator">=</span> QFileDialog<span class="token punctuation">.</span>getOpenFileName<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'选择文件'</span><span class="token punctuation">,</span> directory<span class="token operator">=</span>dase_dir<span class="token punctuation">,</span> <span class="token builtin">filter</span><span class="token operator">=</span>file_type<span class="token punctuation">)</span>
            <span class="token keyword">if</span> fname<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
                self<span class="token punctuation">.</span>sbar<span class="token punctuation">.</span>showMessage<span class="token punctuation">(</span>fname<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> key <span class="token operator">==</span> <span class="token string">'选择路径'</span><span class="token punctuation">:</span>
            dase_dir <span class="token operator">=</span> os<span class="token punctuation">.</span>getcwd<span class="token punctuation">(</span><span class="token punctuation">)</span>
            folder <span class="token operator">=</span> QFileDialog<span class="token punctuation">.</span>getExistingDirectory<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'选择文件夹'</span><span class="token punctuation">,</span> directory<span class="token operator">=</span>dase_dir<span class="token punctuation">)</span>
            self<span class="token punctuation">.</span>sbar<span class="token punctuation">.</span>showMessage<span class="token punctuation">(</span>folder<span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> key <span class="token operator">==</span> <span class="token string">'输入'</span><span class="token punctuation">:</span>
            text<span class="token punctuation">,</span> ok <span class="token operator">=</span> QInputDialog<span class="token punctuation">.</span>getText<span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token string">'输入对话框'</span><span class="token punctuation">,</span> <span class="token string">'请输入您的房间号码：'</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span> ok<span class="token punctuation">:</span>                    
                self<span class="token punctuation">.</span>sbar<span class="token punctuation">.</span>showMessage<span class="token punctuation">(</span>text<span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> 
    win <span class="token operator">=</span> MainWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果如下：<br> <img src="https://images2.imgbox.com/59/ee/t7hS7GJN_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5_981"></a>(5)相册</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QLabel<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QHBoxLayout<span class="token punctuation">,</span> QVBoxLayout
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon<span class="token punctuation">,</span> QPixmap

<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'相册'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">center</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""窗口在屏幕上居中"""</span>
        win_rect <span class="token operator">=</span> self<span class="token punctuation">.</span>frameGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span>
        scr_center <span class="token operator">=</span> self<span class="token punctuation">.</span>screen<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>availableGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span>
        win_rect<span class="token punctuation">.</span>moveCenter<span class="token punctuation">(</span>scr_center<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>move<span class="token punctuation">(</span>win_rect<span class="token punctuation">.</span>topLeft<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>curr <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token comment">#注意这里要选三张图片，放入当前pyhon脚本所在的文件夹的res目录下，我这里之前放之前的截图了</span>
        self<span class="token punctuation">.</span>photos <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">'D:/tools/python/srcipts2023/res/1.png'</span><span class="token punctuation">,</span> <span class="token string">'D:/tools/python/srcipts2023/res/2.png'</span><span class="token punctuation">,</span> <span class="token string">'D:/tools/python/srcipts2023/res/3.png'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>lab <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>lab<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>QPixmap<span class="token punctuation">(</span>self<span class="token punctuation">.</span>photos<span class="token punctuation">[</span>self<span class="token punctuation">.</span>curr<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#用label标签展示图片，默认从列表第一个图片，后面有根据按钮切换图片的方法</span>
        btn_prev <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">'&lt;'</span><span class="token punctuation">)</span>
        btn_next <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">'&gt;'</span><span class="token punctuation">)</span>
        btn_prev<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>on_btn<span class="token punctuation">)</span>
        btn_next<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>on_btn<span class="token punctuation">)</span>
        <span class="token comment">#设置边框</span>
        hbox <span class="token operator">=</span> QHBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        hbox<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        hbox<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn_prev<span class="token punctuation">)</span>
        hbox<span class="token punctuation">.</span>addSpacing<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>
        hbox<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn_next<span class="token punctuation">)</span>
        hbox<span class="token punctuation">.</span>addStretch<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        vbox <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>lab<span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addLayout<span class="token punctuation">(</span>hbox<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>vbox<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">on_btn</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""响应按键"""</span>
        
        key <span class="token operator">=</span> self<span class="token punctuation">.</span>sender<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token keyword">if</span> key <span class="token operator">==</span> <span class="token string">'&lt;'</span><span class="token punctuation">:</span>
            <span class="token comment">#点击'&lt;'按钮时，取上一条图片，一般来说按理来说(self.curr-1)就行，这里求余总数量的作用是为了能保持循环，比如第一张前面没有照片，就会跳到最后一张</span>
            <span class="token comment">#比如第一张时self.curr=0，(self.curr-1)%len(self.photos)=-1%3=2，此时跳到最后一张</span>
            self<span class="token punctuation">.</span>curr <span class="token operator">=</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>curr<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>photos<span class="token punctuation">)</span> 
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>curr <span class="token operator">=</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>curr<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>photos<span class="token punctuation">)</span>
        
        self<span class="token punctuation">.</span>lab<span class="token punctuation">.</span>setPixmap<span class="token punctuation">(</span>QPixmap<span class="token punctuation">(</span>self<span class="token punctuation">.</span>photos<span class="token punctuation">[</span>self<span class="token punctuation">.</span>curr<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> 
    win <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果如下：<br> <img src="https://images2.imgbox.com/d2/a7/Ug6pNMBC_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="6_1049"></a>(6)计算器</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QLabel<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QGridLayout<span class="token punctuation">,</span> QVBoxLayout
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon<span class="token punctuation">,</span> QFont
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> Qt

<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'计算器'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">center</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""窗口在屏幕上居中"""</span>
        
        win_rect <span class="token operator">=</span> self<span class="token punctuation">.</span>frameGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span>
        scr_center <span class="token operator">=</span> self<span class="token punctuation">.</span>screen<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>availableGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span>
        win_rect<span class="token punctuation">.</span>moveCenter<span class="token punctuation">(</span>scr_center<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>move<span class="token punctuation">(</span>win_rect<span class="token punctuation">.</span>topLeft<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""初始化界面"""</span>

        <span class="token comment">#lcd:液晶显示屏(QLCDNumber)</span>
        self<span class="token punctuation">.</span>lcd <span class="token operator">=</span> QLabel<span class="token punctuation">(</span><span class="token string">'0'</span><span class="token punctuation">)</span>  <span class="token comment">#默认展示</span>
        self<span class="token punctuation">.</span>lcd<span class="token punctuation">.</span>setFont<span class="token punctuation">(</span>QFont<span class="token punctuation">(</span><span class="token string">'Arial'</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> QFont<span class="token punctuation">.</span>Weight<span class="token punctuation">.</span>Bold<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#设置字体</span>
        self<span class="token punctuation">.</span>lcd<span class="token punctuation">.</span>setAlignment<span class="token punctuation">(</span>Qt<span class="token punctuation">.</span>AlignmentFlag<span class="token punctuation">.</span>AlignRight<span class="token punctuation">)</span> <span class="token comment">#右对齐</span>
        self<span class="token punctuation">.</span>lcd<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">'background-color:#000030; color:#30ff30'</span><span class="token punctuation">)</span> <span class="token comment">#设置颜色</span>
        
        keys <span class="token operator">=</span> <span class="token punctuation">[</span>
            <span class="token punctuation">[</span><span class="token string">'('</span><span class="token punctuation">,</span> <span class="token string">')'</span><span class="token punctuation">,</span> <span class="token string">'Back'</span><span class="token punctuation">,</span> <span class="token string">'Clear'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string">'7'</span><span class="token punctuation">,</span>  <span class="token string">'8'</span><span class="token punctuation">,</span>  <span class="token string">'9'</span><span class="token punctuation">,</span>  <span class="token string">'/'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
            <span class="token punctuation">[</span><span class="token string">'4'</span><span class="token punctuation">,</span>  <span class="token string">'5'</span><span class="token punctuation">,</span>  <span class="token string">'6'</span><span class="token punctuation">,</span>  <span class="token string">'*'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
            <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span>  <span class="token string">'2'</span><span class="token punctuation">,</span>  <span class="token string">'3'</span><span class="token punctuation">,</span>  <span class="token string">'-'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
            <span class="token punctuation">[</span><span class="token string">'0'</span><span class="token punctuation">,</span>  <span class="token string">'.'</span><span class="token punctuation">,</span>  <span class="token string">'='</span><span class="token punctuation">,</span>  <span class="token string">'+'</span><span class="token punctuation">]</span>
        <span class="token punctuation">]</span>
        
        grid <span class="token operator">=</span> QGridLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        box <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">for</span> j <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                btn <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
                btn<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>on_btn<span class="token punctuation">)</span>
                
                <span class="token comment">#分区设置颜色 back、clear和运算字符颜色设置与其他不同</span>
                <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">0</span> <span class="token keyword">and</span> j <span class="token keyword">in</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                    btn<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">'background-color:#f0e0d0'</span><span class="token punctuation">)</span>
                <span class="token keyword">elif</span> i <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">and</span> j <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>
                    btn<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">'background-color:#a0f0e0'</span><span class="token punctuation">)</span>
                <span class="token keyword">elif</span> i <span class="token operator">==</span> <span class="token number">4</span> <span class="token keyword">and</span> j <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>
                    btn<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">'background-color:#f0e0a0'</span><span class="token punctuation">)</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    btn<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">'background-color:#d9e4f1'</span><span class="token punctuation">)</span>
                
                grid<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>btn<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
        
        box<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>lcd<span class="token punctuation">)</span>
        box<span class="token punctuation">.</span>addSpacing<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">#设置间隔</span>
        box<span class="token punctuation">.</span>addLayout<span class="token punctuation">(</span>grid<span class="token punctuation">)</span>
        
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>box<span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">on_btn</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""响应按键"""</span>
        
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>lcd<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'Error'</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>lcd<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
        
        key <span class="token operator">=</span> self<span class="token punctuation">.</span>sender<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span>
        
        <span class="token keyword">if</span> key <span class="token operator">==</span> <span class="token string">'Clear'</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>lcd<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
        <span class="token keyword">elif</span> key <span class="token operator">==</span> <span class="token string">'Back'</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>lcd<span class="token punctuation">.</span>setText<span class="token punctuation">(</span>self<span class="token punctuation">.</span>lcd<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#回到上一步</span>
        <span class="token keyword">elif</span> key <span class="token operator">==</span> <span class="token string">'='</span><span class="token punctuation">:</span>
            <span class="token keyword">try</span><span class="token punctuation">:</span>
                result <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">eval</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>lcd<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">except</span><span class="token punctuation">:</span>
                result <span class="token operator">=</span> <span class="token string">'Error'</span>
            self<span class="token punctuation">.</span>lcd<span class="token punctuation">.</span>setText<span class="token punctuation">(</span>result<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>lcd<span class="token punctuation">.</span>setText<span class="token punctuation">(</span>self<span class="token punctuation">.</span>lcd<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> key<span class="token punctuation">)</span> <span class="token comment">#除了计算符号和back/clear/=外，其他的数字直接拼接到末尾</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> 
    win <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果如下：<br> <img src="https://images2.imgbox.com/dc/98/9IY1uWY9_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="7_1147"></a>(7)秒表</h3> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys<span class="token punctuation">,</span> time
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QLCDNumber<span class="token punctuation">,</span> QPushButton<span class="token punctuation">,</span> QVBoxLayout
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtGui <span class="token keyword">import</span> QIcon
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtCore <span class="token keyword">import</span> QObject<span class="token punctuation">,</span> pyqtSignal<span class="token punctuation">,</span> QThread

<span class="token keyword">class</span> <span class="token class-name">ClockServer</span><span class="token punctuation">(</span>QObject<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""计时服务"""</span>
    
    update_time <span class="token operator">=</span> pyqtSignal<span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token comment"># 更新时间信号</span>
    isRun <span class="token operator">=</span> <span class="token boolean">False</span>
    
    <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""启动服务"""</span>
        
        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            t0 <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token keyword">while</span> self<span class="token punctuation">.</span>isRun<span class="token punctuation">:</span>
                <span class="token comment">#信号发射(执行update_time方法)时输出时间差，因为t0只初始化一次，这个时间差就是秒表的计时时间，'%.2f'%+数字 代表保留两位小数</span>
                self<span class="token punctuation">.</span>update_time<span class="token punctuation">.</span>emit<span class="token punctuation">(</span><span class="token string">'%.2f'</span><span class="token operator">%</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>t0<span class="token punctuation">)</span><span class="token punctuation">)</span>  
                time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">0.01</span><span class="token punctuation">)</span>    <span class="token comment">#每0.01s执行一次 </span>

<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'秒表'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setGeometry<span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">240</span><span class="token punctuation">,</span> <span class="token number">140</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>initUI<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">initUI</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>lcd <span class="token operator">=</span> QLCDNumber<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">#QLCDNumber：展示LCD样式的数字</span>
        self<span class="token punctuation">.</span>lcd<span class="token punctuation">.</span>setDigitCount<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>  <span class="token comment">#设置限制位数为6</span>
        self<span class="token punctuation">.</span>lcd<span class="token punctuation">.</span>display<span class="token punctuation">(</span><span class="token string">'0:00'</span><span class="token punctuation">)</span> <span class="token comment">#初始值</span>
        <span class="token comment">#设置按钮</span>
        self<span class="token punctuation">.</span>btn <span class="token operator">=</span> QPushButton<span class="token punctuation">(</span><span class="token string">'开始'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>btn<span class="token punctuation">.</span>setStyleSheet<span class="token punctuation">(</span><span class="token string">'background-color:#f0d090'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>btn<span class="token punctuation">.</span>clicked<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>on_btn<span class="token punctuation">)</span>
        <span class="token comment">#设置样式</span>
        vbox <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span><span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>lcd<span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addSpacing<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
        vbox<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>self<span class="token punctuation">.</span>btn<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setLayout<span class="token punctuation">(</span>vbox<span class="token punctuation">)</span>
        
        self<span class="token punctuation">.</span>ts <span class="token operator">=</span> ClockServer<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 创建计时服务,ts是自己命名的服务对象</span>
        self<span class="token punctuation">.</span>ts<span class="token punctuation">.</span>update_time<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>lcd<span class="token punctuation">.</span>display<span class="token punctuation">)</span> <span class="token comment"># 连接update_time信号到液晶显示屏的显示函数</span>
        self<span class="token punctuation">.</span>thread <span class="token operator">=</span> QThread<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 创建线程</span>
        self<span class="token punctuation">.</span>ts<span class="token punctuation">.</span>moveToThread<span class="token punctuation">(</span>self<span class="token punctuation">.</span>thread<span class="token punctuation">)</span> <span class="token comment"># 将计时服务加到线程</span>
        self<span class="token punctuation">.</span>thread<span class="token punctuation">.</span>started<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>self<span class="token punctuation">.</span>ts<span class="token punctuation">.</span>run<span class="token punctuation">)</span> <span class="token comment"># 将计时服务的启动方法设置为线程函数</span>
        self<span class="token punctuation">.</span>thread<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 启动线程</span>
    
    <span class="token keyword">def</span> <span class="token function">on_btn</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""响应按键"""</span>
        
        <span class="token keyword">if</span> self<span class="token punctuation">.</span>btn<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">'开始'</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>ts<span class="token punctuation">.</span>isRun <span class="token operator">=</span> <span class="token boolean">True</span>
            self<span class="token punctuation">.</span>btn<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'停止'</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>ts<span class="token punctuation">.</span>isRun <span class="token operator">=</span> <span class="token boolean">False</span>
            self<span class="token punctuation">.</span>btn<span class="token punctuation">.</span>setText<span class="token punctuation">(</span><span class="token string">'开始'</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>
    win <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果如下：<br> <img src="https://images2.imgbox.com/5e/bc/K3oR50O1_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="8windows_1221"></a>(8)嵌入浏览器或其他windows应用</h3> 
<p>这里使用QAxWidget插件实现，我们要学会怎么通过注册表找到组件的uuid,才能通过uuid打开该组件。<br> 首先打开注册表编辑器，找到HKEY_CLASSES_ROOT这一栏:<br> <img src="https://images2.imgbox.com/6b/c3/TWFgeeMj_o.png" alt="在这里插入图片描述"></p> 
<p>然后下拉找到Shell.Explorer/Shell.Explorer.1/Shell.Explorer.2可以看到这里有三个浏览器，任选其一即可，然后复制其uuid：<br> <img src="https://images2.imgbox.com/38/81/VlihaJkP_o.png" alt="在这里插入图片描述"></p> 
<p>最后调用嵌入浏览器的代码示例如下：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QtWidgets <span class="token keyword">import</span> QApplication<span class="token punctuation">,</span> QWidget<span class="token punctuation">,</span> QVBoxLayout
<span class="token keyword">from</span> PyQt6<span class="token punctuation">.</span>QAxContainer <span class="token keyword">import</span> QAxWidget

<span class="token keyword">class</span> <span class="token class-name">MyWindow</span><span class="token punctuation">(</span>QWidget<span class="token punctuation">)</span><span class="token punctuation">:</span>
    
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setWindowTitle<span class="token punctuation">(</span><span class="token string">'内嵌浏览器'</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setFixedSize<span class="token punctuation">(</span><span class="token number">960</span><span class="token punctuation">,</span> <span class="token number">640</span><span class="token punctuation">)</span>
        widget  <span class="token operator">=</span> QAxWidget<span class="token punctuation">(</span>self<span class="token punctuation">)</span>  <span class="token comment">#QAxWidget类是一个包装ActiveX控件的QWidget,可以当作一个窗口类使用</span>
        <span class="token comment">#若setControl(“E:/test.doc”);直接会加载word应用打开doc文档。</span>
        <span class="token comment">#此处的{8856F961-340A-11D0-A96B-00C04FD705A2}是Microsoft Web Browser控件的UUID，代表打开浏览器。</span>
        <span class="token comment">#UUID来源于注册表HKEY_CLASSES_ROOT\Shell.Explorer.1\CLSID</span>
        widget<span class="token punctuation">.</span>setControl<span class="token punctuation">(</span><span class="token string">"{EAB22AC3-30C1-11CF-A7EB-0000C05BAE0B}"</span><span class="token punctuation">)</span>
        widget<span class="token punctuation">.</span>dynamicCall<span class="token punctuation">(</span><span class="token string">'Navigate(const QString&amp;)'</span><span class="token punctuation">,</span> <span class="token string">'https://cn.bing.com'</span><span class="token punctuation">)</span> <span class="token comment">#"Navigate(const QString&amp;)"这是固定写法，后面的https://cn.bing.com是进入的网址</span>
        box <span class="token operator">=</span> QVBoxLayout<span class="token punctuation">(</span>self<span class="token punctuation">)</span>
        box<span class="token punctuation">.</span>addWidget<span class="token punctuation">(</span>widget <span class="token punctuation">)</span>
        
        self<span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">def</span> <span class="token function">center</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""窗口在屏幕上居中"""</span>
        
        win_rect <span class="token operator">=</span> self<span class="token punctuation">.</span>frameGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span>
        scr_center <span class="token operator">=</span> self<span class="token punctuation">.</span>screen<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>availableGeometry<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>center<span class="token punctuation">(</span><span class="token punctuation">)</span>
        win_rect<span class="token punctuation">.</span>moveCenter<span class="token punctuation">(</span>scr_center<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>move<span class="token punctuation">(</span>win_rect<span class="token punctuation">.</span>topLeft<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    app <span class="token operator">=</span> QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span> 
    win <span class="token operator">=</span> MyWindow<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sys<span class="token punctuation">.</span>exit<span class="token punctuation">(</span>app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<p>运行结果如下：<br> <img src="https://images2.imgbox.com/35/d8/dUKJAwrp_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="5Qt_Designer_1273"></a>5.图形化界面Qt Designer</h3> 
<p>为什么把这个放到最后呢？原因有二：<br> ①目前还是比较推荐自己手写界面的，更灵活；<br> ②先学基础的绘制，再看由工具转化的图形化代码比较容易看懂，也比较容易在基础上做改造</p> 
<h3><a id="1_1278"></a>(1)安装</h3> 
<pre><code class="prism language-python">pip install pyqt6<span class="token operator">-</span>tools
pip install pyside6
</code></pre> 
<p>pyside6使用国内的镜像安装源：<code>pip install pyside6 -i https://pypi.douban.com/simple/</code></p> 
<p>安装完成后直接打开即可，pyside6路径为：你的python安装目录\Lib\site-packages\PySide6\designer.exe</p> 
<p>官网手册：https://doc.qt.io/qt-5/qtdesigner-manual.html</p> 
<h3><a id="2_1291"></a>(2)基础控件</h3> 
<p>相信通过前面的学习，有不少控件大家已经比较熟悉了<br> ①Layouts:<br> Vertical Layout:垂直布局<br> Horizontal Layout:水平布局<br> Gird Layout:栅格布局<br> FormLayout:表单布局</p> 
<p>②Spacers：<br> Horizontal Spacer:水平弹簧<br> Vertical Spacer：垂直弹簧</p> 
<p>③Buttons:<br> Push Button:常用按钮<br> Tool Button:工具按钮<br> Radio Button:单选框（按钮）<br> Check Box:多选框<br> Command Link Button:命令连接按钮<br> Dialog Button Box:按钮盒</p> 
<p>④Item View(Model-Based): 表项视图类（数据库模型划分）<br> List View:列表视图<br> Tree View:树视图<br> Table View:表格视图<br> Column View:列视图</p> 
<p>⑤Item Widgets(Item-Based): 模型/视图部件<br> List Widget:列表部件<br> Tree Widget:树部件<br> Table Widget:表格部件</p> 
<p>⑥Containers:QT容器组件<br> Group Box:有标题的组合框<br> Scroll Area:自动滚动区<br> Tool Box:抽屉控件（工具箱）<br> Tab Widget:选项卡<br> Stacked Widget:控件栈。控件栈只显示栈顶的控件，开发人员可以使用raiseWidget（）函数把栈中任何其他控件移到栈顶，从而实现控件之间的切换。<br> Frame:框架。QFrame框架组件用来存放其他控件，也可用于装饰，一般用来作为更加复杂容器的基础，也可以用在form中作为占用控件。<br> Widget:QWidget类是所有用户界面对象的基类,QWidget组件在创建时是不可见的,可以包含子控件，在删除Widget时，子控件也一起删除。<br> MDI Area:MDI窗口显示区。多文档界面，主要适用于完成一项工作时需要用到多个文件，主要适用于所有工作没有太多文件参与的情况。<br> Dock Widget:停靠窗口。可以作为一个顶层窗口漂浮在桌面，主要作为辅助窗体出现在界面中，可以在很多IDE中看到停靠窗体。<br> QAxWidget:是一个包装ActiveX控件的QWidget</p> 
<p>⑦Input Widgets:<br> Line Edit:单行文本编辑框<br> Text Edit:多行文本编辑框<br> Plain Text Edit:多行文本编辑器，用于显示和编辑多行简单文本（样式同上）<br> Spin Box:整数调节按钮</p> 
<p>⑧Double Spin Box:浮点数调节按钮<br> Time Edit:提供了一个部件，用于编辑时间<br> Data Edit:供了一个部件，用于编辑日期<br> Date/Time Edit:QDateTime类提供的一个部件，用于编辑日期和时间。<br> Dial:旋转仪表盘。应用于万能遥控的温度、声音的控制、以及其他工业仪表盘等等。<br> Horizontal Scroll Bar:水平卷滚条，与 QSlider 功能类似，还可以用于卷滚区域。<br> Vertical Scroll Bar:垂直卷滚条，与 QSlider 功能类似，还可以用于卷滚区域。<br> Horizontal Slider:水平滑动条，通过滑动来设置数值，可用于数值输入。<br> Vertical Slider:垂直滑动条，通过滑动来设置数值，可用于数值输入。<br> Key Sequence Edit:文本输入控件。用作对快捷键的采集。结合其内部的API可以实现对自定义快捷键的设置。</p> 
<p>⑨Display Widgets:<br> Label:常用的控件，用于显示文本，显示html超文本，放置可点击的超链接，显示图片，动画等等。<br> Text Browser:带有超文本导航的富文本浏览器，可以设置其readOnly属性为false则可编辑，使用ui.textBrowse-&gt;document()-&gt;toPlainText()可以获取里面的内容出来。<br> Graphics Widget:是一个扩展的基础项，它在 QGraphicsItem 之上提供额外的功能。 它在很多方面与 QWidget 相似，我觉得是更灵活的大画板。<br> LCD Number:用于显示一个LCD数字。<br> Progress Bar:一个水平或垂直进度条。<br> Horizontal Line:水平线<br> Vertical Line:垂直线。<br> OpenGL Widget:一个渲染OpenGL图形的窗口部件。<br> QQuickWidget:用来加载qml文件，用于显示界面。</p> 
<h3><a id="3_1363"></a>(3)使用教程</h3> 
<p>①点击窗口控件左侧，即可看到全部的窗口控件<br> <img src="https://images2.imgbox.com/c1/ee/9ivVYzIs_o.png" alt="在这里插入图片描述"></p> 
<p>②创建一个MainWindow<br> <img src="https://images2.imgbox.com/b4/8b/CXgHPC76_o.png" alt="在这里插入图片描述"></p> 
<p>③拖入一个控件，如表单布局FormLayout。<br> <img src="https://images2.imgbox.com/53/53/thXXtUZB_o.png" alt="在这里插入图片描述"></p> 
<p>④双击表单，弹出表单布局行。<br> ⑤填入标签文字，然后确定，即可得到一行表单，我这里添加了三行表单。<br> <img src="https://images2.imgbox.com/83/93/RxRRwObV_o.png" alt="在这里插入图片描述"></p> 
<p>⑥保存现在的布局：Ctrl+S,即可保存该布局文件<br> <img src="https://images2.imgbox.com/ac/1a/wMStinpm_o.png" alt="在这里插入图片描述"></p> 
<p>⑦打开该文件，发现是一个标准的xml文件。<br> <img src="https://images2.imgbox.com/44/53/15JCdUsm_o.png" alt="在这里插入图片描述"></p> 
<p>⑧使用生成的.ui文件–使用uic.loadUi</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys
<span class="token keyword">from</span> PyQt6 <span class="token keyword">import</span> QtWidgets<span class="token punctuation">,</span> uic

app <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

window <span class="token operator">=</span> uic<span class="token punctuation">.</span>loadUi<span class="token punctuation">(</span><span class="token string">"D:/tools/python/srcipts2023/test0628.ui"</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>⑨文件转换，进入cmd，到ui文件所在的目录下执行：pyuic6 -o {输出文件名} {输入designer设计好的.ui后缀界面文件}<br> 如：pyuic6 -o test0628.py test0628.ui<br> ⑩pyuic工具将Ui_附加到你定义的对象名称后面，这就是您想要导入的对象，如你创建的是MainWindow生成的对象默认是Ui_MainWindow。<br> 也可以直接查看使用生成的.py文件，发现里面的class对象名称就是Ui_MainWindow。<br> <img src="https://images2.imgbox.com/58/3e/hi540US7_o.png" alt="在这里插入图片描述"></p> 
<p>通过自定义对象MyUi继承Ui_MainWindow类实现调用（为了实现初始化方法），最终代码实现如下所示：</p> 
<pre><code class="prism language-python"><span class="token keyword">import</span> sys 
<span class="token keyword">from</span> PyQt6 <span class="token keyword">import</span> QtWidgets<span class="token punctuation">,</span> uic

<span class="token keyword">from</span> test0628 <span class="token keyword">import</span> Ui_MainWindow


<span class="token keyword">class</span> <span class="token class-name">MyUi</span><span class="token punctuation">(</span>QtWidgets<span class="token punctuation">.</span>QMainWindow<span class="token punctuation">,</span> Ui_MainWindow<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> obj<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token builtin">super</span><span class="token punctuation">(</span>MyUi<span class="token punctuation">,</span> self<span class="token punctuation">)</span><span class="token punctuation">.</span>__init__<span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>setupUi<span class="token punctuation">(</span>self<span class="token punctuation">)</span>


app <span class="token operator">=</span> QtWidgets<span class="token punctuation">.</span>QApplication<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

window <span class="token operator">=</span> MyUi<span class="token punctuation">(</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token keyword">exec</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/f75018f73a3ec85f63ce5fc81dd23e5a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Linux服务器部署工程（柳州职业技术学院）电信院22级工程</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/9489f22c74777b63dee47d297a8605aa/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Ubuntu安装apex</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>