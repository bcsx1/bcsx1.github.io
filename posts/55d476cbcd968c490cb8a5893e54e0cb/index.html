<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Struts2、Spring、Hibernate整合ExtJS - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Struts2、Spring、Hibernate整合ExtJS" />
<meta property="og:description" content="Struts2、Spring、Hibernate整合ExtJS 2011年01月07日 大发现，大家在贴代码的时候。系统会自动加上一些代码或注释之类的东西，像script或style会被加上其他字符。并且有2份相同的代码，这时你可以把在线编辑器中的textarea中的代码删掉。重新贴上去就可以了，注意是重新贴上上去，不是重新插入！！这样就没有问题了，呵呵~~~ [b]SSHExtTree [/b]百度文库提供下载：http://wenku.baidu.com/view/485e4d36f111f18583d05a ed.html 开标题就知道是Struts、Spring、Hibernate、ExtJS的Tree实例文档，其中包括Filter功能的checkNodeTree、comboBoxCheckNodeTree、comboBoxTree这三种扩展的tree。不错，如果你不了解Struts、Spring、Hibernate、ExtJS，也不要紧。跟着我做，做出这个例子应该木有问题。 生产环境： System：Windows WebBrowser：IE6&#43;、Firefox3&#43; JavaEE Server：tomcat5.0.2.8、tomcat6 IDE：eclipse、MyEclipse6.1&#43; Database：Ms SQLServer2000、2005 开发依赖库版本： ExtJS：lib 2.1 Struts： 2.1.4 Hibernate：3.2 Spring：2.0 Email：hoojo_@126.com Blog：http://blog.csdn.net/IBM_hoojo [b]http://hoojo.cnblogs.com/ [/b]如果你具备上面的环境后，下面就可以跟着我一步步的完成这个SSHExtTree的示例。 1、 添加Hibernate支持，这里我用MyEclipse的工具直接添加jar包和链接数据库的配置文件，这一步如果你熟悉可以跳过。 A、 首先你选择你的MyEclipse中的MyEclipse Database Explorer这个视图 B、 进入视图后，点击new C、 进入new视图后，你就可以添加你的DB的链接数据库的种类、端口、地址、数据库名称 我上面选择的是MsSQL2005 Connect URL：jdbc:jtds:sqlserver://localhost:1433/jc2009_gdszz jc2009_gdszz是数据库的名称，是建科院的数据库 用户名、密码就是你链接数据库的密码 注意的是你还要添加你的链接数据库的driver，我这里用jdts驱动 上面的完成后，你可以点击Test Driver就可以测试你的链接对不对。如果对的话就会出现上面的successfully！ D、 继续Next你可以选择第三个单选按钮，就是下面的1。然后点击Add按钮选择你的数据库。这样后面链接数据库的时候就不会出现其他的数据库了；点击Finish E、 下面开始链接数据库 上面的sql_2005就是我们刚才建的数据库链接了。右键sql_2005，然后点击Open connection，就可以链接到你的数据库了 F、 然后展开数据库，选择dbo展开，选择table。你就看到你的数据库中的表了 至此数据链接创建成功，下面我们添加Hibernate的支持。 G、 下面切换到MyEclipse JavaEE视图，如果你喜欢Java视图也可以。这里用MyEclipse JavaEE视图。 然后右键点击你建好的SSHExtTree这个WebProject 选择MyEclipse，选择Add Hibernate H、进入添加Hibernate支持的视图后，选择Hibernate3.2；然后记得选择添加jar包到你的工程lib中 I、 继续Next，选择New。我喜欢单独的Hibernate配置文件，如果你不喜欢你可以在Spring中添加配置。 J、 点击Next，进入选择数据库链接的视图，当然是选择我们刚才创建的sql_2005这个视图了。 记得选择你的数据库方言，数据库方言对于不同的数据库是不同的。 K、 点击Next你就可以看到创建SessionFactory，我们用Spring就不要这个了。点击Finish；就可以看到配置文件hibernate.cfg.xml 我们还得添加2条： true true 这个在调试程序的时候有用，可以格式化输入sql语句 综上所述，上面的主要完成的就是添加Hibernate的jar包和数据库链接配置文件。你也可以手动添加Hibernate的数据库配置文件和jar包。那样就不需要上面的步骤。 2、 下面我们添加Spring的支持，请跟着我做 A、 右键SSHExtTree项目，选择MyEclipse然后选择Add Spring B、 点击后你可以看到Spring的支持了，Spring选择2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/55d476cbcd968c490cb8a5893e54e0cb/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2012-01-20T02:35:49+08:00" />
<meta property="article:modified_time" content="2012-01-20T02:35:49+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Struts2、Spring、Hibernate整合ExtJS</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    Struts2、Spring、Hibernate整合ExtJS 
<br>2011年01月07日 
<br>　　大发现，大家在贴代码的时候。系统会自动加上一些代码或注释之类的东西，像script或style会被加上其他字符。并且有2份相同的代码，这时你可以把在线编辑器中的textarea中的代码删掉。重新贴上去就可以了，注意是重新贴上上去，不是重新插入！！这样就没有问题了，呵呵~~~ 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　[b]SSHExtTree [/b]百度文库提供下载：http://wenku.baidu.com/view/485e4d36f111f18583d05a ed.html 
<br>　　开标题就知道是Struts、Spring、Hibernate、ExtJS的Tree实例文档，其中包括Filter功能的checkNodeTree、comboBoxCheckNodeTree、comboBoxTree这三种扩展的tree。不错，如果你不了解Struts、Spring、Hibernate、ExtJS，也不要紧。跟着我做，做出这个例子应该木有问题。 
<br>　　生产环境： 
<br>　　System：Windows 
<br>　　WebBrowser：IE6+、Firefox3+ 
<br>　　JavaEE Server：tomcat5.0.2.8、tomcat6 
<br>　　IDE：eclipse、MyEclipse6.1+ 
<br>　　Database：Ms SQLServer2000、2005 
<br>　　开发依赖库版本： 
<br>　　ExtJS：lib 2.1 
<br>　　Struts： 2.1.4 
<br>　　Hibernate：3.2 
<br>　　Spring：2.0 
<br>　　Email：hoojo_@126.com 
<br>　　Blog：http://blog.csdn.net/IBM_hoojo 
<br>　　[b]http://hoojo.cnblogs.com/ 
<br>　　[/b]如果你具备上面的环境后，下面就可以跟着我一步步的完成这个SSHExtTree的示例。 
<br>　　1、 添加Hibernate支持，这里我用MyEclipse的工具直接添加jar包和链接数据库的配置文件，这一步如果你熟悉可以跳过。 
<br>　　A、 首先你选择你的MyEclipse中的MyEclipse Database Explorer这个视图 
<br>　　 
<br>　　B、 进入视图后，点击new 
<br>　　 
<br>　　C、 进入new视图后，你就可以添加你的DB的链接数据库的种类、端口、地址、数据库名称 
<br>　　我上面选择的是MsSQL2005 
<br>　　Connect URL：jdbc:jtds:sqlserver://localhost:1433/jc2009_gdszz 
<br>　　jc2009_gdszz是数据库的名称，是建科院的数据库 
<br>　　用户名、密码就是你链接数据库的密码 
<br>　　注意的是你还要添加你的链接数据库的driver，我这里用jdts驱动 
<br>　　上面的完成后，你可以点击Test Driver就可以测试你的链接对不对。如果对的话就会出现上面的successfully！ 
<br>　　D、 继续Next你可以选择第三个单选按钮，就是下面的1。然后点击Add按钮选择你的数据库。这样后面链接数据库的时候就不会出现其他的数据库了；点击Finish 
<br>　　 
<br>　　E、 下面开始链接数据库 
<br>　　 
<br>　　上面的sql_2005就是我们刚才建的数据库链接了。右键sql_2005，然后点击Open connection，就可以链接到你的数据库了 
<br>　　F、 然后展开数据库，选择dbo展开，选择table。你就看到你的数据库中的表了 
<br>　　至此数据链接创建成功，下面我们添加Hibernate的支持。 
<br>　　G、 下面切换到MyEclipse JavaEE视图，如果你喜欢Java视图也可以。这里用MyEclipse JavaEE视图。 
<br>　　 
<br>　　然后右键点击你建好的SSHExtTree这个WebProject 
<br>　　 
<br>　　选择MyEclipse，选择Add Hibernate 
<br>　　H、进入添加Hibernate支持的视图后，选择Hibernate3.2；然后记得选择添加jar包到你的工程lib中 
<br>　　 
<br>　　I、 继续Next，选择New。我喜欢单独的Hibernate配置文件，如果你不喜欢你可以在Spring中添加配置。 
<br>　　 
<br>　　J、 点击Next，进入选择数据库链接的视图，当然是选择我们刚才创建的sql_2005这个视图了。 
<br>　　 
<br>　　记得选择你的数据库方言，数据库方言对于不同的数据库是不同的。 
<br>　　K、 点击Next你就可以看到创建SessionFactory，我们用Spring就不要这个了。点击Finish；就可以看到配置文件hibernate.cfg.xml 
<br>　　我们还得添加2条： 
<br>　　true 
<br>　　true 
<br>　　这个在调试程序的时候有用，可以格式化输入sql语句 
<br>　　综上所述，上面的主要完成的就是添加Hibernate的jar包和数据库链接配置文件。你也可以手动添加Hibernate的数据库配置文件和jar包。那样就不需要上面的步骤。 
<br>　　2、 下面我们添加Spring的支持，请跟着我做 
<br>　　A、 右键SSHExtTree项目，选择MyEclipse然后选择Add Spring 
<br>　　 
<br>　　B、 点击后你可以看到Spring的支持了，Spring选择2.0的版本。然后就是选择你要的jar包。 
<br>　　 
<br>　　C、 我们选择完后，继续下一步Next 
<br>　　 
<br>　　D、 继续下一步Next 
<br>　　 
<br>　　上面的SessionFactory Bean id就是你的applicationContext.xml这个文件中的SessionFactory的bean的id。在后面我们需要为其他使用Hibernate模版的文件件注入sessionFactory。至此Spring的支持添加完毕，现在我们需要配置Spring的Aop管理我们的事务。 
<br>　　E、 首先修改applicationContext.xml为applicationContext-common.xml，然后我们添加aop、tx的命名空间。你也可以手动添加，如果你不记得Sping的aop、tx的命名空间，请跟着我做。 
<br>　　F、 右键我们的Project，选择New然后选择xml basic template 
<br>　　 
<br>　　G、 进入页面后，直接next。选择第二项 
<br>　　 
<br>　　H、进入后，看下面的选择schema文件 
<br>　　 
<br>　　先选择aop2.0，点击next 
<br>　　I、 进入视图后你可以看到 
<br>　　 
<br>　　选择p，点击Edit 也就是1处。然后将改成aop。然后点击Add 
<br>　　J、 进入视图后，你就可以继续选择tx这个命名空间的schame 
<br>　　 
<br>　　K、 点击ok后，你可以选择刚才的tx。然后点击edit。为它添加xsd 
<br>　　 
<br>　　将ns name复制粘贴到Location Hint中，然后在后面添加/spring-tx-2.0.xsd 
<br>　　完了后，点击Finish。 
<br>　　然后copy里面的内容到刚才的applicationContext-common.xml中，内容如下： 
<br>　　xmlns:aop="http://www.springframework.org/schema/a op" 
<br>　　xmlns:tx="http://www.springframework.org/schema/tx " 
<br>　　xsi:schemaLocation="http://www.springframework.org /schema/aop 
<br>　　http://www.springframework.org/schema/aop/spring-a op-2.0.xsd 
<br>　　http://www.springframework.org/schema/tx 
<br>　　http://www.springframework.org/schema/tx/spring-tx -2.0.xsd "&gt; 
<br>　　刚才这么多步骤就是要这些文件的内容 
<br>　　最后common文件的的头部就是这样的内容： L、 下面配置事务的传播特性 
<br>　　Hibernate的事务管理机制 上面的配置注入了sessionFactory，property中的name是HibernateTransactionManager中的setSessionFactory这个setter方法，后面的ref是上面的bean的引用。 
<br>　　事务的传播特性 配置哪些方法参与事务的管理，add*代码addXXX开头的方法，后面的propagation是事务的传播特性、级别，最后的*代表所有方法，对于查询的方法read-only只读就可以了。查询不需要参与事务。 
<br>　　配置在哪里启用事务，哪些包或类、方法参与事务管理： 上面的pointcut称作切面，expression是表达式（关于表达式更多内容可以参考spring官方文档） 
<br>　　execution(* com.hhh.biz.impl.*.*(..))前面的execution是固定的，括号里面的内容是 
<br>　　第一个*代表任意返回值，com.hhh.biz.impl代表包。在这一层的包被纳入到事务的管理，impl.*代表impl下面的所有的class，impl.*.*代表class中所有方法，impl.*.*(..)代表的是方法的任意个参数。这个表达的是事务管理到com.hhh.biz.impl下所有类的方法的任意返回值、任意参数 
<br>　　advice-ref是上面配置的事务的传播特性，pointcut-ref是上面的切面配置至此关键的配置就完毕了。 
<br>　　综上所述，上面的主要是完成用IDE添加Spring的jar包和配置文件，如果你不想用上面的方式，也可以手动添加jar包。然后将xml配置文件的的头部、命名空间等信息贴到建好的xml中也是可行的。 
<br>　　3、 下面我们将手动添加Struts2.x的jar和配置Struts2.x的运行环境 
<br>　　A、 你需要添加以下jar包 
<br>　　commons-logging-api-1[1].1.1.jar 
<br>　　freemarker-2[1].3.10.jar 
<br>　　ognl-2[1].6.11.jar 
<br>　　struts2-core-2.0.11.jar 
<br>　　xwork-2[1].0.2.jar 
<br>　　由于和Spring整合，这里还有添加strtus和spring的插件包struts2-spring-plugin-2.0.14.jar 
<br>　　B、 下面开始配置struts的核心控制器 
<br>　　在web.xml中添加如下配置： 这样struts2的web.xml配置就完成了 
<br>　　C、 下面开始添加struts的Action配置文件，这个文件的名称就是struts.xml。不要随便更改，这个是默认的名称。如果你想用其他的名称，请在web.xml中的核心控制器中配置param参数设置配置文件的名称。 
<br>　　内容如下： 这样struts的配置就完成了 
<br>　　4、 整合ssh框架，首先还是web.xml配置。 
<br>　　Spring提供了编码过滤器，我们在web.xml添加编码过滤器的配置。 配置加载Spring配置的路径 配置加载Spring上下文的的监听器 至此配置基本完成，下面发布到tomcat中。看看是否有误错误，没有错误请求index.jsp看看。成功了就继续； 
<br>　　请求发现出现了java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListe ner这个异常信息，发现在添加jar包的时候没有把spring-web这个选中。那就手动添加spring-web.jar 
<br>　　这个jar包就ok了。启动发现没有错误，范围index.jsp也成功了。 
<br>　　5、 下面通过用MyEclipse Database Explorer生成JavaBeans、hbm.xml配置文件 
<br>　　我们这里写Tree，只需用一张Tree的表就可以了。 
<br>　　首先看下这张表的结构，代码如下： 
<br>　　 
<br>　　NodeId是主键，PID引用NodeID，PID是应用的父节点。也就是说当前数据的PID指向的数据的id就是它的父元素。 
<br>　　假如要查NodeID=1的子元素，那就差些PID=1的就是它的子元素的。 
<br>　　A、右键击sort表格，选择reverse 
<br>　　 
<br>　　这里就选sort这个表，然后右键。选择Hibernate Reverse Engineering就可以生产JavaBeans、hbm.xml映射文件了。 
<br>　　B、选择Browser，选择package 
<br>　　 
<br>　　C、选择create POJO DBTable，然后点击Finish 
<br>　　 
<br>　　文件就生成了 
<br>　　6、 编写ExtJS的Tree需要的树形结构的JavaBeans和完成Tree数据查询接口和实现代码。 
<br>　　Tree JavaBeans [b]public[/b][b]class[/b] Tree { [b]private[/b] String id; [b]private[/b] String text;//固定格式 
<br>　　[b]private[/b][b]boolean[/b] leaf;//固定格式 
<br>　　[b]private[/b] Integer nodelevel; 
<br>　　[b]private[/b] String nodeId; 
<br>　　[b]private[/b] String pid; 
<br>　　//private String uiProvider = "col"; 
<br>　　[b]private[/b] List children = [b]new[/b] ArrayList();//固定格式 
<br>　　[b]//setter/getter 
<br>　　[/b][b]public[/b] Tree(){ 
<br>　　} 
<br>　　[b]public[/b] Tree(String text, String id, String nodeId, String pid, Integer nodelevel) { 
<br>　　[b]this[/b].id = id; 
<br>　　[b]this[/b].text = text; 
<br>　　[b]this[/b].pid = pid; 
<br>　　[b]this[/b].nodeId = nodeId; 
<br>　　[b]this[/b].nodelevel = nodelevel; 
<br>　　[b]if[/b] (nodelevel [b]implements[/b] TreeDao { [b]private[/b] BaseDao dao; [b]public[/b][b]void[/b] setDao(BaseDao dao) { [b]this[/b].dao = dao; } [b]public[/b] List getTreeListByParentId(T entity) [b]throws[/b] Exception { String hql = "select new com.hhh.entity.Tree(categoryname, id, nodeId, pid, nodelevel) from SsSort where isshow = 1"; [b]if[/b] (entity == [b]null[/b] || entity.getNodeId() == [b]null[/b] || "".equals(entity.getNodeId())) { hql += " and pid is null"; } [b]else[/b] { hql += " and pid = '" + entity.getNodeId() + "'"; } [b]return[/b] dao.getList(hql); } } 上面的hql查询语句是将SsSort(Ss_sort table)这个对象的查询到的数据封装在Tree这个对象中。 
<br>　　现在看看服务层biz接口和实现 [b]public[/b][b]interface[/b] TreeBiz { /** * 通过sort对象去查询子结点list * [b]@createDate[/b] 2010-8-10 下午02:51:55 * [b]@param[/b] 操作对象类型 
<br>　　* [b]@param[/b] entity 查询数据封装条件 
<br>　　* [b]@return[/b] 返回sort对象所有的list集合 
<br>　　* [b]@throws[/b] Exception 
<br>　　*/ 
<br>　　[b]public[/b] List getTreeListByParentId(T entity) [b]throws[/b] Exception; 
<br>　　/** 
<br>　　* 通过entity对象查询子对象进行递归变量查找 
<br>　　* [b]@createDate[/b] 2010-8-11 下午01:04:02 
<br>　　* [b]@param[/b] 查询对象类型 
<br>　　* [b]@param[/b] entity 查询对象 
<br>　　* [b]@throws[/b] Exception 
<br>　　*/ 
<br>　　[b]public[/b][b]void[/b] getTreeByParentId2Recursion(T entity) [b]throws[/b] Exception; 
<br>　　} 看看实现的代码： [b]package[/b] com.hhh.biz.impl; [b]import[/b] java.util.List; [b]import[/b] com.hhh.biz.TreeBiz; [b]import[/b] com.hhh.dao.TreeDao; [b]import[/b] com.hhh.entity.Tree; [b]public[/b][b]class[/b] TreeBizImpl [b]implements[/b] TreeBiz { [b]private[/b] TreeDao dao; [b]public[/b][b]void[/b] setDao(TreeDao dao) { [b]this[/b].dao = dao; } [b]public[/b] List getTreeListByParentId(T entity) [b]throws[/b] Exception { [b]return[/b] dao.getTreeListByParentId(entity); } /** * [b]@see[/b] com.hhh.biz.TreeBiz#getTreeByParentId2Recursion(co m.hhh.entity.Tree) * 这是一个递归查询，如果你一下看不明白递归的代码，可以参考getSortByParentId2Leaf方法 
<br>　　* 然后将循环中相同的代码改造成递归即可 
<br>　　* [b]@createDate[/b] Dec 25, 2010 7:07:26 PM 
<br>　　*/ 
<br>　　@SuppressWarnings("unchecked") 
<br>　　[b]public[/b][b]void[/b] getTreeByParentId2Recursion(T entity) [b]throws[/b] Exception { 
<br>　　List child = dao.getTreeListByParentId(entity); 
<br>　　[b]if[/b] (child.size() &gt; 0) { 
<br>　　[b]for[/b] (T s : child) { 
<br>　　[b]this[/b].getTreeByParentId2Recursion(s); 
<br>　　} 
<br>　　entity.setChildren((List)child); 
<br>　　} [b]else[/b] { 
<br>　　entity.setLeaf([b]true[/b]); 
<br>　　} 
<br>　　} 
<br>　　[b]public[/b][b]void[/b] getTreeByParentId2Leaf(T entity) [b]throws[/b] Exception { 
<br>　　List child = dao.getTreeListByParentId(entity); 
<br>　　[b]if[/b] (child.size() &gt; 0) { 
<br>　　[b]for[/b] (T s : child) { 
<br>　　List child2 = dao.getTreeListByParentId(s); 
<br>　　[b]if[/b] (child2.size() &gt; 0) { 
<br>　　[b]for[/b] (T s2 : child2) { 
<br>　　List child3 = dao.getTreeListByParentId(s2); 
<br>　　[b]if[/b] (child3.size() &gt; 0) { 
<br>　　[b]for[/b] (T s3 : child3) { 
<br>　　List child4 = dao.getTreeListByParentId(s3); 
<br>　　[b]if[/b] (child4.size() == 0) { 
<br>　　s3.setLeaf([b]true[/b]); 
<br>　　} [b]else[/b] { 
<br>　　s3.setLeaf([b]false[/b]); 
<br>　　} 
<br>　　s2.getChildren().add(s3); 
<br>　　} 
<br>　　} [b]else[/b] { 
<br>　　s2.setLeaf([b]true[/b]); 
<br>　　} 
<br>　　s.getChildren().add(s2); 
<br>　　} 
<br>　　} [b]else[/b] { 
<br>　　s.setLeaf([b]true[/b]); 
<br>　　} 
<br>　　entity.getChildren().add(s); 
<br>　　} 
<br>　　} [b]else[/b] { 
<br>　　entity.setLeaf([b]true[/b]); 
<br>　　} 
<br>　　} 
<br>　　} 上的查询getTreeByParentId2Recursion用到了递归方法，如果你对递归的代码不是很明白就看看下面的查询getTreeByParentId2Leaf代码 
<br>　　7、 下面编写Action代码，action中需要用到json-lib这个jar包，这个jar的主要作用就是将Java对象序列化成json格式的字符串对象。 
<br>　　需要添加如下jar包： 
<br>　　ezmorph-1.0.3.jar 
<br>　　json-lib-2.3-jdk15.jar 
<br>　　commons-lang.jar 
<br>　　commons-collections-3.2.jar 
<br>　　commons-beanutils.jar [b]public[/b][b]class[/b] TreeAction [b]extends[/b] ActionSupport { [b]private[/b][b]static[/b][b]final[/b][b]long[/b]serialVersionUID = -3795544890686836966L; [b]private[/b] TreeBiz biz; [b]private[/b] String data; [b]private[/b] Tree tree = [b]new[/b] Tree(); [b]public[/b][b]void[/b] setBiz(TreeBiz biz) { [b]this[/b].biz = biz; } @Override [b]public[/b] String execute() [b]throws[/b] Exception { biz.getTreeByParentId2Recursion(tree); data = JSONArray.fromObject(tree.getChildren()).toString(); [b]return[/b]SUCCESS; } } 上面的代码很简单，看看action中的execute代码。JSONArray.fromObject这个主要就是将一个数值序列化成json的字符串。 
<br>　　看看xml配置文件的配置： 首先看看struts配置文件中的constant元素，它是设置struts的国际化编码的，然后就是package这个包，它相当于Java类在package是区分配置的空间，其实package还有一个属性就是namespace命名空间。后面的extends是继承struts-default的默认配置。 
<br>　　action就是配置的class Action的配置，上面的Action就通过这里的配置。name就是我们访问action的路径，class就是Action的classpath。这里用了spring的继承，所有class和spring配置的bean的id或name对应的。result是Action跳转的视图配置。 
<br>　　Spring的beans的配置： Spring的action的配置： 这里是id=treeAction就是和上面struts配置文件中的action配置的class对应的。 
<br>　　这里这样配置能够起作用是struts2-spring-plugin-2.0.14.jar这个jar包 
<br>　　8、 发布启动当前工程发现有如下错误： 
<br>　　org.hibernate.MappingException: Association references unmapped class: com.hhh.entity.SsSortSubject 
<br>　　我们删掉SsSort.hbm.xml这个配置文件中的 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　我们不需要这个配置 
<br>　　如果出现这个java.lang.NoClassDefFoundError: org/objectweb/asm/CodeVisitor异常就删掉cglib这个jar包，这是cglib中需要asm这个依赖。这里我们不要cglib。 
<br>　　如果发布成功，启动没有错误。然后在浏览器中输入：http://localhost:8080/ExtTree/tree.action 
<br>　　看看是否输出json格式的字符串。如果输出是正常的内容，没有异常。那么后台的代码就编写成功。 
<br>　　9、 下面开始编写客户端的代码，添加ext2的js库。 
<br>　　编写客户端tree的代码： Ext.namespace("Ext.hhh"); /*++++++++++++++++++++++++++++++++++++++++++++++++ +++++++++++++++ + 系统项目树 + + create date: 2010-12-26 + ++++++++++++++++++++++++++++++++++++++++++++++++++ +++++++++++++*/ Ext.hhh.SystemTree = Ext.extend(Ext.tree.TreePanel, { constructor: function () { this.hiddenPkgs = []; Ext.hhh.SystemTree.superclass.constructor.call(thi s, { title: "项目菜单", 
<br>　　//xtype: "treepanel", 
<br>　　//singleExpand: true, //只展开一个子结点，展开另一个就隐藏其他 
<br>　　renderTo: Ext.fly("showTree"), 
<br>　　iframe: true, 
<br>　　height: 600, 
<br>　　width: 300, 
<br>　　lines: false, 
<br>　　useArrows: false, 
<br>　　autoScroll: true, 
<br>　　rootVisible: false, 
<br>　　maskDisabled: false, 
<br>　　checkModel: "multiple", 
<br>　　onlyLeafCheckable: false, 
<br>　　loader: new Ext.tree.TreeLoader({ 
<br>　　dataUrl: Ext.hhh.SystemTree.TREE_DATA_URL, 
<br>　　baseAttrs: { 
<br>　　uiProvider: Ext.ux.TreeCheckNodeUI //添加 uiProvider 属性 
<br>　　}, 
<br>　　clearOnLoad: false 
<br>　　/*baseParams: { 
<br>　　"sort.nodeId": "100" 
<br>　　},*/ 
<br>　　/*uiProviders: { 
<br>　　"col": Ext.ux.TreeCheckNodeUI //需要在后台传递数据的时候，需要添加一个uiProviders属性，值为col； 
<br>　　}*/ 
<br>　　}), 
<br>　　root: new Ext.tree.AsyncTreeNode({ 
<br>　　expanded: true, 
<br>　　text: "系统项目", 
<br>　　id: "100" 
<br>　　}), 
<br>　　listeners: { 
<br>　　click: function(node) { 
<br>　　//Ext.Msg.alert("Navigation Tree Click", "You clicked: " + node.attributes.nodeId + "," + node.text + ","); 
<br>　　window.frames["content"].document.body.innerHTML = "name:" + node.text + ", nodeId:" + node.attributes.nodeId; 
<br>　　}, 
<br>　　check: function(node, checked){ 
<br>　　//alert(node.text+" = "+ checked);//注册"check"事件 
<br>　　window.frames["content"].document.body.innerHTML = "name:" + node.text + ", nodeId:" + node.attributes.nodeId; 
<br>　　} 
<br>　　} 
<br>　　} 
<br>　　}); 上面就是一颗树，带点击和选中事件的tree。我们还可以给它额外添加些辅助功能，让它可以查询树节点，点击展开、收缩、刷新等功能。 
<br>　　首先添加这些工具条，toolbar tbar: [" ", { xtype: "textfield", enableKeyEvents: true,//启用键盘事件，默认是不开启的 
<br>　　emptyText: "请输入查询内容", 
<br>　　width: 205 
<br>　　}, { 
<br>　　tooltip: "展开所有", 
<br>　　iconCls: "expandIcon", 
<br>　　handler: this.onExpendAllNode, 
<br>　　scope: this//设置scope后，this指向MainViewport，不设置默认指向当前对象 
<br>　　}, "-", { 
<br>　　tooltip: "收缩所有", 
<br>　　iconCls: "collaspeIcon", 
<br>　　handler: this.onCollspseAllNode, 
<br>　　scope: this 
<br>　　}, "-", { 
<br>　　tooltip: "刷新", 
<br>　　iconCls: "refreshTree", 
<br>　　handler: this.onRefreshHandler, 
<br>　　scope: this 
<br>　　}] 完善工具条上面的handler事件的方法 onExpendAllNode: function () { this.onNodeExpandAll(); }, onCollspseAllNode: function () { this.onNodeCollapseAll(); }, onRefreshHandler: function () { this.onRefreshSystemTree(); }, onNodeExpandAll: function () { this.body.mask('Loading...', 'x-mask-loading'); var t = this; this.root.expand(true, true, function () { (function () { t.body.unmask(); }).defer(200); }); }, onNodeCollapseAll: function () { this.root.collapse(true); }, onRefreshSystemTree: function () { this.body.mask('Loading...', 'x-mask-loading'); var tb = this.body; var t = this; this.onNodeCollapseAll(); this.root.reload(function () { tb.unmask(); t.root.expand(true); }); /*this.root.reload(); setTimeout(function () { tb.unmask(); t.onNodeExpandAll(); }, 1000);*/ } 看看tree的入口函数和导入的js文件 "&gt; My JSP 'index.jsp' starting page --%&gt; 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　Ext.onReady(function () { 
<br>　　Ext.BLANK_IMAGE_URL = "ext2/resources/images/default/s.gif"; 
<br>　　Ext.QuickTips.init(); 
<br>　　Ext.form.Field.prototype.msgTarget = "side"; 
<br>　　new Ext.hhh.SystemTree(); 
<br>　　}); 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 
<br>　　 启动项目，在浏览器中请求： 可以看到如下界面： 
<br>　　 
<br>　　在查询的地方输入检测，就可以查询到相关带检测的项目: 
<br>　　 
<br>　　点击一个节点就可以得到它的id或text 
<br>　　 
<br>　　[b]下拉列表选择节点树 [/b][b] 
<br>　　[/b]效果图： 
<br>　　有了上面写的tree，现在写comboboxCheckNodeTree。需要用到扩展的comboBox的js文件。Ext.ux.ComboBoxCheckTree.js这个是插件，进扩展的comboBox的js库。直接引入即可。下面编写comboBox的js： /** * [b]@function[/b] 选择树节点combobox 
<br>　　* [b]@createDate[/b]: Sep 5, 2010 3:22:35 PM * [b]@class[/b] Ext.hoo.tree.ComboBoxCheckNodeTree * [b]@extends[/b] Ext.ux.ComboBoxCheckTree */ Ext.ns("Ext.hoo.tree"); Ext.hoo.tree.ComboBoxCheckNodeTree = Ext.extend(Ext.ux.ComboBoxCheckTree, { constructor: [b]function[/b] () { Ext.hoo.tree.ComboBoxCheckNodeTree.superclass.cons tructor.call([b]this[/b], { renderTo: Ext.get('show'), //width: 300, height: 150, // define which node's value will be submited //all 所有节点 
<br>　　//folder 父节点 
<br>　　//leaf 叶子节点 
<br>　　//selectValueModel: 'leaf', 默认叶子节点 
<br>　　tree: { 
<br>　　xtype: 'treepanel', 
<br>　　height: 100, 
<br>　　checkModel: 'cascade', //cascade 级联选择模式 
<br>　　onlyLeafCheckable: [b]false[/b],//可以选择所有的节点，true叶子 
<br>　　animate: [b]true[/b], 
<br>　　rootVisible: [b]true[/b], 
<br>　　autoScroll: [b]true[/b], 
<br>　　loader: [b]new[/b] Ext.tree.TreeLoader({ 
<br>　　dataUrl: Ext.hoo.tree.ComboBoxCheckNodeTree.TREE_DATA_URL, 
<br>　　baseAttrs: { 
<br>　　uiProvider: Ext.ux.TreeCheckNodeUI//Ext.tree.TreeNodeUI 
<br>　　} 
<br>　　}), 
<br>　　root: [b]new[/b] Ext.tree.AsyncTreeNode({ 
<br>　　expanded: [b]true[/b], 
<br>　　text: "系统项目", 
<br>　　id: "100" 
<br>　　}) 
<br>　　} 
<br>　　}); 
<br>　　//this.on("change", this.onFieldChange, this); 
<br>　　[b]this[/b].on("blur", [b]this[/b].onFieldChange, [b]this[/b]); 
<br>　　}, 
<br>　　onFieldChange: [b]function[/b] (field) { 
<br>　　alert(field.getValue() + "###" + [b]this[/b].getValue() + "#######" + [b]this[/b].getRawValue()); 
<br>　　} 
<br>　　}); 
<br>　　Ext.hoo.tree.ComboBoxCheckNodeTree.TREE_DATA_URL = "tree.action"; 
<br>　　Ext.onReady([b]function[/b] () { 
<br>　　Ext.BLANK_IMAGE_URL = "ext2/resources/images/default/s.gif"; 
<br>　　[b]new[/b] Ext.hoo.tree.ComboBoxCheckNodeTree(); 
<br>　　}); 代码比较简单，上面常用的属性也作注释说明。这个comboBoxTree可以用作多选比较好，当然单选也可以。 
<br>　　[b]下拉列表树 [/b][b] 
<br>　　[/b]效果图： 
<br>　　不带checkbox的tree，一般用于单选模式。看代码： /** * [b]@function[/b] 带checkbox的tree的combobox 
<br>　　* [b]@createDate[/b]: Sep 5, 2010 3:22:35 PM * [b]@class[/b] Ext.hoo.tree.ComboBoTree * [b]@extends[/b] Ext.ux.ComboBoxCheckTree */ Ext.ns("Ext.hoo.tree"); Ext.hoo.tree.ComboBoTree = Ext.extend(Ext.ux.ComboBoxTree, { constructor: [b]function[/b] () { Ext.hoo.tree.ComboBoTree.superclass.constructor.ca ll([b]this[/b], { renderTo: Ext.get('basicTree'), //width: 300, height: 150, //all:所有结点都可选中 
<br>　　//exceptRoot：除根结点，其它结点都可选（默认） 
<br>　　//folder:只有目录（非叶子和非根结点）可选 
<br>　　//leaf：只有叶子结点可选 
<br>　　selectNodeModel: "leaf", 
<br>　　//hiddenId: "comboHideId", 
<br>　　hiddenName: "comboHideName", 
<br>　　tree: { 
<br>　　xtype: 'treepanel', 
<br>　　height: 100, 
<br>　　animate: [b]true[/b], 
<br>　　rootVisible: [b]true[/b], 
<br>　　autoScroll: [b]true[/b], 
<br>　　loader: [b]new[/b] Ext.tree.TreeLoader({ 
<br>　　dataUrl: Ext.hoo.tree.ComboBoTree.TREE_DATA_URL 
<br>　　}), 
<br>　　root: [b]new[/b] Ext.tree.AsyncTreeNode({ 
<br>　　expanded: [b]true[/b], 
<br>　　text: "系统项目", 
<br>　　id: "100" 
<br>　　}) 
<br>　　}, 
<br>　　listeners: { 
<br>　　select: [b]function[/b] (field) { 
<br>　　alert(field.getValue() + "###" + [b]this[/b].getValue() + "#######" + [b]this[/b].getRawValue() + "###" + [b]this[/b].getNode().text); 
<br>　　} 
<br>　　} 
<br>　　}); 
<br>　　} 
<br>　　}); 
<br>　　Ext.hoo.tree.ComboBoTree.TREE_DATA_URL = "tree.action"; 
<br>　　Ext.onReady([b]function[/b] () { 
<br>　　Ext.BLANK_IMAGE_URL = "ext2/resources/images/default/s.gif"; 
<br>　　[b]new[/b] Ext.hoo.tree.ComboBoTree(); 
<br>　　});
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/11f5b3cabc8c8bfac8534863a39fd6bc/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Informix 11.5 新特性概览</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/bd4be235e4082681297d3bcf46733b65/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">informix基础之第四章应用程序介绍</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>