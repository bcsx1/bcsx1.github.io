<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Linux CentOS 8（DNS的配置与管理） - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Linux CentOS 8（DNS的配置与管理）" />
<meta property="og:description" content="Linux CentOS 8（DNS的配置与管理）
目录 一、DNS相关知识1.1 DNS简介1.2 DNS的解析原理1.3 DNS解析 二、DNS服务器部署2.1 不使用chroot模式启动DNS2.2 使用chroot模式DNS 三、DNS配置文件详解3.1 主配文件详解3.2 区域数据库文件详解 四、项目实施4.1 主DNS4.2 辅助DNS（DNS服务器冗余）4.3 转发DNS4.4 智能DNS 一、DNS相关知识 1.1 DNS简介 DNS
DNS域名系统（英文：Domain Name System)是一个域名系统，是万维网上作为域名和IP地址相互映射的一个分布式数据库，能够使用户更方便的访问互联网，而不用去记住能够被机器直接读取的IP数串。DNS协议运行在UDP协议之上，使用端口号53。
域名
域名是一个网站的逻辑地址，比如www.baidu.com，相比IP地址更加方便人类记忆，所以被广泛使用。
域名管理机构
Internet 域名与地址管理机构（ICANN）是为承担域名系统管理，IP地址分配，协议参数配置，以及主服务器系统管理等职能而设立的非盈利机构.现由IANA和其他实体与美国政府约定进行管理。域名分国际域名和国内域名两种，对于国际域名而言，其命名规则是：域名可以由（a-z、A-Z大小写等价）26个英文字母、数字（0-9）以及连接符“-”组成，但是域名的首位必须是字母或数字。对于域名的长度也有一定的限制：国际通用顶级域名长度不得超过26个字符，中国国家顶级域名长度不得超过20个字符。
1.2 DNS的解析原理 目前，因特网的命名方法是层次树状结构的方法。采用这种命名方法，任何一个连接在因特网上的主机或设备，都有一个某一层次结构的名字，即域名(domain name)。域是名字空间中一个可被管理的划分。域可以继续按层次划分为子域，如二级域、三级域等等，如图1所示。
图1 1.3 DNS解析 递归解析
主机向本地域名服务器的解析，一般都是采用递归解析。如果主机所询问的本地域名服务器不知道被查询域名的 IP 地址，那么本地域名服务器就以 DNS 客户的身份，向其他根域名服务器继续发出查询请求报文。
迭代解析
本地域名服务器向根域名服务器的查询，通常是采用迭代解析。当根域名服务器收到本地域名服务器的迭代查询请求报文时，要么给出所要查询的 IP 地址，要么告诉本地域名服务器：“你下一步应当向哪一个域名服务器进行查询”。然后让本地域名服务器进行后续的查询。
域名的解析也分为正向解析和反向解析。正向解析为：将域名解析为IP；反向解析为：将IP解析为域名。
二、DNS服务器部署 DNS服务是由bind程序提供的，所以要实现DNS服务就需要安装bind程序包。
[root@localhost ~]# yum install bind bind-chroot -y DNS主程序包
bind-chroot 是DNS的安全包，可以改变默认DNS根目录，将DNS运行在监牢模式。bind-chroot是 bind 的一个功能，使 bind 可以在一个chroot的模式下运行。也就是说，bind 运行时的/(根)目录，并不是系统真正的/(根)目录，只是系统中的一个子目录而已。这样做的目的是为了提高安全性。因为在 chroot 的模式下，bind 可以访问的范围仅限于这个子目录的范围里，无法进一步提升，进入到系统的其他目录中。bind 的默认启动方式就是 chroot 方式。Bind Chroot DNS 服务器的默认“监牢”为 /var/named/chroot。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/9569b26aa3b76e59e74aabe236b60573/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-11-21T17:01:04+08:00" />
<meta property="article:modified_time" content="2023-11-21T17:01:04+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Linux CentOS 8（DNS的配置与管理）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p><font size="6"><font color="#dd0000"><br> Linux CentOS 8（DNS的配置与管理）</font></font></p> 
<hr color="#000000" size='2"'> 
<p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><ul><li><a href="#DNS_10" rel="nofollow">一、DNS相关知识</a></li><li><ul><li><a href="#11_DNS_12" rel="nofollow">1.1 DNS简介</a></li><li><a href="#12_DNS_23" rel="nofollow">1.2 DNS的解析原理</a></li><li><a href="#13_DNS_31" rel="nofollow">1.3 DNS解析</a></li></ul> 
   </li><li><a href="#DNS_41" rel="nofollow">二、DNS服务器部署</a></li><li><ul><li><a href="#21_chrootDNS_56" rel="nofollow">2.1 不使用chroot模式启动DNS</a></li><li><a href="#22_chrootDNS_63" rel="nofollow">2.2 使用chroot模式DNS</a></li></ul> 
   </li><li><a href="#DNS_74" rel="nofollow">三、DNS配置文件详解</a></li><li><ul><li><a href="#31__84" rel="nofollow">3.1 主配文件详解</a></li><li><a href="#32__123" rel="nofollow">3.2 区域数据库文件详解</a></li></ul> 
   </li><li><a href="#_157" rel="nofollow">四、项目实施</a></li><li><ul><li><a href="#41__DNS_159" rel="nofollow">4.1 主DNS</a></li><li><a href="#42__DNSDNS_231" rel="nofollow">4.2 辅助DNS（DNS服务器冗余）</a></li><li><a href="#43__DNS_287" rel="nofollow">4.3 转发DNS</a></li><li><a href="#44__DNS_363" rel="nofollow">4.4 智能DNS</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<hr color="#000000" size='2"'> 
<h3><a id="DNS_10"></a>一、DNS相关知识</h3> 
<h4><a id="11_DNS_12"></a>1.1 DNS简介</h4> 
<p><strong>DNS</strong><br> DNS域名系统（英文：Domain Name System)是一个域名系统，是万维网上作为域名和IP地址相互映射的一个分布式数据库，能够使用户更方便的访问互联网，而不用去记住能够被机器直接读取的IP数串。DNS协议运行在UDP协议之上，使用端口号53。</p> 
<p><strong>域名</strong><br> 域名是一个网站的逻辑地址，比如www.baidu.com，相比IP地址更加方便人类记忆，所以被广泛使用。</p> 
<p><strong>域名管理机构</strong><br> Internet 域名与地址管理机构（ICANN）是为承担域名系统管理，IP地址分配，协议参数配置，以及主服务器系统管理等职能而设立的非盈利机构.现由IANA和其他实体与美国政府约定进行管理。域名分国际域名和国内域名两种，对于国际域名而言，其命名规则是：域名可以由（a-z、A-Z大小写等价）26个英文字母、数字（0-9）以及连接符“-”组成，但是域名的首位必须是字母或数字。对于域名的长度也有一定的限制：国际通用顶级域名长度不得超过26个字符，中国国家顶级域名长度不得超过20个字符。</p> 
<h4><a id="12_DNS_23"></a>1.2 DNS的解析原理</h4> 
<p>目前，因特网的命名方法是层次树状结构的方法。采用这种命名方法，任何一个连接在因特网上的主机或设备，都有一个某一层次结构的名字，即域名(domain name)。域是名字空间中一个可被管理的划分。域可以继续按层次划分为子域，如二级域、三级域等等，如图1所示。</p> 
<p><img src="https://images2.imgbox.com/d3/ee/6RydHGmj_o.png" alt="在这里插入图片描述"></p> 
<div align="center"> 
 <font size="2.5">图1 </font> 
</div> 
<h4><a id="13_DNS_31"></a>1.3 DNS解析</h4> 
<p><strong>递归解析</strong><br> 主机向本地域名服务器的解析，一般都是采用递归解析。如果主机所询问的本地域名服务器不知道被查询域名的 IP 地址，那么本地域名服务器就以 DNS 客户的身份，向其他根域名服务器继续发出查询请求报文。</p> 
<p><strong>迭代解析</strong><br> 本地域名服务器向根域名服务器的查询，通常是采用迭代解析。当根域名服务器收到本地域名服务器的迭代查询请求报文时，要么给出所要查询的 IP 地址，要么告诉本地域名服务器：“你下一步应当向哪一个域名服务器进行查询”。然后让本地域名服务器进行后续的查询。</p> 
<p>域名的解析也分为正向解析和反向解析。正向解析为：将域名解析为IP；反向解析为：将IP解析为域名。</p> 
<h3><a id="DNS_41"></a>二、DNS服务器部署</h3> 
<p>DNS服务是由<code>bind</code>程序提供的，所以要实现DNS服务就需要安装<code>bind</code>程序包。</p> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># yum install bind bind<span class="token operator">-</span>chroot <span class="token operator">-</span>y  
</code></pre> 
<p><strong>DNS主程序包</strong><br> <code>bind-chroot</code> 是DNS的安全包，可以改变默认DNS根目录，将DNS运行在监牢模式。<code>bind-chroot</code>是 bind 的一个功能，使 bind 可以在一个<code>chroot</code>的模式下运行。也就是说，bind 运行时的<code>/</code>(根)目录，并不是系统真正的<code>/</code>(根)目录，只是系统中的一个子目录而已。这样做的目的是为了提高安全性。因为在 chroot 的模式下，bind 可以访问的范围仅限于这个子目录的范围里，无法进一步提升，进入到系统的其他目录中。bind 的默认启动方式就是 chroot 方式。Bind Chroot DNS 服务器的默认“监牢”为 <code>/var/named/chroot</code>。</p> 
<p>DNS的守护进程叫做<code>named</code>，DNS是以<code>named</code>用户身份来运行，<code>named</code>用户在安装包的时候会在系统中自动创建。</p> 
<p><em>注：CentOS8 安装了 <code>bind-chroot</code>之后，若要使用 <code>named-chroot.service</code>，则需要关闭 <code>named.service</code>。两者只能运行一个。</em></p> 
<h4><a id="21_chrootDNS_56"></a>2.1 不使用chroot模式启动DNS</h4> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># systemctl enable <span class="token operator">--</span>now named  \\启动服务并设置开机自启
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># lsof <span class="token operator">-</span>i <span class="token operator">:</span><span class="token number">53</span>  \\启动验证
</code></pre> 
<h4><a id="22_chrootDNS_63"></a>2.2 使用chroot模式DNS</h4> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># cp <span class="token operator">-</span>r <span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>data <span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>chroot<span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>  \\复制对应的文件到chroot根目录
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># cp <span class="token operator">-</span>r <span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>dynamic <span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>chroot<span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># cp <span class="token operator">-</span>p <span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>named<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>chroot<span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>
<span class="token punctuation">[</span>root@localhost named<span class="token punctuation">]</span># chown <span class="token operator">-</span>R named<span class="token punctuation">.</span>named <span class="token operator">*</span>
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># systemctl enable <span class="token operator">--</span>now named<span class="token operator">-</span>chroot<span class="token punctuation">.</span>service  \\启动服务并设置开机自启<span class="token number">1</span>
</code></pre> 
<h3><a id="DNS_74"></a>三、DNS配置文件详解</h3> 
<p>默认情况下，如果不安装<code>bind-chroot</code>这个包，配置文件的路径如下：<br> 配置文件:<code>/etc/named.conf</code><br> 区域数据库文件:<code>/var/named/</code><br> 安装了<code>bind-chroot</code>这个用于改变默认DNS配置文件的路径的包，所以相对应的配置文件的路径也发生了变化。<br> 变化如下：<br> 配置文件:<code>/var/named/chroot/etc/named.conf</code><br> 区域数据库文件:<code>/var/named/chroot/var/named/</code></p> 
<h4><a id="31__84"></a>3.1 主配文件详解</h4> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># vim <span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>chroot<span class="token operator">/</span>etc<span class="token operator">/</span>named<span class="token punctuation">.</span>conf
options
<span class="token punctuation">{<!-- --></span>
    listen<span class="token operator">-</span>on port <span class="token number">53</span>    <span class="token punctuation">{<!-- --></span> <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>  \\ IPv4监听端口为<span class="token number">53</span>，只允许本机连接
    listen<span class="token operator">-</span>on<span class="token operator">-</span>v6 port <span class="token number">53</span>    <span class="token punctuation">{<!-- --></span> <span class="token operator">::</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>  \\ IPv6监听端口为<span class="token number">53</span>，只允许本机连接
    directory         <span class="token string">"/var/named"</span><span class="token punctuation">;</span>  \\定义工作目录
    dump<span class="token operator">-</span>file         <span class="token string">"data/cache_dump.db"</span><span class="token punctuation">;</span>  \\ CACHE文件路径，指定服务器在收到rndc dump命令时，转储数据到文件的路径。默认cache_dump<span class="token punctuation">.</span>db
    statistics<span class="token operator">-</span>file     <span class="token string">"data/named_stats.txt"</span><span class="token punctuation">;</span>  \\静态文件路径，指定服务器在收到rndc stats命令时，追加统计数据的文件路径。默认named_stats<span class="token punctuation">.</span>txt
    memstatistics<span class="token operator">-</span>file     <span class="token string">"data/named_mem_stats.txt"</span><span class="token punctuation">;</span>  \\内存静态文件路径，服务器在退出时，将内存统计写到文件的路径。默认named_mem_stats<span class="token punctuation">.</span>txt
    secroots<span class="token operator">-</span>file        <span class="token string">"data/named.secroots"</span><span class="token punctuation">;</span>  \\在收到rndc secroots指令后，服务器转储安全根的目的文件的路径名。默认named<span class="token punctuation">.</span>secroots
    recursing<span class="token operator">-</span>file        <span class="token string">"data/named.recursing"</span><span class="token punctuation">;</span>  \\指定服务器在通过rndc recursing命令指定转储当前递归请求到的文件路径。默认named<span class="token punctuation">.</span>recursing
     allow<span class="token operator">-</span>query        <span class="token punctuation">{<!-- --></span> localhost<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>  \\指定哪些主机可以查询，可以是any<span class="token operator">/</span>none
    allow<span class="token operator">-</span>query<span class="token operator">-</span>cache    <span class="token punctuation">{<!-- --></span> localhost<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>  \\指定允许哪些主机可以对缓存的访问
    recursion yes<span class="token punctuation">;</span>  \\开启递归
    dnssec<span class="token operator">-</span>enable yes<span class="token punctuation">;</span>  \\开启DNSSEC在权威或者递归服务器之间信任服务
    dnssec<span class="token operator">-</span>validation yes<span class="token punctuation">;</span>  \\开启DNSSEC验证在递归服务器
    managed<span class="token operator">-</span>keys<span class="token operator">-</span>directory <span class="token string">"/var/named/dynamic"</span><span class="token punctuation">;</span>  \\指定目录，其中保存着跟踪被管理DNSSEC密钥文件。默认为工作目录。
    pid<span class="token operator">-</span>file <span class="token string">"/run/named/named.pid"</span><span class="token punctuation">;</span>  \\ PID文件路径
    session<span class="token operator">-</span>keyfile <span class="token string">"/run/named/session.key"</span><span class="token punctuation">;</span>  \\ session<span class="token operator">-</span>keyfile文件路径
<span class="token punctuation">}</span><span class="token punctuation">;</span>
Logging  \\开启DNS日志记录
<span class="token punctuation">{<!-- --></span>
        channel default_debug <span class="token punctuation">{<!-- --></span>
                file <span class="token string">"data/named.run"</span><span class="token punctuation">;</span>
                severity dynamic<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
zone <span class="token string">"."</span> IN <span class="token punctuation">{<!-- --></span>  \\定义一个根域
        type hint<span class="token punctuation">;</span>  \\域类型为hint（根域），还有master（主要域）<span class="token operator">/</span>slave（辅助域）<span class="token operator">/</span>forward（转发域）等类型
        file <span class="token string">"/var/named/named.ca"</span><span class="token punctuation">;</span>  \\区域数据库文件路径
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
    include <span class="token string">"/etc/named.rfc1912.zones"</span><span class="token punctuation">;</span>  \\包含两个子配置文件
    include <span class="token string">"/etc/named.root.key"</span><span class="token punctuation">;</span>
</code></pre> 
<h4><a id="32__123"></a>3.2 区域数据库文件详解</h4> 
<p><strong>正向解析</strong></p> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># vim <span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>named<span class="token punctuation">.</span>localhost
$TTL <span class="token number">1</span>D  \\缓存时间
	@         	IN 	  SOA        @ 			   rname<span class="token punctuation">.</span>invalid<span class="token punctuation">.</span> <span class="token punctuation">(</span>
\\解析的域名   类型   授权域    授权域名服务器   管理员邮箱
                 <span class="token number">0</span>    <span class="token punctuation">;</span> serial  \\序列号，每次更新该文件系列号都应该变大
                 <span class="token number">1</span>D    <span class="token punctuation">;</span> refresh  \\刷新时间， 从域名服务器多长时间查询一个主服务器
                 <span class="token number">1</span>H    <span class="token punctuation">;</span> retry  \\重试时间，即当从服务试图在主服务器上查询更时，而连接失败了，则这个值规定了从服务多长时间后再试 
                 <span class="token number">1</span>W    <span class="token punctuation">;</span> expire  \\过期时间，从服务器在向主服务更新失败后多长时间后清除对应的记录
                 <span class="token number">3</span>H <span class="token punctuation">)</span>    <span class="token punctuation">;</span> minimum  \\缓存服务器不能与主服务联系上后多长时间清除相应的记录 
    NS   				@  \\ NS 名称服务器，表示这个主机为域名服务器
    A    		<span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>  \\主机头  	A记录   	IP
    AAAA    		<span class="token operator">::</span><span class="token number">1</span>  \\解析为IPV6地址
</code></pre> 
<p><strong>反向解析</strong></p> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># vim <span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>named<span class="token punctuation">.</span>loopback
$TTL <span class="token number">1</span>D
@    IN SOA    @ rname<span class="token punctuation">.</span>invalid<span class="token punctuation">.</span> <span class="token punctuation">(</span>
                    <span class="token number">0</span>    <span class="token punctuation">;</span> serial
                    <span class="token number">1</span>D    <span class="token punctuation">;</span> refresh
                    <span class="token number">1</span>H    <span class="token punctuation">;</span> retry
                    <span class="token number">1</span>W    <span class="token punctuation">;</span> expire
                    <span class="token number">3</span>H <span class="token punctuation">)</span>    <span class="token punctuation">;</span> minimum
    NS    		@
    PTR    		localhost  \\ IP   PTR（反向指针）     主机名
</code></pre> 
<h3><a id="_157"></a>四、项目实施</h3> 
<h4><a id="41__DNS_159"></a>4.1 主DNS</h4> 
<p><strong>实验要求：</strong><br> 对<code>jan16.com</code>域名做解析，解析要求如下：<br> <code>www</code> 解析为<code>A</code>记录 IP地址为 <code>1.1.1.1</code>，并设置反向解析<br> <code>news</code> 做别名解析<code>CNAME</code> 解析为 <code>www</code></p> 
<p><strong>DNS服务器配置：</strong></p> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># vim <span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>chroot<span class="token operator">/</span>etc<span class="token operator">/</span>named<span class="token punctuation">.</span>conf
options <span class="token punctuation">{<!-- --></span>
    listen<span class="token operator">-</span>on port <span class="token number">53</span> <span class="token punctuation">{<!-- --></span> any<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
directory     <span class="token string">"/var/named"</span><span class="token punctuation">;</span>
allow<span class="token operator">-</span>query     <span class="token punctuation">{<!-- --></span> any<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

zone <span class="token string">"jan16.com"</span> IN <span class="token punctuation">{<!-- --></span>
    type master<span class="token punctuation">;</span>
    file <span class="token string">"jan16.com.zone"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
zone <span class="token string">"1.1.1.in-addr.arpa"</span> IN <span class="token punctuation">{<!-- --></span>
        type master<span class="token punctuation">;</span>
        file <span class="token string">"1.1.1.zone"</span><span class="token punctuation">;</span>
        allow<span class="token operator">-</span>update <span class="token punctuation">{<!-- --></span> none<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>root@localhost named<span class="token punctuation">]</span># cp <span class="token operator">-</span>p named<span class="token punctuation">.</span>localhost  jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>zone  \\保留源文件的权限和属主的属性复制
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># cd <span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>chroot<span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>
<span class="token punctuation">[</span>root@localhost named<span class="token punctuation">]</span># vim jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>zone
$TTL <span class="token number">1</span>D
jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>       IN SOA  ns1<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span> rname<span class="token punctuation">.</span>invalid<span class="token punctuation">.</span> <span class="token punctuation">(</span>
                                        <span class="token number">0</span>       <span class="token punctuation">;</span> serial
                                        <span class="token number">1</span>D      <span class="token punctuation">;</span> refresh
                                        <span class="token number">1</span>H      <span class="token punctuation">;</span> retry
                                        <span class="token number">1</span>W      <span class="token punctuation">;</span> expire
                                        <span class="token number">3</span>H <span class="token punctuation">)</span>    <span class="token punctuation">;</span> minimum
        NS      ns1<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>
        A       <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>
        AAAA    <span class="token operator">::</span><span class="token number">1</span>
ns1     A      <span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.138</span>  \\此为DNS的IP地址，做正向解析
www     A      <span class="token number">1.1</span><span class="token number">.1</span><span class="token number">.1</span>
news    CNAME  www
<span class="token punctuation">[</span>root@localhost named<span class="token punctuation">]</span># cp <span class="token operator">-</span>p named<span class="token punctuation">.</span>loopback <span class="token number">1.1</span><span class="token number">.1</span><span class="token punctuation">.</span>zone
<span class="token punctuation">[</span>root@localhost named<span class="token punctuation">]</span># vim <span class="token number">1.1</span><span class="token number">.1</span><span class="token punctuation">.</span>zone
$TTL <span class="token number">1</span>D
<span class="token number">1.1</span><span class="token number">.1</span><span class="token punctuation">.</span>in<span class="token operator">-</span>addr<span class="token punctuation">.</span>arpa<span class="token punctuation">.</span>       IN SOA  ns1<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span> rname<span class="token punctuation">.</span>invalid<span class="token punctuation">.</span> <span class="token punctuation">(</span>
                                        <span class="token number">0</span>       <span class="token punctuation">;</span> serial
                                        <span class="token number">1</span>D      <span class="token punctuation">;</span> refresh
                                        <span class="token number">1</span>H      <span class="token punctuation">;</span> retry
                                        <span class="token number">1</span>W      <span class="token punctuation">;</span> expire
                                        <span class="token number">3</span>H <span class="token punctuation">)</span>    <span class="token punctuation">;</span> minimum
        NS      ns1<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>
<span class="token number">1</span>       PTR     www<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>
</code></pre> 
<p><strong>客户端验证：</strong><br> <code>host</code>采用非交互式解析，<br> <code>nslookup</code>可以采用交互或非交互式解析<br> <code>dig</code>显示详细的解析流程，在<code>dig</code>解析中，后面跟上<code>+trace</code>来显示详细解析流程</p> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>root@localhost named<span class="token punctuation">]</span># vim <span class="token operator">/</span>etc<span class="token operator">/</span>resolv<span class="token punctuation">.</span>conf 
nameserver <span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.138</span>
<span class="token punctuation">[</span>root@localhost named<span class="token punctuation">]</span># nslookup www<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com
Server<span class="token operator">:</span>		<span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.138</span>
Address<span class="token operator">:</span>	<span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.138</span>#<span class="token number">53</span>
Name<span class="token operator">:</span>	www<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com
Address<span class="token operator">:</span> <span class="token number">1.1</span><span class="token number">.1</span><span class="token number">.1</span>
<span class="token punctuation">[</span>root@localhost named<span class="token punctuation">]</span># nslookup <span class="token number">1.1</span><span class="token number">.1</span><span class="token number">.1</span>
<span class="token number">1.1</span><span class="token number">.1</span><span class="token number">.1</span><span class="token punctuation">.</span>in<span class="token operator">-</span>addr<span class="token punctuation">.</span>arpa	name <span class="token operator">=</span> www<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>
</code></pre> 
<h4><a id="42__DNSDNS_231"></a>4.2 辅助DNS（DNS服务器冗余）</h4> 
<p>DNS服务器在网络中为全世界的服务器提供了域名解析服务，扮演着至关重要的角色。网络中的某台DNS一旦宕机，就会造成部分域名无法解析，用户无法顺利访问到对应的服务器。但是我们学习的过程中也发现了，我们的DNS部署在单台服务器上，如果出现单点故障，我们可以通过部署多台相同解析的DNS来解决单点故障，即辅助DNS。这样就算一台DNS服务器出现问题，也不会影响解析服务。</p> 
<p>辅助DNS是从主DNS拉取区域数据库文件的，当主DNS解析的域名对应的区域数据库文件发生变化，辅助就会去找主DNS拉取新的区域数据库文件，保证和主的解析一致，而且是自动的不需要人为干预的，确保了主从DNS的区域数据库文件的一致性。</p> 
<p><strong>实验要求：</strong><br> 实现辅助DNS的搭建</p> 
<p><strong>DNS服务器配置：</strong></p> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># vim <span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>chroot<span class="token operator">/</span>etc<span class="token operator">/</span>named<span class="token punctuation">.</span>conf
options <span class="token punctuation">{<!-- --></span>
    listen<span class="token operator">-</span>on port <span class="token number">53</span> <span class="token punctuation">{<!-- --></span> any<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
directory     <span class="token string">"/var/named"</span><span class="token punctuation">;</span>
allow<span class="token operator">-</span>query     <span class="token punctuation">{<!-- --></span> any<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

zone <span class="token string">"jan16.com"</span> IN <span class="token punctuation">{<!-- --></span>
    type slave<span class="token punctuation">;</span>  \\类型写slave  代表辅助
    file <span class="token string">"jan16.com.zone"</span><span class="token punctuation">;</span>  
    masters <span class="token punctuation">{<!-- --></span> <span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.138</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>  \\设置主DNS IP地址，向该IP的主机去同步数据
<span class="token punctuation">}</span><span class="token punctuation">;</span>
zone <span class="token string">"1.1.1.in-addr.arpa"</span> IN <span class="token punctuation">{<!-- --></span>
    type slave<span class="token punctuation">;</span>
    file <span class="token string">"1.1.1.zone"</span><span class="token punctuation">;</span>
    masters <span class="token punctuation">{<!-- --></span> <span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.138</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># systemctl restart named<span class="token operator">-</span>chroot
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># ll <span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>chroot<span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>  \\可以看到复制过来的区域数据库配置文件
total <span class="token number">24</span>
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">1</span> named named  <span class="token number">232</span> Jun <span class="token number">15</span> <span class="token number">09</span><span class="token operator">:</span><span class="token number">31</span> <span class="token number">1.1</span><span class="token number">.1</span><span class="token punctuation">.</span>zone
drwxr<span class="token operator">-</span>x<span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">.</span> <span class="token number">2</span> named named   <span class="token number">23</span> Jun <span class="token number">15</span> <span class="token number">08</span><span class="token operator">:</span><span class="token number">47</span> data
drwxr<span class="token operator">-</span>x<span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">.</span> <span class="token number">2</span> named named   <span class="token number">60</span> Jun <span class="token number">15</span> <span class="token number">09</span><span class="token operator">:</span><span class="token number">31</span> dynamic
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span>r<span class="token operator">--</span><span class="token punctuation">.</span> <span class="token number">1</span> named named  <span class="token number">376</span> Jun <span class="token number">15</span> <span class="token number">09</span><span class="token operator">:</span><span class="token number">31</span> jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>zone
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">.</span> <span class="token number">1</span> named named <span class="token number">2253</span> Jun <span class="token number">15</span> <span class="token number">08</span><span class="token operator">:</span><span class="token number">44</span> named<span class="token punctuation">.</span>ca
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">.</span> <span class="token number">1</span> named named  <span class="token number">152</span> May <span class="token number">27</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">49</span> named<span class="token punctuation">.</span>empty
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">.</span> <span class="token number">1</span> named named  <span class="token number">152</span> May <span class="token number">27</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">49</span> named<span class="token punctuation">.</span>localhost
<span class="token operator">-</span>rw<span class="token operator">-</span>r<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">.</span> <span class="token number">1</span> named named  <span class="token number">168</span> May <span class="token number">27</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">49</span> named<span class="token punctuation">.</span>loopback
drwxr<span class="token operator">-</span>x<span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">.</span> <span class="token number">2</span> root  root     <span class="token number">6</span> Jun <span class="token number">15</span> <span class="token number">09</span><span class="token operator">:</span><span class="token number">25</span> slaves
</code></pre> 
<p><strong>客户端验证：</strong></p> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># vim <span class="token operator">/</span>etc<span class="token operator">/</span>resolv<span class="token punctuation">.</span>conf
nameserver <span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.144</span>
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># nslookup www<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com
Server<span class="token operator">:</span>		<span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.144</span>
Address<span class="token operator">:</span>	<span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.144</span>#<span class="token number">53</span>
Name<span class="token operator">:</span>	www<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com
Address<span class="token operator">:</span> <span class="token number">1.1</span><span class="token number">.1</span><span class="token number">.1</span>
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># nslookup <span class="token number">1.1</span><span class="token number">.1</span><span class="token number">.1</span>
<span class="token number">1.1</span><span class="token number">.1</span><span class="token number">.1</span><span class="token punctuation">.</span>in<span class="token operator">-</span>addr<span class="token punctuation">.</span>arpa	name <span class="token operator">=</span> www<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>
</code></pre> 
<h4><a id="43__DNS_287"></a>4.3 转发DNS</h4> 
<p>在DNS客户端提交解析申请到转发DNS服务器的时候，该服务器会将请求转发至配置文件中指定的非根DNS服务器进行解析，然后将解析的结果发至客户端并缓存到本地，因此，转发DNS服务器在这种意义上也算一种缓存服务器。并且转发DNS服务器可以选择完全转发或条件转发两种转发方式：</p> 
<p><strong>完全转发</strong>：所有客户机请求都直接扔给指定的非根DNS服务器进行解析。<br> <strong>条件转发</strong>：将某个域的解析申请转发至指定的非根DNS服务器进行解析。</p> 
<p><strong>实验要求：</strong><br> 实现DNS<strong>完全转发</strong>的搭建</p> 
<p><strong>DNS服务器配置：</strong></p> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># vim <span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>chroot<span class="token operator">/</span>etc<span class="token operator">/</span>named<span class="token punctuation">.</span>conf
options <span class="token punctuation">{<!-- --></span>
    listen<span class="token operator">-</span>on port <span class="token number">53</span> <span class="token punctuation">{<!-- --></span> any<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
directory     <span class="token string">"/var/named"</span><span class="token punctuation">;</span>
allow<span class="token operator">-</span>query     <span class="token punctuation">{<!-- --></span> any<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  forward only<span class="token punctuation">;</span>  \\递归转发
forwarders <span class="token punctuation">{<!-- --></span> <span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.138</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>  \\转发到的DNS服务器IP
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># systemctl restart named<span class="token operator">-</span>chroot
</code></pre> 
<p><strong>客户端验证：</strong></p> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># vim <span class="token operator">/</span>etc<span class="token operator">/</span>resolv<span class="token punctuation">.</span>conf
nameserver <span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.144</span>
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># nslookup www<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com
Server<span class="token operator">:</span>		<span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.144</span>
Address<span class="token operator">:</span>	<span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.144</span>#<span class="token number">53</span>
Name<span class="token operator">:</span>	www<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com
Address<span class="token operator">:</span> <span class="token number">1.1</span><span class="token number">.1</span><span class="token number">.1</span>
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># nslookup <span class="token number">1.1</span><span class="token number">.1</span><span class="token number">.1</span>
<span class="token number">1.1</span><span class="token number">.1</span><span class="token number">.1</span><span class="token punctuation">.</span>in<span class="token operator">-</span>addr<span class="token punctuation">.</span>arpa	name <span class="token operator">=</span> www<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>
</code></pre> 
<p><strong>实验要求：</strong><br> 实现DNS<strong>条件转发</strong>的搭建</p> 
<p><strong>DNS服务器配置：</strong></p> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># vim <span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>chroot<span class="token operator">/</span>etc<span class="token operator">/</span>named<span class="token punctuation">.</span>conf
options <span class="token punctuation">{<!-- --></span>
    listen<span class="token operator">-</span>on port <span class="token number">53</span> <span class="token punctuation">{<!-- --></span> any<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
directory     <span class="token string">"/var/named"</span><span class="token punctuation">;</span>
allow<span class="token operator">-</span>query     <span class="token punctuation">{<!-- --></span> any<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
zone <span class="token string">"jan16.com"</span> IN <span class="token punctuation">{<!-- --></span>  \\需要转发的域
      type forward<span class="token punctuation">;</span>
      forward only<span class="token punctuation">;</span>
      forwarders <span class="token punctuation">{<!-- --></span> <span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.138</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
zone <span class="token string">"1.1.1.in-addr.arpa"</span> IN <span class="token punctuation">{<!-- --></span>
        type forward<span class="token punctuation">;</span>
        forward only<span class="token punctuation">;</span>
        forwarders <span class="token punctuation">{<!-- --></span> <span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.138</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># systemctl restart named<span class="token operator">-</span>chroot
</code></pre> 
<p><strong>客户端验证：</strong></p> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># vim <span class="token operator">/</span>etc<span class="token operator">/</span>resolv<span class="token punctuation">.</span>conf
nameserver <span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.144</span>
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># nslookup www<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com
Server<span class="token operator">:</span>		<span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.144</span>
Address<span class="token operator">:</span>	<span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.144</span>#<span class="token number">53</span>
Name<span class="token operator">:</span>	www<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com
Address<span class="token operator">:</span> <span class="token number">1.1</span><span class="token number">.1</span><span class="token number">.1</span>
<span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># nslookup <span class="token number">1.1</span><span class="token number">.1</span><span class="token number">.1</span>
<span class="token number">1.1</span><span class="token number">.1</span><span class="token number">.1</span><span class="token punctuation">.</span>in<span class="token operator">-</span>addr<span class="token punctuation">.</span>arpa	name <span class="token operator">=</span> www<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>
</code></pre> 
<h4><a id="44__DNS_363"></a>4.4 智能DNS</h4> 
<p>在我们访问WEB的时候，发现有的网站打开的速度非常快，有的网站打开的非常慢，这是为什么呢？原因就是很多公司为了提升用户的体验，在公司的网站上使用了CDN内容加速服务，使用户可以直接在本地城市的服务器上浏览数据。CDN我们可以暂且理解为本地缓存服务器即可，本章不作扩展。那用户是如何准确找到用户所在城市的本地缓存服务器的呢？原因在于很多CDN公司的DNS服务使用了智能解析功能，可以根据用户的源IP判断是属于哪个城市，然后再把本地的缓存服务器解析给用户，用户便可以在本城市的服务器上获取数据了。</p> 
<p>智能解析原理：在DNS中植入全世界的IP库以及IP对应的地域，当用户来请求解析时，DNS会根据其源IP来定位他属于哪个区域，然后去找这个区域的 view 视图查询对应的域名的区域数据库文件做解析。从而使得不同地域的用户解析不同。</p> 
<p><strong>实验要求：</strong><br> 对<code>jan16.com</code>域名做智能解析：<br> 广州的用户解析IP为 <code>1.1.1.1</code><br> 北京的用户解析IP为 <code>2.2.2.2</code><br> 其他用户解析为 <code>3.3.3.3</code></p> 
<p><strong>DNS服务器配置：</strong></p> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># vim <span class="token operator">/</span>var<span class="token operator">/</span>named<span class="token operator">/</span>chroot<span class="token operator">/</span>etc<span class="token operator">/</span>named<span class="token punctuation">.</span>conf
options <span class="token punctuation">{<!-- --></span>
    listen<span class="token operator">-</span>on port <span class="token number">53</span> <span class="token punctuation">{<!-- --></span> any<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
directory     <span class="token string">"/var/named"</span><span class="token punctuation">;</span>
allow<span class="token operator">-</span>query     <span class="token punctuation">{<!-- --></span> any<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
acl gz <span class="token punctuation">{<!-- --></span> <span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.138</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>  \\定义IP库，DNS根据IP库判断源IP属于哪个区域
acl bj <span class="token punctuation">{<!-- --></span> <span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.144</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
view gz <span class="token punctuation">{<!-- --></span>  \\根据地域定义视图，将该区域的客户端的解析请求都由该视图中的zone来解析
        match<span class="token operator">-</span>clients <span class="token punctuation">{<!-- --></span> gz<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
zone <span class="token string">"jan16.com"</span> IN <span class="token punctuation">{<!-- --></span>
        type master<span class="token punctuation">;</span>
        file <span class="token string">"jan16.com.gz.zone"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

view bj <span class="token punctuation">{<!-- --></span>
        match<span class="token operator">-</span>clients <span class="token punctuation">{<!-- --></span> bj<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
zone <span class="token string">"jan16.com"</span> IN <span class="token punctuation">{<!-- --></span>
        type master<span class="token punctuation">;</span>
        file <span class="token string">"jan16.com.bj.zone"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

view other <span class="token punctuation">{<!-- --></span>
        match<span class="token operator">-</span>clients <span class="token punctuation">{<!-- --></span> any<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
zone <span class="token string">"jan16.com"</span> IN <span class="token punctuation">{<!-- --></span>
        type master<span class="token punctuation">;</span>
        file <span class="token string">"jan16.com.any.zone"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">/*  \\使用view需要把所有zone都放在view中，所以将其他涉及到zone的都注释
Zone “.” IN {
   Type hint;
File “named.ca”;
};
*/</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"/etc/named.rfc1912.zones"</span><span class="token expression"><span class="token punctuation">;</span></span></span>
<span class="token punctuation">[</span>root@localhost named<span class="token punctuation">]</span># cp <span class="token operator">-</span>p jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>bj jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>gz<span class="token punctuation">.</span>zone
<span class="token punctuation">[</span>root@localhost named<span class="token punctuation">]</span># cp <span class="token operator">-</span>p jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>bj jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>bj<span class="token punctuation">.</span>zone
<span class="token punctuation">[</span>root@localhost named<span class="token punctuation">]</span># cp <span class="token operator">-</span>p jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>bj jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>any<span class="token punctuation">.</span>zone
<span class="token punctuation">[</span>root@localhost named<span class="token punctuation">]</span># vim jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>gz<span class="token punctuation">.</span>zone
$TTL <span class="token number">1</span>D
jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>       IN SOA  ns1<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span> rname<span class="token punctuation">.</span>invalid<span class="token punctuation">.</span> <span class="token punctuation">(</span>
                                        <span class="token number">0</span>       <span class="token punctuation">;</span> serial
                                        <span class="token number">1</span>D      <span class="token punctuation">;</span> refresh
                                        <span class="token number">1</span>H      <span class="token punctuation">;</span> retry
                                        <span class="token number">1</span>W      <span class="token punctuation">;</span> expire
                                        <span class="token number">3</span>H <span class="token punctuation">)</span>    <span class="token punctuation">;</span> minimum
        NS      ns1<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>
        A       <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>
        AAAA    <span class="token operator">::</span><span class="token number">1</span>
ns1     A      <span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.138</span>
www     A      <span class="token number">1.1</span><span class="token number">.1</span><span class="token number">.1</span>
news    CNAME  www
<span class="token punctuation">[</span>root@localhost named<span class="token punctuation">]</span># vim jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>bj<span class="token punctuation">.</span>zone
$TTL <span class="token number">1</span>D
jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>       IN SOA  ns1<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span> rname<span class="token punctuation">.</span>invalid<span class="token punctuation">.</span> <span class="token punctuation">(</span>
                                        <span class="token number">0</span>       <span class="token punctuation">;</span> serial
                                        <span class="token number">1</span>D      <span class="token punctuation">;</span> refresh
                                        <span class="token number">1</span>H      <span class="token punctuation">;</span> retry
                                        <span class="token number">1</span>W      <span class="token punctuation">;</span> expire
                                        <span class="token number">3</span>H <span class="token punctuation">)</span>    <span class="token punctuation">;</span> minimum
        NS      ns1<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>
        A       <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>
        AAAA    <span class="token operator">::</span><span class="token number">1</span>
ns1     A      <span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.138</span>
www     A      <span class="token number">2.2</span><span class="token number">.2</span><span class="token number">.2</span>
news    CNAME  www
<span class="token punctuation">[</span>root@localhost named<span class="token punctuation">]</span># vim jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>any<span class="token punctuation">.</span>zone
$TTL <span class="token number">1</span>D
jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>       IN SOA  ns1<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span> rname<span class="token punctuation">.</span>invalid<span class="token punctuation">.</span> <span class="token punctuation">(</span>
                                        <span class="token number">0</span>       <span class="token punctuation">;</span> serial
                                        <span class="token number">1</span>D      <span class="token punctuation">;</span> refresh
                                        <span class="token number">1</span>H      <span class="token punctuation">;</span> retry
                                        <span class="token number">1</span>W      <span class="token punctuation">;</span> expire
                                        <span class="token number">3</span>H <span class="token punctuation">)</span>    <span class="token punctuation">;</span> minimum
        NS      ns1<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com<span class="token punctuation">.</span>
        A       <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>
        AAAA    <span class="token operator">::</span><span class="token number">1</span>
ns1     A      <span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.138</span>
www     A      <span class="token number">3.3</span><span class="token number">.3</span><span class="token number">.3</span>
news    CNAME  www

</code></pre> 
<p><strong>客户端验证：</strong><br> 在IP为<code>192.168.159.138</code>的客户机验证：</p> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># nslookup www<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com
Server<span class="token operator">:</span>		<span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.138</span>
Address<span class="token operator">:</span>	<span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.138</span>#<span class="token number">53</span>
Name<span class="token operator">:</span>	www<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com
Address<span class="token operator">:</span> <span class="token number">1.1</span><span class="token number">.1</span><span class="token number">.1</span>
</code></pre> 
<p>在IP为<code>192.168.159.144</code>的客户机验证：</p> 
<pre><code class="prism language-c"><span class="token punctuation">[</span>root@localhost <span class="token operator">~</span><span class="token punctuation">]</span># nslookup www<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com
Server<span class="token operator">:</span>		<span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.138</span>
Address<span class="token operator">:</span>	<span class="token number">192.168</span><span class="token number">.159</span><span class="token number">.138</span>#<span class="token number">53</span>
Name<span class="token operator">:</span>	www<span class="token punctuation">.</span>jan16<span class="token punctuation">.</span>com
Address<span class="token operator">:</span> <span class="token number">2.2</span><span class="token number">.2</span><span class="token number">.2</span>
</code></pre> 
<hr color="#000000" size='1"'> 
<p><font size="2"><strong>制作成员：</strong> 泽明<br> <strong>排版：</strong> 裕新<br> <strong>初审：</strong> 杨佳佳<br> <strong>复审：</strong> 五廿八</font></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c94f677cc104d7199303552129e51b04/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">Cisco Packet Tracer——校园网搭建实验</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/2f72180d9c8012087ced225d34b757f5/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">电路负压芯片可选</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>