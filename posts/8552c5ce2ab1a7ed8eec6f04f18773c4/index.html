<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>基于java的网络版坦克大战游戏系统设计与实现(项目报告&#43;答辩PPT&#43;源代码&#43;数据库&#43;部署视频) - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="基于java的网络版坦克大战游戏系统设计与实现(项目报告&#43;答辩PPT&#43;源代码&#43;数据库&#43;部署视频)" />
<meta property="og:description" content="基于Java的坦克大战游戏的设计与实现
目 录
1.引言............................................................................................................................. 1
2.系统分析..................................................................................................................... 2
2.1需求和技术分析...................................................................................................... 2
2.2功能分析.................................................................................................................. 2
3.总体设计..................................................................................................................... 2
3.1总体功能.................................................................................................................. 2
3.2坦克大战总体流程图.............................................................................................. 4
4.详细设计..................................................................................................................... 5
4.1面板功能设计.......................................................................................................... 5
4.2子弹功能设计.......................................................................................................... 8
4.3坦克功能设计.......................................................................................................... 9
4.4服务器设计............................................................................................................ 10
4.5客户端设计............................................................................................................ 13
5. 游戏测试................................................................................................................. 15
5.1 测试方法............................................................................................................... 15
5.2 系统测试............................................................................................................... 15
5.3 测试分析和小结................................................................................................... 17
6.结论........................................................................................................................... 18
参考文献...................................................................................................................... 18
基于Java的坦克大战游戏的设计与实现
摘要：随着人们对生活质量的要求一天比一天高，为了让人们更好地开掘自身的智慧，游戏就此进入了大众的视野，在人们的生活中有着重要的位置，已然变得必不可少。游戏产业推动高新技术不断升级，极大地促进了经济的增长，推动了“第四产业”的经济腾飞。坦克大战游戏是童年时期经常玩的经典游戏，我们对它都十分了解。游戏通过分析JAVA游戏开发和代码设计，用Eclipse软件开发了坦克大战游戏，运用接口技术，使一个类能够实现多个接口，使用套接字Socket来完成client端和server端的连接。玩家通过连接访问进入游戏，通过操纵坦克来守卫基地，玩家还可以获得超级武器来提升坦克的属性，摧毁全部敌方坦克来取得胜利，操作非常简单，还具有非常高的普遍率，适合所有人群玩。该游戏既满足了人们的个性化需求，也让玩家在游戏过程中丢掉烦恼，尽情地释放压力。
关键词：Java 坦克大战游戏 Socket
1.引言
随着社会和时代的进步，来自各个方面的压力让人没精打采，为了分解人们的压力，休养那变得疲顿的头脑和劳累的身心，特设计了坦克大战小游戏，游戏操作非常容易，只要将手指放在键盘上敲击相关的游戏键就可以玩，在玩游戏的过程中能够体验现实生活中没有的快乐，既有利于身心健康，又不会影响工作和学习。本游戏采用的是基于J2SE标准平台的java编程技术，在Windows 7操作系统中使用Eclipse软件进行代码编译，通过方法Graphics（）来进行游戏地图界面的绘制，使用了接口技术使一个类能够实现多个接口，使用套接字Socket来完成client端和server端的连接。
Java是一项面向对象编程语言，既包含了C语言的全部优点，又具有面向对象，跨平台性，安全性等特点，是现在程序设计中较为常用的编程语言。Java具备了“一次编译，处处运行”的特点，很好的体现了其跨平台性和面向对象的特点，允许程序员用感性的思路来进行繁杂的编程。
Eclipse是一个基于java的开放源代码的可扩展开发平台，是知名的跨平台的自由集成开发环境（IDE）Eclipse是一个基于，还捎带了一个标准规范的插件集，包含了Java开发工具（JDK），Eclipse因为安装不同的插件，所以它支持不同的计算机语言，主要用来Java语言开发。
Graphics类是软件包java.awt（其全部类都用来用户界面的创建和图形图像的绘制）下的类，它同意一个应用程序绘制到组件,以及在屏幕图像上进行绘制。Graphics 对象封装了 Java 支持的基本呈现操作所需的状态信息。Graphics（）方法构造了一个新的 Graphics 对象， 由于 Graphics类是抽象类，因此Graphics（）方法不可以被直接调用，此构造方法是图形上下文的默认构造方法，通过在组件上调用 getGraphics（） 来创建图形上下文，或者从其他图形上下文获取。
2.系统分析 2.1 需求和技术分析
如今的游戏已经成为世界上最大的娱乐休闲项目之一，游戏市场规模持续增长，潜力巨大，我国政府一向以来都特别鼓励游戏产业的发展，特别是我国当地的游戏产业，扶持力度连年加大，由此可见，我国对游戏产业的重视程度。该坦克大战游戏是对红白机经典90坦克大战的延续，对于80后，90后来说，都是童年里最宝贵的回忆，而80后，90后恰好占据着当今游戏人群的主体，对于他们来说，该坦克大战游戏不仅可以减轻人们的社会压力，放松身心，也可以回味小时候玩红白机游戏的疯狂时光，又不会沉迷于游戏，老少咸宜，能够更好地体验游戏的乐趣。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/8552c5ce2ab1a7ed8eec6f04f18773c4/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-07-02T11:28:54+08:00" />
<meta property="article:modified_time" content="2023-07-02T11:28:54+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">基于java的网络版坦克大战游戏系统设计与实现(项目报告&#43;答辩PPT&#43;源代码&#43;数据库&#43;部署视频)</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <div> 
 <p style="margin-left:0;text-align:center;">基于Java的坦克大战游戏的设计与实现</p> 
 <p style="margin-left:0;text-align:center;"><strong>目  录</strong></p> 
 <p style="margin-left:0;text-align:left;"><strong><a href="#_Toc4863" rel="nofollow">1.引言............................................................................................................................. 1</a></strong></p> 
 <p style="margin-left:0;text-align:left;"><strong><a href="#_Toc27829" rel="nofollow">2.系统分析..................................................................................................................... 2</a></strong></p> 
 <p style="margin-left:0;text-align:left;"><a href="#_Toc24825" rel="nofollow">2.1需求和技术分析...................................................................................................... 2</a></p> 
 <p style="margin-left:0;text-align:left;"><a href="#_Toc1452" rel="nofollow">2.2功能分析.................................................................................................................. 2</a></p> 
 <p style="margin-left:0;text-align:left;"><strong><a href="#_Toc16901" rel="nofollow">3.总体设计..................................................................................................................... 2</a></strong></p> 
 <p style="margin-left:0;text-align:left;"><a href="#_Toc16591" rel="nofollow">3.1总体功能.................................................................................................................. 2</a></p> 
 <p style="margin-left:0;text-align:left;"><a href="#_Toc20319" rel="nofollow">3.2坦克大战总体流程图.............................................................................................. 4</a></p> 
 <p style="margin-left:0;text-align:left;"><strong><a href="#_Toc20380" rel="nofollow">4.详细设计..................................................................................................................... 5</a></strong></p> 
 <p style="margin-left:0;text-align:left;"><a href="#_Toc9484" rel="nofollow">4.1面板功能设计.......................................................................................................... 5</a></p> 
 <p style="margin-left:0;text-align:left;"><a href="#_Toc21623" rel="nofollow">4.2子弹功能设计.......................................................................................................... 8</a></p> 
 <p style="margin-left:0;text-align:left;"><a href="#_Toc24691" rel="nofollow">4.3坦克功能设计.......................................................................................................... 9</a></p> 
 <p style="margin-left:0;text-align:left;"><a href="#_Toc12664" rel="nofollow">4.4服务器设计............................................................................................................ 10</a></p> 
 <p style="margin-left:0;text-align:left;"><a href="#_Toc21613" rel="nofollow">4.5客户端设计............................................................................................................ 13</a></p> 
 <p style="margin-left:0;text-align:left;"><strong><a href="#_Toc2731" rel="nofollow">5. 游戏测试................................................................................................................. 15</a></strong></p> 
 <p style="margin-left:0;text-align:left;"><a href="#_Toc9998" rel="nofollow">5.1 测试方法............................................................................................................... 15</a></p> 
 <p style="margin-left:0;text-align:left;"><a href="#_Toc32580" rel="nofollow">5.2 系统测试............................................................................................................... 15</a></p> 
 <p style="margin-left:0;text-align:left;"><a href="#_Toc31135" rel="nofollow">5.3 测试分析和小结................................................................................................... 17</a></p> 
 <p style="margin-left:0;text-align:left;"><strong><a href="#_Toc19809" rel="nofollow">6.结论........................................................................................................................... 18</a></strong></p> 
 <p style="margin-left:0;text-align:left;"><strong><a href="#_Toc13307" rel="nofollow">参考文献...................................................................................................................... 18</a></strong></p> 
</div> 
<p style="margin-left:0;text-align:center;">基于Java的坦克大战游戏的设计与实现</p> 
<p style="margin-left:0;text-align:justify;">摘要：随着人们对生活质量的要求一天比一天高，为了让人们更好地开掘自身的智慧，游戏就此进入了大众的视野，在人们的生活中有着重要的位置，已然变得必不可少。游戏产业推动高新技术不断升级，极大地促进了经济的增长，推动了“第四产业”的经济腾飞。坦克大战游戏是童年时期经常玩的经典游戏，我们对它都十分了解。游戏通过分析JAVA游戏开发和代码设计，用Eclipse软件开发了坦克大战游戏，运用接口技术，使一个类能够实现多个接口，使用套接字Socket来完成client端和server端的连接。玩家通过连接访问进入游戏，通过操纵坦克来守卫基地，玩家还可以获得超级武器来提升坦克的属性，摧毁全部敌方坦克来取得胜利，操作非常简单，还具有非常高的普遍率，适合所有人群玩。该游戏既满足了人们的个性化需求，也让玩家在游戏过程中丢掉烦恼，尽情地释放压力。</p> 
<p style="margin-left:0;text-align:justify;">关键词：Java 坦克大战游戏 Socket</p> 
<p style="margin-left:0;text-align:justify;"><a name="_Toc275783559"></a><a name="_Toc354520744"></a><a name="_Toc354660142"></a><a name="_Toc355265681"></a><a name="_Toc12021"></a><a name="_Toc26712"></a><a name="_Toc4863"><strong>1.</strong></a><strong>引言</strong></p> 
<p style="margin-left:0;text-align:left;">随着社会和时代的进步，来自各个方面的压力让人没精打采，为了分解人们的压力，休养那变得疲顿的头脑和劳累的身心，特设计了坦克大战小游戏，游戏操作非常容易，只要将手指放在键盘上敲击相关的游戏键就可以玩，在玩游戏的过程中能够体验现实生活中没有的快乐，既有利于身心健康，又不会影响工作和学习。本游戏采用的是基于J2SE标准平台的java编程技术，在Windows 7操作系统中使用Eclipse软件进行代码编译，通过方法Graphics（）来进行游戏地图界面的绘制，使用了接口技术使一个类能够实现多个接口，使用套接字Socket来完成client端和server端的连接。</p> 
<p style="margin-left:0;text-align:left;">Java是一项面向对象编程语言，既包含了C语言的全部优点，又具有面向对象，跨平台性，安全性等特点，是现在程序设计中较为常用的编程语言。Java具备了“一次编译，处处运行”的特点，很好的体现了其跨平台性和面向对象的特点，允许程序员用感性的思路来进行繁杂的编程。</p> 
<p style="margin-left:0;text-align:left;">Eclipse是一个基于java的开放源代码的可扩展开发平台，是知名的跨平台的自由集成开发环境（IDE）Eclipse是一个基于，还捎带了一个标准规范的插件集，包含了Java开发工具（JDK），Eclipse因为安装不同的插件，所以它支持不同的计算机语言，主要用来Java语言开发。</p> 
<p style="margin-left:0;text-align:left;">Graphics类是软件包java.awt（其全部类都用来用户界面的创建和图形图像的绘制）下的类，它同意一个应用程序绘制到组件,以及在屏幕图像上进行绘制。Graphics 对象封装了 Java 支持的基本呈现操作所需的状态信息。Graphics（）方法构造了一个新的 Graphics 对象， 由于 Graphics类是抽象类，因此Graphics（）方法不可以被直接调用，此构造方法是图形上下文的默认构造方法，通过在组件上调用 getGraphics（） 来创建图形上下文，或者从其他图形上下文获取。</p> 
<h2 style="margin-left:0;text-align:left;"><strong><a name="_Toc25412"></a><a name="_Toc7319"></a><a name="_Toc27829">2</a>.系统分析</strong></h2> 
<p style="margin-left:0;text-align:justify;"><a name="_Toc31151"></a><a name="_Toc28114"></a><a name="_Toc24825"><strong>2.1 </strong></a><strong>需求和技术分析</strong></p> 
<p style="margin-left:0;text-align:justify;">如今的游戏已经成为世界上最大的娱乐休闲项目之一，游戏市场规模持续增长，潜力巨大，我国政府一向以来都特别鼓励游戏产业的发展，特别是我国当地的游戏产业，扶持力度连年加大，由此可见，我国对游戏产业的重视程度。该坦克大战游戏是对红白机经典90坦克大战的延续，对于80后，90后来说，都是童年里最宝贵的回忆，而80后，90后恰好占据着当今游戏人群的主体，对于他们来说，该坦克大战游戏不仅可以减轻人们的社会压力，放松身心，也可以回味小时候玩红白机游戏的疯狂时光，又不会沉迷于游戏，老少咸宜，能够更好地体验游戏的乐趣。</p> 
<p style="margin-left:0;text-align:justify;">该程序代码有着贼高的运用率，因此，设计时必须要有相当缜密的逻辑条理思维，还要考虑一些无法操控的因素和所有可能出现的突发事件。</p> 
<p style="margin-left:0;text-align:justify;">（1）玩家能够通过敲击游戏键来操纵玩家坦克的动作，但对于敌方坦克来说，就要有第一定的自主性和智能型，因为是自动运行。同时，屏幕上的敌方坦克需要开创一个线程让其自主运行来应对数量过多而导致的混乱。要精密设置敌方坦克的操作运行算法，不要使游戏太过单一。</p> 
<p style="margin-left:0;text-align:justify;">（2）要对所有坦克打出的子弹进行实时监测并判断它打到了什么物体对象，因此需要开辟一个独立的线程来处理子弹，还需要控制好所有的物体对象。在同一时候，在JVM虚拟机上保持运行这么多的线程，可能会造成程序的迟钝，甚至瘫痪。</p> 
<p style="margin-left:0;text-align:justify;">（3）由于游戏界面中物体对象繁多，为了避免重叠运行，玩家坦克在前进时需要时刻地扫描周围环境。 </p> 
<p style="margin-left:0;text-align:justify;">（4）游戏的动态画面是一个优秀程序不可缺少的组成成分，精美的用户界面是引起玩家兴趣的关键，相关的构图美化技术也需要有所考虑。</p> 
<p style="margin-left:0;text-align:justify;">（5）在游戏地图中会有许多各种不同的物体对象，这不是绘图方法能够解决的，而且过多的大型photo会束缚程序的大小，所以要准确掌握Graphcis()方法的使用。同时使用读取外部文件的方法来加载游戏关卡，因为内存有限，不适合用于存储地图关卡。</p> 
<p style="margin-left:0;text-align:justify;">（6）游戏要对玩家的分数进行记录，这就需要对其功能和属性进行妥善的策划，还需要制作良好的解决方案来处理其存储方式。</p> 
<p style="margin-left:0;text-align:justify;">（7）为了确保游戏程序的运行顺畅，需要对结构进行严格把控，将算法完善得更精准，还可以运用混淆器对打包后的软件程序进行优化。</p> 
<p style="margin-left:0;text-align:justify;"><a name="_Toc7652"></a><a name="_Toc23004"></a><a name="_Toc1452"><strong>2.2 </strong></a><strong>功能分析</strong></p> 
<p style="margin-left:0;text-align:justify;">该坦克大战选择使用以往的游戏规矩。服务器端创建并设置一个主机，客户端申请连接加入，若其IP输入判断无误，载入地图关卡并开始游戏，在游戏界面中，会实时显示敌方坦克数量和玩家坦克的生命数量及分数。敌方坦克自行移动和打出子弹，玩家通过敲击键盘来操控自己坦克的动作并打出子弹，子弹无法打中相同阵营的坦克，当两方阵营的子弹相交时会相互抵消，打中对方坦克时会产生爆炸效果，中途可以暂停、发送信息，玩家坦克吃掉超级武器后会赋予其特殊的功能，在游戏地图界面中还同时游戏中还包含了通信功能。如果取得了胜利，会显示“你过关了！”，如果失败了，则系统给出“GAME OEVR!还想再玩一次吗？（y/n）”的提示，如果玩家双方都选择继续游戏，则游戏重新加载并开始，不然结束并退出游戏界面。</p> 
<p style="margin-left:0;text-align:justify;"><a name="_Toc25646"></a><a name="_Toc3048"></a><a name="_Toc16901"><strong>3.</strong></a><strong>总体设计</strong></p> 
<p style="margin-left:0;text-align:justify;"><a name="_Toc20766"></a><a name="_Toc16094"></a><a name="_Toc16591"><strong>3.1 </strong></a><strong>总体功能</strong></p> 
<p style="margin-left:0;text-align:justify;">游戏由服务器端和客户端两部分组成。</p> 
<p style="margin-left:0;text-align:justify;">在服务器端，ServerModel类主要用来创建主机，ServerView类主要负责服务器端图形界面的面板信息的设置，ServerControler类处理来自服务器视图框架的输入，包括创立通信与帮助信息等，enemy类主要负责敌方坦克的创建，player类主要用来设置玩家的得分及其显示位置等信息，drawingPanel类主要负责服务器端界面窗口的创建和设置，powerUp类主要用来设置子弹属性，例如加快速度、提升火力等，feedbackHandler类主要用来解码从客户端发来的指令字符串，再将其转换成指令来判断游戏失败后玩家是否继续游戏的问题。</p> 
<p style="margin-left:0;text-align:justify;">在客户端，ClientModel类主要用来设置与服务器的连接，ClientView类主要负责客户端端图形界面的面板信息，ClientControler类主要负责处理来自客户端视图框架的输入和创立通信与帮助信息等，drawingPanel主要用来设置客户端窗口界面，instructionHandler类主要用来解码从服务器端发来的指令字符串，再将其转换成指令来判断游戏失败后玩家是否继续游戏的问题，shield类主要负责设置坦克吃掉头盔图标获得保护时的状态，normalObject类主要用来创建和描绘其他物体对象。</p> 
<p style="margin-left:0;text-align:justify;">在服务器端和客户端中都存在的类中，Actor类主要用来创建接口，base类主要用来创建基地并设置属性，bullet类主要用来创建子弹并设置属性，Ticker类主要用来创建时间信息，bomb类主要用来创建子弹打出后产生的爆炸效果，river类主要用来创建河道并设置属性，grass类主要负责创建草坪并设置属性，Steelwall类主要用来创建铁墙并设置属性，wall类主要用来创建和设置普通墙及其属性，level类负责创建关卡。如表1，表2所示。</p> 
<p style="margin-left:0;text-align:center;">表1  游戏服务器端各类功能表</p> 
<table align="center" border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">ServerModel</p> </td><td style="border-color:#000000;vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;">创建主机</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">ServerView</p> </td><td style="vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;">设置服务器端图形界面的面板信息</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">ServerControler</p> </td><td style="vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;"><span style="background-color:#ffffff;">处理来自服务器视图框架的输入</span></p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">enemy</p> </td><td style="vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;">创建敌方坦克</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">player</p> </td><td style="vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;">设置玩家的得分及其显示位置等信息</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">drawingPanel</p> </td><td style="vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;">创建和设置服务器端界面窗口</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">powerUp</p> </td><td style="vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;">加快子弹速度并提升火力</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">feedbackHandler</p> </td><td style="vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;">判断指令并执行</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">Actor</p> </td><td style="vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;">创建接口</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">base</p> </td><td style="vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;">创建并设置基地</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">Ticker</p> </td><td style="vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;">创建并设置时间信息</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">bullet</p> </td><td style="vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;">创建子弹并设置属性</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">bomb</p> </td><td style="vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;">设置爆炸效果</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">river</p> </td><td style="vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;">创建河道并设置属性</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">grass</p> </td><td style="vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;">创建草坪并设置属性</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">Steelwall</p> </td><td style="vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;">创建铁墙并设置属性</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">wall</p> </td><td style="vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;">创建普通墙并设置属性</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:82.55pt;"> <p style="margin-left:0;text-align:center;">level</p> </td><td style="vertical-align:top;width:254.8pt;"> <p style="margin-left:0;text-align:center;">创建关卡</p> </td></tr></tbody></table> 
<p style="margin-left:0;text-align:center;">表2  游戏客户端各类功能表</p> 
<table align="center" border="1" cellspacing="0"><tbody><tr><td style="border-color:#000000;vertical-align:top;width:105.3pt;"> <p style="margin-left:0;text-align:center;">ClientModel</p> </td><td style="border-color:#000000;vertical-align:top;width:210.3pt;"> <p style="margin-left:0;text-align:center;">设置与服务器的连接</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.3pt;"> <p style="margin-left:0;text-align:center;">ClientView</p> </td><td style="vertical-align:top;width:210.3pt;"> <p style="margin-left:0;text-align:center;">设置客户端端图形界面的面板信息</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.3pt;"> <p style="margin-left:0;text-align:center;">ClientControler</p> </td><td style="vertical-align:top;width:210.3pt;"> <p style="margin-left:0;text-align:center;">负责<span style="background-color:#ffffff;">处理来自客户端视图框架的输入</span></p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.3pt;"> <p style="margin-left:0;text-align:center;">drawingPanel</p> </td><td style="vertical-align:top;width:210.3pt;"> <p style="margin-left:0;text-align:center;">设置客户端窗口界面</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.3pt;"> <p style="margin-left:0;text-align:center;">instructionHandler</p> </td><td style="vertical-align:top;width:210.3pt;"> <p style="margin-left:0;text-align:center;">判断指令并执行</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.3pt;"> <p style="margin-left:0;text-align:center;">shield</p> </td><td style="vertical-align:top;width:210.3pt;"> <p style="margin-left:0;text-align:center;">设置玩家坦克防护盾</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.3pt;"> <p style="margin-left:0;text-align:center;">normalObject</p> </td><td style="vertical-align:top;width:210.3pt;"> <p style="margin-left:0;text-align:center;">创建并描绘其他的物体对象</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.3pt;"> <p style="margin-left:0;text-align:center;">level</p> </td><td style="vertical-align:top;width:210.3pt;"> <p style="margin-left:0;text-align:center;">创建关卡</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.3pt;"> <p style="margin-left:0;text-align:center;">base</p> </td><td style="vertical-align:top;width:210.3pt;"> <p style="margin-left:0;text-align:center;">创建并设置基地</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.3pt;"> <p style="margin-left:0;text-align:center;">Ticker</p> </td><td style="vertical-align:top;width:210.3pt;"> <p style="margin-left:0;text-align:center;">创建并设置时间信息</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.3pt;"> <p style="margin-left:0;text-align:center;">bullet</p> </td><td style="vertical-align:top;width:210.3pt;"> <p style="margin-left:0;text-align:center;">创建子弹并设置属性</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.3pt;"> <p style="margin-left:0;text-align:center;">bomb</p> </td><td style="vertical-align:top;width:210.3pt;"> <p style="margin-left:0;text-align:center;">设置爆炸效果</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.3pt;"> <p style="margin-left:0;text-align:center;">river</p> </td><td style="vertical-align:top;width:210.3pt;"> <p style="margin-left:0;text-align:center;">创建河道并设置属性</p> </td></tr><tr><td style="border-color:#000000;vertical-align:top;width:105.3pt;"> <p style="margin-left:0;text-align:center;">wall</p> </td><td style="vertical-align:top;width:210.3pt;"> <p style="margin-left:0;text-align:center;">创建普通墙并设置属性</p> </td></tr></tbody></table> 
<p style="margin-left:0;text-align:left;">客户端玩家输入主机地址来完成与服务器玩家的连接，双方通过使用指令键来操控自己的坦克，敌方坦克和子弹则是自主随机运行，游戏中会对玩家的分数进行记录，还增加了特殊武器，另外，此游戏还进行了小小的创新，添加了通信功能，客户端与服务器端的连接访问通过使用套接字Socket来实现。</p> 
<p style="margin-left:0;text-align:left;">其总体功能如图1所示。</p> 
<p style="margin-left:0;text-align:center;">图1  总体功能图</p> 
<h3 style="margin-left:0;text-align:justify;"><a name="_Toc295143095"></a><a name="_Toc15413"></a><a name="_Toc31690"></a><a name="_Toc20319"><strong>3.2 </strong></a><strong>坦克大战总体流程图</strong></h3> 
<p style="margin-left:0;text-align:left;">如图2所示。</p> 
<p style="margin-left:0;text-align:center;">图2  总体流程图</p> 
<p style="margin-left:0;text-align:justify;"><a name="_Toc4471"></a><a name="_Toc23415"></a><a name="_Toc20380"><strong>4</strong></a><strong>.</strong><strong>详细设计</strong></p> 
<p style="margin-left:0;text-align:justify;"><a name="_Toc6634"></a><a name="_Toc15937"></a><a name="_Toc9484"><strong>4.1 </strong></a><strong>面板功能设计</strong></p> 
<p style="margin-left:0;text-align:justify;">4.1.1 基地的设计</p> 
<p style="margin-left:0;text-align:justify;">base类定义了几个变量，通过构造器初始化了基地的变量参数，使用g.drawImage()方法设置一幅图片来代表基地，通过public void move(){}来处理基地受到铁墙防护时的变化，使用if()判断语句判断铁墙的保护时间。游戏的核心重点自然就是基地了，一旦基地被毁，则玩家失败，游戏结束。游戏面板是游戏程序的关键，这里使用了方法paintComponent(Graphics g)来进行建立并设置其属性，具体实现代码如下：</p> 
<p style="margin-left:0;text-align:justify;">public void draw(Graphics g){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">g.drawImage(base, xPos - 12, yPos - 12, null );}</p> 
<p style="margin-left:0;text-align:justify;">public void paintComponent(Graphics g) {<!-- --></p> 
<p style="margin-left:0;text-align:justify;">              Graphics offScreenGraphics;</p> 
<p style="margin-left:0;text-align:justify;">              if (offScreenImage == null) {<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                            offScreenImage = createImage(640, 550);</p> 
<p style="margin-left:0;text-align:justify;">              }</p> 
<p style="margin-left:0;text-align:justify;">              offScreenGraphics = offScreenImage.getGraphics();</p> 
<p style="margin-left:0;text-align:justify;">              myPaint(offScreenGraphics);</p> 
<p style="margin-left:0;text-align:justify;">              g.drawImage(offScreenImage, 0, 0, this);}</p> 
<p style="margin-left:0;text-align:justify;">4.1.2敌方坦克的设计</p> 
<p style="margin-left:0;text-align:justify;">enemy类设置了敌方坦克的共同属性，并根据不同外形的坦克设置了不同的属性，如椭圆形的坦克的移动速度会比较快，拥有多层颜色坦克的生命力与其拥有的颜色数量一样，利用随机函数Math.random()*4随机生成一个随机值，并转换成整形数值，将此值赋给变量direction来作为敌方坦克生成时的方向，再将Math.random()*200生成的随机值转换成整形数值，赋予变量interval来作为生成时的时间间隔，并且设置了地方坦克的移动周期，在一个周期内将会朝着相同的方向继续移动，并设置了其发射子弹的遂进行。而在特殊属性中，分别设置了敌方坦克的的火力、速度、图标等属性，再用方法draw(Graphics g){}向地图中加入敌方坦克。具体实现代码如下：</p> 
<p style="margin-left:0;text-align:justify;">interval = (int)(Math.random()*200);</p> 
<p style="margin-left:0;text-align:justify;">direction = (int)(Math.random()*4);</p> 
<p style="margin-left:0;text-align:justify;">if(type ==args1 ){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">    firePosibility = args2;</p> 
<p style="margin-left:0;text-align:justify;">    speed = args3;</p> 
<p style="margin-left:0;text-align:justify;">    textures = new Image[args4];｝</p> 
<p style="margin-left:0;text-align:justify;">public void draw(Graphics g){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">     if(flashing &amp;&amp; gameModel.gameFlow%10 &gt; 4)</p> 
<p style="margin-left:0;text-align:justify;">          g.drawImage(textures[textures.length-4+direction], xPos - size, yPos - size, null);</p> 
<p style="margin-left:0;text-align:justify;">     else</p> 
<p style="margin-left:0;text-align:justify;">          g.drawImage(textures[direction], xPos - size, yPos - size, null);}</p> 
<p style="margin-left:0;text-align:justify;">4.1.3河道、草坪的设计</p> 
<p style="margin-left:0;text-align:justify;">grass类继承了Actor接口，通过grass类构造器定义了草坪的x，y坐标和矩形边界以及图标，通过public void draw(Graphics g) {}方法绘制了草坪。游戏双方坦克及其子弹可以自由通过草坪。具体实现代码如下：</p> 
<p style="margin-left:0;text-align:left;">public grass(int a, int b){<!-- --></p> 
<p style="margin-left:0;text-align:left;">              xPos = a;</p> 
<p style="margin-left:0;text-align:left;">              yPos = b;</p> 
<p style="margin-left:0;text-align:left;">              border = new Rectangle(0,0,0,0);</p> 
<p style="margin-left:0;text-align:left;">       }</p> 
<p style="margin-left:0;text-align:justify;">public void draw(Graphics g) {<!-- --></p> 
<p style="margin-left:0;text-align:justify;">       g.setColor(new Color(0, 225, 0));</p> 
<p style="margin-left:0;text-align:justify;">       for(int i = yPos - 11; i &lt;= yPos + 12; i+=5)</p> 
<p style="margin-left:0;text-align:justify;">              g.drawLine(xPos - 12, i, xPos + 12, i);</p> 
<p style="margin-left:0;text-align:justify;">       for(int i = xPos - 11; i &lt;= xPos + 12; i+=5)</p> 
<p style="margin-left:0;text-align:justify;">              g.drawLine(i, yPos - 12, i, yPos + 12);</p> 
<p style="margin-left:0;text-align:justify;">           g.setColor(new Color(0, 128, 0));</p> 
<p style="margin-left:0;text-align:justify;">       for(int i = yPos - 10; i &lt;= yPos + 12; i+=5)</p> 
<p style="margin-left:0;text-align:justify;">              g.drawLine(xPos - 12, i, xPos + 12, i);</p> 
<p style="margin-left:0;text-align:justify;">       for(int i = xPos - 10; i &lt;= xPos + 12; i+=5)</p> 
<p style="margin-left:0;text-align:justify;">              g.drawLine( i, yPos - 12, i, yPos + 12);</p> 
<p style="margin-left:0;text-align:justify;">       }           </p> 
<p style="margin-left:0;text-align:justify;">river类继承了Actor接口，用river类构造器定义了河道的x，y坐标和矩形边界以及图标，使用g.drawImage（Image，int，int， ImageObserver）方法设置一幅图片来代表河道。以前各个经典版本的坦克大战游戏都将河道设置为不允许坦克经过，但子弹可以自由通过，本程序为了遵循经典，也如此设计。具体实现代码如下：</p> 
<p style="margin-left:0;text-align:left;">public river(int a, int b, ServerModel gameModel){<!-- --></p> 
<p style="margin-left:0;text-align:left;">              this.gameModel = gameModel;</p> 
<p style="margin-left:0;text-align:left;">              river = gameModel.textures[71];</p> 
<p style="margin-left:0;text-align:left;">              xPos = a;</p> 
<p style="margin-left:0;text-align:left;">              yPos = b;</p> 
<p style="margin-left:0;text-align:left;">              Border = new Rectangle(xPos - 12, yPos - 12, 25, 25);}</p> 
<p style="margin-left:0;text-align:justify;">g.drawImage(river, xPos - 12, yPos - 12, null)}</p> 
<p style="margin-left:0;text-align:justify;">4.1.4墙与铁墙的设计</p> 
<p style="margin-left:0;text-align:justify;">该模块通过new Rectangle(int x,int y,int width,int height)完成了一个矩形的创建，然后将其具体值赋给变量数组border[数组索引]生成了墙。坐标x和y为绘制矩形时的起始点，width,height分别为矩形绘制的宽和高。通过构造器定义普通墙和铁墙的矩形边界和图标。具体实现代码如下：</p> 
<p style="margin-left:0;text-align:justify;">generalBorder = new Rectangle(xPos - 12, yPos - 12, 25, 25);</p> 
<p style="margin-left:0;text-align:justify;">border[0] = new Rectangle(xPos - 11, yPos - 11, 11, 11);</p> 
<p style="margin-left:0;text-align:justify;">border[1] = new Rectangle(xPos + 1, yPos - 11, 11, 11);</p> 
<p style="margin-left:0;text-align:justify;">border[2] = new Rectangle(xPos - 11, yPos + 1, 11, 11);</p> 
<p style="margin-left:0;text-align:justify;">border[3] = new Rectangle(xPos + 1, yPos + 1, 11, 11);</p> 
<p style="margin-left:0;text-align:left;">public wall(int a, int b, int orientation, ServerModel gameModel){<!-- --></p> 
<p style="margin-left:0;text-align:left;">              xPos = a;</p> 
<p style="margin-left:0;text-align:left;">              yPos = b;</p> 
<p style="margin-left:0;text-align:left;">              this.gameModel = gameModel;</p> 
<p style="margin-left:0;text-align:left;">              wall = gameModel.textures[70];</p> 
<p style="margin-left:0;text-align:left;">              generalBorder = new Rectangle(xPos - 12, yPos - 12, 25, 25);}</p> 
<p style="margin-left:0;text-align:justify;">4.1.5界面窗口的创建</p> 
<p style="margin-left:0;text-align:justify;">再该模块中，在ServerView类的构造器中用super()方法调用父类构造器设置窗口题目为“坦克大战”，使用JButton(String)定义了六个（退出、帮助、发送、暂停/继续、建立主机和隐藏）鼠标点击事件（即所谓的按钮），JTextField定义文本框，并将其设置为不可编辑。使用new drawingPanel()和setBackground(Color c)创建一个面板并设置背景颜色，再通过setBounds()和setLayout()方法定义了页面的大小并将页面布局定义为空。通过add（）方法向页面添加按钮和文本框。使用setColor（Color c）方法设置面板颜色为指定颜色，再通过继承自java.awt.Graphics类中的drawString（String，int，int）方法向面板添加并输出当前关数及剩余敌人数，通过if判断语句进行判断，如果消灭坦克数量大于敌方坦克数量则输出胜利场景。</p> 
<p style="margin-left:0;text-align:justify;"><a name="_Toc3033"></a><a name="_Toc546"></a><a name="_Toc21623"><strong>4.2</strong></a><strong>子弹功能设计</strong></p> 
<p style="margin-left:0;text-align:justify;">该模块用setColor()方法设置子弹颜色为浅灰色，使用g.fillRect(int,int,int,int)方法设置子弹水平或垂直发射时的形状，子弹和什么东西相交通过if()判断语句和equals()方法来鉴定，然后再处理相交时子弹和其他对象的属性变化。具体代码如下：</p> 
<p style="margin-left:0;text-align:justify;">public void draw(Graphics g) {<!-- --></p> 
<p style="margin-left:0;text-align:justify;">       g.setColor(Color.lightGray);</p> 
<p style="margin-left:0;text-align:justify;">       if(direction == 0 || direction == 1)</p> 
<p style="margin-left:0;text-align:justify;">              g.fillRect(border.x + 1, border.y +1, 3, 9);</p> 
<p style="margin-left:0;text-align:justify;">       if(direction == 2 || direction == 3)</p> 
<p style="margin-left:0;text-align:justify;">              g.fillRect(border.x +1, border.y + 1, 9, 3);</p> 
<p style="margin-left:0;text-align:justify;">}</p> 
<p style="margin-left:0;text-align:justify;">if(!border.intersects(map)){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                     gameModel.removeActor(this);</p> 
<p style="margin-left:0;text-align:justify;">                     notifiyOwner();</p> 
<p style="margin-left:0;text-align:justify;">                     makeBomb();</p> 
<p style="margin-left:0;text-align:justify;">                     writeToOutputLine();</p> 
<p style="margin-left:0;text-align:justify;">                     return;</p> 
<p style="margin-left:0;text-align:justify;">                            if(gameModel.actors[i].getType().equals("steelWall")){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                                          Steelwall temp =(Steelwall)gameModel.actors[i];</p> 
<p style="margin-left:0;text-align:justify;">                                                 if(!temp.walldestoried){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                                          temp.damageWall(border,bulletpower,direction);</p> 
<p style="margin-left:0;text-align:justify;">if(temp.bulletdestoried)</p> 
<p style="margin-left:0;text-align:justify;">                                                               hitTarget = true;</p> 
<p style="margin-left:0;text-align:justify;">                                                 }</p> 
<p style="margin-left:0;text-align:justify;">                                          }else if(gameModel.actors[i].getType().equals("wall")){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                                                 wall temp = (wall)gameModel.actors[i];</p> 
<p style="margin-left:0;text-align:justify;">                                                 if(!temp.walldestoried){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                                          temp.damageWall(border,bulletpower,direction);</p> 
<p style="margin-left:0;text-align:justify;">                                                        if(temp.bulletdestoried)</p> 
<p style="margin-left:0;text-align:justify;">                                                               hitTarget = true;</p> 
<p style="margin-left:0;text-align:justify;">                                                 }</p> 
<p style="margin-left:0;text-align:justify;">                                          }else if(gameModel.actors[i].getType().equals("bullet")){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                                                 bullet temp = (bullet)gameModel.actors[i];</p> 
<p style="margin-left:0;text-align:justify;">                                                 if(temp.owner.getType().equals("Player")){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                                                 hitTarget = true;</p> 
<p style="margin-left:0;text-align:justify;">                                                 gameModel.removeActor(gameModel.actors[i]);</p> 
<p style="margin-left:0;text-align:justify;">                                                 temp.notifiyOwner();</p> 
<p style="margin-left:0;text-align:justify;">                                                 }</p> 
<p style="margin-left:0;text-align:justify;">                                          }else if(gameModel.actors[i].getType().equals("Player")){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                                                 if(owner.getType().equals("enemy")){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                                                        player temp = (player)gameModel.actors[i];</p> 
<p style="margin-left:0;text-align:justify;">                                                     temp.hurt();</p> 
<p style="margin-left:0;text-align:justify;">                                                 }else{<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                                                 }</p> 
<p style="margin-left:0;text-align:justify;">                                                 hitTarget = true;</p> 
<p style="margin-left:0;text-align:justify;">                                          }else if</p> 
<p style="margin-left:0;text-align:justify;">(gameModel.actors[i].getType().equals("enemy") &amp;&amp; owner.getType().equals("Player")){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                                                 enemy temp = (enemy)gameModel.actors[i];</p> 
<p style="margin-left:0;text-align:justify;">                                                 player tempe = (player)owner;</p> 
<p style="margin-left:0;text-align:justify;">                                                 if(temp.health == 0)</p> 
<p style="margin-left:0;text-align:justify;">                                                 tempe.scores+=temp.type*100;</p> 
<p style="margin-left:0;text-align:justify;">                                                 temp.hurt();</p> 
<p style="margin-left:0;text-align:justify;">                                                 hitTarget = true;</p> 
<p style="margin-left:0;text-align:justify;">                                          }else if(gameModel.actors[i].getType().equals("base")){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                                                 base temp = (base)gameModel.actors[i];</p> 
<p style="margin-left:0;text-align:justify;">                                                 temp.doom();</p> 
<p style="margin-left:0;text-align:justify;">                                                 hitTarget = true;</p> 
<p style="margin-left:0;text-align:justify;">                                                 gameModel.gameOver = true;</p> 
<p style="margin-left:0;text-align:justify;">                                          }</p> 
<p style="margin-left:0;text-align:justify;">                                   }</p> 
<p style="margin-left:0;text-align:justify;">                            }</p> 
<p style="margin-left:0;text-align:justify;">                     }</p> 
<p style="margin-left:0;text-align:justify;">              }</p> 
<p style="margin-left:0;text-align:justify;">if(hitTarget){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                     gameModel.removeActor(this);</p> 
<p style="margin-left:0;text-align:justify;">                     notifiyOwner();</p> 
<p style="margin-left:0;text-align:justify;">                     makeBomb();</p> 
<p style="margin-left:0;text-align:justify;">                     writeToOutputLine();</p> 
<p style="margin-left:0;text-align:justify;">                     return;</p> 
<p style="margin-left:0;text-align:justify;">              }</p> 
<p style="margin-left:0;text-align:justify;"><a name="_Toc24691"><strong>4.3</strong></a><strong>坦克功能设计</strong></p> 
<p style="margin-left:0;text-align:justify;">坦克吃掉了什么特殊武器图标通过if()判断语句和equals()方法来鉴定，如果吃到TNT图标，则已经出现了的敌方坦克全部被炸毁；如果吃到坦克图标，玩家坦克加一条生命；如果吃到五角星图标，则提升玩家坦克子弹火力并且速度加快，可以打破铁墙；若是头盔图标，则玩家坦克获得防护盾且免疫敌方子弹；如果吃到铁墙图标，则基地由普通墙变为铁墙，如果吃到钟表图标，则时间停止，所有敌方坦克静止。具体代码如下：</p> 
<p style="margin-left:0;text-align:justify;">if(gameModel.actors[i].getType().equals("powerUp")){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">       scores+=50；powerUp temp = (powerUp)gameModel.actors[i];</p> 
<p style="margin-left:0;text-align:justify;">       int function = temp.function;</p> 
<p style="margin-left:0;text-align:justify;">       if(function == 0){  upgrade();</p> 
<p style="margin-left:0;text-align:justify;">       }else if(function == 1){ base tempe = (base)gameModel.actors[4];tempe.steelWallTime = 600;</p> 
<p style="margin-left:0;text-align:justify;">       }else if(function == 2){                                                       </p> 
<p style="margin-left:0;text-align:justify;">         for(int j = 0; j &lt; gameModel.actors.length; j++)</p> 
<p style="margin-left:0;text-align:justify;">                     if(gameModel.actors[j] != null)</p> 
<p style="margin-left:0;text-align:justify;">                            if(gameModel.actors[j].getType().equals("enemy")){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                                   enemy tempe = (enemy)gameModel.actors[j];</p> 
<p style="margin-left:0;text-align:justify;">                                          gameModel.addActor(new bomb(tempe.xPos, tempe.yPos, "big", gameModel));</p> 
<p style="margin-left:0;text-align:justify;">                     gameModel.removeActor(gameModel.actors[j]);}</p> 
<p style="margin-left:0;text-align:justify;">              level.NoOfEnemy = 0;level.deathCount = 20 - level.enemyLeft;}else if(function == 3){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">              InvulnerableTime = 300 + (int)Math.random()*400;</p> 
<p style="margin-left:0;text-align:justify;">              }else if(function == 4){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">enemy.freezedTime = 300 + (int)Math.random()*400;</p> 
<p style="margin-left:0;text-align:justify;">           enemy.freezedMoment = ServerModel.gameFlow;</p> 
<p style="margin-left:0;text-align:justify;">              }else if(function == 5){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                     if(status &lt; 3)numberOfBullet++;</p> 
<p style="margin-left:0;text-align:justify;">                            status =4;health = 2;if(type.equals("1P"))</p> 
<p style="margin-left:0;text-align:justify;">              for(int j = 0; j &lt; 4; j ++)textures[j] = gameModel.textures[66+j];</p> 
<p style="margin-left:0;text-align:justify;">                            else</p> 
<p style="margin-left:0;text-align:justify;">                            for(int j = 0; j &lt; 4; j ++)</p> 
<p style="margin-left:0;text-align:justify;">                              textures[j] = gameModel.textures[84+j];</p> 
<p style="margin-left:0;text-align:justify;">                 }else if(function == 6){ life++;}</p> 
<p style="margin-left:0;text-align:justify;"><a name="_Toc12664"><strong>4.4</strong></a><strong>服务器设计</strong></p> 
<p style="margin-left:0;text-align:justify;">4.4.1 ServerModel类</p> 
<p style="margin-left:0;text-align:justify;">在ServerModel类，实现了ActionListener接口，具备了监听功能。创建了一些连接变量和游戏变量，设置了布尔类型的服务器状态变量，使用构造器完成了消息队列信息的设置，使用createServer(){}方法建立主机，当布尔变量serverCreated的值为true时，主机创建成功，还设置了一个端口号，用try{}catch{}语句处理代码执行时发生的异常，并给出错误提示，服务器通过accept()方法与客户端建立连接，当端口号没有被其他应用程序占用并IP地址正确，则成功完成连接，载入游戏，如若不然，就会显示相应的错误提示。使用addMessage()在屏幕上显示消息，使用removeMessage()方法删除屏幕上的消息，通过addActor()和remove()方法完成了向地图中增添新的物体对象和清除已经不存在了的物体对象的操作。具体代码如下：</p> 
<p style="margin-left:0;text-align:left;">public void createServer(){<!-- --></p> 
<p style="margin-left:0;text-align:left;">             addMessage("正在建立主机(端口9999)");</p> 
<p style="margin-left:0;text-align:left;">             try {<!-- --></p> 
<p style="margin-left:0;text-align:left;">                     serverSocket = new ServerSocket(9999);</p> 
<p style="margin-left:0;text-align:left;">               serverCreated = true;</p> 
<p style="margin-left:0;text-align:left;">        } catch (Exception e) {<!-- --></p> 
<p style="margin-left:0;text-align:left;">                     addMessage("无法建立主机，请确认端口9999没有被别的程序使用");</p> 
<p style="margin-left:0;text-align:left;">                     System.out.println(e);</p> 
<p style="margin-left:0;text-align:left;">                     t.stop();</p> 
<p style="margin-left:0;text-align:left;">                     return;</p> 
<p style="margin-left:0;text-align:left;">        }</p> 
<p style="margin-left:0;text-align:left;">              addMessage("建立完成，等待玩家连接");</p> 
<p style="margin-left:0;text-align:left;">        try {<!-- --></p> 
<p style="margin-left:0;text-align:left;">                 clientSocket = serverSocket.accept();</p> 
<p style="margin-left:0;text-align:left;">              clientConnected = true;</p> 
<p style="margin-left:0;text-align:left;">                  out = new PrintWriter(clientSocket.getOutputStream(), true);</p> 
<p style="margin-left:0;text-align:left;">                  in = new BufferedReader(new InputStreamReader(</p> 
<p style="margin-left:0;text-align:left;">                            clientSocket.getInputStream()));</p> 
<p style="margin-left:0;text-align:left;">           } catch (Exception e) {<!-- --></p> 
<p style="margin-left:0;text-align:left;">                     addMessage("连接中出现错误，请重新建立主机");</p> 
<p style="margin-left:0;text-align:left;">                     serverCreated = false;</p> 
<p style="margin-left:0;text-align:left;">                     clientConnected = false;</p> 
<p style="margin-left:0;text-align:left;">                     t.stop();</p> 
<p style="margin-left:0;text-align:left;">                     try{<!-- --></p> 
<p style="margin-left:0;text-align:left;">                            serverSocket.close();</p> 
<p style="margin-left:0;text-align:left;">                            clientSocket.close();</p> 
<p style="margin-left:0;text-align:left;">                            out.close();</p> 
<p style="margin-left:0;text-align:left;">                            in.close();</p> 
<p style="margin-left:0;text-align:left;">                     }catch(Exception ex){}</p> 
<p style="margin-left:0;text-align:left;">                     return;</p> 
<p style="margin-left:0;text-align:left;">        }</p> 
<p style="margin-left:0;text-align:left;">              view.messageField.setEnabled(true);</p> 
<p style="margin-left:0;text-align:left;">              addMessage("玩家已连接上，开始载入游戏");</p> 
<p style="margin-left:0;text-align:left;">               out.println("L1;");</p> 
<p style="margin-left:0;text-align:left;">              textures = new Image[88];</p> 
<p style="margin-left:0;text-align:left;">              for(int i = 1; i &lt; textures.length+1; i++)</p> 
<p style="margin-left:0;text-align:left;">                     textures[i-1] = Toolkit.getDefaultToolkit().getImage("image\\" + i + ".jpg");</p> 
<p style="margin-left:0;text-align:left;">              actors = new Actor[400];</p> 
<p style="margin-left:0;text-align:left;">              level.loadLevel(this);</p> 
<p style="margin-left:0;text-align:left;">              P1 = new player("1P", this);</p> 
<p style="margin-left:0;text-align:left;">              addActor(P1);</p> 
<p style="margin-left:0;text-align:left;">              P2 = new player("2P", this);</p> 
<p style="margin-left:0;text-align:left;">              addActor(P2);</p> 
<p style="margin-left:0;text-align:left;">              gameStarted = true;</p> 
<p style="margin-left:0;text-align:left;">              view.mainPanel.actors = actors;</p> 
<p style="margin-left:0;text-align:left;">              view.mainPanel.gameStarted = true;</p> 
<p style="margin-left:0;text-align:left;">       addMessage("载入完毕，游戏开始了！");</p> 
<p style="margin-left:0;text-align:left;">       }</p> 
<p style="margin-left:0;text-align:left;">public void removeActor(Actor actor){<!-- --></p> 
<p style="margin-left:0;text-align:left;">                     for(int i = 0; i &lt; actors.length; i ++ )</p> 
<p style="margin-left:0;text-align:left;">                                   if(actors[i] == actor){<!-- --></p> 
<p style="margin-left:0;text-align:left;">                                          actors[i] = null;</p> 
<p style="margin-left:0;text-align:left;">                                          break;</p> 
<p style="margin-left:0;text-align:left;">                     }</p> 
<p style="margin-left:0;text-align:justify;">}</p> 
<p style="margin-left:0;text-align:left;">public void addMessage(String message){<!-- --></p> 
<p style="margin-left:0;text-align:left;">              if(messageIndex &lt; 8){<!-- --></p> 
<p style="margin-left:0;text-align:left;">                     messageQueue[messageIndex] = message;</p> 
<p style="margin-left:0;text-align:left;">                     messageIndex++;</p> 
<p style="margin-left:0;text-align:left;">              }</p> 
<p style="margin-left:0;text-align:left;">              else{<!-- --></p> 
<p style="margin-left:0;text-align:left;">                     for(int  i = 0; i &lt; 7; i++)</p> 
<p style="margin-left:0;text-align:left;">                            messageQueue[i] = messageQueue[i+1];</p> 
<p style="margin-left:0;text-align:left;">                     messageQueue[7] = message;</p> 
<p style="margin-left:0;text-align:justify;">              }</p> 
<p style="margin-left:0;text-align:left;">public void removeMessage(){<!-- --></p> 
<p style="margin-left:0;text-align:left;">              if(messageIndex == 0)</p> 
<p style="margin-left:0;text-align:left;">                     return;</p> 
<p style="margin-left:0;text-align:left;">              messageIndex--;</p> 
<p style="margin-left:0;text-align:left;">              for(int  i = 0; i &lt; messageIndex; i++)</p> 
<p style="margin-left:0;text-align:left;">                     messageQueue[i] = messageQueue[i+1];</p> 
<p style="margin-left:0;text-align:left;">              messageQueue[messageIndex] = null;</p> 
<p style="margin-left:0;text-align:left;">              if(!gameStarted)</p> 
<p style="margin-left:0;text-align:left;">                     view.mainPanel.repaint();</p> 
<p style="margin-left:0;text-align:left;">       }</p> 
<p style="margin-left:0;text-align:justify;">4.4.2 feedbackHandler类</p> 
<p style="margin-left:0;text-align:justify;">feedbackHandler类<span style="background-color:#ffffff;">从客户端程序解码指令字符串</span><span style="background-color:#ffffff;">,</span><span style="background-color:#ffffff;">然后将字符串转换为真正的指令。通过</span><span style="background-color:#ffffff;">while(!instruction.substring(i, i+1).equals("</span><span style="background-color:#ffffff;">？</span><span style="background-color:#ffffff;">")){}</span><span style="background-color:#ffffff;">语句来判断其指令，并根据其指令来完成相对性的操作。</span></p> 
<p style="margin-left:0;text-align:justify;">4.4.3 其他各类设计</p> 
<p style="margin-left:0;text-align:justify;">Lever类设置了不同的关卡，通过if(1+ (currentLevel-1)%8 == num){}判断语句来加入关卡，在进入下一关卡时，上一个关卡的所有东西都会被系统清理，并且增加了游戏难度。同时还设置了胜利场景。</p> 
<p style="margin-left:0;text-align:justify;">Player类通过构造器设置了玩家坦克的生命数量，生成时的方向和无敌时间，以及健康状态，子弹数量等。通过if(type.equals( "1P")){}elae{}来判断两个玩家并设置其坦克的初始位置，用drawImage()方法绘制玩家坦克，当玩家敲击开火键时，会用if()语句判断是否慢如条件，若满足就会生成一个子弹，并且子弹的位置、速度等属性参数都会被设置好，再通过add()方法添加子弹。在坦克的下一个移动有效的前提下根据玩家坦克的移动定义玩家坦克的下一个边界，并判断是否与地图边界和其他物体对象相交，设置相交时坦克与物体对象会发生的变化情况。当玩家坦克被击毁时，其生命减少，使用reset（）方法将玩家坦克路径重置为空，遗弃所有坐标和点类型，设置其位置为游戏开始时的位置。</p> 
<p style="margin-left:0;text-align:justify;">在powerUp类中实现了对玩家坦克子弹火力的增加。</p> 
<p style="margin-left:0;text-align:justify;">在Ticker类运用构造器建立了时间发生器，实现了runnable接口，并调用了其run()方法。</p> 
<p style="margin-left:0;text-align:justify;">在ServerControler类处理来自服务器端视图框架的输入，实现了玩家消息互通功能。使用了构造器view.buttonName.addActionListener()方法完成了按钮功能的设计。使用addKeyListener(new KeyAdapter()){}方法增加了键盘输入的操作，再通过keyPressed(KeyEvent e)方法来实现，通过if(e.getKeyCode() == KeyEvent.VK_UP)语句来判断并执行相应的方向移动操作，通过if(e.getKeyChar() == 's')判断并执行”s”键的操作，if(e.getKeyCode()==e.VK_ENTER)判断是否点击Enter键，再通过if(e.getKeyChar() ==?)来判断输入什么键并执行相应的操作。通过keyReleased(KeyEvent e)方法来释放给定的键。具体代码如下：</p> 
<p style="margin-left:0;text-align:justify;">if(!model.gameStarted){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">       model.addMessage("还没有和别的玩家联上, 无法发送对话");</p> 
<p style="margin-left:0;text-align:justify;">              return;</p> 
<p style="margin-left:0;text-align:justify;">}</p> 
<p style="margin-left:0;text-align:justify;">if(!view.messageField.getText().equals("")){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">       model.addMessage("主机端玩家说：" + view.messageField.getText());</p> 
<p style="margin-left:0;text-align:justify;">       model.playerTypedMessage += "m" + view.messageField.getText() + ";";</p> 
<p style="margin-left:0;text-align:justify;">       view.messageField.setText("");</p> 
<p style="margin-left:0;text-align:justify;">}else{<!-- --></p> 
<p style="margin-left:0;text-align:justify;">       model.addMessage("对话内容不能为空");</p> 
<p style="margin-left:0;text-align:justify;">}</p> 
<p style="margin-left:0;text-align:justify;"><a name="_Toc11128"></a><a name="_Toc32719"></a><a name="_Toc21613"><strong>4.5</strong></a><strong> </strong><strong>客户端设计</strong></p> 
<p style="margin-left:0;text-align:justify;">4.5.1 ClientModel类</p> 
<p style="margin-left:0;text-align:justify;">在ServerModel类，实现了ActionListener接口，具备了监听功能。创建了一些连接变量和游戏变量，设置了布尔类型的客户端状态变量，使用构造器完成了消息队列信息的设置，用try{}catch{}语句处理代码执行时发生的异常，给出错误提示，使用add()方法向地图中添加对象，客户端程序实际上不执行任何逻辑计算,它只接受指令，将指令字符串做出的反馈告诉客户端。具体代码如下：</p> 
<p style="margin-left:0;text-align:justify;">public void connectServer(){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">              addMessage("正在连接主机");</p> 
<p style="margin-left:0;text-align:justify;">              try{<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                    serverIP = view.IPfield.getText();</p> 
<p style="margin-left:0;text-align:justify;">                    InetAddress addr = InetAddress.getByName(serverIP);</p> 
<p style="margin-left:0;text-align:justify;">                     clientSocket = new Socket(addr, 4321);</p> 
<p style="margin-left:0;text-align:justify;">out = new PrintWriter(clientSocket.getOutputStream(), true)；</p> 
<p style="margin-left:0;text-align:justify;">     in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));}catch(Exceptione)</p> 
<p style="margin-left:0;text-align:justify;">{t.stop();System.out.println(e);</p> 
<p style="margin-left:0;text-align:justify;">addMessage("连接出现错误，请确认1.输入的IP是否正确 2.主机端已存在");</p> 
<p style="margin-left:0;text-align:justify;">return;}</p> 
<p style="margin-left:0;text-align:justify;">4.5.2 instructionHandler类</p> 
<p style="margin-left:0;text-align:justify;">instructionHandler类只有客户端可读，它对<span style="background-color:#ffffff;">从服务器程序反馈的指令字符串进行解码，然后将字符串转换为真正的指令，通过</span><span style="background-color:#ffffff;">while</span><span style="background-color:#ffffff;">循环语句和</span><span style="background-color:#ffffff;">if</span><span style="background-color:#ffffff;">判断语句来判断指令，并执行相应的指令动作，</span>具体实现方法如下：</p> 
<p style="margin-left:0;text-align:justify;">if(perInstruction.substring(0,1).equals("L")){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">level.loadLevel(gameModel, Integer.parseInt(perInstruction.substring(1,2)));</p> 
<p style="margin-left:0;text-align:justify;">                            return;}</p> 
<p style="margin-left:0;text-align:justify;">if(perInstruction.substring(0,1).equals("w")){for(int k = 0; k &lt; gameModel.drawingList.length; k++){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">       if(gameModel.drawingList[k] !=null){if(gameModel.drawingList[k].getxPos() == xPos &amp;&amp; gameModel.drawingList[k].getyPos() == yPos){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                                   wall tempWall = new wall(xPos, yPos, 4, gameModel);</p> 
<p style="margin-left:0;text-align:justify;">                                                 tempWall.shape = shape;</p> 
<p style="margin-left:0;text-align:justify;">                                                 gameModel.drawingList[k] = tempWall;</p> 
<p style="margin-left:0;text-align:justify;">                                          }</p> 
<p style="margin-left:0;text-align:justify;">                                   }</p> 
<p style="margin-left:0;text-align:justify;">                            }</p> 
<p style="margin-left:0;text-align:justify;">if(perInstruction.substring(0,1).equals("b")){gameModel.drawingList[4] = new normalObject(260, 498,  gameModel, "base", 1);}</p> 
<p style="margin-left:0;text-align:justify;">if(perInstruction.substring(0,1).equals("t")){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">gameModel.addActor(new bullet(xPos, yPos, gameModel, direction))｝</p> 
<p style="margin-left:0;text-align:justify;">if(perInstruction.substring(0,1).equals("o")){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">gameModel.addActor(new bomb(xPos, yPos, size, gameModel)); }</p> 
<p style="margin-left:0;text-align:justify;">if(perInstruction.substring(0,1).equals("i")){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">gameModel.addActor(new shield(xPos, yPos, gameModel)); }</p> 
<p style="margin-left:0;text-align:justify;">if(perInstruction.substring(0,1).equals("a")){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                            if(!gameModel.gameOver){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">       gameModel.addMessage("GAME OVER ! 　想再玩一次吗 ( y / n ) ?");</p> 
<p style="margin-left:0;text-align:justify;">                                   gameModel.gameOver = true;</p> 
<p style="margin-left:0;text-align:justify;">                            }</p> 
<p style="margin-left:0;text-align:justify;">                     }</p> 
<p style="margin-left:0;text-align:justify;">if(perInstruction.substring(0,1).equals("x")){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">              int temp = Integer.parseInt(perInstruction.substring(1,2));</p> 
<p style="margin-left:0;text-align:justify;">                            if(temp == 0){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                                   if(gameModel.gamePaused){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                                   gameModel.addMessage("主机端玩家取消了暂停");</p> 
<p style="margin-left:0;text-align:justify;">                                          gameModel.gamePaused = false;}</p> 
<p style="margin-left:0;text-align:justify;">                            }else{if(!gameModel.gamePaused){<!-- --></p> 
<p style="margin-left:0;text-align:justify;">                                   gameModel.addMessage("主机端玩家暂停了游戏");</p> 
<p style="margin-left:0;text-align:justify;">                                          gameModel.gamePaused = true;</p> 
<p style="margin-left:0;text-align:justify;">                                   }</p> 
<p style="margin-left:0;text-align:justify;">                            }</p> 
<p style="margin-left:0;text-align:justify;">4.5.3 其他各类的实现</p> 
<p style="margin-left:0;text-align:justify;">在shield类中，使用了构造器，并实现了玩家坦克吃掉头盔图标后获得的防护盾的功能，通过draw(Graphics g){}方法绘制防护盾，用方法setColor（Color c）设置其颜色，drawRect（）设置防护盾的x，y坐标和高度、宽度，当护盾时间结束时，通过removeActor()方法去除护盾。在level类中，定义了游戏正在玩的关数，设置了不同的关卡，通过if(1+ (levelIndex-1)%8 == num){}判断语句来加入关卡，在进入下一关卡时，上一个关卡的所有东西都会被系统清理，并且增加了游戏难度。此类只有一层对象，所以是一个静态变量。normalObject类代表所有其他对象。ClientControler类功能与ServerControler相同，都是实现按钮的功能和处理键盘输入操作。</p> 
<p style="margin-left:0;text-align:justify;"><a name="_Toc3982"></a><a name="_Toc5665"></a><a name="_Toc2731"><strong>5.</strong></a><strong>游戏测试</strong></p> 
<p style="margin-left:0;text-align:justify;"><a name="_Toc18726"></a><a name="_Toc22459"></a><a name="_Toc21428"></a><a name="_Toc295143142"></a><a name="_Toc24733"></a><a name="_Toc9998"><strong>5</strong></a><strong>.1 </strong><strong>测试方法</strong></p> 
<p style="margin-left:0;text-align:justify;">白盒测试主要是检查程序的内部逻辑结构设计。根据源代码的组织结构查找软件缺陷，但是如果要把整个网站系统的代码都要检测到也是不可能的，所以要选择最重要的核心的代码进行白盒测试。</p> 
<p style="margin-left:0;text-align:justify;">黑盒测试不需要研究软件内部的逻辑结构和布局，以及代码的具体实现，它根据程序软件的作用和外部结构的特点来检查漏洞的存在，从整个程序使用过程的角度来检查漏洞，这就导致了黑盒测试只能局限的检查出该软件在功能和使用的时候的问题。</p> 
<p style="margin-left:0;text-align:justify;">本游戏程序选择使用白盒测试方法。当然，还有其他的测试方法：比如静态分析方法和动态测试方法等等。我们可以在综合的需求分析之后进行选择。</p> 
<p style="margin-left:0;text-align:justify;"><a name="_Toc32580"></a><a name="_Toc295143143"></a><a name="_Toc2957"></a><a name="_Toc10678"></a><a name="_Toc7674"></a><a name="_Toc18856"><strong>5</strong></a><strong>.2 </strong><strong>系统测试</strong></p> 
<p style="margin-left:0;text-align:justify;">5.2.1 游戏启动测试</p> 
<p style="margin-left:0;text-align:justify;">运行Eclipse中的server项目和client项目或双击server文件夹和client文件夹下的Play.BAT文件来运行游戏，游戏启动成功，看到了游戏界面。如图3所示。<br> 图3  启动测试图</p> 
<p style="margin-left:0;text-align:justify;">5.2.2 页面按钮测试</p> 
<p style="margin-left:0;text-align:justify;">（1）在服务器端，点击“建立主机”按钮，成功建立主机，并给出了提示。如图4所示。<br><a name="_Toc855"></a>图4  建立主机按钮测试图</p> 
<p style="margin-left:0;text-align:justify;">（2）在客户端，在页面上方的文本框内输入IP地址：127.0.0.1，然后点击“连接主机”按钮。连接成功并给出提示，进入游戏。如图5所示。</p> 
<p style="margin-left:0;text-align:center;"><a name="_Toc20872"></a><a name="_Toc28275"></a>图5  连接主机按钮测试图</p> 
<p style="margin-left:0;text-align:justify;">（3）点击帮助按钮，成功在页面上显示游戏的方法。如图6所示。<br><a name="_Toc18983"></a>图6  帮助按钮侧视图</p> 
<p style="margin-left:0;text-align:justify;">（4）点击页面上方的暂停/继续按钮，若游戏正在进行，点击这个按钮就会暂停游戏，然后再点击，就会取消暂停，并且在页面上给出提示。在页面下方的文本框内输入对话消息，点击发送按钮，成功发送消息，并且在页面上显示了通话内容。如图7所示。<br> 图7  暂停/继续与发送按钮测试图</p> 
<p style="margin-left:0;text-align:justify;">5.2.3 玩家坦克测试</p> 
<p style="margin-left:0;text-align:justify;">敲击方向键，坦克也成功向着相同的方向移动，点击“s”键，成功发射子弹。如图8所示。<br><a name="_Toc22376"></a>图8  坦克测试图</p> 
<p style="margin-left:0;text-align:justify;">5.2.4 超级武器测试</p> 
<p style="margin-left:0;text-align:justify;">玩家坦克子弹打中敌方红色坦克，在地图上随机的位置生成了随机的图标，玩家坦克吃到各种图标后成功地获得了该图标所对应的功能。</p> 
<p style="margin-left:0;text-align:justify;">5.2.5 胜利与失败测试</p> 
<p style="margin-left:0;text-align:justify;">在游戏中击毁了所有敌方坦克，成功地显示了“过关了！”界面。</p> 
<p style="margin-left:0;text-align:justify;">玩家坦克数量为0或基地被敌方坦克攻破了，成功地在页面上显示了“GAME OVER！想再玩一次吗（y/n）?”的消息。若游戏双方都选择都输入“y”，则游戏重新开始，并给出了提示。</p> 
<p style="margin-left:0;text-align:justify;"><a name="_Toc1394"></a><a name="_Toc9304"></a><a name="_Toc19274"></a><a name="_Toc295143150"></a><a name="_Toc1018"></a><a name="_Toc31135"><strong>5</strong></a><strong>.3</strong> <strong>测试分析和小结</strong></p> 
<p style="margin-left:0;text-align:justify;">经过测试，游戏正常运行，并实现了游戏的全部主要功能，系统稳定地处理了游戏相关数据，对错误给出提示，对异常进行捕获和处理。由此可见，本游戏程序安全性较好，没有特别大的漏洞存在，系统结构清晰，页面设计也比较美观，具备了基本功能，总体上比较圆满地完成了当初游戏程序的设计的目标。</p> 
<p style="margin-left:0;text-align:justify;">但是，对游戏程序来说，没有任何一个可以说是十全十美、毫无漏洞的，以现在国际上最受欢迎的美国Roit公司开发的英雄对战MOBA竞技游戏《英雄联盟》来说，都会有一些或多或少的漏洞，每周都会对游戏进行系统维护与更新，可想而知，本游戏虽然是一个相对来说非常简单的小游戏，但对于初次设计Java领域并进行游戏设计的大学毕业生来说，不可能做到无懈可击，毫无漏洞可言，逻辑的复杂性，难以控制，因此到目前为止还存在一些bugs没有能够解决，如下：</p> 
<ol><li style="text-align:justify;">敌方坦克智能化不够理想</li><li style="text-align:justify;">玩家坦克与敌方坦克相交时偶尔会发生重叠</li><li style="text-align:justify;">敌方坦克数量的统计与显示有时会出错</li><li style="text-align:justify;">超级武器和玩家坦克已经获得的特殊技能会随着暂停时间消失</li><li style="text-align:justify;">有时会莫名其妙的死机<a name="_Toc10404"></a><a name="_Toc31524"></a></li></ol> 
<p style="margin-left:0;text-align:justify;"><a name="_Toc19809"><strong>6.</strong></a><strong>结论</strong></p> 
<p style="margin-left:0;text-align:justify;">该游戏是基于Java语言，使用Eclipse软件开发的一款坦克大战游戏, 该游戏包括对面板功能、坦克功能、子弹功能的设计，在面板功能中对双方坦克、基地、河道、草坪、普通墙与铁墙等地图元素进行创建并设置其属性，还实现了页面按钮功能，玩家可以点击按钮来实现相应的功能。在坦克功能中，设计了操作玩家坦克的方法，还设置了超级武器，玩家吃掉后会获得特殊技能。在子弹功能中，设置了子弹打中不同物体对象产生的不同效果。另外，还实现了服务器与客户端的连接，加载关卡等功能，玩家再游戏面板中可以实时查看自己坦克的生命数量和分数以及敌方坦克的数量，基本上完成了设计任务。总体来说，本游戏有一定的逻辑性和复杂性，对玩家有一定的吸引力。</p> 
<p style="margin-left:0;text-align:justify;">在设计与实现游戏的过程中，遇到一些逻辑问题和技术故障都是在所难免的，例如如何加载地图关卡和物体对象等、监探坦克与地图元素是否碰撞等，都是需要完全克服的。该游戏还需要进一步的优化，需要在更大的程度上提升敌方坦克的智能化、在地图中添加物体对象来增强可玩性等等。</p> 
<h2 style="margin-left:0;text-align:justify;"><strong><a name="_Toc295143152"></a><a name="_Toc22096"></a><a name="_Toc25560"></a><a name="_Toc9404"></a><a name="_Toc22727"></a><a name="_Toc13307">参考文献</a></strong></h2> 
<p style="margin-left:0;text-align:justify;">[1] 易向东,陈蓓,万英.Java游戏编程解析[M]，程序员杂志[M].北京：电子工业出版社.2009.</p> 
<p style="margin-left:0;text-align:justify;">[2] 张广彬,王小宁,高静.Java课程设计案例精编[M].北京：清华大学出版社，2011.</p> 
<p style="margin-left:0;text-align:justify;">[3] 袁然,郑自国,邹丰义.Java案例开发集锦[M].北京：电子工业出版社.2005.</p> 
<p style="margin-left:0;text-align:justify;">[4] 陈炜,张晓蕾,侯燕萍 ,何凌云.Java软件开发技术[M].北京：人民邮电出版社.2005.</p> 
<p style="margin-left:0;text-align:justify;">[5] 陈为, 周骥 ,杨柯. 面向对象的游戏开发[M].北京：DEARBOOK出版社，2008.[6] 谭浩强,程龙,杨海兰等. Java编程技术[M].北京：人民邮电出版社. 2003.</p> 
<p style="margin-left:0;text-align:justify;">[7]雍俊海．Java程序设计教程[M]．北京：清华大学出版社，2014.</p> 
<p style="margin-left:0;text-align:justify;">[8] 爱克尔（著）,王美（译）.Java编程思想[M]. 北京：机械工业出版社，2001.</p> 
<p style="margin-left:0;text-align:justify;">[9] 邱仲潘. Java游戏编程[M].北京：机械工业出版社，2006.</p> 
<p style="margin-left:0;text-align:justify;">[10] 陈悦,夏敏捷，葛丽萍. Java游戏编程原理与实践教程[M].北京：人民邮电出版社.2013.</p> 
<p style="margin-left:0;text-align:justify;">[11] 邓良松，刘海岩，陆丽娜．软件工程[M]．第二版．西安：西安电子科技大学出版社，2004.</p> 
<p style="margin-left:0;text-align:justify;">[12]赵强，乔新亮. J2EE应用开发[M]. 电子工业出版社，2003.</p> 
<p style="margin-left:0;text-align:justify;">[13]夏庆亮. Java应用开发指南[J]. 清华大学出版社，2010.</p> 
<p style="margin-left:0;text-align:justify;">[14]耿祥义，张跃平. Java面向对象程序设计[J]. 清华大学出版社，2010.</p> 
<p style="margin-left:0;text-align:justify;">[15]杨绍方. Java编程实用技术与案例[J]. 清华大学出版社，2000.</p> 
<p style="margin-left:0;text-align:justify;">[16]明日科技. Java编程全能词典[J]. 电子工业出版社，2010.</p> 
<p style="margin-left:0;text-align:justify;">[17]埃克尔（著），陈昊鹏，饶若楠等译. Java编程思想[J]. 机械工业出版社,2005.</p> 
<p style="margin-left:0;text-align:justify;">[18]Gary J.Bronson（著），张珑 刘雅文译. Java编程原理[J]. 清华大学出版社,2004 .</p> 
<p style="margin-left:0;text-align:justify;">[19]Michael Morrison（著），徐刚,于健,薛雷译. 游戏编程入门[J]. 人民邮电出版社,2005.9.</p> 
<p style="margin-left:0;text-align:justify;">[20]Wendy Stahler（著），冯宝坤，曹英译. 游戏编程中的数理应用[J]. 红旗出版社,2005.</p> 
<p style="margin-left:0;text-align:justify;">[21]克罗夫特（著），彭晖译. Java游戏高级编程[J]. 清华大学出版社,2005.</p> 
<p style="margin-left:0;text-align:justify;">参考资料：</p> 
<p style="margin-left:0;text-align:justify;"><a class="has-card" href="https://download.csdn.net/download/dwf1354046363/87813617" title="基于java的网络版坦克大战游戏 系统毕业设计(项目报告+答辩PPT+源代码+数据库+部署视频)"><span class="link-card-box"><span class="link-title">基于java的网络版坦克大战游戏 系统毕业设计(项目报告+答辩PPT+源代码+数据库+部署视频)</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/d9/09/VOG0njFA_o.png" alt="icon-default.png?t=N5K3">https://download.csdn.net/download/dwf1354046363/87813617</span></span></a></p> 
<p style="margin-left:0;text-align:justify;"><a class="has-card" href="https://cv2022.blog.csdn.net/article/details/124463185?spm=1001.2014.3001.5502" rel="nofollow" title="Java毕业设计174例，包含部署视频_易小侠的博客-CSDN博客"><span class="link-card-box"><span class="link-title">Java毕业设计174例，包含部署视频_易小侠的博客-CSDN博客</span><span class="link-link"><img class="link-link-icon" src="https://images2.imgbox.com/44/f2/Qzc9OX79_o.png" alt="icon-default.png?t=N5K3">https://cv2022.blog.csdn.net/article/details/124463185?spm=1001.2014.3001.5502</span></span></a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/a450a129cf09900375182310113da7b5/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">基于java的图书借阅管理系统设计与实现(源代码&#43;数据库&#43;部署文档&#43;部署视频)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/340a2b229fe29c9d8a4638b28c1d1e45/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">继承和组合的区别</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>