<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Tableau 八、数据分层、数据分组、数据集 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="Tableau 八、数据分层、数据分组、数据集" />
<meta property="og:description" content="1.数据分层（层级）结构 1.1分层结构的概念与意义 分层结构是维度之间自上而下的组织形式。
Tableau默认包含对某些字段的分层结构，比如日期、时间、地理角色。
以日期为例，包含年、季度、月、日等数据分层结构。
打开“全球超市订单数据.xlsx”。
将两个工作表数据拖到右侧。联结为内部联结。
将【利润】拖到【行】，将【订单日期】拖到【列】，点击【年(订购日期)】右侧的＋，会往下分层（称之为下钻），并变成-，点击-，会把层折叠（称为上钻）。
1.2分层结构的创建与使用案例 打开“人工坐席接听数据.xlsx”。
中心和人工服务接听量柱形图 新建工作表2，右击【中心】——【分层结构】——【创建分层结构】。
命名为【层级】。
【维度】下变化如下
将字段【部】、【组】、【班】，拖到【中心】下面，注意顺序，上下顺序就是层级顺序。
将【中心】放到【列】中，将【人工服务接听量】放到【行】中，将【人工服务接听量】放到【标签】上。
点击【整个视图】。
右击【总和(人工服务接听量)】——【设置格式】，点击【数字】
【数字(自定义)】，设置小数位数为0，【显示单位】为千。
点击【列】里的【中心】左边的&#43;，逐级下钻，进行分析，发现有【未知】字段数据太高，属于异常，排除掉。
点击【未知】的柱形，点击【排除】。
分析发现有两个班的数据比较高。
中心、日期和平均呼入通话时长折线图 新建工作表3，将【日期】拖入【列】，选择格式为【天】。
将【中心】拖入【行】，将【平均呼入通话时长】拖入行。
点击【中心】左边的&#43;，下钻到【部】，并继续下钻，可以到【组】，到【班】。
不想用层级的话，右击【移除分层结构】。
第二种创建分层结构方式 将字段【部】拖到字段【中心】上，自动打开【创建分层结构】，命名为【层级】。如果字段上下顺序不对，则拖动调整。
右击【组】——【分层结构】——【添加到分层结构】，选择【层级】，则自动排到【层级】的最下面。
不想【组】在层级里，就直接把【组】往外拖。
注意，层级不能嵌套，但可以并列。
比如新建【层级2】，【层级2】不能放到【层级】里面。
2.数据分组 2.1数据组创建及使用 组是维度成员或度量的离散值的组合。
通过分组，可以实现维度成员的重新组合，以及度量值按范围的分类。
字段图标是回形针图标。
在Tableau里，归类重组维度成员有很多种方式，分组是其中最常见和最快速方式。
注意，组不能创建计算字段，不能出现在公式中。
新建工作表4。
将【班】拖到行中，将【人工服务接听量】放到列中。点击【交换行和列】。
发现13班和13班（15批新人）属于一个班。其他也有可以合到一个组的情况。
创建分组 创建分组有两种方式：
一是右击【班】——【创建】——【组】。
二是在图形里右击【组】（注意，要点击图形，而不是字段）。这里使用第二种方法。
出现【创建组】的对话框，点击【应用】和【确定】。
编辑组 右击带有回形针图标的【班(组)】——【编辑组】。
将【13班(15批新人)】拖到组【13班】下，如果组名不合适，可以右击组名——【重命名】。
按ctrl键，选择【15班】和【15期新人】，点击【分组】，则新建一组。
查找和分组 如果字段名称太多，点击【查找】，查找方式有三种
包含，属于模糊查找，包含这个字就能找到开头为，则字段开头必须为这个字精确匹配，则查找字为全部字段。 【范围】是查找范围，指的是全部查询还是在某个组内查询，一般选全部。
想找到所有常白班，【查找成员】输入【白】，【包含】，【范围】选【全部】。点击【查找全部】。
找到后，默认结果是被选中的，点击【分组】，重命名为【常白班】。
同样，对【运行班】分组。
将一些字段分组，称为【其他班】。
修改图表 将【班】拖走，将【班分组】拖到【列】中。点击【交互行和列】。
右击【班分组】，去掉勾选【包含“其他”】
点击【降序】，点击【交互行和列】。
2.2电量销售数据按地理区域分组 打开文件“2014年各省市售电量.xlsx”
中国一般分为七个区：东北，华东，华中，华北，华南，西南和西北。
将省市按照七个区域分组。
建立地图 新建工作表，右击【维度】下【省市】——【地理角色】——【省/市/自治区】。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/8c4201ab14357aca7030551410326e80/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-06-26T21:25:36+08:00" />
<meta property="article:modified_time" content="2021-06-26T21:25:36+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Tableau 八、数据分层、数据分组、数据集</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <h4><a id="1_1"></a>1.数据分层（层级）结构</h4> 
<h5><a id="11_3"></a>1.1分层结构的概念与意义</h5> 
<p>分层结构是维度之间自上而下的组织形式。</p> 
<p>Tableau默认包含对某些字段的分层结构，比如日期、时间、地理角色。</p> 
<p>以日期为例，包含年、季度、月、日等数据分层结构。</p> 
<p>打开“全球超市订单数据.xlsx”。</p> 
<p>将两个工作表数据拖到右侧。联结为内部联结。</p> 
<p><img src="https://images2.imgbox.com/e0/c2/W6mfi45b_o.png" alt="在这里插入图片描述"></p> 
<p>将【利润】拖到【行】，将【订单日期】拖到【列】，点击【年(订购日期)】右侧的＋，会往下分层（称之为<strong>下钻</strong>），并变成-，点击-，会把层折叠（称为<strong>上钻</strong>）。</p> 
<p><img src="https://images2.imgbox.com/46/c4/kmPmyuGb_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="12_21"></a>1.2分层结构的创建与使用案例</h5> 
<p>打开“人工坐席接听数据.xlsx”。</p> 
<p><img src="https://images2.imgbox.com/cc/0b/7HYJ957L_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_27"></a>中心和人工服务接听量柱形图</h6> 
<p>新建工作表2，右击【中心】——【分层结构】——【创建分层结构】。</p> 
<p><img src="https://images2.imgbox.com/15/43/BRTpJ8Nh_o.png" alt="在这里插入图片描述"></p> 
<p>命名为【层级】。</p> 
<p><img src="https://images2.imgbox.com/85/9e/42X7nak5_o.png" alt="在这里插入图片描述"></p> 
<p>【维度】下变化如下</p> 
<p><img src="https://images2.imgbox.com/94/a8/PLvdOuWa_o.png" alt="在这里插入图片描述"></p> 
<p>将字段【部】、【组】、【班】，拖到【中心】下面，注意顺序，上下顺序就是层级顺序。</p> 
<p><img src="https://images2.imgbox.com/05/3c/KClvgBua_o.png" alt="在这里插入图片描述"></p> 
<p>将【中心】放到【列】中，将【人工服务接听量】放到【行】中，将【人工服务接听量】放到【标签】上。</p> 
<p>点击【整个视图】。</p> 
<p><img src="https://images2.imgbox.com/49/b7/q4Vprfh1_o.png" alt="在这里插入图片描述"></p> 
<p>右击【总和(人工服务接听量)】——【设置格式】，点击【数字】</p> 
<p><img src="https://images2.imgbox.com/13/9f/5sWdgjQ1_o.png" alt="在这里插入图片描述"></p> 
<p>【数字(自定义)】，设置小数位数为0，【显示单位】为千。</p> 
<p><img src="https://images2.imgbox.com/36/11/YCEhUKTL_o.png" alt="在这里插入图片描述"></p> 
<p>点击【列】里的【中心】左边的+，逐级下钻，进行分析，发现有【未知】字段数据太高，属于异常，排除掉。</p> 
<p><img src="https://images2.imgbox.com/e5/d7/LTI8mGYu_o.png" alt="在这里插入图片描述"></p> 
<p>点击【未知】的柱形，点击【排除】。</p> 
<p><img src="https://images2.imgbox.com/d7/2b/zkIk0134_o.png" alt="在这里插入图片描述"></p> 
<p>分析发现有两个班的数据比较高。</p> 
<p><img src="https://images2.imgbox.com/13/95/Z4PK2UDD_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_71"></a>中心、日期和平均呼入通话时长折线图</h6> 
<p>新建工作表3，将【日期】拖入【列】，选择格式为【天】。</p> 
<p>将【中心】拖入【行】，将【平均呼入通话时长】拖入行。</p> 
<p><img src="https://images2.imgbox.com/d5/81/i1pmi6B9_o.png" alt="在这里插入图片描述"></p> 
<p>点击【中心】左边的+，下钻到【部】，并继续下钻，可以到【组】，到【班】。</p> 
<p><img src="https://images2.imgbox.com/db/d6/A1Lw4bZR_o.png" alt="在这里插入图片描述"></p> 
<p>不想用层级的话，右击【移除分层结构】。</p> 
<p><img src="https://images2.imgbox.com/7a/ba/8G58Ofir_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_87"></a>第二种创建分层结构方式</h6> 
<p>将字段【部】拖到字段【中心】上，自动打开【创建分层结构】，命名为【层级】。如果字段上下顺序不对，则拖动调整。</p> 
<p><img src="https://images2.imgbox.com/22/7d/GxLOnW0Y_o.png" alt="在这里插入图片描述"></p> 
<p>右击【组】——【分层结构】——【添加到分层结构】，选择【层级】，则自动排到【层级】的最下面。</p> 
<p>不想【组】在层级里，就直接把【组】往外拖。</p> 
<p><img src="https://images2.imgbox.com/ea/3a/LWhkbmgQ_o.png" alt="在这里插入图片描述"></p> 
<p>注意，层级不能嵌套，但可以并列。</p> 
<p>比如新建【层级2】，【层级2】不能放到【层级】里面。</p> 
<p><img src="https://images2.imgbox.com/62/2b/xphwQ74z_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2_105"></a>2.数据分组</h4> 
<h5><a id="21_107"></a>2.1数据组创建及使用</h5> 
<p>组是维度成员或度量的离散值的组合。</p> 
<p>通过分组，可以实现维度成员的重新组合，以及度量值按范围的分类。</p> 
<p>字段图标是回形针图标。</p> 
<p>在Tableau里，归类重组维度成员有很多种方式，分组是其中最常见和最快速方式。</p> 
<p>注意，组不能创建计算字段，不能出现在公式中。</p> 
<p>新建工作表4。</p> 
<p>将【班】拖到行中，将【人工服务接听量】放到列中。点击【交换行和列】。</p> 
<p>发现13班和13班（15批新人）属于一个班。其他也有可以合到一个组的情况。</p> 
<p><img src="https://images2.imgbox.com/ca/99/CP5hnp0N_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_127"></a>创建分组</h6> 
<p>创建分组有两种方式：</p> 
<p>一是右击【班】——【创建】——【组】。</p> 
<p><img src="https://images2.imgbox.com/1a/75/MUFdq0o8_o.png" alt="在这里插入图片描述"></p> 
<p>二是在图形里右击【组】（注意，要点击图形，而不是字段）。这里使用第二种方法。</p> 
<p><img src="https://images2.imgbox.com/9e/ee/XOacYnn7_o.png" alt="在这里插入图片描述"></p> 
<p>出现【创建组】的对话框，点击【应用】和【确定】。</p> 
<p><img src="https://images2.imgbox.com/ce/64/EwWt5yb3_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_143"></a>编辑组</h6> 
<p>右击带有回形针图标的【班(组)】——【编辑组】。</p> 
<p><img src="https://images2.imgbox.com/56/b6/9XALeQLZ_o.png" alt="在这里插入图片描述"></p> 
<p>将【13班(15批新人)】拖到组【13班】下，如果组名不合适，可以右击组名——【重命名】。</p> 
<p>按ctrl键，选择【15班】和【15期新人】，点击【分组】，则新建一组。</p> 
<p><img src="https://images2.imgbox.com/22/b2/ySfeujYC_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_155"></a>查找和分组</h6> 
<p>如果字段名称太多，点击【查找】，查找方式有三种</p> 
<ul><li>包含，属于模糊查找，包含这个字就能找到</li><li>开头为，则字段开头必须为这个字</li><li>精确匹配，则查找字为全部字段。</li></ul> 
<p><img src="https://images2.imgbox.com/d9/8d/aX2VBL47_o.png" alt="在这里插入图片描述"></p> 
<p>【范围】是查找范围，指的是全部查询还是在某个组内查询，一般选全部。</p> 
<p><img src="https://images2.imgbox.com/4e/cc/UOzqcbnW_o.png" alt="在这里插入图片描述"></p> 
<p>想找到所有常白班，【查找成员】输入【白】，【包含】，【范围】选【全部】。点击【查找全部】。</p> 
<p><img src="https://images2.imgbox.com/25/cc/p4WUiHMn_o.png" alt="在这里插入图片描述"></p> 
<p>找到后，默认结果是被选中的，点击【分组】，重命名为【常白班】。</p> 
<p>同样，对【运行班】分组。</p> 
<p><img src="https://images2.imgbox.com/61/a1/BSTFXHzy_o.png" alt="在这里插入图片描述"></p> 
<p>将一些字段分组，称为【其他班】。</p> 
<p><img src="https://images2.imgbox.com/54/97/1velCwiz_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_183"></a>修改图表</h6> 
<p>将【班】拖走，将【班分组】拖到【列】中。点击【交互行和列】。</p> 
<p><img src="https://images2.imgbox.com/a1/f7/Su563yGw_o.png" alt="在这里插入图片描述"></p> 
<p>右击【班分组】，去掉勾选【包含“其他”】</p> 
<p><img src="https://images2.imgbox.com/72/3d/Lsu4gbFp_o.png" alt="在这里插入图片描述"></p> 
<p>点击【降序】，点击【交互行和列】。</p> 
<p><img src="https://images2.imgbox.com/19/66/mH1g5L67_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="22_197"></a>2.2电量销售数据按地理区域分组</h5> 
<p>打开文件“2014年各省市售电量.xlsx”</p> 
<p>中国一般分为七个区：东北，华东，华中，华北，华南，西南和西北。</p> 
<p>将省市按照七个区域分组。</p> 
<p><img src="https://images2.imgbox.com/1d/40/5maimSqm_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_207"></a>建立地图</h6> 
<p>新建工作表，右击【维度】下【省市】——【地理角色】——【省/市/自治区】。</p> 
<p>双击【省市】，点击【未知】，选择【编辑位置】。（注意，因为第七章中自定义地理编码，如果不移除会导致未知过多，点击【地图】——【地理编码】——【移除自定义地理编码】）</p> 
<p><img src="https://images2.imgbox.com/3d/57/Q4yCSKKJ_o.png" alt="在这里插入图片描述"></p> 
<p>修改匹配位置，点击【确定】。</p> 
<p><img src="https://images2.imgbox.com/ac/ee/WPW3u3ag_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_219"></a>套索选择和建组</h6> 
<p>将【省市】拖到【标签】上。</p> 
<p>点击地图上的【套索选择】按钮，先框选黑龙江，吉林和辽宁三省。</p> 
<p><img src="https://images2.imgbox.com/5c/a9/61u58REu_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/a1/b2/H61GvYQW_o.png" alt="在这里插入图片描述"></p> 
<p>套索选择后，其他省份变灰，只显示选中的省份。</p> 
<p><img src="https://images2.imgbox.com/eb/eb/QQ0hXoQ0_o.png" alt="在这里插入图片描述"></p> 
<p>悬浮在【龙江】上，可以看见3省已选择，点击回形针标识，创建东北组。</p> 
<p><img src="https://images2.imgbox.com/00/fd/f38T9pqb_o.png" alt="在这里插入图片描述"></p> 
<p>同样使用套索，选择山东，江苏，安徽，上海，浙江，江西，福建。选择后悬浮在其中一个省份上，点击回形针标识，创建分组华东组。</p> 
<p><img src="https://images2.imgbox.com/b5/6c/kucl5W0O_o.png" alt="在这里插入图片描述"></p> 
<p>华北组包括内蒙古，河北，山西，北京，天津。</p> 
<p><img src="https://images2.imgbox.com/f9/44/1lYRN8LA_o.png" alt="在这里插入图片描述"></p> 
<p>华中组包括河南，湖北，湖南。</p> 
<p><img src="https://images2.imgbox.com/20/0e/gasmeHqg_o.png" alt="在这里插入图片描述"></p> 
<p>西南组包括重庆、四川和西藏。</p> 
<p><img src="https://images2.imgbox.com/e9/8a/4U1ysry5_o.png" alt="在这里插入图片描述"></p> 
<p>西北组包括新疆、青海、甘肃和宁夏。</p> 
<p><img src="https://images2.imgbox.com/a1/43/OHwkwLcR_o.png" alt="在这里插入图片描述"></p> 
<p>右击【省市(组)】——【编辑组】，重新命名字段名称和群组名称，点击【确定】。</p> 
<p><img src="https://images2.imgbox.com/ab/0d/3RnkLHX5_o.png" alt="在这里插入图片描述"></p> 
<p>将【当期值】拖入【大小】。</p> 
<p><img src="https://images2.imgbox.com/e2/c6/eIbskbfZ_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_267"></a>填充地图</h6> 
<p>新建工作表6，双击【中国地理区域】，将【同期值】拖到【颜色】，点击【颜色】——【编辑颜色】，选择【红色—蓝色发散】，勾选【倒序】。</p> 
<p><img src="https://images2.imgbox.com/82/13/rTKelj7G_o.png" alt="在这里插入图片描述"></p> 
<p>将【中国地理区域】和【当期值】拖到【标签】上。</p> 
<p><img src="https://images2.imgbox.com/02/72/OtRQTsPL_o.png" alt="在这里插入图片描述"></p> 
<p>右击标签【总和(当期值)】——【设置格式】，【数字(自定义)】，小数位数为0，显示单位为千（K）。</p> 
<p><img src="https://images2.imgbox.com/9f/4d/6Amwaf3K_o.png" alt="在这里插入图片描述"></p> 
<p>添加说明，【标记】下空白处右击勾选【说明】，双击说明处，输入文字。</p> 
<p><img src="https://images2.imgbox.com/60/b8/xG6Suy6r_o.png" alt="在这里插入图片描述"></p> 
<p>重命名工作表6为“各地区用电量”。【工作表】——【导出】——【图像】。</p> 
<p><img src="https://images2.imgbox.com/db/b1/CDxX6x04_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_291"></a>各区域用电量标靶图</h6> 
<p>新建工作表7。</p> 
<p>将【中国地理区域】和【省市】拖到【行】，将【当期值】拖到列。</p> 
<p>将【月度计划值】拖到【详细信息】。</p> 
<p><img src="https://images2.imgbox.com/45/24/yAOj86Rc_o.png" alt="在这里插入图片描述"></p> 
<p>右击坐标轴——【添加参考线】。</p> 
<p><img src="https://images2.imgbox.com/31/83/OzOCmYg5_o.png" alt="在这里插入图片描述"></p> 
<p>选择【分布】下【分区】。</p> 
<p>【计算】里选择【百分比】，修改为【50,100】，百分比类型为【总和(月度计划)】。</p> 
<p>【标签】选择【无】。</p> 
<p>【格式】里【线】选择黑色直线，填充不修改，点击【确定】。</p> 
<p><img src="https://images2.imgbox.com/e0/bb/9H5qwSMy_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/3b/34/YBs9cEVK_o.png" alt="在这里插入图片描述"></p> 
<p>将【中国地理区域】拖到【颜色】，将【当期值】拖到【标签】。</p> 
<p>右击标签【总和(当期值)】——【设置格式】。</p> 
<p><img src="https://images2.imgbox.com/99/0e/BJV6dpiq_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/47/94/SEmTa3XP_o.png" alt="在这里插入图片描述"></p> 
<p>修改填充颜色：右击坐标轴下方——【编辑参考线】，选择【向下填充】，然后可以选多种填充颜色。</p> 
<p>也可以同时选择【对称】和【反向】。【对称】是指颜色沿着参考线对称。</p> 
<p><img src="https://images2.imgbox.com/d7/58/ZA5DqhUF_o.png" alt="在这里插入图片描述"></p> 
<p>添加说明，【标记】下空白处右击勾选【说明】，双击说明处，输入文字。</p> 
<p><img src="https://images2.imgbox.com/0e/18/MmHACccq_o.png" alt="在这里插入图片描述"></p> 
<p>重命名工作表7为“电量销售区域标靶图”。【工作表】——【导出】——【图像】。</p> 
<p><img src="https://images2.imgbox.com/a4/4f/9MLitUBt_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="3_339"></a>3.数据集</h4> 
<h5><a id="31_341"></a>3.1数据集的相关概念</h5> 
<p>定义：集是满足某些条件的数据子集，它是维度的部分成员。</p> 
<p>图标是<img src="https://images2.imgbox.com/42/7a/4LlQ7esX_o.png" alt="在这里插入图片描述"></p> 
<p>类型</p> 
<table><thead><tr><th>名称</th><th>常量集</th><th>计算集</th></tr></thead><tbody><tr><td>类型</td><td>静态集</td><td>动态集</td></tr><tr><td>是否会更新</td><td>否</td><td>是</td></tr><tr><td>可用维度度量</td><td>单个或多个</td><td>单个</td></tr><tr><td>创建方式</td><td>视图中选择</td><td>数据窗口创建</td></tr></tbody></table> 
<p>用途</p> 
<ul><li>集内外成员的对比分析</li><li>集内部成员的对比分析</li></ul> 
<h5><a id="32_361"></a>3.2创建数据集</h5> 
<p>导入数据“全球超市订单数据.xlsx”</p> 
<p><img src="https://images2.imgbox.com/a8/c0/cRNBhNTE_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_367"></a>创建静态数据集</h6> 
<p>新建工作表8，找到负利润的国家数据集。</p> 
<p>将【国家/地图】拖到【列】，将【利润】拖到【行】。</p> 
<p>点击降序图标。</p> 
<p>从数据开始为负数的国家开始往后选。</p> 
<p><img src="https://images2.imgbox.com/d7/df/aWIvgLdb_o.png" alt="在这里插入图片描述"></p> 
<p>选择好后，悬浮在上面，选择创建集按钮。</p> 
<p><img src="https://images2.imgbox.com/bf/6a/pU7pRKfu_o.png" alt="在这里插入图片描述"></p> 
<p>修改集的名称，点击【确定】。</p> 
<p><img src="https://images2.imgbox.com/cd/db/5eI6ec8l_o.png" alt="在这里插入图片描述"></p> 
<p>可见左侧【度量】下出现【集】。</p> 
<p><img src="https://images2.imgbox.com/f9/11/biqMgUjT_o.png" alt="在这里插入图片描述"></p> 
<p>将【市场】和【细分市场】拖到【列】中</p> 
<p>将【利润】拖到【颜色】上。</p> 
<p><img src="https://images2.imgbox.com/fb/b1/GQwitTTt_o.png" alt="在这里插入图片描述"></p> 
<p>修改【利润】的颜色，【渐变颜色】为2阶，勾选【倒序】。这样看的更清楚。</p> 
<p><img src="https://images2.imgbox.com/99/1d/V5KuYBDz_o.png" alt="在这里插入图片描述"></p> 
<p>按ctrl键，将图表中蓝色的选出来。选好后右击【创建集】，修改集名称如下，点击【确定】。</p> 
<p><img src="https://images2.imgbox.com/c6/55/AckDXHk5_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/86/1b/8YCKK8Xq_o.png" alt="在这里插入图片描述"></p> 
<p>右击【集】下【负利润国家2】——【编辑集】，将鼠标悬浮在每条记录的后边，会有×，如果不想要该记录，可以点击移除。</p> 
<p><img src="https://images2.imgbox.com/7a/ce/hOMw0CQd_o.png" alt="在这里插入图片描述"></p> 
<p>悬浮在列名上，也会有×，如果不想要改列，可以进行删除。</p> 
<p><img src="https://images2.imgbox.com/40/be/xP93shxK_o.png" alt="在这里插入图片描述"></p> 
<p>点击【清除工作表】。</p> 
<p>将【负利润国家2】拖到【列】中，将【利润】拖到【行】中。可以看到集内外变化。</p> 
<p><img src="https://images2.imgbox.com/2b/5a/UoOsqOsJ_o.png" alt="在这里插入图片描述"></p> 
<p>右击【负利润国家2】——【编辑集】，删除【市场】列，点击【应用】和【确定】。</p> 
<p>发现图表无变化，因为【市场】列变化不影响数据。</p> 
<p><img src="https://images2.imgbox.com/56/05/lPnjFJDO_o.png" alt="在这里插入图片描述"></p> 
<p>右击【负利润国家2】——【编辑集】，删除【国家/地区】列，点击【应用】和【确定】。</p> 
<p>发现数据发生变化。原因是细分市场里的【公司】和【消费者】变成了内，其他的细分市场变成了外。</p> 
<p><img src="https://images2.imgbox.com/42/53/eTJ7x3cO_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_433"></a>创建动态数据集</h6> 
<p>新建工作表9。</p> 
<p>右击【维度】下【产品名称】——【创建】——【集】。</p> 
<p><img src="https://images2.imgbox.com/4c/6c/t0hRxtO8_o.png" alt="在这里插入图片描述"></p> 
<p>修改集的名称，勾选【按字段】，选择【利润】【总和】【&lt;=】【0】，点击【加载】，点击【确定】。</p> 
<p><img src="https://images2.imgbox.com/b6/38/Yu1LnWm8_o.png" alt="在这里插入图片描述"></p> 
<p>将【负利润产品】拖到【行】中，将【利润】拖到【列】中。</p> 
<p>点击行中【内/外(负利润产品)】的下拉三角，选择【在集内显示成员】。</p> 
<p><img src="https://images2.imgbox.com/3a/5a/8XuqOalv_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/db/83/PwIJ1jzV_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_453"></a>通过排序方式创建动态数据集</h6> 
<p>复制工作表9，【清除工作表】，这次找销量在前100的产品。</p> 
<p>右击【维度】下【产品名称】——【创建】——【集】。</p> 
<p>修改集名称，选择【顶部】，勾选【按字段】，选择【顶部】【100】【数量】【总和】，就是将销量按降序排序，取前100个。点击【确定】。</p> 
<p><img src="https://images2.imgbox.com/77/30/JlcPaQCb_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_463"></a>合并集</h6> 
<p>合并同一个维度的数据。</p> 
<p>右击【负利润产品】——【创建合并集】。</p> 
<p><img src="https://images2.imgbox.com/8b/f9/lH6cYjYn_o.png" alt="在这里插入图片描述"></p> 
<p>修改集名称，左边是【负利润产品】，右边只能选择【销量TOP100】，因为两者都是从【产品名称】这个维度创建而来。</p> 
<p>下面有四种选择：</p> 
<ul><li>合并</li><li>相交</li><li>左交</li><li>右交</li></ul> 
<p>选择相交，点击【确定】。</p> 
<p><img src="https://images2.imgbox.com/1a/e7/r7irSF9t_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_484"></a>通过筛选器创建数据集</h6> 
<p>将【地区】拖到【筛选器】里，勾选【南亚】【西亚】【中亚】【东亚】【东南亚】，点击【确定】。</p> 
<p><img src="https://images2.imgbox.com/0c/75/RvLNzE9M_o.png" alt="在这里插入图片描述"></p> 
<p>右击【筛选器】下的【地区】——【创建集】。</p> 
<p><img src="https://images2.imgbox.com/3a/fd/Ghf2HrY6_o.png" alt="在这里插入图片描述"></p> 
<p>修改集名称，点击【确定】。</p> 
<p><img src="https://images2.imgbox.com/93/d0/n7StTDkY_o.png" alt="在这里插入图片描述"></p> 
<h6><a id="_498"></a>数据集用于分层结构</h6> 
<p>将【集】下【亚洲地区】拖到【维度】——【市场】上，弹出【创建分层结构】，修改分层名称，点击【确定】。</p> 
<p><img src="https://images2.imgbox.com/20/ab/p0YpWWL0_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/56/d2/Py4gO7NA_o.png" alt="在这里插入图片描述"></p> 
<h5><a id="33_505"></a>3.3使用集做对比分析</h5> 
<p>将【卖情怀的产品】拖到【行】，将【利润】拖到【列】。</p> 
<p><img src="https://images2.imgbox.com/9c/4b/uowhxnCF_o.png" alt="在这里插入图片描述"></p> 
<p>选择【行】中【卖情怀的产品】的下拉三角——【在集内显示成员】。</p> 
<p><img src="https://images2.imgbox.com/4e/35/j0O0kw4a_o.png" alt="在这里插入图片描述"></p> 
<p>点击【显示标记标签】，显示具体标签数值。</p> 
<p><img src="https://images2.imgbox.com/5a/8e/0vKEZHc6_o.png" alt="在这里插入图片描述"></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/50970dff640f425154acf3c780000797/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">SVG坐标系及样式</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/e68a5eccf76522c64eb5f1fc6f6dfd28/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">因子旋转的理论基础</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>