<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>10-09 周一 图解机器学习之深度学习感知机学习 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="10-09 周一 图解机器学习之深度学习感知机学习" />
<meta property="og:description" content="10-09 周一 图解机器学习之深度学习感知机学习 时间版本修改人描述2023年10月9日14:13:20V0.1宋全恒新建文档 简介 感知机是神经网络中的概念，1958年被Frank Rosenblatt第一次引入。感知机作为一种基本的神经网络模型，它模拟了人脑神经元的工作原理。感知机接受多个输入信号，将它们加权求和并加上偏置值，然后通过一个激活函数将结果转化为输出信号。感知机能够容易的实现逻辑与，或，非。但单层感知机无法实现异或。
感知机可以用于分类问题，将输入信号分为不同的类别。
感知机也是神经网络的基本组成单元，通过感知机的组合可以构建更加复杂的神经网络模型，比如说多层感知机MLP和卷积神经网络CNN。
感知机的基本原理可以用一下公式表示：
感知机的学习过程，通过不断调整权重和偏置值来完成，一般采用梯度下降算法，通过最小化损失函数来优化权重和偏置值。常用的损失函数包括均方误差和交叉熵。
概念理解 样本特征矩阵标签y训练迭代 将要定义一个训练函数 perceptron，使用变量n_iter表示迭代次数。每迭代一次，感知机会用当前的权重对样本进行预测，并计算预测值与真实标签之间的误差。然后根据误差值来调整权重，以期望能够使预测结果更加接近真实标签。
n_iter 值越大，训练时间越长，可能会使得感知机的性能提高，但也会增加过拟合的风险。在实际应用中，我们需要根据具体情况来调整 n_iter 的值。 学习率 学习率控制了每次参数更新的步长，即每次参数更新时改变的大小。在单层感知机中，学习率决定了每次更新权重和偏置的步长。通常可以使用网格搜索或随机搜索等方法来搜索最优的学习率。另外，还可以使用自适应学习率的方法，如 Adagrad、Adadelta、Adam 等，自动调整学习率大小，以提高模型的训练效果。 计算预测值更新权重 weights = weights &#43; learning_rate * y[i] * X[i] 更新偏置 bias = bias &#43; learning_rate * y[i] 绘制决策边界 # error 是误差 error = y - y_pred weights = weights &#43; learning_rate * error Xbias = bias &#43; learning_rate * error 上图参见机器学习p99
图示 代码理解 代码 #程序代码13.1 python实现感知器网络，并对and函数训练，名称：Perceptron." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/b33f4540fe9073f6de812d46f44fcee8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-10-09T21:43:30+08:00" />
<meta property="article:modified_time" content="2023-10-09T21:43:30+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">10-09 周一 图解机器学习之深度学习感知机学习</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-tomorrow-night-eighties">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <center>
  10-09 周一 图解机器学习之深度学习感知机学习 
</center> 
<table><thead><tr><th>时间</th><th>版本</th><th>修改人</th><th>描述</th></tr></thead><tbody><tr><td>2023年10月9日14:13:20</td><td>V0.1</td><td>宋全恒</td><td>新建文档</td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr></tbody></table> 
<h2><a id="_8"></a>简介</h2> 
<p> 感知机是神经网络中的概念，1958年被Frank Rosenblatt第一次引入。感知机作为一种基本的神经网络模型，它模拟了人脑神经元的工作原理。感知机接受<code>多个输入</code>信号，将<code>它们加权求和并加上偏置值</code>，然后通过一个<code>激活函数</code>将结果转化为输出信号。感知机能够容易的实现逻辑与，或，非。但单层感知机无法实现异或。</p> 
<p> 感知机可以用于分类问题，将输入信号分为不同的类别。</p> 
<p> 感知机也是神经网络的基本组成单元，通过感知机的组合可以构建更加复杂的神经网络模型，比如说多层感知机MLP和卷积神经网络CNN。</p> 
<p><img src="https://images2.imgbox.com/29/94/K3HXnK2j_o.jpg" alt="img"></p> 
<p> 感知机的基本原理可以用一下公式表示：</p> 
<p><img src="https://images2.imgbox.com/37/84/c1xg0ppq_o.jpg" alt="img"></p> 
<p> 感知机的学习过程，通过不断调整权重和偏置值来完成，一般采用梯度下降算法，通过最小化损失函数来优化权重和偏置值。常用的损失函数包括均方误差和交叉熵。</p> 
<h3><a id="_26"></a>概念理解</h3> 
<ul><li>样本特征矩阵</li><li>标签y</li><li>训练迭代 
  <ul><li>将要定义一个训练函数 perceptron，<code>使用变量n_iter表示迭代次数</code>。每迭代一次，感知机会用当前的权重对样本进行预测，并计算预测值与真实标签之间的误差。然后根据误差值来调整权重，以期望能够使预测结果更加接近真实标签。<br> n_iter 值越大，训练时间越长，可能会使得感知机的性能提高，但也会增加过拟合的风险。在实际应用中，我们需要根据具体情况来调整 n_iter 的值。</li></ul> </li><li>学习率 
  <ul><li>学习率控制了每次参数更新的步长，即每次参数更新时改变的大小。</li><li>在单层感知机中，学习率决定了每次更新权重和偏置的步长。</li><li>通常可以使用<code>网格搜索或随机搜索</code>等方法来搜索最优的学习率。另外，还可以使用自适应学习率的方法，如 Adagrad、Adadelta、Adam 等，自动调整学习率大小，以提高模型的训练效果。</li></ul> </li><li>计算预测值</li><li>更新权重 
  <ul><li>weights = weights + learning_rate * y[i] * X[i]</li></ul> </li><li>更新偏置 
  <ul><li>bias = bias + learning_rate * y[i]</li></ul> </li><li>绘制决策边界</li></ul> 
<blockquote> 
 <pre><code class="prism language-python"><span class="token comment"># error 是误差</span>
error <span class="token operator">=</span> y <span class="token operator">-</span> y_pred
weights <span class="token operator">=</span> weights <span class="token operator">+</span> learning_rate <span class="token operator">*</span> error 
Xbias <span class="token operator">=</span> bias <span class="token operator">+</span> learning_rate <span class="token operator">*</span> error
</code></pre> 
</blockquote> 
<p><img src="https://images2.imgbox.com/01/53/eJivEkCp_o.png" alt="image-20231009163050569"></p> 
<p> 上图参见机器学习p99</p> 
<h3><a id="_55"></a>图示</h3> 
<p><img src="https://images2.imgbox.com/ee/ae/hKKta8NA_o.png" alt="img"></p> 
<p> </p> 
<h2><a id="_61"></a>代码理解</h2> 
<h3><a id="_63"></a>代码</h3> 
<pre><code class="prism language-python"><span class="token comment">#程序代码13.1 python实现感知器网络，并对and函数训练，名称：Perceptron.py</span>
<span class="token comment">#coding utf-8</span>
<span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span>
 
<span class="token keyword">class</span> <span class="token class-name">perceptron</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment">#初始化，输入训练数目，激活函数</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>input_num<span class="token punctuation">,</span>activator<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment">#activator为激活函数</span>
        self<span class="token punctuation">.</span>activator<span class="token operator">=</span>activator
        self<span class="token punctuation">.</span>weights<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0.0</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>input_num<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token comment">#权重初始化为0</span>
        self<span class="token punctuation">.</span>bias<span class="token operator">=</span><span class="token number">0.0</span><span class="token comment">#偏置初始化为0.0</span>
    <span class="token comment">#运算</span>
    <span class="token keyword">def</span> <span class="token function">operation</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>input_vec<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">#对激活函数中的参数做运算，x[0]代表input_vec,x[1]代表weights</span>
        <span class="token comment">#0.0为reduce的初始计算值</span>
        <span class="token builtin">sum</span><span class="token operator">=</span><span class="token builtin">reduce</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> a<span class="token punctuation">,</span>b<span class="token punctuation">:</span>a<span class="token operator">+</span>b<span class="token punctuation">,</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token builtin">zip</span><span class="token punctuation">(</span>input_vec<span class="token punctuation">,</span>self<span class="token punctuation">.</span>weights<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0.0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>activator<span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token operator">+</span>self<span class="token punctuation">.</span>bias<span class="token punctuation">)</span>
    
    <span class="token comment">#权值和更新</span>
    <span class="token keyword">def</span> <span class="token function">updata</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>input_vec<span class="token punctuation">,</span>output<span class="token punctuation">,</span>label<span class="token punctuation">,</span>rate<span class="token punctuation">)</span><span class="token punctuation">:</span>
        delta<span class="token operator">=</span>label<span class="token operator">-</span>output
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"label: %d, output: %f, delta: %f"</span> <span class="token operator">%</span><span class="token punctuation">(</span>label<span class="token punctuation">,</span> output<span class="token punctuation">,</span> delta<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>weights<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>rate<span class="token operator">*</span>delta<span class="token operator">*</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token builtin">zip</span><span class="token punctuation">(</span>input_vec<span class="token punctuation">,</span>self<span class="token punctuation">.</span>weights<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#加上list跟python2有区别</span>
        self<span class="token punctuation">.</span>bias<span class="token operator">+=</span>rate<span class="token operator">*</span>delta
    
    <span class="token comment">#训练，输入数据及对应标签，迭代次数，学习率</span>
    <span class="token keyword">def</span> <span class="token function">train</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>input_vecs<span class="token punctuation">,</span>labels<span class="token punctuation">,</span>iteration_num<span class="token punctuation">,</span>rate<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>iteration_num<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment">#iteration_num次迭代</span>
            samples<span class="token operator">=</span><span class="token builtin">zip</span><span class="token punctuation">(</span>input_vecs<span class="token punctuation">,</span>labels<span class="token punctuation">)</span><span class="token comment">#打包</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>input_vec<span class="token punctuation">,</span>label<span class="token punctuation">)</span> <span class="token keyword">in</span> samples<span class="token punctuation">:</span>
                output<span class="token operator">=</span>self<span class="token punctuation">.</span>operation<span class="token punctuation">(</span>input_vec<span class="token punctuation">)</span><span class="token comment">#计算输出值</span>
                self<span class="token punctuation">.</span>updata<span class="token punctuation">(</span>input_vec<span class="token punctuation">,</span>output<span class="token punctuation">,</span>label<span class="token punctuation">,</span>rate<span class="token punctuation">)</span><span class="token comment">#更新</span>
    
    <span class="token comment">#预测</span>
    <span class="token keyword">def</span> <span class="token function">predict</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>input_vec<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>operation<span class="token punctuation">(</span>input_vec<span class="token punctuation">)</span>
    
    <span class="token comment">#打印权值，偏置</span>
    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment">#内部函数</span>
        <span class="token keyword">return</span> <span class="token string">"weight: %s, bias: %f"</span><span class="token operator">%</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>weights<span class="token punctuation">,</span>self<span class="token punctuation">.</span>bias<span class="token punctuation">)</span><span class="token comment">#权值返回用%s</span>
        
<span class="token triple-quoted-string string">'''实现与(and)函数功能'''</span>
<span class="token comment">#激活函数为阶跃函数</span>
<span class="token keyword">def</span> <span class="token function">andActivator</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> x<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">1</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">0</span>
    
<span class="token comment">#得到训练数据</span>
<span class="token keyword">def</span> <span class="token function">getTrainData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    input_vecs<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token comment">#可重用多次循环迭代</span>
    labels<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token keyword">return</span> input_vecs<span class="token punctuation">,</span>labels
<span class="token comment">#训练感知机</span>
<span class="token keyword">def</span> <span class="token function">trainPerceptron</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    p<span class="token operator">=</span>perceptron<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>andActivator<span class="token punctuation">)</span>
    input_vecs<span class="token punctuation">,</span>labels<span class="token operator">=</span>getTrainData<span class="token punctuation">(</span><span class="token punctuation">)</span>
    p<span class="token punctuation">.</span>train<span class="token punctuation">(</span>input_vecs<span class="token punctuation">,</span>labels<span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token comment">#100为迭代次数，0.1为学习率</span>
    <span class="token keyword">return</span> p
<span class="token comment">#主函数</span>
<span class="token keyword">if</span> __name__<span class="token operator">==</span><span class="token string">'__main__'</span><span class="token punctuation">:</span>
    train_perceptron<span class="token operator">=</span>trainPerceptron<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>train_perceptron<span class="token punctuation">)</span>
<span class="token comment">#测试</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'感知器训练网络，训练布尔And函数'</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'1 and 1 = %d'</span> <span class="token operator">%</span> train_perceptron<span class="token punctuation">.</span>predict<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'1 and 0 = %d'</span> <span class="token operator">%</span> train_perceptron<span class="token punctuation">.</span>predict<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">#print("0 and 1 =%d"%train_perceptron.predict([0,1]))</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'0 and 1 = %d'</span> <span class="token operator">%</span> train_perceptron<span class="token punctuation">.</span>predict<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'0 and 0 = %d'</span> <span class="token operator">%</span> train_perceptron<span class="token punctuation">.</span>predict<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment"># 测试</span>
   <span class="token comment"># print '1 and 1 = %d' % and_perception.predict([1, 1])</span>
   <span class="token comment"># print '0 and 0 = %d' % and_perception.predict([0, 0])</span>
   <span class="token comment"># print '1 and 0 = %d' % and_perception.predict([1, 0])</span>
   <span class="token comment"># print '0 and 1 = %d' % and_perception.predict([0, 1])</span>

</code></pre> 
<h3><a id="_144"></a>流程</h3> 
<p><img src="https://images2.imgbox.com/2f/73/68udeXsV_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_149"></a>代码片段理解</h3> 
<h4><a id="operation_151"></a>operation</h4> 
<pre><code class="prism language-python">    <span class="token comment">#运算</span>
    <span class="token keyword">def</span> <span class="token function">operation</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>input_vec<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token comment">#对激活函数中的参数做运算，x[0]代表input_vec,x[1]代表weights</span>
        <span class="token comment">#0.0为reduce的初始计算值</span>
        <span class="token builtin">sum</span><span class="token operator">=</span><span class="token builtin">reduce</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> a<span class="token punctuation">,</span>b<span class="token punctuation">:</span>a<span class="token operator">+</span>b<span class="token punctuation">,</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token builtin">zip</span><span class="token punctuation">(</span>input_vec<span class="token punctuation">,</span>self<span class="token punctuation">.</span>weights<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">0.0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>activator<span class="token punctuation">(</span><span class="token builtin">sum</span><span class="token operator">+</span>self<span class="token punctuation">.</span>bias<span class="token punctuation">)</span>
</code></pre> 
<p> 上述首先是sum，`map(lambda x:x[0]*x[1],zip(input_vec,self.weights))``````</p> 
<h4><a id="_164"></a>权重更新</h4> 
<pre><code class="prism language-python">    <span class="token comment">#权值和更新</span>
    <span class="token keyword">def</span> <span class="token function">updata</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>input_vec<span class="token punctuation">,</span>output<span class="token punctuation">,</span>label<span class="token punctuation">,</span>rate<span class="token punctuation">)</span><span class="token punctuation">:</span>
        delta<span class="token operator">=</span>label<span class="token operator">-</span>output
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"label: %d, output: %f, delta: %f"</span> <span class="token operator">%</span><span class="token punctuation">(</span>label<span class="token punctuation">,</span> output<span class="token punctuation">,</span> delta<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>weights<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>rate<span class="token operator">*</span>delta<span class="token operator">*</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token builtin">zip</span><span class="token punctuation">(</span>input_vec<span class="token punctuation">,</span>self<span class="token punctuation">.</span>weights<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#加上list跟python2有区别</span>
        self<span class="token punctuation">.</span>bias<span class="token operator">+=</span>rate<span class="token operator">*</span>delta
</code></pre> 
<blockquote> 
 <p>注： 该感知机两个节点，因此有两个权重值，对于数据[[1,1],[1,0],[0,1],[0,0]]，中的每一个样本,以[1, 1]， 对应的两个权重为w1，w2；</p> 
</blockquote> 
<p> 在update函数中，input_vec仅仅代表一个样本，如[1, 1].</p> 
<p> 在每个样本更新时，权重wi只与样本中第i个属性xi有关。具体更新的过程可以参见下图：</p> 
<p> 具体可参见下属更新日志：</p> 
<p><img src="https://images2.imgbox.com/f1/a2/MqQsZ1UO_o.png" alt="在这里插入图片描述"></p> 
<p> 参考下面的数据变化</p> 
<pre><code class="prism language-bash"><span class="token punctuation">(</span>base<span class="token punctuation">)</span> root@node33-a100:/home/sqh/deep<span class="token comment"># cat log | head -n 10</span>
<span class="token assign-left variable">input_vec</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">1</span><span class="token punctuation">]</span>, <span class="token assign-left variable">output</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">lable</span><span class="token operator">=</span><span class="token number">1</span>, <span class="token assign-left variable">weights</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0.0</span>, <span class="token number">0.0</span><span class="token punctuation">]</span>, <span class="token assign-left variable">rate</span><span class="token operator">=</span><span class="token number">0.100000</span>, <span class="token assign-left variable">delta</span><span class="token operator">=</span><span class="token number">1</span>
weight: <span class="token punctuation">[</span><span class="token number">0.1</span>, <span class="token number">0.1</span><span class="token punctuation">]</span>, bias: <span class="token number">0.100000</span>
<span class="token assign-left variable">input_vec</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">0</span><span class="token punctuation">]</span>, <span class="token assign-left variable">output</span><span class="token operator">=</span><span class="token number">1</span>, <span class="token assign-left variable">lable</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">weights</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0.1</span>, <span class="token number">0.1</span><span class="token punctuation">]</span>, <span class="token assign-left variable">rate</span><span class="token operator">=</span><span class="token number">0.100000</span>, <span class="token assign-left variable">delta</span><span class="token operator">=</span>-1
weight: <span class="token punctuation">[</span><span class="token number">0.0</span>, <span class="token number">0.1</span><span class="token punctuation">]</span>, bias: <span class="token number">0.000000</span>
<span class="token assign-left variable">input_vec</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span>, <span class="token number">1</span><span class="token punctuation">]</span>, <span class="token assign-left variable">output</span><span class="token operator">=</span><span class="token number">1</span>, <span class="token assign-left variable">lable</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">weights</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0.0</span>, <span class="token number">0.1</span><span class="token punctuation">]</span>, <span class="token assign-left variable">rate</span><span class="token operator">=</span><span class="token number">0.100000</span>, <span class="token assign-left variable">delta</span><span class="token operator">=</span>-1
weight: <span class="token punctuation">[</span><span class="token number">0.0</span>, <span class="token number">0.0</span><span class="token punctuation">]</span>, bias: <span class="token parameter variable">-0.100000</span>
<span class="token assign-left variable">input_vec</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span>, <span class="token number">0</span><span class="token punctuation">]</span>, <span class="token assign-left variable">output</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">lable</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">weights</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0.0</span>, <span class="token number">0.0</span><span class="token punctuation">]</span>, <span class="token assign-left variable">rate</span><span class="token operator">=</span><span class="token number">0.100000</span>, <span class="token assign-left variable">delta</span><span class="token operator">=</span><span class="token number">0</span>
weight: <span class="token punctuation">[</span><span class="token number">0.0</span>, <span class="token number">0.0</span><span class="token punctuation">]</span>, bias: <span class="token parameter variable">-0.100000</span>
<span class="token assign-left variable">input_vec</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span>, <span class="token number">1</span><span class="token punctuation">]</span>, <span class="token assign-left variable">output</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">lable</span><span class="token operator">=</span><span class="token number">1</span>, <span class="token assign-left variable">weights</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0.0</span>, <span class="token number">0.0</span><span class="token punctuation">]</span>, <span class="token assign-left variable">rate</span><span class="token operator">=</span><span class="token number">0.100000</span>, <span class="token assign-left variable">delta</span><span class="token operator">=</span><span class="token number">1</span>
weight: <span class="token punctuation">[</span><span class="token number">0.1</span>, <span class="token number">0.1</span><span class="token punctuation">]</span>, bias: <span class="token number">0.000000</span>
</code></pre> 
<p><img src="https://images2.imgbox.com/ce/1e/wDj3U5Gk_o.jpg" alt="10-09 周一 感知机理解计算过程"></p> 
<p> 而偏置的学习，相当于权重的更新，只不过对应的特征值始终为1.理解参见下图机器学习第99页：</p> 
<p><img src="https://images2.imgbox.com/f9/37/3VNx0fGW_o.png" alt="image-20231009211755573"></p> 
<p>即感知机中偏置的学习公式如下：</p> 
<p><img src="https://images2.imgbox.com/0c/52/SLVBcqHl_o.png" alt="在这里插入图片描述"></p> 
<h3><a id="_214"></a>训练的过程</h3> 
<pre><code class="prism language-python">    <span class="token comment">#训练，输入数据及对应标签，迭代次数，学习率</span>
    <span class="token keyword">def</span> <span class="token function">train</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>input_vecs<span class="token punctuation">,</span>labels<span class="token punctuation">,</span>iteration_num<span class="token punctuation">,</span>rate<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>iteration_num<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token comment">#iteration_num次迭代</span>
            samples<span class="token operator">=</span><span class="token builtin">zip</span><span class="token punctuation">(</span>input_vecs<span class="token punctuation">,</span>labels<span class="token punctuation">)</span><span class="token comment">#打包</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>input_vec<span class="token punctuation">,</span>label<span class="token punctuation">)</span> <span class="token keyword">in</span> samples<span class="token punctuation">:</span>
                
                output<span class="token operator">=</span>self<span class="token punctuation">.</span>operation<span class="token punctuation">(</span>input_vec<span class="token punctuation">)</span><span class="token comment">#计算输出值</span>
                <span class="token comment"># print("output=", output)</span>
                self<span class="token punctuation">.</span>updata<span class="token punctuation">(</span>input_vec<span class="token punctuation">,</span>output<span class="token punctuation">,</span>label<span class="token punctuation">,</span>rate<span class="token punctuation">)</span><span class="token comment">#更新</span>
</code></pre> 
<p> 上述代码中，训练的过程，可以看到for循环迭代的次数由外部参数传递，本程序中为100，然后，在100次迭代中，每次迭代都把训练数据全部重新执行了一遍，对于每个样本和标签，均更新一次weights和bias。</p> 
<h3><a id="_230"></a>难点</h3> 
<h4><a id="reduce_232"></a>reduce</h4> 
<p> 该函数不是Python内置函数，需要通过<code>from functools import reduce </code>导入。Reduce从序列数据结构返回单个输出值，它通过应用一个改定的函数来减少元素。</p> 
<blockquote> 
 <p>reduce(function, sequence[, initial]) -&gt; value</p> 
</blockquote> 
<p> 将包含两个参数的函数(<code>function</code>)累计应用于序列(<code>sequence</code>)的项，从左到右，从而将序列<code>reduce</code>至单个值。</p> 
<p> 假设有一个整数列表，并求得所有元素的总和。且使用reduce函数而不是使用for循环来处理此问题。</p> 
<pre><code class="prism language-python"><span class="token keyword">from</span> functools <span class="token keyword">import</span> <span class="token builtin">reduce</span>
lst <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">reduce</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> x<span class="token operator">+</span>y<span class="token punctuation">,</span> lst<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">30</span>
</code></pre> 
<p> 也可以使用reduce函数而非for循环从列表中找到最大或最小的值：</p> 
<pre><code class="prism language-python">lst <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>
<span class="token comment"># 找到最大元素</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">reduce</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> x <span class="token keyword">if</span> x<span class="token operator">&gt;</span>y <span class="token keyword">else</span> y<span class="token punctuation">,</span> lst<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># 找到最小元素</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">reduce</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">,</span> y<span class="token punctuation">:</span> x <span class="token keyword">if</span> x<span class="token operator">&lt;</span>y <span class="token keyword">else</span> y<span class="token punctuation">,</span> lst<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="lambda_259"></a>lambda</h4> 
<p> 参见 <a href="https://mp.weixin.qq.com/s?__biz=MzI2MjE3OTA1MA==&amp;mid=2247496116&amp;idx=2&amp;sn=95b31e4dca2a430d41f046ebe62657f5&amp;chksm=ea4da031dd3a2927c0a5db9dbe5a786a63f1808fc7599ff08a534c9b4ae511c0313719965dfe&amp;scene=27" rel="nofollow">Lambda函数简介</a></p> 
<blockquote> 
 <p>Lambda函数也被称为匿名(没有名称)函数，它直接接受参数的数量以及使用该参数执行的条件或操作，该参数以冒号分隔，并返回最终结果。为了在大型代码库上编写代码时执行一项小任务，或者在函数中执行一项小任务，便在正常过程中使用lambda函数。</p> 
</blockquote> 
<blockquote> 
 <p>lambda argument_list: expression</p> 
</blockquote> 
<p> 其中，argument_list表示参数列表，expression是一个关于参数的表达式，表达式中出现的参数需要在argument_list中有定义，并且表达式只能是单行的。</p> 
<p> lambda是定义函数的一种简单的方法，因此可以给它一个名称，像普通函数一样使用它。</p> 
<p> Lambda是一种不需要名字即标识符，有一个单独的表达式组成的匿名内联函数，表达式会在调用时被求职。</p> 
<blockquote> 
 <p>任何能够使用它们的地方，都可以定义一个单独的普通函数来进行替换。我将它们用在需要封装特殊的**、非重用**代码上，避免令我的代码充斥着大量单行函数。</p> 
</blockquote> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">f</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> x<span class="token operator">**</span><span class="token number">2</span>
<span class="token keyword">print</span> f<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
</code></pre> 
<p> 使用lambda表达式，如下所示：</p> 
<pre><code class="prism language-python">g <span class="token operator">=</span> <span class="token keyword">lambda</span> x <span class="token punctuation">:</span> x<span class="token operator">**</span><span class="token number">2</span>
g<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
</code></pre> 
<p> 上述同样定义了一个<code>函数</code>，并且命名为g，lmbda 后的变量表示参数，: 后的内容代表返回的值。</p> 
<pre><code class="prism language-bash">Type <span class="token string">"help"</span>, <span class="token string">"copyright"</span>, <span class="token string">"credits"</span> or <span class="token string">"license"</span> <span class="token keyword">for</span> <span class="token function">more</span> information.
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> g <span class="token operator">=</span> lambda x <span class="token builtin class-name">:</span> x**2
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> g<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
<span class="token number">25</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> g<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token number">16</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> g<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token number">9</span>

</code></pre> 
<p> 使用<code>def</code>关键字构建的普通函数返回值或序列数据类型，但在Lambda函数中返回一个完整的过程。假设我们想要检查数字是偶数还是奇数，使用lambda函数语法类似于下面的代码片段。</p> 
<pre><code class="prism language-python">b <span class="token operator">=</span> <span class="token keyword">lambda</span> x<span class="token punctuation">:</span> <span class="token string">"Even"</span> <span class="token keyword">if</span> x<span class="token operator">%</span><span class="token number">2</span><span class="token operator">==</span><span class="token number">0</span> <span class="token keyword">else</span> <span class="token string">"Odd"</span>
b<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>
</code></pre> 
<p> 普通函数与Lambda函数的区别如下：</p> 
<ul><li>没有名称</li><li>Lambda函数没有返回值</li><li>函数只在一行中</li><li>不用于代码重用</li></ul> 
<p> 一般情况下，我们不使用Lambda函数，而是将其与高阶函数一起使用。高阶函数是一种需要多个函数来完成任务的函数，或者当一个函数返回任何另一个函数时，可以选择使用Lambda函数。</p> 
<p> 通过一个例子来理解高阶函数。假设有一个整数列表，必须返回三个输出。</p> 
<ul><li>一个列表中所有偶数的和</li><li>一个列表中所有奇数的和</li><li>一个所有能被三整除的数的和</li></ul> 
<pre><code class="prism language-python"><span class="token keyword">def</span> <span class="token function">return_sum</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> lst<span class="token punctuation">)</span><span class="token punctuation">:</span>
  result <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">for</span> i <span class="token keyword">in</span> lst<span class="token punctuation">:</span>
    <span class="token comment">#if val satisfies func</span>
    <span class="token keyword">if</span> func<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">:</span>
      result <span class="token operator">=</span> result <span class="token operator">+</span> i
  <span class="token keyword">return</span> result
lst <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">56</span><span class="token punctuation">,</span><span class="token number">78</span><span class="token punctuation">,</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">]</span>
x <span class="token operator">=</span> <span class="token keyword">lambda</span> a<span class="token punctuation">:</span> a<span class="token operator">%</span><span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span>
y <span class="token operator">=</span> <span class="token keyword">lambda</span> a<span class="token punctuation">:</span> a<span class="token operator">%</span><span class="token number">2</span> <span class="token operator">!=</span> <span class="token number">0</span>
z <span class="token operator">=</span> <span class="token keyword">lambda</span> a<span class="token punctuation">:</span> a<span class="token operator">%</span><span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span>

<span class="token keyword">print</span><span class="token punctuation">(</span>return_sum<span class="token punctuation">(</span>x<span class="token punctuation">,</span> lst<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>return_sum<span class="token punctuation">(</span>y<span class="token punctuation">,</span> lst<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>return_sum<span class="token punctuation">(</span>z<span class="token punctuation">,</span> lst<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> 
<h4><a id="map_342"></a>map</h4> 
<p> map() 会根据提供的函数对指定序列做映射</p> 
<p> Map函数是一个接受<code>两个参数</code>的函数。第一个参数 function 以参数序列中的每一个元素调用 function 函数，第二个是任何可迭代的序列数据类型。返回包含每次 function 函数返回值的新列表。</p> 
<pre><code>map(function, iterable, ...)

</code></pre> 
<p> Map函数将定义在迭代器对象中的某种类型的操作。假设我们要将数组元素进行平方运算，即将一个数组的每个元素的平方映射到另一个产生所需结果的数组。</p> 
<pre><code class="prism language-python">arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span> 
arr <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token operator">*</span>x<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">)</span> 
<span class="token keyword">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">]</span>

</code></pre> 
<p> 再一个例子：</p> 
<pre><code class="prism language-python">students <span class="token operator">=</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{<!-- --></span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"John Doe"</span><span class="token punctuation">,</span>
             <span class="token string">"father name"</span><span class="token punctuation">:</span> <span class="token string">"Robert Doe"</span><span class="token punctuation">,</span>
             <span class="token string">"Address"</span><span class="token punctuation">:</span> <span class="token string">"123 Hall street"</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span>
              <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Rahul Garg"</span><span class="token punctuation">,</span>
              <span class="token string">"father name"</span><span class="token punctuation">:</span> <span class="token string">"Kamal Garg"</span><span class="token punctuation">,</span>
              <span class="token string">"Address"</span><span class="token punctuation">:</span> <span class="token string">"3-Upper-Street corner"</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{<!-- --></span>
              <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Angela Steven"</span><span class="token punctuation">,</span>
             <span class="token string">"father name"</span><span class="token punctuation">:</span> <span class="token string">"Jabob steven"</span><span class="token punctuation">,</span>
             <span class="token string">"Address"</span><span class="token punctuation">:</span> <span class="token string">"Unknown"</span>
            <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> student<span class="token punctuation">:</span> student<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> students<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token string">'John Doe'</span><span class="token punctuation">,</span> <span class="token string">'Rahul Garg'</span><span class="token punctuation">,</span> <span class="token string">'Angela Steven'</span><span class="token punctuation">]</span>
</code></pre> 
<p> 上述操作通常出现在从数据库或网络抓取获取数据等场景中。</p> 
<p>Python <strong>map</strong>函数是允许你使用<strong>一个函数</strong>转换整个可迭代对象的函数。这里的关键概念是<strong>转换</strong>，它可以包括但不限于：</p> 
<ul><li>将字符串转换为数字</li><li>四舍五入数字</li><li>获取每个可迭代项的长度</li></ul> 
<h4><a id="Filter_396"></a>Filter函数</h4> 
<p> Filter函数根据给定的特定条件过滤掉数据。即在函数中设定过滤条件，迭代元素，保留返回值为True 的元素。Map 函数对每个元素进行操作，而 filter 函数仅输出满足特定要求的元素。</p> 
<blockquote> 
 <p>filter(function or None, iterable) --&gt; filter object</p> 
</blockquote> 
<pre><code class="prism language-bash"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> fruits <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'mango'</span>, <span class="token string">'apple'</span>, <span class="token string">'orange'</span>, <span class="token string">'cherry'</span>, <span class="token string">'grapes'</span><span class="token punctuation">]</span> 
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> print<span class="token punctuation">(</span>list<span class="token punctuation">(</span>filter<span class="token punctuation">(</span>lambda fruit: <span class="token string">'g'</span> <span class="token keyword">in</span> fruit, fruits<span class="token punctuation">))</span><span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token string">'mango'</span>, <span class="token string">'orange'</span>, <span class="token string">'grapes'</span><span class="token punctuation">]</span>

</code></pre> 
<h4><a id="zip_409"></a>zip</h4> 
<p><strong>zip()</strong> 函数用于将可迭代的对象作为参数，将对象中对应的元素打包成一个个元组，然后返回由这些元组组成的列表。</p> 
<p>如果各个迭代器的元素个数不一致，则返回列表长度与最短的对象相同，利用 * 号操作符，可以将元组解压为列表。</p> 
<pre><code class="prism language-python"><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> zipped <span class="token operator">=</span> <span class="token builtin">zip</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span>     <span class="token comment"># 返回一个对象</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> zipped
<span class="token operator">&lt;</span><span class="token builtin">zip</span> <span class="token builtin">object</span> at <span class="token number">0x103abc288</span><span class="token operator">&gt;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">list</span><span class="token punctuation">(</span>zipped<span class="token punctuation">)</span>  <span class="token comment"># list() 转换为列表</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">zip</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span>              <span class="token comment"># 元素个数与最短的列表一致</span>
<span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> a1<span class="token punctuation">,</span> a2 <span class="token operator">=</span> <span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token builtin">zip</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span>          <span class="token comment"># 与 zip 相反，zip(*) 可理解为解压，返回二维矩阵式</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">list</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">list</span><span class="token punctuation">(</span>a2<span class="token punctuation">)</span>
<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>
</code></pre> 
<p> 正确的理解zip()对于updata函数的理解非常重要</p> 
<pre><code class="prism language-python">    <span class="token comment">#权值和更新</span>
    <span class="token keyword">def</span> <span class="token function">updata</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span>input_vec<span class="token punctuation">,</span>output<span class="token punctuation">,</span>label<span class="token punctuation">,</span>rate<span class="token punctuation">)</span><span class="token punctuation">:</span>
        delta<span class="token operator">=</span>label<span class="token operator">-</span>output
        <span class="token comment">#print("label: %d, output: %f, delta: %f" %(label, output, delta))</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"input_vec=%s, output=%d, lable=%d, weights=%s, rate=%f, delta=%d"</span> <span class="token operator">%</span><span class="token punctuation">(</span>input_vec<span class="token punctuation">,</span> output<span class="token punctuation">,</span> label<span class="token punctuation">,</span> self<span class="token punctuation">.</span>weights<span class="token punctuation">,</span> rate<span class="token punctuation">,</span> delta<span class="token punctuation">)</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>weights<span class="token operator">=</span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>x<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>rate<span class="token operator">*</span>delta<span class="token operator">*</span>x<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token builtin">zip</span><span class="token punctuation">(</span>input_vec<span class="token punctuation">,</span>self<span class="token punctuation">.</span>weights<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
       
        self<span class="token punctuation">.</span>bias<span class="token operator">+=</span>rate<span class="token operator">*</span>delta
        <span class="token keyword">print</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span>
</code></pre> 
<h2><a id="_449"></a>总结</h2> 
<p> 最近感觉自己，心浮气躁的，非常不舒服，还是要不断地学习才能不断的丰富和充实自己。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/c1805f0def06c44df9f3cf6d7411e1f2/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">JavaScript API-01 DOM</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d0ebeced4fde8d71ea8ad58982083217/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">bitset用法：16进制输出成2进制、获取16位2进制某个区间的值、改变16位2进制某个区间的值</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>