<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>SSM到Spring Boot 从零开发校园商铺平台11-7到11-12 添加平台账号体系讲解及代码的实现 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="SSM到Spring Boot 从零开发校园商铺平台11-7到11-12 添加平台账号体系讲解及代码的实现" />
<meta property="og:description" content="文章目录 一、添加平台账号dao层的开发 1.1dao层的LocalAuthDao的代码 1.2dao层的LocalAuthDao.xml的代码 二、添加平台账号service层的开发 2.1接口LocalAuthService的代码及讲解 2.2接口LocalAuthServiceImpl的代码及讲解2.3MD5的加密 三、添加平台账号controller层的开发 3.1LocalAuthController的代码及讲解 四、添加平台账号前端的实现4.1绑定微信页面4.2修改密码页面4.3登录页面 一、添加平台账号dao层的开发 1.1dao层的LocalAuthDao的代码 package com.imooc.o2o.dao; import java.util.Date; import org.apache.ibatis.annotations.Param; import com.imooc.o2o.entity.LocalAuth; public interface LocalAuthDao { /** * 通过账号和密码查询对应信息，登录用 * @param userName * @param password * @return */ LocalAuth queryLocalByUserNameAndPwd(@Param(&#34;userName&#34;) String userName, @Param(&#34;password&#34;) String password); /** * 通过用户id查询对应localauth * @param userId * @return */ LocalAuth queryLocalByUserId(@Param(&#34;userId&#34;) long userId); /** * 添加平台账号 * @param localAuth * @return */ int insertLocalAuth(LocalAuth localAuth); /** * 通过userid，username，password更改密码 * @param localAuth * @return */ int updateLocalAuth(@Param(&#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/deccba7360f8712e898e776e6f7464c8/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-04-16T19:30:37+08:00" />
<meta property="article:modified_time" content="2019-04-16T19:30:37+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">SSM到Spring Boot 从零开发校园商铺平台11-7到11-12 添加平台账号体系讲解及代码的实现</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-dracula">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><a href="#dao_1" rel="nofollow">一、添加平台账号dao层的开发</a></li><li><ul><li><a href="#emspemsp11daoLocalAuthDao_2" rel="nofollow">  1.1dao层的LocalAuthDao的代码</a></li><li><a href="#emspemsp12daoLocalAuthDaoxml_55" rel="nofollow">  1.2dao层的LocalAuthDao.xml的代码</a></li></ul> 
  </li><li><a href="#service_137" rel="nofollow">二、添加平台账号service层的开发</a></li><li><ul><li><a href="#emspemsp21LocalAuthService_139" rel="nofollow">  2.1接口LocalAuthService的代码及讲解</a></li><li><a href="#emspemsp22LocalAuthServiceImpl_187" rel="nofollow">  2.2接口LocalAuthServiceImpl的代码及讲解</a></li><li><a href="#23MD5_287" rel="nofollow">2.3MD5的加密</a></li></ul> 
  </li><li><a href="#controller_341" rel="nofollow">三、添加平台账号controller层的开发</a></li><li><ul><li><a href="#emspemsp31LocalAuthController_342" rel="nofollow">  3.1LocalAuthController的代码及讲解</a></li></ul> 
  </li><li><a href="#_525" rel="nofollow">四、添加平台账号前端的实现</a></li><li><ul><li><a href="#41_526" rel="nofollow">4.1绑定微信页面</a></li><li><a href="#42_673" rel="nofollow">4.2修改密码页面</a></li><li><a href="#43_859" rel="nofollow">4.3登录页面</a></li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="dao_1"></a>一、添加平台账号dao层的开发</h2> 
<h3><a id="emspemsp11daoLocalAuthDao_2"></a>  1.1dao层的LocalAuthDao的代码</h3> 
<pre><code>package com.imooc.o2o.dao;

import java.util.Date;

import org.apache.ibatis.annotations.Param;

import com.imooc.o2o.entity.LocalAuth;



public interface LocalAuthDao {

	/**
	 * 通过账号和密码查询对应信息，登录用
	 * @param userName
	 * @param password
	 * @return
	 */
	LocalAuth queryLocalByUserNameAndPwd(@Param("userName") String userName,
			@Param("password") String password);

	/**
	 * 通过用户id查询对应localauth
	 * @param userId
	 * @return
	 */
	LocalAuth queryLocalByUserId(@Param("userId") long userId);

	/**
	 * 添加平台账号
	 * @param localAuth
	 * @return
	 */
	int insertLocalAuth(LocalAuth localAuth);

	/**
	 * 通过userid，username，password更改密码
	 * @param localAuth
	 * @return
	 */
	int updateLocalAuth(@Param("userId") Long userId,
			@Param("userName") String userName,
			@Param("password") String password,
			@Param("newPassword") String newPassword,
			@Param("lastEditTime") Date lastEditTime);
}


</code></pre> 
<h3><a id="emspemsp12daoLocalAuthDaoxml_55"></a>  1.2dao层的LocalAuthDao.xml的代码</h3> 
<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;
&lt;mapper namespace="com.imooc.o2o.dao.LocalAuthDao"&gt;
	&lt;resultMap type="com.imooc.o2o.entity.LocalAuth" id="localAuthResultMap"&gt;
		&lt;id property="localAuthId" column="local_auth_id"/&gt;
		&lt;result property="username" column="username"/&gt;
		&lt;result property="password" column="password"/&gt;
		&lt;result property="createTime" column="create_time"/&gt;
		&lt;result property="lastEditTime" column="last_edit_time"/&gt;
		&lt;association property="personInfo" column="user_id" javaType="com.imooc.o2o.entity.PersonInfo"&gt;
			&lt;id property="userId" column="user_id"/&gt;
			&lt;result property="name" column="name"/&gt;
			&lt;result property="gender" column="gender"/&gt;
			&lt;result property="email" column="email"/&gt;
			&lt;result property="profileImg" column="profile_img"/&gt;
			&lt;result property="userType" column="user_type"/&gt;
			&lt;result property="createTime" column="create_time"/&gt;
			&lt;result property="lastEditTime" column="last_edit_time"/&gt;
			&lt;result property="enableStatus" column="enable_status"/&gt;
		&lt;/association&gt;
	&lt;/resultMap&gt;
	&lt;select id="queryLocalByUserNameAndPwd" parameterType="String" resultMap="localAuthResultMap"&gt;
    	SELECT l.local_auth_id,
    	l.username,
    	l.password,
    	l.create_time,
    	l.last_edit_time,
    	p.user_id,
    	p.name,
		p.gender,
		p.email,
		p.profile_img,
		p.user_type,
		p.create_time,
		p.last_edit_time,
		p.enable_status
		FROM tb_local_auth l 
		LEFT JOIN tb_person_info p ON l.user_id =p.user_id
		WHERE l.username =#{userName}
		AND l.password = #{password} 
		&lt;/select&gt;
	&lt;select id="queryLocalByUserId" parameterType="long" resultMap="localAuthResultMap"&gt;
		SELECT l.local_auth_id,
    	l.username,
    	l.password,
    	l.create_time,
    	l.last_edit_time,
    	p.user_id,
    	p.name,
		p.gender,
		p.email,
		p.profile_img,
		p.user_type,
		p.create_time,
		p.last_edit_time,
		p.enable_status
		FROM tb_local_auth l 
		LEFT JOIN tb_person_info p ON l.user_id =p.user_id
		where l.user_id=#{userId}
	&lt;/select&gt;
	&lt;insert id="insertLocalAuth" parameterType="com.imooc.o2o.entity.LocalAuth" 
	keyColumn="local_auth_id" keyProperty="localAuthId" useGeneratedKeys="true"&gt;
		INSERT INTO tb_local_auth(username,password,user_id,create_time,last_edit_time)
		VALUES(#{username},#{password},#{personInfo.userId},#{createTime},#{lastEditTime}) 
	&lt;/insert&gt;
	&lt;update id="updateLocalAuth"&gt;
	update tb_local_auth 
	&lt;set&gt;
	&lt;if test="newPassword != null"&gt;password=#{newPassword},&lt;/if&gt;
	&lt;if test="lastEditTime != null"&gt;last_edit_time=#{lastEditTime}&lt;/if&gt;
	&lt;/set&gt;
	where user_id=#{userId} AND username=#{userName} AND
	password=#{password} 
	&lt;/update&gt;
&lt;/mapper&gt;
</code></pre> 
<h2><a id="service_137"></a>二、添加平台账号service层的开发</h2> 
<p>      其中的exception和execution的代码就不讲解了，前面已经了解的非常清楚了</p> 
<h3><a id="emspemsp21LocalAuthService_139"></a>  2.1接口LocalAuthService的代码及讲解</h3> 
<pre><code>package com.imooc.o2o.service;

import com.imooc.o2o.dto.LocalAuthExecution;
import com.imooc.o2o.entity.LocalAuth;
import com.imooc.o2o.exceptions.LocalAuthOperationException;

public interface LocalAuthService {
	/**
	 * 通过账号密码获取平台账号信息
	 * @param userName
	 * @return
	 */
	LocalAuth getLocalAuthByUserNameAndPwd(String userName, String password);

	/**
	 * 通过userid获取平台账号信息
	 * @param userId
	 * @return
	 */
	LocalAuth getLocalAuthByUserId(long userId);
	/**
	 * 绑定微信，生成平台专属的账号
	 * @param localAuth
	 * @return
	 * @throws RuntimeException
	 */
	LocalAuthExecution bindLocalAuth(LocalAuth localAuth)
			throws LocalAuthOperationException;

	/**
	 * 修改平台账号的登录密码
	 * @param localAuthId
	 * @param username
	 * @param password
	 * @param newPassword
	 * @param lastEditTime
	 * @return
	 */
	LocalAuthExecution modifyLocalAuth(Long userId, String username,
			String password, String newPassword)
					throws LocalAuthOperationException;
}

</code></pre> 
<h3><a id="emspemsp22LocalAuthServiceImpl_187"></a>  2.2接口LocalAuthServiceImpl的代码及讲解</h3> 
<pre><code>package com.imooc.o2o.service.impl;

import java.util.Date;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import com.imooc.o2o.dao.LocalAuthDao;
import com.imooc.o2o.dto.LocalAuthExecution;
import com.imooc.o2o.entity.LocalAuth;
import com.imooc.o2o.enums.LocalAuthStateEnum;
import com.imooc.o2o.exceptions.LocalAuthOperationException;
import com.imooc.o2o.service.LocalAuthService;
import com.imooc.o2o.util.MD5;

@Service
public class LocalAuthServiceImpl implements LocalAuthService {
	@Autowired
	private LocalAuthDao localAuthDao;

	@Override
	public LocalAuth getLocalAuthByUserNameAndPwd(String userName,
			String password) {
		return localAuthDao.queryLocalByUserNameAndPwd(userName, MD5.getMd5(password));
	}

	@Override
	public LocalAuth getLocalAuthByUserId(long userId) {
		return localAuthDao.queryLocalByUserId(userId);
	}
	@Override
	@Transactional
	public LocalAuthExecution bindLocalAuth(LocalAuth localAuth)
			throws LocalAuthOperationException {
		//空值判断，传入的localAuth账号密码，用户信息特别是userid不能为空，否则直接返回错误
		if (localAuth == null || localAuth.getPassword() == null
				|| localAuth.getUsername() == null
				|| localAuth.getPersonInfo() == null
				||localAuth.getPersonInfo().getUserId()==null) {
			return new LocalAuthExecution(LocalAuthStateEnum.NULL_AUTH_INFO);
		}
		//查询此用户是否已绑定过平台账号
		LocalAuth tempAuth = localAuthDao.queryLocalByUserId(localAuth
				.getPersonInfo().getUserId());
		if (tempAuth != null) {
			//如果绑定过则直接退出，以保证平台账号的唯一性
			return new LocalAuthExecution(LocalAuthStateEnum.ONLY_ONE_ACCOUNT);
		}
		try {
			//如果之前没有绑定过平台账号，则创建一个平台账号与该用户绑定
			localAuth.setCreateTime(new Date());
			localAuth.setLastEditTime(new Date());
			//对密码进行md5加密
			localAuth.setPassword(MD5.getMd5(localAuth.getPassword()));
			int effectedNum = localAuthDao.insertLocalAuth(localAuth);
			//判断创建是否成功
			if (effectedNum &lt;= 0) {
				throw new LocalAuthOperationException("帐号绑定失败");
			} else {
				return new LocalAuthExecution(LocalAuthStateEnum.SUCCESS,
						localAuth);
			}
		} catch (Exception e) {
			throw new LocalAuthOperationException("insertLocalAuth error: "
					+ e.getMessage());
		}
	}

	@Override
	@Transactional
	public LocalAuthExecution modifyLocalAuth(Long userId, String userName,
			String password, String newPassword)throws LocalAuthOperationException {
		//非空判断，判断传入的用户id，账号，新旧密码是否为空，新旧密码是否相同
		//若不满足条件则返回错误信息
		if (userId != null &amp;&amp; userName != null &amp;&amp; password != null
				&amp;&amp; newPassword != null &amp;&amp; !password.equals(newPassword)) {
			try {
				//更新密码，并对新密码进行md5加密
				int effectedNum = localAuthDao.updateLocalAuth(userId,
						userName, MD5.getMd5(password),
						MD5.getMd5(newPassword), new Date());
				//判断更新是否成功
				if (effectedNum &lt;= 0) {
					throw new LocalAuthOperationException("更新密码失败");
				}
				return new LocalAuthExecution(LocalAuthStateEnum.SUCCESS);
			} catch (Exception e) {
				throw new LocalAuthOperationException("更新密码失败:" + e.toString());
			}
		} else {
			return new LocalAuthExecution(LocalAuthStateEnum.NULL_AUTH_INFO);
		}
	}

}
</code></pre> 
<h3><a id="23MD5_287"></a>2.3MD5的加密</h3> 
<p>    由于不能直接把密码暴露在数据库中和查询出来，所以要进行MD5的加密，使数据更加规范安全</p> 
<pre><code>package com.imooc.o2o.util;

import java.security.MessageDigest;

public class MD5 {
   /**
* 对传入的string进行MD5加密
* @param s
* @return
*/
public static final String getMd5(String s){
	//16进制数组
	char hexDigits[] = {
	    '5', '0', '5', '6', '2', '9', '6', '2', '5', 'q',
	'b', 'l', 'e', 's', 's', 'y'
	};
	try{
		char str[];
		//将传入的字符串转换成byte数组
		byte strTemp[] = s.getBytes();
		//获取md5加密对象
		MessageDigest mdTemp = MessageDigest.getInstance("MD5");
		//传入需要加密的目标数组
	    mdTemp.update(strTemp);
	    //获取加密后的数组
	    byte md[] = mdTemp.digest();
	    int j = md.length;
	    str = new char[j * 2];
	    int k = 0;
	    //将数组做位移
	    for (int i = 0; i &lt; j; i++){
	        byte byte0 = md[i];
	        str[k++] = hexDigits[byte0 &gt;&gt;&gt; 4 &amp; 0xf];
	        str[k++] = hexDigits[byte0 &amp; 0xf];
	    }
	    	//转换成string并返回
	    return new String(str);
      }catch(Exception e){
         return null;
      }
	}
	
	public static void main(String[] args) {
		System.out.println(MD5.getMd5("admin"));
			}

}

</code></pre> 
<h2><a id="controller_341"></a>三、添加平台账号controller层的开发</h2> 
<h3><a id="emspemsp31LocalAuthController_342"></a>  3.1LocalAuthController的代码及讲解</h3> 
<pre><code>package com.imooc.o2o.web.local;

import java.util.HashMap;
import java.util.Map;

import javax.servlet.http.HttpServletRequest;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.ResponseBody;

import com.imooc.o2o.dto.LocalAuthExecution;
import com.imooc.o2o.entity.LocalAuth;
import com.imooc.o2o.entity.PersonInfo;
import com.imooc.o2o.enums.LocalAuthStateEnum;
import com.imooc.o2o.service.LocalAuthService;
import com.imooc.o2o.util.CodeUtil;
import com.imooc.o2o.util.HttpServletRequestUtil;

@Controller
@RequestMapping(value="local",method={RequestMethod.GET,RequestMethod.POST})
public class LocalAuthController {
	@Autowired
	private LocalAuthService localAuthService;
	/**
	 * 将用户信息与平台账号绑定
	 * @param request
	 * @return
	 */
	@RequestMapping(value="/bindlocalauth",method=RequestMethod.POST)
	@ResponseBody
	private Map&lt;String,Object&gt; bindLocalAuth(HttpServletRequest request){
		Map&lt;String,Object&gt; modelMap=new HashMap&lt;String,Object&gt;();
		//验证码校验
		if(!CodeUtil.checkVerifyCode(request)){
			modelMap.put("success", false);
			modelMap.put("errmsg", "输入了错误的验证码");
			return modelMap;
		}
		//获取输入的账号
		String userName=HttpServletRequestUtil.getString(request, "userName");
		//获取输入的密码
		String password=HttpServletRequestUtil.getString(request, "password");
		//从session中获取当前用户信息，用户一旦通过微信登录之后，便能获取到用户的信息
		PersonInfo user=(PersonInfo)request.getSession().getAttribute("user");
		//非空判断，要求账号密码以及当前的用户session非空
		if (userName!=null&amp;&amp;password!=null&amp;&amp;user!=null&amp;&amp;user.getUserId()!=null){
			//创建LocalAuth对象并赋值
			LocalAuth localAuth=new LocalAuth();
			localAuth.setUsername(userName);
			localAuth.setPassword(password);
			localAuth.setPersonInfo(user);
			//绑定账号
			LocalAuthExecution le=localAuthService.bindLocalAuth(localAuth);
			if(le.getState()==LocalAuthStateEnum.SUCCESS.getState()){
				modelMap.put("success", true);
				
			}else{
				modelMap.put("success", false);
				modelMap.put("errmsg", le.getStateInfo());
			}
			
		}else{
			modelMap.put("success", false);
			modelMap.put("errmsg", "用户名和密码都不能为空");
		}
		return modelMap;
	}
	/**
	 * 修改密码
	 * @param request
	 * @return
	 */
	@RequestMapping(value="/changelocalpwd",method=RequestMethod.POST)
	@ResponseBody
	private Map&lt;String,Object&gt; changeLocalPwd(HttpServletRequest request){
		Map&lt;String,Object&gt; modelMap=new HashMap&lt;String,Object&gt;();
		//验证码校验
		if(!CodeUtil.checkVerifyCode(request)){
			modelMap.put("success", false);
			modelMap.put("errmsg", "输入了错误的验证码");
			return modelMap;
		}
		//获取账号
		String userName=HttpServletRequestUtil.getString(request, "userName");
		//获取密码
		String password=HttpServletRequestUtil.getString(request, "password");
		//获取新密码
		String newPassword=HttpServletRequestUtil.getString(request, "newPassword");
		//从session中获取当前用户信息，用户一旦通过微信登录之后，便能获取到用户的信息
		PersonInfo user=(PersonInfo)request.getSession().getAttribute("user");
		//非空判断，要求账号新旧密码以及当前的用户session非空，且新旧密码不相同
		if(userName!=null&amp;&amp;password!=null&amp;&amp;newPassword!=null&amp;&amp;user!=null&amp;&amp;user.getUserId()!=null
				&amp;&amp;!password.equals(newPassword)){
			try {
				//查看原先账号，看看与输入的账号是否一致，不一致则认为是非法操作
				LocalAuth localAuth=localAuthService.getLocalAuthByUserId(user.getUserId());
				if(localAuth==null||!localAuth.getUsername().equals(userName)){
					//不一致则直接退出
					modelMap.put("success", false);
					modelMap.put("errmsg", "输入的账号非本次登录的账号");
					return modelMap;
				}
				//修改平台账号的用户密码
				LocalAuthExecution le=localAuthService.modifyLocalAuth(user.getUserId(), 
						userName, password, newPassword);
				if(le.getState()==LocalAuthStateEnum.SUCCESS.getState()){
					modelMap.put("success", true);
					
				}else{
					modelMap.put("success", false);
					modelMap.put("errmsg", le.getStateInfo());
				}
			} catch (Exception e) {
				modelMap.put("success", false);
				modelMap.put("errmsg", e.toString());
				return modelMap;
			}
			
		}else{
			modelMap.put("success", false);
			modelMap.put("errmsg", "请输入密码");
		}
		return modelMap;
	}
	
	@RequestMapping(value="/logincheck",method=RequestMethod.POST)
	@ResponseBody
	private Map&lt;String,Object&gt; logincheck(HttpServletRequest request){
		Map&lt;String,Object&gt; modelMap=new HashMap&lt;String,Object&gt;();
		//获取是否需要进行验证码校验的标识符
		boolean needVerify=HttpServletRequestUtil.getBoolean(request, "needVerify");
		if(needVerify&amp;&amp;!CodeUtil.checkVerifyCode(request)){
			modelMap.put("success", false);
			modelMap.put("errmsg", "输入了错误的验证码");
			return modelMap;
		}
		//获取输入的账号
		String userName=HttpServletRequestUtil.getString(request, "userName");
		//获取输入的密码
		String password=HttpServletRequestUtil.getString(request, "password");
		//非空校验
		if(userName!=null &amp;&amp;password!=null){
			//传入账号和密码去获取平台账号信息
			LocalAuth localAuth=localAuthService.getLocalAuthByUserNameAndPwd(userName, password);
			if(localAuth!=null){
				//若能取到账号信息则登录成功
				modelMap.put("success", true);
				//同时在session里设置用户信息
				request.getSession().setAttribute("user", localAuth.getPersonInfo());
			}else{
				modelMap.put("success", false);
				modelMap.put("errmsg", "用户名或密码错误");
			}
		}else{
			modelMap.put("success", false);
			modelMap.put("errmsg", "用户名和密码均不能为空");
		}
		return modelMap;
	}
	/**
	 * 当用户点击登出按钮时注销session
	 * @param request
	 * @return
	 */
	@RequestMapping(value="logout",method=RequestMethod.POST)
	@ResponseBody
	private Map&lt;String,Object&gt; logout(HttpServletRequest request){
		Map&lt;String,Object&gt; modelMap=new HashMap&lt;String,Object&gt;();
		//将用户session置为空
		request.getSession().setAttribute("user", null);
		modelMap.put("success", true);
		return modelMap;
	}
}

</code></pre> 
<h2><a id="_525"></a>四、添加平台账号前端的实现</h2> 
<h3><a id="41_526"></a>4.1绑定微信页面</h3> 
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
&lt;title&gt;登录&lt;/title&gt;
&lt;meta name="viewport" content="initial-scale=1, maximum-scale=1"&gt;
&lt;link rel="shortcut icon" href="/favicon.ico"&gt;
&lt;meta name="apple-mobile-web-app-capable" content="yes"&gt;
&lt;meta name="apple-mobile-web-app-status-bar-style" content="black"&gt;
&lt;link rel="stylesheet"
	href="//g.alicdn.com/msui/sm/0.6.2/css/sm.min.css"&gt;
&lt;link rel="stylesheet"
	href="//g.alicdn.com/msui/sm/0.6.2/css/sm-extend.min.css"&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;header class="bar bar-nav"&gt;
		&lt;h1 class="title"&gt;绑定微信&lt;/h1&gt;
	&lt;/header&gt;
	&lt;div class="content"&gt;
		&lt;div class="list-block"&gt;
			&lt;ul&gt;
				&lt;li&gt;
					&lt;div class="item-content"&gt;
						&lt;div class="item-media"&gt;
							&lt;i class="icon icon-form-name"&gt;&lt;/i&gt;
						&lt;/div&gt;
						&lt;div class="item-inner"&gt;
							&lt;div class="item-input"&gt;
								&lt;input type="text" id="username" placeholder="用户名"&gt;
							&lt;/div&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/li&gt;
				&lt;li&gt;
					&lt;div class="item-content"&gt;
						&lt;div class="item-media"&gt;
							&lt;i class="icon icon-form-email"&gt;&lt;/i&gt;
						&lt;/div&gt;
						&lt;div class="item-inner"&gt;
							&lt;div class="item-input"&gt;
								&lt;input type="password" id="psw" placeholder="密码"&gt;
							&lt;/div&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/li&gt;
				&lt;li id="verifyPart"&gt;
					&lt;div class="item-content"&gt;
						&lt;div class="item-media"&gt;
							&lt;i class="icon icon-form-email"&gt;&lt;/i&gt;
						&lt;/div&gt;
						&lt;div class="item-inner"&gt;
							&lt;label for="j_captcha" class="item-title label"&gt;验证码&lt;/label&gt; &lt;input
								id="j_captcha" name="j_captcha" type="text"
								class="form-control in" placeholder="验证码" /&gt;
							&lt;div class="item-input"&gt;
								&lt;img id="captcha_img" alt="点击更换" title="点击更换"
									"changeVerifyCode(this)" src="../Kaptcha" /&gt;
							&lt;/div&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
		&lt;/div&gt;
		&lt;div class="content-block"&gt;
			&lt;div class="row"&gt;
				&lt;div class="col-50"&gt;
					&lt;a href="#" "javascript :history.back(-1);"
						class="button button-big button-fill button-danger"&gt;返回&lt;/a&gt;
				&lt;/div&gt;
				&lt;div class="col-50"&gt;
					&lt;a href="#" class="button button-big button-fill" id="submit"&gt;提交&lt;/a&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;

	&lt;script type='text/javascript'
		src='//g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'&gt;&lt;/script&gt;
	&lt;script type='text/javascript'
		src='//g.alicdn.com/msui/sm/0.6.2/js/sm.min.js' charset='utf-8'&gt;&lt;/script&gt;
	&lt;script type='text/javascript'
		src='//g.alicdn.com/msui/sm/0.6.2/js/sm-extend.min.js' charset='utf-8'&gt;&lt;/script&gt;
	&lt;script type='text/javascript'
		src='../resources/js/common/common.js' charset='utf-8'&gt;&lt;/script&gt;
	&lt;script type='text/javascript'
		src='../resources/js/local/accountbind.js' charset='utf-8'&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;

</code></pre> 
<p>js代码</p> 
<pre><code>$(function() {
	//绑定账号的controller URL
	var bindUrl = '/o2o/local/bindlocalauth';
	//从地址栏的URL里获取usertype
	//usertype=1则为前端展示系统，其余为店家管理系统
	var  usertype=getQueryString('usertype');
	$('#submit').click(function() {
		//获取输入的账号
		var userName = $('#username').val();
		//获取输入的密码
		var password = $('#psw').val();
		//获取输入的验证码
		var verifyCodeActual = $('#j_captcha').val();
		var needVerify = false;
		if (!verifyCodeActual) {
			$.toast('请输入验证码！');
			return;
		}
		//访问后台绑定账号
		$.ajax({
			url : bindUrl,
			async : false,
			cache : false,
			type : "post",
			dataType : 'json',
			data : {
				userName : userName,
				password : password,
				verifyCodeActual : verifyCodeActual
			},
			success : function(data) {
				if (data.success) {
					$.toast('绑定成功！');
					if(usertype==1){
						//若用户在前端展示系统页面则自动退回到前端展示系统首页
						window.location.href='/o2o/frontend/index';
					}else{
						//若用户在店家管理系统页面则自动退回到店家管理系统首页
						window.location.href='/o2o/shopadmin/shoplist';
					}
				} else {
				  $.toast('绑定失败！');
				  $('#captcha_img').click();
				}
			}
		});
	});
});
</code></pre> 
<h3><a id="42_673"></a>4.2修改密码页面</h3> 
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
&lt;title&gt;修改密码&lt;/title&gt;
&lt;meta name="viewport" content="initial-scale=1, maximum-scale=1"&gt;
&lt;link rel="shortcut icon" href="/favicon.ico"&gt;
&lt;meta name="apple-mobile-web-app-capable" content="yes"&gt;
&lt;meta name="apple-mobile-web-app-status-bar-style" content="black"&gt;
&lt;link rel="stylesheet"
	href="//g.alicdn.com/msui/sm/0.6.2/css/sm.min.css"&gt;
&lt;link rel="stylesheet"
	href="//g.alicdn.com/msui/sm/0.6.2/css/sm-extend.min.css"&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;header class="bar bar-nav"&gt;
		&lt;h1 class="title"&gt;修改密码&lt;/h1&gt;
	&lt;/header&gt;
	&lt;div class="content"&gt;
		&lt;div class="list-block"&gt;
			&lt;ul&gt;
				&lt;li&gt;
					&lt;div class="item-content"&gt;
						&lt;div class="item-media"&gt;
							&lt;i class="icon icon-form-name"&gt;&lt;/i&gt;
						&lt;/div&gt;
						&lt;div class="item-inner"&gt;
							&lt;div class="item-input"&gt;
								&lt;input type="text" placeholder="用户名" id="userName"&gt;
							&lt;/div&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/li&gt;
				&lt;li&gt;
					&lt;div class="item-content"&gt;
						&lt;div class="item-media"&gt;
							&lt;i class="icon icon-form-email"&gt;&lt;/i&gt;
						&lt;/div&gt;
						&lt;div class="item-inner"&gt;
							&lt;div class="item-input"&gt;
								&lt;input type="password" placeholder="原密码" id="password"&gt;
							&lt;/div&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/li&gt;
				&lt;li&gt;
					&lt;div class="item-content"&gt;
						&lt;div class="item-media"&gt;
							&lt;i class="icon icon-form-email"&gt;&lt;/i&gt;
						&lt;/div&gt;
						&lt;div class="item-inner"&gt;
							&lt;div class="item-input"&gt;
								&lt;input type="password" placeholder="新密码" id="newPassword"&gt;
							&lt;/div&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/li&gt;
				&lt;li&gt;
					&lt;div class="item-content"&gt;
						&lt;div class="item-media"&gt;
							&lt;i class="icon icon-form-email"&gt;&lt;/i&gt;
						&lt;/div&gt;
						&lt;div class="item-inner"&gt;
							&lt;div class="item-input"&gt;
								&lt;input type="password" placeholder="确认密码" id="confirmPassword"&gt;
							&lt;/div&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/li&gt;
				&lt;li&gt;
					&lt;div class="item-content"&gt;
						&lt;div class="item-media"&gt;
							&lt;i class="icon icon-form-email"&gt;&lt;/i&gt;
						&lt;/div&gt;
						&lt;div class="item-inner"&gt;
							&lt;label for="j_captcha" class="item-title label"&gt;验证码&lt;/label&gt; &lt;input
								id="j_captcha" name="j_captcha" type="text"
								class="form-control in" placeholder="验证码" /&gt;
							&lt;div class="item-input"&gt;
								&lt;img id="captcha_img" alt="点击更换" title="点击更换"
									"changeVerifyCode(this)" src="../Kaptcha" /&gt;
							&lt;/div&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/li&gt;

			&lt;/ul&gt;
		&lt;/div&gt;
		&lt;div class="content-block"&gt;
			&lt;div class="row"&gt;
				&lt;div class="col-50"&gt;
					&lt;a href="#" class="button button-big button-fill button-danger"
						id="back"&gt;返回登录&lt;/a&gt;
				&lt;/div&gt;
				&lt;div class="col-50"&gt;
					&lt;a href="#" class="button button-big button-fill" id="submit"&gt;提交&lt;/a&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;



	&lt;script type='text/javascript'
		src='//g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'&gt;&lt;/script&gt;
	&lt;script type='text/javascript'
		src='//g.alicdn.com/msui/sm/0.6.2/js/sm.min.js' charset='utf-8'&gt;&lt;/script&gt;
	&lt;script type='text/javascript'
		src='//g.alicdn.com/msui/sm/0.6.2/js/sm-extend.min.js' charset='utf-8'&gt;&lt;/script&gt;
	&lt;script type='text/javascript' src='../resources/js/common/common.js'
		charset='utf-8'&gt;&lt;/script&gt;
	&lt;script type='text/javascript' src='../resources/js/local/changepsw.js'
		charset='utf-8'&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;

</code></pre> 
<p>js代码</p> 
<pre><code>$(function() {
	//修改平台密码的controller  URL
	var url = '/o2o/local/changelocalpwd';
	//从地址栏的URL里获取usertype
	//usertype=1则为前端展示系统，其余为店家管理系统
	var  usertype=getQueryString('usertype');
	$('#submit').click(function() {
		//获取账号
		var userName = $('#userName').val();
		//获取原密码
		var password = $('#password').val();
		//获取新密码
		var newPassword = $('#newPassword').val();
		var confirmPassword=$('#confirmPassword').val();
		if(newPassword!=confirmPassword){
			$.toast('两次输入的新密码不一致');
			return;
		}
		//添加表单数据
		var formData = new FormData();
		formData.append('userName', userName);
		formData.append('password', password);
		formData.append('newPassword', newPassword);
		//获取验证码
		var verifyCodeActual = $('#j_captcha').val();
		if (!verifyCodeActual) {
			$.toast('请输入验证码！');
			return;
		}
		formData.append("verifyCodeActual", verifyCodeActual);
		//将参数post到后台去修改密码
		$.ajax({
			url : url,
			type : 'POST',
			data : formData,
			contentType : false,
			processData : false,
			cache : false,
			success : function(data) {
				if (data.success) {
					$.toast('绑定成功！');
					if(usertype==1){
						//若用户在前端展示系统页面则自动退回到前端展示系统首页
						window.location.href='/o2o/frontend/index';
					}else{
						//若用户在店家管理系统页面则自动退回到店家管理系统首页
						window.location.href='/o2o/shopadmin/shoplist';
					}
				} else {
					$.toast('提交失败！'+data.errMsg);
					$('#captcha_img').click();
				}
			}
		});
	});

	$('#back').click(function() {
		window.location.href = '/o2o/shopadmin/shoplist';
	});
});

</code></pre> 
<h3><a id="43_859"></a>4.3登录页面</h3> 
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset="utf-8"&gt;
&lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
&lt;title&gt;登录&lt;/title&gt;
&lt;meta name="viewport" content="initial-scale=1, maximum-scale=1"&gt;
&lt;link rel="shortcut icon" href="/favicon.ico"&gt;
&lt;meta name="apple-mobile-web-app-capable" content="yes"&gt;
&lt;meta name="apple-mobile-web-app-status-bar-style" content="black"&gt;
&lt;link rel="stylesheet"
	href="//g.alicdn.com/msui/sm/0.6.2/css/sm.min.css"&gt;
&lt;link rel="stylesheet"
	href="//g.alicdn.com/msui/sm/0.6.2/css/sm-extend.min.css"&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;header class="bar bar-nav"&gt;
		&lt;h1 class="title"&gt;登录&lt;/h1&gt;
	&lt;/header&gt;
	&lt;div class="content"&gt;
		&lt;div class="list-block"&gt;
			&lt;ul&gt;
				&lt;li&gt;
					&lt;div class="item-content"&gt;
						&lt;div class="item-media"&gt;
							&lt;i class="icon icon-form-name"&gt;&lt;/i&gt;
						&lt;/div&gt;
						&lt;div class="item-inner"&gt;
							&lt;div class="item-input"&gt;
								&lt;input type="text" id="username" placeholder="用户名"&gt;
							&lt;/div&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/li&gt;
				&lt;li&gt;
					&lt;div class="item-content"&gt;
						&lt;div class="item-media"&gt;
							&lt;i class="icon icon-form-email"&gt;&lt;/i&gt;
						&lt;/div&gt;
						&lt;div class="item-inner"&gt;
							&lt;div class="item-input"&gt;
								&lt;input type="password" id="psw" placeholder="密码"&gt;
							&lt;/div&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/li&gt;
				&lt;li id="verifyPart" hidden="true"&gt;
					&lt;div class="item-content"&gt;
						&lt;div class="item-media"&gt;
							&lt;i class="icon icon-form-email"&gt;&lt;/i&gt;
						&lt;/div&gt;
						&lt;div class="item-inner"&gt;
							&lt;label for="j_captcha" class="item-title label"&gt;验证码&lt;/label&gt; &lt;input
								id="j_captcha" name="j_captcha" type="text"
								class="form-control in" placeholder="验证码" /&gt;
							&lt;div class="item-input"&gt;
								&lt;img id="captcha_img" alt="点击更换" title="点击更换"
									"changeVerifyCode(this)" src="../Kaptcha" /&gt;
							&lt;/div&gt;
						&lt;/div&gt;
					&lt;/div&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
		&lt;/div&gt;
		&lt;div class="content-block"&gt;
			&lt;div class="row"&gt;
				&lt;div class="col-100"&gt;
					&lt;a href="#" class="button button-big button-fill" id="submit"&gt;登录&lt;/a&gt;
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;

	&lt;script type='text/javascript'
		src='//g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'&gt;&lt;/script&gt;
	&lt;script type='text/javascript'
		src='//g.alicdn.com/msui/sm/0.6.2/js/sm.min.js' charset='utf-8'&gt;&lt;/script&gt;
	&lt;script type='text/javascript'
		src='//g.alicdn.com/msui/sm/0.6.2/js/sm-extend.min.js' charset='utf-8'&gt;&lt;/script&gt;
	&lt;script type='text/javascript'
		src='../resources/js/common/common.js' charset='utf-8'&gt;&lt;/script&gt;
	&lt;script type='text/javascript'
		src='../resources/js/local/login.js' charset='utf-8'&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;

</code></pre> 
<p>js代码</p> 
<pre><code>$(function() {
	//登录验证的controller URL
	var loginUrl='/o2o/local/logincheck';
	//从地址栏的URL里获取usertype
	//usertype=1则为customer其余为shopowner
	var usertype=getQueryString('usertype');
	//登录次数，累计登录三次失败之后，自动弹出验证码要求输入
	var loginCount=0;
	$('#submit').click(function(){
		//获取输入的账号
		var userName = $('#username').val();
		//获取输入的密码
		var password = $('#psw').val();
		//获取输入的验证码
		var verifyCodeActual = $('#j_captcha').val();
		//是否需要验证码验证，默认为false既不需要
		var needVerify = false;
		if(loginCount&gt;=3){
			if (!verifyCodeActual) {
				$.toast('请输入验证码！');
				return;
			}else{
				needVerify=true;
			}
		}
		//访问后台绑定账号
		$.ajax({
			url : loginUrl,
			async : false,
			cache : false,
			type : "post",
			dataType : 'json',
			data : {
				userName : userName,
				password : password,
				verifyCodeActual : verifyCodeActual,
				//是否需要做验证码校验
				needVerify:needVerify
			},
			success:function(data){
				if(data.success){
					$.toast("登录成功！");
					if(usertype==1){
						window.location.href='/o2o/frontend/index';
					}else{
						window.location.href='/o2o/shopadmin/shoplist';
					}
				}else{
					$.toast('登录失败！'+data.errMsg);
					loginCount++;
					if(loginCount&gt;=3){
						//登录失败三次，需要做验证码校验
						$('#verifyPart').show();
					}
				}
			}
		});
		
	});
});
</code></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/d7edbf724d3e21c8a46eb946a6301b7a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">apk反编译</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/8b4d6deead1890571b2d28644764451b/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">一个LSTM层中隐向量的个数怎么理解</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>