<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>NeRF神经辐射场学习笔记（六）— NeRF&#43;&#43;论文要点解读 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="NeRF神经辐射场学习笔记（六）— NeRF&#43;&#43;论文要点解读" />
<meta property="og:description" content="NeRF神经辐射场学习笔记（六）— NeRF&#43;&#43;论文要点解读 声明论文概述几何-辐射模糊性（shape-radiance ambiguity）反球面参数化（inverted sphere parameterization）参考文献和资料 声明 本人书写本系列博客目的是为了记录我学习三维重建领域相关知识的过程和心得，不涉及任何商业意图，欢迎互相交流，批评指正。
论文概述 NeRF&#43;&#43;属于是对NeRF的更深理解和延伸，该文章首先讨论了几何-辐射模糊性（shape-radiance ambiguity）这一现象，并且分析了NeRF对于避免该现象的成功之处；接下来，NeRF&#43;&#43;提出了一种参数化方法——反球面参数化（inverted sphere parameterization）来应对360度大规模无界3D场景的渲染，并取得了良好的效果。
几何-辐射模糊性（shape-radiance ambiguity） 几何-辐射模糊性（shape-radiance ambiguity）指的是一种现象：即在缺少正则化处理的情况下，本应该出现结果退化（degenerate solution，不同的shape在训练时都可以得到良好的表现，但是在测试时效果会明显退化）的情况。但是NeRF却避免了这种情况的发生，所以文章分析了NeRF在处理几何-辐射模糊性的成功之处。
首先，文章进行了一种符合输入图像的有效NeRF重建，将NeRF的不透明度场（opacity field）固定在单位球面上为1，在其他地方为0。然后，对于每个训练图像中的每个像素，我们将穿过该像素的光线与球面相交，并定义交点处（以及沿光线方向）的辐射度值为该像素的颜色。而下图则很好地展示了这种模糊现象（左边两图是训练数据的结果，右边两图是预测数据的结果）：
NeRF对这种现象的成功避免，文章给出了解释：NeRF特殊的MLP网络结构不对称地处理着位置信息 x \pmb{x} xx和方向信息 d \pmb{d} dd， d \pmb{d} dd被注入到靠近MLP末端的网络中，这意味着在渲染场景时涉及的MLP参数和非线性激活更少。并且相比于 x \pmb{x} xx的位置编码， d \pmb{d} dd的傅里叶特征（位置编码函数中的L）仅由较低频分量组成，即对于一个固定的 x \pmb{x} xx,辐射度 c ( x , d ) \pmb{c}(\pmb{x}, \pmb{d}) cc(xx,dd)对 d \pmb{d} dd有有限的表示性。
反球面参数化（inverted sphere parameterization） 文章针对360度的无界场景的渲染情况给出了一种反球面参数化的解决方法，即把场景空间划分为两部分——一个内部单位球体（an inner unit sphere）和一个外部反向球体（an outer volume represented by an inverted sphere covering the complement of the inner volume），其中内球体包含前景（foreground）和所有摄像机，外球体包含场景内的其余部分。这两部分是用不同的NeRF独立建模的，内球体的NeRF与传统的NeRF一致，对于外球体的NeRF，我们应用了反球面参数化的解决方法。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/3b29304ddb77e4078a231dfcf7e63720/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-08-16T14:46:13+08:00" />
<meta property="article:modified_time" content="2022-08-16T14:46:13+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">NeRF神经辐射场学习笔记（六）— NeRF&#43;&#43;论文要点解读</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>NeRF神经辐射场学习笔记（六）— NeRF++论文要点解读</h4> 
 <ul><li><a href="#_1" rel="nofollow">声明</a></li><li><a href="#_3" rel="nofollow">论文概述</a></li><li><a href="#shaperadiance_ambiguity_6" rel="nofollow">几何-辐射模糊性（shape-radiance ambiguity）</a></li><li><a href="#inverted_sphere_parameterization_13" rel="nofollow">反球面参数化（inverted sphere parameterization）</a></li><li><a href="#_21" rel="nofollow">参考文献和资料</a></li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>声明</h2> 
<p>本人书写本系列博客目的是为了记录我学习三维重建领域相关知识的过程和心得，不涉及任何商业意图，欢迎互相交流，批评指正。</p> 
<h2><a id="_3"></a>论文概述</h2> 
<p>NeRF++属于是对NeRF的更深理解和延伸，该文章首先讨论了几何-辐射模糊性（shape-radiance ambiguity）这一现象，并且分析了NeRF对于避免该现象的成功之处；接下来，NeRF++提出了一种参数化方法——反球面参数化（inverted sphere parameterization）来应对360度大规模无界3D场景的渲染，并取得了良好的效果。</p> 
<h2><a id="shaperadiance_ambiguity_6"></a>几何-辐射模糊性（shape-radiance ambiguity）</h2> 
<p>几何-辐射模糊性（shape-radiance ambiguity）指的是一种现象：即在缺少正则化处理的情况下，本应该出现结果退化（degenerate solution，不同的shape在训练时都可以得到良好的表现，但是在测试时效果会明显退化）的情况。但是NeRF却避免了这种情况的发生，所以文章分析了NeRF在处理几何-辐射模糊性的成功之处。<br> 首先，文章进行了一种符合输入图像的有效NeRF重建，将NeRF的不透明度场（opacity field）固定在单位球面上为1，在其他地方为0。然后，对于每个训练图像中的每个像素，我们将穿过该像素的光线与球面相交，并定义交点处（以及沿光线方向）的辐射度值为该像素的颜色。而下图则很好地展示了这种模糊现象（左边两图是训练数据的结果，右边两图是预测数据的结果）：<br> <img src="https://images2.imgbox.com/cb/0d/GJhURbJx_o.png" alt="在这里插入图片描述"><br> NeRF对这种现象的成功避免，文章给出了解释：NeRF特殊的MLP网络结构不对称地处理着位置信息<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         x 
        
       
      
        \pmb{x} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">x</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">x</span></span></span></span></span></span>和方向信息<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         d 
        
       
      
        \pmb{d} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         d 
        
       
      
        \pmb{d} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span></span></span></span></span>被注入到靠近MLP末端的网络中，这意味着在渲染场景时涉及的MLP参数和非线性激活更少。并且相比于<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         x 
        
       
      
        \pmb{x} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">x</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">x</span></span></span></span></span></span>的位置编码，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         d 
        
       
      
        \pmb{d} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span></span></span></span></span>的傅里叶特征（位置编码函数中的L）仅由较低频分量组成，即对于一个固定的<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         x 
        
       
      
        \pmb{x} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">x</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">x</span></span></span></span></span></span>,辐射度<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         c 
        
       
         ( 
        
       
         x 
        
       
         , 
        
       
         d 
        
       
         ) 
        
       
      
        \pmb{c}(\pmb{x}, \pmb{d}) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">c</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">c</span></span><span class="mopen">(</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">x</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">x</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span><span class="mclose">)</span></span></span></span></span>对<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         d 
        
       
      
        \pmb{d} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span></span></span></span></span>有有限的表示性。<br> <img src="https://images2.imgbox.com/44/2d/L1SXAYXq_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="inverted_sphere_parameterization_13"></a>反球面参数化（inverted sphere parameterization）</h2> 
<p><img src="https://images2.imgbox.com/ff/f9/dkKALWaO_o.png" alt="在这里插入图片描述"><br> 文章针对360度的无界场景的渲染情况给出了一种反球面参数化的解决方法，即把场景空间划分为两部分——一个内部单位球体（an inner unit sphere）和一个外部反向球体（an outer volume represented by an inverted sphere covering the complement of the inner volume），其中内球体包含前景（foreground）和所有摄像机，外球体包含场景内的其余部分。这两部分是用不同的NeRF独立建模的，内球体的NeRF与传统的NeRF一致，对于外球体的NeRF，我们应用了反球面参数化的解决方法。<br> <img src="https://images2.imgbox.com/44/40/NgfBvvV7_o.png" alt="在这里插入图片描述"><br> 一个处在外球体的3D点<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ( 
        
       
         x 
        
       
         , 
        
       
         y 
        
       
         , 
        
       
         z 
        
       
         ) 
        
       
         , 
        
       
         r 
        
       
         = 
        
        
         
          
          
            x 
           
          
            2 
           
          
         
           + 
          
          
          
            y 
           
          
            2 
           
          
         
           + 
          
          
          
            z 
           
          
            2 
           
          
         
        
       
         &gt; 
        
       
         1 
        
       
      
        (x,y,z), r=\sqrt{x^2+y^2+z^2}&gt;1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="margin-right: 0.044em;">z</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1.24em; vertical-align: -0.2822em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.9578em;"><span class="svg-align" style="top: -3.2em;"><span class="pstrut" style="height: 3.2em;"></span><span class="mord" style="padding-left: 1em;"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7401em;"><span class="" style="top: -2.989em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7401em;"><span class="" style="top: -2.989em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.044em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7401em;"><span class="" style="top: -2.989em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span class="" style="top: -2.9178em;"><span class="pstrut" style="height: 3.2em;"></span><span class="hide-tail" style="min-width: 1.02em; height: 1.28em;"> 
           <svg width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"> 
            <path d="M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z"></path> 
           </svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.2822em;"><span class=""></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>可以参数化为一个四元参数（quadruple）——<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ( 
        
        
        
          x 
         
        
          ′ 
         
        
       
         , 
        
        
        
          y 
         
        
          ′ 
         
        
       
         , 
        
        
        
          z 
         
        
          ′ 
         
        
       
         , 
        
       
         1 
        
       
         / 
        
       
         r 
        
       
         ) 
        
       
         , 
        
        
        
          x 
         
         
         
           ′ 
          
         
           2 
          
         
        
       
         + 
        
        
        
          y 
         
         
         
           ′ 
          
         
           2 
          
         
        
       
         + 
        
        
        
          z 
         
         
         
           ′ 
          
         
           2 
          
         
        
       
         = 
        
       
         1 
        
       
      
        (x', y', z', 1/r), x'^2+y'^2+z'^2=1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.0641em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.044em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1.0085em; vertical-align: -0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.044em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>，其中<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ( 
        
        
        
          x 
         
        
          ′ 
         
        
       
         , 
        
        
        
          y 
         
        
          ′ 
         
        
       
         , 
        
        
        
          z 
         
        
          ′ 
         
        
       
         ) 
        
       
      
        (x', y', z') 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.0019em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.044em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>是与<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ( 
        
       
         x 
        
       
         , 
        
       
         y 
        
       
         , 
        
       
         z 
        
       
         ) 
        
       
      
        (x,y,z) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="margin-right: 0.044em;">z</span><span class="mclose">)</span></span></span></span></span>相同方向的单位向量，表示球面上的某一方向，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         0 
        
       
         &lt; 
        
       
         1 
        
       
         / 
        
       
         r 
        
       
         &lt; 
        
       
         1 
        
       
      
        0&lt;1/r&lt;1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6835em; vertical-align: -0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>是沿着这个方向的反向半径，指定外球体中的点<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         r 
        
       
         ⋅ 
        
       
         ( 
        
        
        
          x 
         
        
          ′ 
         
        
       
         , 
        
        
        
          y 
         
        
          ′ 
         
        
       
         , 
        
        
        
          z 
         
        
          ′ 
         
        
       
         ) 
        
       
      
        r·(x',y',z') 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.0019em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.044em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>。不同于欧式空间中物体与原点的距离是无限的，重新参数化的四元组中的所有数都是有界的，即<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          x 
         
        
          ′ 
         
        
       
         , 
        
        
        
          y 
         
        
          ′ 
         
        
       
         , 
        
        
        
          z 
         
        
          ′ 
         
        
       
         ∈ 
        
       
         [ 
        
       
         − 
        
       
         1 
        
       
         , 
        
       
         1 
        
       
         ] 
        
       
         , 
        
       
         1 
        
       
         / 
        
       
         r 
        
       
         ∈ 
        
       
         [ 
        
       
         0 
        
       
         , 
        
       
         1 
        
       
         ] 
        
       
      
        x',y',z'\in[-1,1],1/r\in[0,1] 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.9463em; vertical-align: -0.1944em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.044em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span>。这不仅提高了数值稳定性，而且体现了远距离场景分辨率较低的事实。故可以直接对这个4D有界体素（只有3个自由度）进行光线投射来渲染场景颜色。同时对于光线<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         r 
        
       
         = 
        
       
         o 
        
       
         + 
        
       
         t 
        
       
         d 
        
       
      
        \pmb{r}=\pmb{o}+t\pmb{d} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">o</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">o</span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal">t</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span></span></span></span></span>被球体分为了两种表示形式，内球体<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         t 
        
       
         ∈ 
        
       
         ( 
        
       
         0 
        
       
         , 
        
        
        
          t 
         
        
          ′ 
         
        
       
         ) 
        
       
      
        t\in(0,t') 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6542em; vertical-align: -0.0391em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1.0019em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>、外球体<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         t 
        
       
         ∈ 
        
       
         ( 
        
        
        
          t 
         
        
          ′ 
         
        
       
         , 
        
       
         ∞ 
        
       
         ) 
        
       
      
        t\in(t',\infty) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6542em; vertical-align: -0.0391em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1.0019em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">∞</span><span class="mclose">)</span></span></span></span></span>。接着重写颜色公式：<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"> 
      
       
        
        
          C 
         
        
          ( 
         
        
          r 
         
        
          ) 
         
        
          = 
         
         
          
           
            
             
              
               
               
                 ∫ 
                
                
                
                  t 
                 
                
                  = 
                 
                
                  0 
                 
                
                
                
                  t 
                 
                
                  ′ 
                 
                
               
              
                σ 
               
              
                ( 
               
              
                o 
               
              
                + 
               
              
                t 
               
              
                d 
               
              
                ) 
               
              
                ⋅ 
               
              
                c 
               
              
                ( 
               
              
                o 
               
              
                + 
               
              
                t 
               
              
                d 
               
              
                , 
               
              
                d 
               
              
                ) 
               
              
                ⋅ 
               
               
               
                 e 
                
                
                
                  − 
                 
                 
                 
                   ∫ 
                  
                  
                  
                    s 
                   
                  
                    = 
                   
                  
                    0 
                   
                  
                 
                   t 
                  
                 
                
                  σ 
                 
                
                  ( 
                 
                
                  o 
                 
                
                  + 
                 
                
                  s 
                 
                
                  d 
                 
                
                  ) 
                 
                
                  d 
                 
                
                  s 
                 
                
               
              
                d 
               
              
                t 
               
              
             
               ⏟ 
              
             
            
           
          
          
           
            
             
             
               ( 
              
             
               i 
              
             
               ) 
              
             
            
           
          
         
         
        
          + 
         
         
          
           
            
             
              
              
                e 
               
               
               
                 − 
                
                
                
                  ∫ 
                 
                 
                 
                   s 
                  
                 
                   = 
                  
                 
                   0 
                  
                 
                 
                 
                   t 
                  
                 
                   ′ 
                  
                 
                
               
                 σ 
                
               
                 ( 
                
               
                 o 
                
               
                 + 
                
               
                 s 
                
               
                 d 
                
               
                 ) 
                
               
                 d 
                
               
                 s 
                
               
              
             
               ⏟ 
              
             
            
           
          
          
           
            
             
             
               ( 
              
             
               i 
              
             
               i 
              
             
               ) 
              
             
            
           
          
         
        
          ⋅ 
         
         
          
           
            
             
              
               
               
                 ∫ 
                
                
                
                  t 
                 
                
                  = 
                 
                 
                 
                   t 
                  
                 
                   ′ 
                  
                 
                
               
                 ∞ 
                
               
              
                σ 
               
              
                ( 
               
              
                o 
               
              
                + 
               
              
                t 
               
              
                d 
               
              
                ) 
               
              
                ⋅ 
               
              
                c 
               
              
                ( 
               
              
                o 
               
              
                + 
               
              
                t 
               
              
                d 
               
              
                , 
               
              
                d 
               
              
                ) 
               
              
                ⋅ 
               
               
               
                 e 
                
                
                
                  − 
                 
                 
                 
                   ∫ 
                  
                  
                  
                    s 
                   
                  
                    = 
                   
                   
                   
                     t 
                    
                   
                     ′ 
                    
                   
                  
                 
                   t 
                  
                 
                
                  σ 
                 
                
                  ( 
                 
                
                  o 
                 
                
                  + 
                 
                
                  s 
                 
                
                  d 
                 
                
                  ) 
                 
                
                  d 
                 
                
                  s 
                 
                
               
              
                d 
               
              
                t 
               
              
             
               ⏟ 
              
             
            
           
          
          
           
            
             
             
               ( 
              
             
               i 
              
             
               i 
              
             
               i 
              
             
               ) 
              
             
            
           
          
         
        
       
         \pmb{C}(\pmb{r})=\begin{matrix} \underbrace{\int^{t'}_{t=0}\sigma(\pmb{o}+t\pmb{d})·\pmb{c}(\pmb{o}+t\pmb{d},\pmb{d})·e^{-\int^t_{s=0}\sigma(\pmb{o}+s\pmb{d})ds}dt} \\(i) \end{matrix}\\ +\begin{matrix} \underbrace{e^{-\int^{t'}_{s=0}\sigma(\pmb{o}+s\pmb{d})ds}} \\(ii) \end{matrix}·\begin{matrix} \underbrace{\int^{\infty}_{t=t'}\sigma(\pmb{o}+t\pmb{d})·\pmb{c}(\pmb{o}+t\pmb{d},\pmb{d})·e^{-\int^t_{s=t'}\sigma(\pmb{o}+s\pmb{d})ds}dt} \\(iii) \end{matrix} 
        
       
     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6833em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal" style="margin-right: 0.0715em;">C</span></span><span class="mopen">(</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span></span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 4.4523em; vertical-align: -1.9762em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.4762em;"><span class="" style="top: -4.4762em;"><span class="pstrut" style="height: 3.6924em;"></span><span class="mord"><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.6924em;"><span class="svg-align" style="top: -2.1324em;"><span class="pstrut" style="height: 3.6924em;"></span><span class="stretchy" style="height: 0.548em; min-width: 1.6em;"><span class="brace-left" style="height: 0.548em;"> 
                     <svg width="400em" height="0.548em" viewbox="0 0 400000 548" preserveaspectratio="xMinYMin slice"> 
                      <path d="M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z"></path> 
                     </svg></span><span class="brace-center" style="height: 0.548em;"> 
                     <svg width="400em" height="0.548em" viewbox="0 0 400000 548" preserveaspectratio="xMidYMin slice"> 
                      <path d="M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z"></path> 
                     </svg></span><span class="brace-right" style="height: 0.548em;"> 
                     <svg width="400em" height="0.548em" viewbox="0 0 400000 548" preserveaspectratio="xMaxYMin slice"> 
                      <path d="M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z"></path> 
                     </svg></span></span></span><span class="" style="top: -3.6924em;"><span class="pstrut" style="height: 3.6924em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol large-op" style="margin-right: 0.4445em; position: relative; top: -0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.6924em;"><span class="" style="top: -1.7881em; margin-left: -0.4445em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span class="" style="top: -3.8129em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8278em;"><span class="" style="top: -2.931em; margin-right: 0.0714em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.9119em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">σ</span><span class="mopen">(</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">o</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">o</span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mord mathnormal">t</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span><span class="mclose">)</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">c</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">c</span></span><span class="mopen">(</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">o</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">o</span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mord mathnormal">t</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span><span class="mclose">)</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 1.037em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mspace mtight" style="margin-right: 0.1952em;"></span><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="margin-right: 0.1945em; position: relative; top: -0.0006em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8915em;"><span class="" style="top: -2.1225em; margin-left: -0.1945em; margin-right: 0.0714em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span class="" style="top: -2.9521em; margin-right: 0.0714em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.3775em;"><span class=""></span></span></span></span></span></span><span class="mspace mtight" style="margin-right: 0.1952em;"></span><span class="mord mathnormal mtight" style="margin-right: 0.0359em;">σ</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span><span class="fix"></span></span></span></span><span class="mspace mtight" style="margin-right: 0.0717em;"></span><span class="mord mathnormal mtight">o</span></span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">s</span><span class="mord mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord mtight"><span class="mord mathnormal mtight">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace mtight" style="margin-right: 0.0717em;"></span><span class="mord mathnormal mtight">d</span></span><span class="mclose mtight">)</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">s</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.5599em;"><span class=""></span></span></span></span></span></span></span><span class="" style="top: -2.0762em;"><span class="pstrut" style="height: 3.6924em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.9762em;"><span class=""></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height: 4.1742em; vertical-align: -1.8371em;"></span><span class="mord">+</span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.7786em;"><span class="" style="top: -3.7786em;"><span class="pstrut" style="height: 3.2093em;"></span><span class="mord"><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.2093em;"><span class="svg-align" style="top: -2.5613em;"><span class="pstrut" style="height: 3.2093em;"></span><span class="stretchy" style="height: 0.548em; min-width: 1.6em;"><span class="brace-left" style="height: 0.548em;"> 
                     <svg width="400em" height="0.548em" viewbox="0 0 400000 548" preserveaspectratio="xMinYMin slice"> 
                      <path d="M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z"></path> 
                     </svg></span><span class="brace-center" style="height: 0.548em;"> 
                     <svg width="400em" height="0.548em" viewbox="0 0 400000 548" preserveaspectratio="xMidYMin slice"> 
                      <path d="M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z"></path> 
                     </svg></span><span class="brace-right" style="height: 0.548em;"> 
                     <svg width="400em" height="0.548em" viewbox="0 0 400000 548" preserveaspectratio="xMaxYMin slice"> 
                      <path d="M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z"></path> 
                     </svg></span></span></span><span class="" style="top: -3.2093em;"><span class="pstrut" style="height: 3.2093em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 1.2093em;"><span class="" style="top: -3.2093em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7963em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mspace mtight" style="margin-right: 0.1952em;"></span><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="margin-right: 0.1945em; position: relative; top: -0.0006em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.1375em;"><span class="" style="top: -2.3079em; margin-left: -0.1945em; margin-right: 0.0714em;"><span class="pstrut" style="height: 2.6854em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span class="" style="top: -3.1375em; margin-right: 0.0714em;"><span class="pstrut" style="height: 2.6854em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.9596em;"><span class="" style="top: -2.9596em; margin-right: 0.1em;"><span class="pstrut" style="height: 2.5556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.3775em;"><span class=""></span></span></span></span></span></span><span class="mspace mtight" style="margin-right: 0.1952em;"></span><span class="mord mathnormal mtight" style="margin-right: 0.0359em;">σ</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span><span class="fix"></span></span></span></span><span class="mspace mtight" style="margin-right: 0.0717em;"></span><span class="mord mathnormal mtight">o</span></span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">s</span><span class="mord mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord mtight"><span class="mord mathnormal mtight">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace mtight" style="margin-right: 0.0717em;"></span><span class="mord mathnormal mtight">d</span></span><span class="mclose mtight">)</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">s</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.648em;"><span class=""></span></span></span></span></span></span></span><span class="" style="top: -2.2906em;"><span class="pstrut" style="height: 3.2093em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">ii</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.2786em;"><span class=""></span></span></span></span></span></span></span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.3371em;"><span class="" style="top: -4.3371em;"><span class="pstrut" style="height: 3.4143em;"></span><span class="mord"><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.4143em;"><span class="svg-align" style="top: -1.8543em;"><span class="pstrut" style="height: 3.4143em;"></span><span class="stretchy" style="height: 0.548em; min-width: 1.6em;"><span class="brace-left" style="height: 0.548em;"> 
                     <svg width="400em" height="0.548em" viewbox="0 0 400000 548" preserveaspectratio="xMinYMin slice"> 
                      <path d="M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z"></path> 
                     </svg></span><span class="brace-center" style="height: 0.548em;"> 
                     <svg width="400em" height="0.548em" viewbox="0 0 400000 548" preserveaspectratio="xMidYMin slice"> 
                      <path d="M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z"></path> 
                     </svg></span><span class="brace-right" style="height: 0.548em;"> 
                     <svg width="400em" height="0.548em" viewbox="0 0 400000 548" preserveaspectratio="xMaxYMin slice"> 
                      <path d="M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z"></path> 
                     </svg></span></span></span><span class="" style="top: -3.4143em;"><span class="pstrut" style="height: 3.4143em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol large-op" style="margin-right: 0.4445em; position: relative; top: -0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.4143em;"><span class="" style="top: -1.7881em; margin-left: -0.4445em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mrel mtight">=</span><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.6828em;"><span class="" style="top: -2.786em; margin-right: 0.0714em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.8129em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">∞</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.9119em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">σ</span><span class="mopen">(</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">o</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">o</span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mord mathnormal">t</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span><span class="mclose">)</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">c</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">c</span></span><span class="mopen">(</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">o</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">o</span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mord mathnormal">t</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span><span class="mclose">)</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 1.037em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mspace mtight" style="margin-right: 0.1952em;"></span><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="margin-right: 0.1945em; position: relative; top: -0.0006em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8915em;"><span class="" style="top: -2.2293em; margin-left: -0.1945em; margin-right: 0.0714em;"><span class="pstrut" style="height: 2.6068em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mrel mtight">=</span><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8496em;"><span class="" style="top: -2.8496em; margin-right: 0.1em;"><span class="pstrut" style="height: 2.5556em;"></span><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span><span class="" style="top: -3.059em; margin-right: 0.0714em;"><span class="pstrut" style="height: 2.6068em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.3775em;"><span class=""></span></span></span></span></span></span><span class="mspace mtight" style="margin-right: 0.1952em;"></span><span class="mord mathnormal mtight" style="margin-right: 0.0359em;">σ</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span><span class="fix"></span></span></span></span><span class="mspace mtight" style="margin-right: 0.0717em;"></span><span class="mord mathnormal mtight">o</span></span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">s</span><span class="mord mtight"><span class="mord vbox mtight"><span class="thinbox mtight"><span class="rlap mtight"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord mtight"><span class="mord mathnormal mtight">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace mtight" style="margin-right: 0.0717em;"></span><span class="mord mathnormal mtight">d</span></span><span class="mclose mtight">)</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">s</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.5599em;"><span class=""></span></span></span></span></span></span></span><span class="" style="top: -1.9372em;"><span class="pstrut" style="height: 3.4143em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">iii</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.8371em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span>（i）项和（ii）项在欧式空间中计算——用符号<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          σ 
         
         
         
           i 
          
         
           n 
          
         
        
       
         ( 
        
       
         o 
        
       
         + 
        
       
         t 
        
       
         d 
        
       
         ) 
        
       
      
        \sigma_{in}(\pmb{o}+t\pmb{d}) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">o</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">o</span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">t</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span><span class="mclose">)</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          c 
         
         
         
           i 
          
         
           n 
          
         
        
       
         ( 
        
       
         o 
        
       
         + 
        
       
         t 
        
       
         d 
        
       
         , 
        
       
         d 
        
       
         ) 
        
       
      
        \pmb{c}_{in}(\pmb{o}+t\pmb{d},\pmb{d}) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">c</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3117em;"><span class="" style="top: -2.55em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">o</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">o</span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">t</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span><span class="mclose">)</span></span></span></span></span>，（iii）项用<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          1 
         
        
          r 
         
        
       
      
        \frac{1}{r} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right: 0.0278em;">r</span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.345em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>当做集成变量（integration variable）在反球面空间中计算——用符号<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          σ 
         
         
         
           o 
          
         
           u 
          
         
           t 
          
         
        
       
         ( 
        
        
        
          x 
         
        
          ′ 
         
        
       
         , 
        
        
        
          y 
         
        
          ′ 
         
        
       
         , 
        
        
        
          z 
         
        
          ′ 
         
        
       
         , 
        
       
         1 
        
       
         / 
        
       
         r 
        
       
         ) 
        
       
      
        \sigma_{out}(x',y',z',1/r) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.0019em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.2806em;"><span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.044em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span><span class="mclose">)</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          c 
         
         
         
           o 
          
         
           u 
          
         
           t 
          
         
        
       
         ( 
        
        
        
          x 
         
        
          ′ 
         
        
       
         , 
        
        
        
          y 
         
        
          ′ 
         
        
       
         , 
        
        
        
          z 
         
        
          ′ 
         
        
       
         , 
        
       
         1 
        
       
         / 
        
       
         r 
        
       
         , 
        
       
         d 
        
       
         ) 
        
       
      
        \pmb{c}_{out}(x',y',z',1/r,\pmb{d}) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.0019em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">c</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.2806em;"><span class="" style="top: -2.55em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.044em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span><span class="mclose">)</span></span></span></span></span>。<br> 为了计算（iii）项，需要先预测在任意<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         1 
        
       
         / 
        
       
         r 
        
       
      
        1/r 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span></span></span></span></span>的<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          σ 
         
         
         
           o 
          
         
           u 
          
         
           t 
          
         
        
       
      
        \sigma_{out} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.5806em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.2806em;"><span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          c 
         
         
         
           o 
          
         
           u 
          
         
           t 
          
         
        
       
      
        \pmb{c}_{out} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.5806em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">c</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.2806em;"><span class="" style="top: -2.55em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>；换句话说就是需要计算指定<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         1 
        
       
         / 
        
       
         r 
        
       
      
        1/r 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span></span></span></span></span>对应的<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ( 
        
        
        
          x 
         
        
          ′ 
         
        
       
         , 
        
        
        
          y 
         
        
          ′ 
         
        
       
         , 
        
        
        
          z 
         
        
          ′ 
         
        
       
         ) 
        
       
      
        (x',y',z') 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.0019em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.044em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>当做输入来得到<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          σ 
         
         
         
           o 
          
         
           u 
          
         
           t 
          
         
        
       
      
        \sigma_{out} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.5806em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.2806em;"><span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          c 
         
         
         
           o 
          
         
           u 
          
         
           t 
          
         
        
       
      
        \pmb{c}_{out} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.5806em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">c</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.2806em;"><span class="" style="top: -2.55em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>。如下图所示，设光线在<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         a 
        
       
      
        \pmb{a} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">a</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">a</span></span></span></span></span></span>点与单位球面相交，与光线对齐的弦的中点为<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         b 
        
       
      
        \pmb{b} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">b</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">b</span></span></span></span></span></span>点。点<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         a 
        
       
         = 
        
       
         o 
        
       
         + 
        
        
        
          t 
         
        
          a 
         
        
       
         d 
        
       
      
        \pmb{a}=\pmb{o}+t_a\pmb{d} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">a</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">a</span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">o</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">o</span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.1514em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span></span></span></span></span>可以通过计算<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ∣ 
        
       
         o 
        
       
         + 
        
        
        
          t 
         
        
          a 
         
        
       
         d 
        
       
         ∣ 
        
       
         = 
        
       
         1 
        
       
      
        |\pmb{o}+t_a\pmb{d}|=1 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">∣</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">o</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">o</span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.1514em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span><span class="mord">∣</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>得到，同时点<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         b 
        
       
         = 
        
       
         o 
        
       
         + 
        
        
        
          t 
         
        
          b 
         
        
       
         d 
        
       
      
        \pmb{b}=\pmb{o}+t_b\pmb{d} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">b</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">b</span></span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">o</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">o</span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8444em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3361em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span></span></span></span></span>可以通过计算<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          d 
         
        
          T 
         
        
       
         ( 
        
       
         o 
        
       
         + 
        
        
        
          t 
         
        
          b 
         
        
       
         d 
        
       
         ) 
        
       
         = 
        
       
         0 
        
       
      
        \pmb{d}^T(\pmb{o}+t_b\pmb{d})=0 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.1757em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.9257em;"><span class="" style="top: -3.1473em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right: 0.1389em;">T</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">o</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">o</span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.3361em;"><span class="" style="top: -2.55em; margin-left: 0em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>得到。接着为了得到给定<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         1 
        
       
         / 
        
       
         r 
        
       
      
        1/r 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span></span></span></span></span>对应的<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         ( 
        
        
        
          x 
         
        
          ′ 
         
        
       
         , 
        
        
        
          y 
         
        
          ′ 
         
        
       
         , 
        
        
        
          z 
         
        
          ′ 
         
        
       
         ) 
        
       
      
        (x',y',z') 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.0019em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.044em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.7519em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>，可以将向量<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         a 
        
       
      
        \pmb{a} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">a</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">a</span></span></span></span></span></span>沿着向量<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         b 
        
       
         × 
        
       
         d 
        
       
      
        \pmb{b}\times\pmb{d} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7778em; vertical-align: -0.0833em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">b</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">b</span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">d</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">d</span></span></span></span></span></span>旋转角度<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         w 
        
       
         = 
        
       
         a 
        
       
         r 
        
       
         c 
        
       
         s 
        
       
         i 
        
       
         n 
        
       
         ∣ 
        
       
         b 
        
       
         ∣ 
        
       
         − 
        
       
         a 
        
       
         r 
        
       
         c 
        
       
         s 
        
       
         i 
        
       
         n 
        
       
         ( 
        
       
         ∣ 
        
       
         b 
        
       
         ∣ 
        
       
         ⋅ 
        
        
        
          1 
         
        
          r 
         
        
       
         ) 
        
       
      
        w=arcsin|\pmb{b}|-arcsin(|\pmb{b}|·\frac{1}{r}) 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal" style="margin-right: 0.0269em;">w</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">rcs</span><span class="mord mathnormal">in</span><span class="mord">∣</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">b</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">b</span></span><span class="mord">∣</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">rcs</span><span class="mord mathnormal">in</span><span class="mopen">(</span><span class="mord">∣</span><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.6944em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">b</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">b</span></span><span class="mord">∣</span><span class="mpunct">⋅</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right: 0.0278em;">r</span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.345em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span></span>。一旦可以从任意<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         1 
        
       
         / 
        
       
         r 
        
       
      
        1/r 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span></span></span></span></span>上预测<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          σ 
         
         
         
           o 
          
         
           u 
          
         
           t 
          
         
        
       
      
        \sigma_{out} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.5806em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right: 0.0359em;">σ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.2806em;"><span class="" style="top: -2.55em; margin-left: -0.0359em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
        
        
          c 
         
         
         
           o 
          
         
           u 
          
         
           t 
          
         
        
       
      
        \pmb{c}_{out} 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.5806em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.4306em;"></span><span class="inner"><span class="mord"><span class="mord mathnormal">c</span></span></span><span class="fix"></span></span></span></span><span class="mspace" style="margin-right: 0.0502em;"></span><span class="mord mathnormal">c</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.2806em;"><span class="" style="top: -2.55em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>后，就可以从区间<span class="katex--inline"><span class="katex"><span class="katex-mathml"> 
     
      
       
       
         [ 
        
       
         0 
        
       
         , 
        
       
         1 
        
       
         ] 
        
       
      
        [0,1] 
       
      
    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></span>中取样有限个点来计算(iii)项。<br> <img src="https://images2.imgbox.com/70/5b/SZlJkYRg_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="_21"></a>参考文献和资料</h2> 
<p>[1]<a href="https://blog.csdn.net/qq_43620967/article/details/124800986?spm=1001.2101.3001.6650.6&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-6-124800986-blog-115017033.pc_relevant_multi_platform_featuressortv2removedup&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-6-124800986-blog-115017033.pc_relevant_multi_platform_featuressortv2removedup&amp;utm_relevant_index=12">NERF++: ANALYZING AND IMPROVING NEURAL RADIANCE FIELDS分析和改进神经辐射场</a><br> [2]<a href="https://zhuanlan.zhihu.com/p/458166170" rel="nofollow">NeRF++论文部分解读 为何NeRF如此强大？</a><br> [3]<a href="https://arxiv.org/pdf/2010.07492" rel="nofollow">NeRF++原文</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/af859e5cc9fccbdb8d2fc1ec0d240b43/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">嵌入式算法19---国家商用密码SM算法</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/6b4c8943db743c402fdd952e6ada5a5c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Java中常见的数据结构以及Java集合框架的使用</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>