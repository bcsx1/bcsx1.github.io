<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>kettle入门 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="kettle入门" />
<meta property="og:description" content="目录
前言 一、kettle是什么
二、kettle 安装与基本使用
2.1 kettle 安装
2.2 kettle的基础使用
2.21 做一个简单的转换样例
2.2.2 小技巧
三、转换常用组件使用
3.1 输入模块
3.1.1 生成记录
3.1.2 表输入
3.2 输出模块
3.2.1表输出
3.3.2 插入/更新
3.3.3 更新
3.3 转换模块
3.3.1 字符串操作
3.3.2 字符串替换
3.3.3 字段选择
3.3.4 设置字段值
3.3.5 计算器
3.3.6 去除重复记录
3.3.7 值映射
3.4 应用模块
3.4.1 替换NULL值
3.5 流程模块
3.6 脚本模块
3.6.1 java 代码
3.7 连接模块
3.7.1 记录集连接
3.7.2 合并记录
3.8 统计模块
3.8.1 聚合
3.9 作业模块
3.9.1 设置变量" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/60e74920eaeefd8ac1da8be23068118d/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2023-02-01T18:04:07+08:00" />
<meta property="article:modified_time" content="2023-02-01T18:04:07+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">kettle入门</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p id="main-toc"><strong>目录</strong></p> 
<p id="%E5%89%8D%E8%A8%80%C2%A0-toc" style="margin-left:0px;"><a href="#%E5%89%8D%E8%A8%80%C2%A0" rel="nofollow">前言 </a></p> 
<p id="%E4%B8%80%E3%80%81kettle%E6%98%AF%E4%BB%80%E4%B9%88-toc" style="margin-left:0px;"><a href="#%E4%B8%80%E3%80%81kettle%E6%98%AF%E4%BB%80%E4%B9%88" rel="nofollow">一、kettle是什么</a></p> 
<p id="%E4%BA%8C%E3%80%81kettle%20%E5%AE%89%E8%A3%85%E4%B8%8E%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-toc" style="margin-left:0px;"><a href="#%E4%BA%8C%E3%80%81kettle%20%E5%AE%89%E8%A3%85%E4%B8%8E%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8" rel="nofollow">二、kettle 安装与基本使用</a></p> 
<p id="2.1%20kettle%20%E5%AE%89%E8%A3%85-toc" style="margin-left:40px;"><a href="#2.1%20kettle%20%E5%AE%89%E8%A3%85" rel="nofollow">2.1 kettle 安装</a></p> 
<p id="2.2%20kettle%E7%9A%84%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8-toc" style="margin-left:40px;"><a href="#2.2%20kettle%E7%9A%84%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8" rel="nofollow">2.2 kettle的基础使用</a></p> 
<p id="2.21%20%E5%81%9A%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E8%BD%AC%E6%8D%A2%E6%A0%B7%E4%BE%8B-toc" style="margin-left:80px;"><a href="#2.21%20%E5%81%9A%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E8%BD%AC%E6%8D%A2%E6%A0%B7%E4%BE%8B" rel="nofollow">2.21 做一个简单的转换样例</a></p> 
<p id="2.2.2%20%E5%B0%8F%E6%8A%80%E5%B7%A7-toc" style="margin-left:80px;"><a href="#2.2.2%20%E5%B0%8F%E6%8A%80%E5%B7%A7" rel="nofollow">2.2.2 小技巧</a></p> 
<p id="%E4%B8%89%E3%80%81%E8%BD%AC%E6%8D%A2%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8-toc" style="margin-left:0px;"><a href="#%E4%B8%89%E3%80%81%E8%BD%AC%E6%8D%A2%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8" rel="nofollow">三、转换常用组件使用</a></p> 
<p id="3.1%20%E8%BE%93%E5%85%A5%E6%A8%A1%E5%9D%97-toc" style="margin-left:40px;"><a href="#3.1%20%E8%BE%93%E5%85%A5%E6%A8%A1%E5%9D%97" rel="nofollow">3.1 输入模块</a></p> 
<p id="3.1.1%C2%A0%E7%94%9F%E6%88%90%E8%AE%B0%E5%BD%95-toc" style="margin-left:80px;"><a href="#3.1.1%C2%A0%E7%94%9F%E6%88%90%E8%AE%B0%E5%BD%95" rel="nofollow">3.1.1 生成记录</a></p> 
<p id="%C2%A03.1.2%20%E8%A1%A8%E8%BE%93%E5%85%A5-toc" style="margin-left:80px;"><a href="#%C2%A03.1.2%20%E8%A1%A8%E8%BE%93%E5%85%A5" rel="nofollow"> 3.1.2 表输入</a></p> 
<p id="3.2%20%E8%BE%93%E5%87%BA%E6%A8%A1%E5%9D%97-toc" style="margin-left:40px;"><a href="#3.2%20%E8%BE%93%E5%87%BA%E6%A8%A1%E5%9D%97" rel="nofollow">3.2 输出模块</a></p> 
<p id="3.2.1%E8%A1%A8%E8%BE%93%E5%87%BA-toc" style="margin-left:80px;"><a href="#3.2.1%E8%A1%A8%E8%BE%93%E5%87%BA" rel="nofollow">3.2.1表输出</a></p> 
<p id="%C2%A03.3.2%20%E6%8F%92%E5%85%A5%2F%E6%9B%B4%E6%96%B0-toc" style="margin-left:80px;"><a href="#%C2%A03.3.2%20%E6%8F%92%E5%85%A5%2F%E6%9B%B4%E6%96%B0" rel="nofollow"> 3.3.2 插入/更新</a></p> 
<p id="%C2%A03.3.3%20%E6%9B%B4%E6%96%B0-toc" style="margin-left:80px;"><a href="#%C2%A03.3.3%20%E6%9B%B4%E6%96%B0" rel="nofollow"> 3.3.3 更新</a></p> 
<p id="3.3%C2%A0%E8%BD%AC%E6%8D%A2%E6%A8%A1%E5%9D%97-toc" style="margin-left:40px;"><a href="#3.3%C2%A0%E8%BD%AC%E6%8D%A2%E6%A8%A1%E5%9D%97" rel="nofollow">3.3 转换模块</a></p> 
<p id="3.3.1%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C-toc" style="margin-left:80px;"><a href="#3.3.1%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C" rel="nofollow">3.3.1 字符串操作</a></p> 
<p id="3.3.2%C2%A0%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9B%BF%E6%8D%A2-toc" style="margin-left:80px;"><a href="#3.3.2%C2%A0%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9B%BF%E6%8D%A2" rel="nofollow">3.3.2 字符串替换</a></p> 
<p id="3.3.3%C2%A0%E5%AD%97%E6%AE%B5%E9%80%89%E6%8B%A9-toc" style="margin-left:80px;"><a href="#3.3.3%C2%A0%E5%AD%97%E6%AE%B5%E9%80%89%E6%8B%A9" rel="nofollow">3.3.3 字段选择</a></p> 
<p id="3.3.4%20%E8%AE%BE%E7%BD%AE%E5%AD%97%E6%AE%B5%E5%80%BC-toc" style="margin-left:80px;"><a href="#3.3.4%20%E8%AE%BE%E7%BD%AE%E5%AD%97%E6%AE%B5%E5%80%BC" rel="nofollow">3.3.4 设置字段值</a></p> 
<p id="3.3.5%20%E8%AE%A1%E7%AE%97%E5%99%A8-toc" style="margin-left:80px;"><a href="#3.3.5%20%E8%AE%A1%E7%AE%97%E5%99%A8" rel="nofollow">3.3.5 计算器</a></p> 
<p id="%C2%A03.3.6%C2%A0%E5%8E%BB%E9%99%A4%E9%87%8D%E5%A4%8D%E8%AE%B0%E5%BD%95-toc" style="margin-left:80px;"><a href="#%C2%A03.3.6%C2%A0%E5%8E%BB%E9%99%A4%E9%87%8D%E5%A4%8D%E8%AE%B0%E5%BD%95" rel="nofollow"> 3.3.6 去除重复记录</a></p> 
<p id="%C2%A0%C2%A03.3.7%20%E5%80%BC%E6%98%A0%E5%B0%84-toc" style="margin-left:80px;"><a href="#%C2%A0%C2%A03.3.7%20%E5%80%BC%E6%98%A0%E5%B0%84" rel="nofollow">3.3.7 值映射</a></p> 
<p id="3.4%20%E5%BA%94%E7%94%A8%E6%A8%A1%E5%9D%97-toc" style="margin-left:40px;"><a href="#3.4%20%E5%BA%94%E7%94%A8%E6%A8%A1%E5%9D%97" rel="nofollow">3.4 应用模块</a></p> 
<p id="3.4.1%C2%A0%E6%9B%BF%E6%8D%A2NULL%E5%80%BC-toc" style="margin-left:80px;"><a href="#3.4.1%C2%A0%E6%9B%BF%E6%8D%A2NULL%E5%80%BC" rel="nofollow">3.4.1 替换NULL值</a></p> 
<p id="%C2%A03.5%C2%A0%E6%B5%81%E7%A8%8B%E6%A8%A1%E5%9D%97-toc" style="margin-left:40px;"><a href="#%C2%A03.5%C2%A0%E6%B5%81%E7%A8%8B%E6%A8%A1%E5%9D%97" rel="nofollow"> 3.5 流程模块</a></p> 
<p id="%C2%A03.6%C2%A0%E8%84%9A%E6%9C%AC%E6%A8%A1%E5%9D%97-toc" style="margin-left:40px;"><a href="#%C2%A03.6%C2%A0%E8%84%9A%E6%9C%AC%E6%A8%A1%E5%9D%97" rel="nofollow">3.6 脚本模块</a></p> 
<p id="3.6.1%20java%20%E4%BB%A3%E7%A0%81-toc" style="margin-left:80px;"><a href="#3.6.1%20java%20%E4%BB%A3%E7%A0%81" rel="nofollow">3.6.1 java 代码</a></p> 
<p id="%C2%A03.7%C2%A0%E8%BF%9E%E6%8E%A5%E6%A8%A1%E5%9D%97-toc" style="margin-left:40px;"><a href="#%C2%A03.7%C2%A0%E8%BF%9E%E6%8E%A5%E6%A8%A1%E5%9D%97" rel="nofollow"> 3.7 连接模块</a></p> 
<p id="3.7.1%20%E8%AE%B0%E5%BD%95%E9%9B%86%E8%BF%9E%E6%8E%A5-toc" style="margin-left:80px;"><a href="#3.7.1%20%E8%AE%B0%E5%BD%95%E9%9B%86%E8%BF%9E%E6%8E%A5" rel="nofollow">3.7.1 记录集连接</a></p> 
<p id="3.7.2%C2%A0%E5%90%88%E5%B9%B6%E8%AE%B0%E5%BD%95-toc" style="margin-left:80px;"><a href="#3.7.2%C2%A0%E5%90%88%E5%B9%B6%E8%AE%B0%E5%BD%95" rel="nofollow">3.7.2 合并记录</a></p> 
<p id="3.8%C2%A0%E7%BB%9F%E8%AE%A1%E6%A8%A1%E5%9D%97-toc" style="margin-left:40px;"><a href="#3.8%C2%A0%E7%BB%9F%E8%AE%A1%E6%A8%A1%E5%9D%97" rel="nofollow">3.8 统计模块</a></p> 
<p id="3.8.1%20%E8%81%9A%E5%90%88-toc" style="margin-left:80px;"><a href="#3.8.1%20%E8%81%9A%E5%90%88" rel="nofollow">3.8.1 聚合</a></p> 
<p id="3.9%C2%A0%E4%BD%9C%E4%B8%9A%E6%A8%A1%E5%9D%97-toc" style="margin-left:40px;"><a href="#3.9%C2%A0%E4%BD%9C%E4%B8%9A%E6%A8%A1%E5%9D%97" rel="nofollow">3.9 作业模块</a></p> 
<p id="3.9.1%20%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F-toc" style="margin-left:80px;"><a href="#3.9.1%20%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F" rel="nofollow">3.9.1 设置变量</a></p> 
<p id="3.10%C2%A0%E8%BD%AC%E6%8D%A2%E4%B8%AD%E7%9A%84%E9%80%9A%E7%94%A8%E6%8A%80%E5%B7%A7-toc" style="margin-left:40px;"><a href="#3.10%C2%A0%E8%BD%AC%E6%8D%A2%E4%B8%AD%E7%9A%84%E9%80%9A%E7%94%A8%E6%8A%80%E5%B7%A7" rel="nofollow">3.10 转换中的通用技巧</a></p> 
<p id="3.10.1%E5%8D%A0%E4%BD%8D%E7%AC%A6-toc" style="margin-left:80px;"><a href="#3.10.1%E5%8D%A0%E4%BD%8D%E7%AC%A6" rel="nofollow">3.10.1占位符</a></p> 
<p id="%C2%A03.10.2%20%E6%9F%A5%E7%9C%8B%E6%98%BE%E7%A4%BA%E8%BE%93%E5%85%A5%E5%AD%97%E6%AE%B5%EF%BC%8C%E6%98%BE%E7%A4%BA%E8%BE%93%E5%87%BA%E5%AD%97%E6%AE%B5-toc" style="margin-left:80px;"><a href="#%C2%A03.10.2%20%E6%9F%A5%E7%9C%8B%E6%98%BE%E7%A4%BA%E8%BE%93%E5%85%A5%E5%AD%97%E6%AE%B5%EF%BC%8C%E6%98%BE%E7%A4%BA%E8%BE%93%E5%87%BA%E5%AD%97%E6%AE%B5" rel="nofollow"> 3.10.2 查看显示输入字段，显示输出字段</a></p> 
<p id="%C2%A03.10.3%20%E6%95%B0%E6%8D%AE%E5%8F%91%E9%80%81-toc" style="margin-left:80px;"><a href="#%C2%A03.10.3%20%E6%95%B0%E6%8D%AE%E5%8F%91%E9%80%81" rel="nofollow"> 3.10.3 数据发送</a></p> 
<p id="%C2%A03.10.4%20%E6%94%B9%E5%8F%98%E5%BC%80%E5%A7%8B%E5%A4%8D%E5%88%B6%E7%9A%84%E6%95%B0%E9%87%8F-toc" style="margin-left:80px;"><a href="#%C2%A03.10.4%20%E6%94%B9%E5%8F%98%E5%BC%80%E5%A7%8B%E5%A4%8D%E5%88%B6%E7%9A%84%E6%95%B0%E9%87%8F" rel="nofollow"> 3.10.4 改变开始复制的数量</a></p> 
<p id="3.10.5%20hop%2F%E8%BF%9E%E6%8E%A5%E7%BA%BF%2F%E8%B7%B3-toc" style="margin-left:80px;"><a href="#3.10.5%20hop%2F%E8%BF%9E%E6%8E%A5%E7%BA%BF%2F%E8%B7%B3" rel="nofollow">3.10.5 hop/连接线/跳</a></p> 
<p id="%E5%9B%9B%E3%80%81%E4%BB%BB%E5%8A%A1%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6-toc" style="margin-left:0px;"><a href="#%E5%9B%9B%E3%80%81%E4%BB%BB%E5%8A%A1%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6" rel="nofollow">四、任务中的常用组件</a></p> 
<p id="4.1%20%E9%80%9A%E7%94%A8%E6%A8%A1%E5%9D%97-toc" style="margin-left:40px;"><a href="#4.1%20%E9%80%9A%E7%94%A8%E6%A8%A1%E5%9D%97" rel="nofollow">4.1 通用模块</a></p> 
<p id="4.1.1%20start-toc" style="margin-left:80px;"><a href="#4.1.1%20start" rel="nofollow">4.1.1 start</a></p> 
<p id="4.1.2%20%E8%BD%AC%E6%8D%A2-toc" style="margin-left:80px;"><a href="#4.1.2%20%E8%BD%AC%E6%8D%A2" rel="nofollow">4.1.2 转换</a></p> 
<p id="4.1.2%20%E4%BD%9C%E4%B8%9A-toc" style="margin-left:80px;"><a href="#4.1.2%20%E4%BD%9C%E4%B8%9A" rel="nofollow">4.1.2 作业</a></p> 
<p id="4.1.3%20%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F-toc" style="margin-left:80px;"><a href="#4.1.3%20%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F" rel="nofollow">4.1.3 设置变量</a></p> 
<p id="1.%E4%BD%9C%E7%94%A8%EF%BC%9A-toc" style="margin-left:80px;"><a href="#1.%E4%BD%9C%E7%94%A8%EF%BC%9A" rel="nofollow">1.作用：</a></p> 
<p id="4.1.4%20%E6%88%90%E5%8A%9F-toc" style="margin-left:80px;"><a href="#4.1.4%20%E6%88%90%E5%8A%9F" rel="nofollow">4.1.4 成功</a></p> 
<p id="4.2%C2%A0%E8%84%9A%E6%9C%AC%E6%A8%A1%E5%9D%97%C2%A0-toc" style="margin-left:40px;"><a href="#4.2%C2%A0%E8%84%9A%E6%9C%AC%E6%A8%A1%E5%9D%97%C2%A0" rel="nofollow">4.2 脚本模块 </a></p> 
<p id="4.2.1%20SQL-toc" style="margin-left:80px;"><a href="#4.2.1%20SQL" rel="nofollow">4.2.1 SQL</a></p> 
<p id="4.3%C2%A0%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97-toc" style="margin-left:40px;"><a href="#4.3%C2%A0%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97" rel="nofollow">4.3 文件管理模块</a></p> 
<p id="4.3.1%20%E7%AD%89%E5%BE%85%E6%96%87%E4%BB%B6-toc" style="margin-left:80px;"><a href="#4.3.1%20%E7%AD%89%E5%BE%85%E6%96%87%E4%BB%B6" rel="nofollow">4.3.1 等待文件</a></p> 
<p id="4.4%20%E4%BB%BB%E5%8A%A1%E4%B8%AD%E7%9A%84%E9%80%9A%E7%94%A8%E6%8A%80%E5%B7%A7%C2%A0-toc" style="margin-left:40px;"><a href="#4.4%20%E4%BB%BB%E5%8A%A1%E4%B8%AD%E7%9A%84%E9%80%9A%E7%94%A8%E6%8A%80%E5%B7%A7%C2%A0" rel="nofollow">4.4 任务中的通用技巧 </a></p> 
<p id="4.3.1%C2%A0hop%2F%E8%BF%9E%E6%8E%A5%E7%BA%BF%2F%E8%B7%B3-toc" style="margin-left:80px;"><a href="#4.3.1%C2%A0hop%2F%E8%BF%9E%E6%8E%A5%E7%BA%BF%2F%E8%B7%B3" rel="nofollow">4.4.1 hop/连接线/跳</a></p> 
<p id="%C2%A04.3.2%20%E5%B9%B6%E8%A1%8C-toc" style="margin-left:80px;"><a href="#%C2%A04.3.2%20%E5%B9%B6%E8%A1%8C" rel="nofollow"> 4.4.2 并行</a></p> 
<p id="%E6%80%BB%E7%BB%93-toc" style="margin-left:0px;"><a href="#%E6%80%BB%E7%BB%93" rel="nofollow">总结</a></p> 
<hr id="hr-toc"> 
<p></p> 
<h2 id="%E5%89%8D%E8%A8%80%C2%A0"><strong>前言</strong> </h2> 
<p>   文章定位是能够为初学者提供一个快速入门的参考，同时记录了我在工作中使用kettle的经验和总结。文章内容会持续更新，希望能够给大家提供一些帮助，同时也欢迎大家一体探索kettle的各种奇技淫巧~~~。另外我在kettle的使用过程中经常会参考<a class="link-info" href="http://www.kettle.org.cn/" rel="nofollow" title="kettle中文网">kettle中文网</a>，我在这个网站上学习到很多有用的知识。</p> 
<h2 id="%E4%B8%80%E3%80%81kettle%E6%98%AF%E4%BB%80%E4%B9%88"><a id="pandas_16"></a>一、kettle是什么</h2> 
<p>        Kettle是一款国外开源的ETL工具，纯java编写，可以在Window、Linux、Unix上运行，绿色无需安装，数据抽取高效稳定。kettle中文名称叫水壶。主要用作数据抽取，转换工作。</p> 
<h2 id="%E4%BA%8C%E3%80%81kettle%20%E5%AE%89%E8%A3%85%E4%B8%8E%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8">二、kettle 安装与基本使用</h2> 
<h3 id="2.1%20kettle%20%E5%AE%89%E8%A3%85">2.1 kettle 安装</h3> 
<p>        前面提到 kettle是java编写，在安装之前需要先安装jdk环境，建议jdk版本保持在1.8及以上。把kettle安装包解压放到指定文件夹目录下，进入 kettle-pdi-ce-9.0.0.0-423\data-integration目录，双击运行Spoon.bat脚本即可打开kettle开发页面。</p> 
<p>电脑弹出下图页面标识kettle已经开始启动。</p> 
<p class="img-center"><img alt="" height="476" src="https://images2.imgbox.com/07/ed/KAU3zkX0_o.png" width="687"></p> 
<p>稍等片刻后，kettle程序启动完成，下图就是kettle的工作页面：</p> 
<p class="img-center"><img alt="" height="983" src="https://images2.imgbox.com/bb/0d/lAUynvBG_o.png" width="1200"></p> 
<p>至此，说明kettle已经可以正常使用了。</p> 
<h3 id="2.2%20kettle%E7%9A%84%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8">2.2 kettle的基础使用</h3> 
<p>点击文件下的新建图片，弹出下拉框，选择转换功能，弹出转换编辑页面。</p> 
<p class="img-center"><img alt="" height="426" src="https://images2.imgbox.com/ea/93/k81SsNhi_o.png" width="581"></p> 
<p></p> 
<h4 id="2.21%20%E5%81%9A%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E8%BD%AC%E6%8D%A2%E6%A0%B7%E4%BE%8B">2.21 做一个简单的转换样例</h4> 
<p style="text-align:center;"> 转换编辑页面</p> 
<p class="img-center"><img alt="" height="764" src="https://images2.imgbox.com/c1/47/2XYfAjrM_o.png" width="952"></p> 
<p></p> 
<blockquote> 
 <p>        通过点击tab标签切换主对象树和核心对象树，在初学阶段主要关注核心对象树。可以通过点击模块左边的箭头展开模块内容，也可以通过搜索框输入组件名对组件进行模糊搜索。</p> 
</blockquote> 
<blockquote> 
 <ol><li>拖动组件图片到右边工作窗口完成组件选择</li><li>SHIFT+鼠标左边连接两个组件</li><li> 点击保存按钮完成转换编辑 </li><li> 点击启动按钮启动转换</li></ol> 
</blockquote> 
<p class="img-center"><img alt="" height="494" src="https://images2.imgbox.com/ac/07/ESM5mcYq_o.png" width="836"></p> 
<p style="text-align:center;"> 运行结果</p> 
<p></p> 
<p class="img-center"><img alt="" height="480" src="https://images2.imgbox.com/1e/cc/oHJto8SK_o.png" width="564"></p> 
<p></p> 
<blockquote> 
 <p>组件图标为绿色对号表示正确运行 ，红色叉号代表允许出错。</p> 
</blockquote> 
<h4 id="2.2.2%20%E5%B0%8F%E6%8A%80%E5%B7%A7">2.2.2 小技巧</h4> 
<blockquote> 
 <p>        当我们不清除某一个组件的用途时，可以把鼠标放到组件上停留一到两秒，然后就会提示出这个组件的用法。如下图：</p> 
</blockquote> 
<p class="img-center"><img alt="" height="292" src="https://images2.imgbox.com/4f/ae/qD6LhdOW_o.png" width="340"></p> 
<p></p> 
<blockquote> 
 <p>        如果不清楚某一个组件的用法，可以尝试点击help按钮。从官网获取帮助，不幸的是官网时常不可用。</p> 
</blockquote> 
<p><img alt="" height="522" src="https://images2.imgbox.com/6d/ad/gs6IjZPN_o.png" width="734"></p> 
<h2 id="%E4%B8%89%E3%80%81%E8%BD%AC%E6%8D%A2%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8">三、转换常用组件使用</h2> 
<blockquote> 
 <p>        转换侧重于数据流的处理。它处理抽取，转换，加载各阶段各种对数据行的操作。转换包括一个或者多个步骤（step）,如读取文件，过滤输出行，数据清洗或者将数据加载到数据库。</p> 
</blockquote> 
<h3 id="3.1%20%E8%BE%93%E5%85%A5%E6%A8%A1%E5%9D%97">3.1 输入模块</h3> 
<h4 id="3.1.1%C2%A0%E7%94%9F%E6%88%90%E8%AE%B0%E5%BD%95">3.1.1 生成记录</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>生成一些空记录或者相等的行</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>拖动生成记录组件到编辑区，双击组件图标按照下图进行配置通过预览可以看到生成10条相同的数据。</p> 
</blockquote> 
<p><img alt="" height="486" src="https://images2.imgbox.com/4d/b0/8U0aPzGi_o.png" width="797"></p> 
<p class="img-center"><img alt="" height="381" src="https://images2.imgbox.com/c1/2f/hz4wMKjS_o.png" width="528"></p> 
<p></p> 
<p><strong> 3.用途：</strong></p> 
<blockquote> 
 <p>常用来与其他组件进行测试。</p> 
</blockquote> 
<h4 id="%C2%A03.1.2%20%E8%A1%A8%E8%BE%93%E5%85%A5"> 3.1.2 表输入</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p> 从数据库中读取数据。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>1.双击表输入组件图标，弹出下图弹框。</p> 
</blockquote> 
<p><img alt="" height="642" src="https://images2.imgbox.com/b6/83/W6Dyq0WK_o.png" width="804"></p> 
<blockquote> 
 <p> 2.点击新建按钮，创建数据库连接（如果数据库链接已存在则可以直接使用），按照提示填写完成之后，点击测试按钮，弹出成功对话框表示数据库连接测试成功。</p> 
</blockquote> 
<p><img alt="" height="606" src="https://images2.imgbox.com/18/02/iuIrnkLL_o.png" width="967"></p> 
<p>3.在SQL输入框中输入查询sql，点击预览按钮可以查看查询出来的数据 。</p> 
<p><img alt="" height="674" src="https://images2.imgbox.com/86/f8/24hKcOfk_o.png" width="884"></p> 
<p><strong> 3.用途：</strong></p> 
<blockquote> 
 <p>从数据库中读取数据。</p> 
</blockquote> 
<p><strong>4.注意事项</strong></p> 
<blockquote> 
 <p>在数据预览过程中，如果数据量过大或者查询时间过长，容易造成kettle卡死甚至崩溃，在预览过程中可以尝试在sql后加分页查询语句。</p> 
</blockquote> 
<h3 id="3.2%20%E8%BE%93%E5%87%BA%E6%A8%A1%E5%9D%97">3.2 输出模块</h3> 
<h4 id="3.2.1%E8%A1%A8%E8%BE%93%E5%87%BA">3.2.1表输出</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p> 把数据写到数据库表中。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>        为了展示出数据插入的效果，我们结合表输入组件一起使用，把t_test表中的数据存入到t_test_1表中</p> 
 <p>1.选择数库连接</p> 
 <p>2.输入目标表表名</p> 
 <p>3.点击指定数据库字段复选框</p> 
 <p>4.切换数据库字段</p> 
 <p>5.点击获取字段按钮，检查左边表字段与流字段的对应关系是否正确，如果不正确可以直接修改</p> 
 <p>6.运行转换。</p> 
</blockquote> 
<p><img alt="" height="666" src="https://images2.imgbox.com/6d/e8/Rrw7JKBS_o.png" width="748"></p> 
<p><strong> 3.小技巧：</strong></p> 
<blockquote> 
 <p>        由于表t_test_1中的id字段是自增的，在插入数据库之前我们并不知道id的值是什么，幸运的是表输出组件提供了获取值的功能，但性能如何，我没有进行测试，大家用的时可以留意一下。使用方法如下：</p> 
 <p>1.切换标签页到主选项</p> 
 <p>2.选择 &lt;返回一个自增产生的关键字&gt;复选框</p> 
 <p>3.在 &lt;自动产生的关键字的字段名称&gt; 输入框输入一个字段名用来标识自增字段值</p> 
</blockquote> 
<p class="img-center"><img alt="" height="454" src="https://images2.imgbox.com/1b/a1/FPFgOdrI_o.png" width="767"></p> 
<p style="text-align:center;"> 预览数据：</p> 
<p class="img-center"><img alt="" height="446" src="https://images2.imgbox.com/88/94/hN4KnL7A_o.png" width="502"></p> 
<h4 id="%C2%A03.3.2%20%E6%8F%92%E5%85%A5%2F%E6%9B%B4%E6%96%B0"> 3.3.2 插入/更新</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>根据关键字更新或者插入记录到数据库表中。</p> 
</blockquote> 
<p><strong> 2.用法：</strong></p> 
<blockquote> 
 <p>        为了展示出组件的效果，我们结合表输入组件一起使用，把t_test表中的数据更新或插入到t_test_1表中</p> 
 <p>1.双击&lt;插入/更新&gt;组件</p> 
 <p>2.选择数库连接</p> 
 <p>3.输入目标表表名</p> 
 <p>4.点击&lt;用来查询的关键字&gt;右边的获取字段按钮，清除不需要的字段</p> 
 <p>5.点击&lt;更新字段&gt; 右边的 获取和更新字段按钮，清除不需要的字段</p> 
 <p>6.运行转换。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="644" src="https://images2.imgbox.com/93/37/MjSFFY9N_o.png" width="1040"></p> 
<p><strong>3.注意事项 </strong></p> 
<blockquote> 
 <p>        由于组件在更新每一条数据之前都会先到数据库查询一次数据，导致速度很慢，如果对数据处理速度有要求，尽量避免使用此组件。</p> 
</blockquote> 
<h4 id="%C2%A03.3.3%20%E6%9B%B4%E6%96%B0"> 3.3.3 更新</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>根据关键字把数据更新到数据库表中。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>        为了展示出组件的效果，我们结合表输入组件一起使用，把t_test表中的数据更新到t_test_1表中</p> 
 <p>1.双击&lt;更新&gt;组件</p> 
 <p>2.选择数库连接</p> 
 <p>3.输入目标表表名</p> 
 <p>4.点击&lt;用来查询的关键字&gt;右边的获取字段按钮，清除不需要的字段</p> 
 <p>5.点击&lt;更新字段&gt; 右边的 获取和更新字段按钮，清除不需要的字段</p> 
 <p>6.运行转换。</p> 
</blockquote> 
<p><img alt="" height="714" src="https://images2.imgbox.com/3f/0e/NE8dUgqe_o.png" width="769"></p> 
<p></p> 
<blockquote> 
 <p>        按照图中示例填写对应的选项即可完成设置。其中&lt;批量更新&gt;&lt;跳过查询&gt;&lt;忽略查询失效&gt;复选框在选择后，由于减少了查询的步骤，所以在性能上一定的提升，具体细节还请小伙伴们自行探索。</p> 
</blockquote> 
<h3 id="3.3%C2%A0%E8%BD%AC%E6%8D%A2%E6%A8%A1%E5%9D%97">3.3 转换模块</h3> 
<h4 id="3.3.1%20%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C">3.3.1 字符串操作</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>对字符串进行去除空格或追加字符的操作。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>        为了展示出组件的效果，我们结合表输入组件一起使用，加工t_test表中的name字段</p> 
 <p>1.双击&lt;字符串操作&gt;组件</p> 
 <p>2.编辑数据对话框</p> 
 <p>3.运行转换。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="316" src="https://images2.imgbox.com/b9/79/eW1fotUJ_o.png" width="1192"></p> 
<p> <strong>3.注意事项</strong></p> 
<blockquote> 
 <p>使用追加字符功能需要 Padding、Pad Char和Pad Length选项结合起来使用。</p> 
</blockquote> 
<h4 id="3.3.2%C2%A0%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9B%BF%E6%8D%A2">3.3.2 字符串替换</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>根据条件替换字符串。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>        为了展示出组件的效果，我们结合表输入组件一起使用，加工t_test表中的name字段中包含 “张” 的字符串 替换 为 “小米”</p> 
 <p>1.双击&lt;字符串替换&gt;组件</p> 
 <p>2.编辑数据对话框</p> 
 <p>3.运行转换。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="456" src="https://images2.imgbox.com/b0/67/lytRhu8Z_o.png" width="1200"></p> 
<p> <strong>3.注意事项</strong></p> 
<blockquote> 
 <p>搜索条件也可以使用正则表达式进行搜索匹配，&lt;整个单词匹配&gt;被选中为 是 的时候，必须完全匹配，条件才会成立。</p> 
</blockquote> 
<h4 id="3.3.3%C2%A0%E5%AD%97%E6%AE%B5%E9%80%89%E6%8B%A9"><strong>3.3.3 字段选择</strong></h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>常用作选择或移除数据流中的字段，对字段重命名，还可以设置字段的类型、长度、精度。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>        为了展示出组件的效果，我们结合表输入组件一起使用，加工t_test表中的id字段类型修改为小数。同时移除sex字段，修改name字段名为name_new。</p> 
 <p>1.双击&lt;字段选择&gt;组件</p> 
 <p>2.编辑数据对话框</p> 
 <p>3.运行转换。</p> 
</blockquote> 
<p style="text-align:center;">移除sex字段： </p> 
<p class="img-center"><img alt="" height="404" src="https://images2.imgbox.com/09/0c/TnOsEvOW_o.png" width="727"></p> 
<p style="text-align:center;">格式化id，重命名name字段：</p> 
<p class="img-center"><img alt="" height="519" src="https://images2.imgbox.com/51/c5/TbMeyA1P_o.png" width="985"></p> 
<p></p> 
<p style="text-align:center;">运行结果预览:</p> 
<p></p> 
<p class="img-center"><img alt="" height="162" src="https://images2.imgbox.com/b4/ff/AI3WcE2J_o.png" width="599"></p> 
<p></p> 
<h4 id="3.3.4%20%E8%AE%BE%E7%BD%AE%E5%AD%97%E6%AE%B5%E5%80%BC"><strong>3.3.4 设置字段值</strong></h4> 
<p><strong>1.作用</strong></p> 
<blockquote> 
 <p>把一个字段的值设置到另一个字段中。目前我没有发现这个功能的实际用途。</p> 
</blockquote> 
<p>2.用法：</p> 
<blockquote> 
 <p>        为了展示出组件的效果，我们结合表输入组件一起使用，加工t_test表中的sex 字段替换为 name字段值</p> 
 <p>1.双击&lt;设置字段值&gt;组件</p> 
 <p>2.编辑数据对话框</p> 
 <p>3.运行转换。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="459" src="https://images2.imgbox.com/84/ac/FzvDMmS8_o.png" width="964"></p> 
<h4 id="3.3.5%20%E8%AE%A1%E7%AE%97%E5%99%A8"><strong>3.3.5 计算器</strong></h4> 
<p> <strong>1.作用：</strong></p> 
<blockquote> 
 <p>        通过执行简单的计算<strong>创建一个新的字段</strong>。我在数据库操作中常用来根据几个字段生成一个组合主键。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>        为了展示出组件的效果，我们结合表输入组件一起使用，根据t_test表中的name、sex、age字段生成一个新的字段combine</p> 
 <p>1.双击&lt;计算器&gt;组件</p> 
 <p>2.编辑数据对话框</p> 
 <p>3.运行转换。</p> 
</blockquote> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" height="474" src="https://images2.imgbox.com/00/04/w2viazOc_o.png" width="1200"> 
  <figcaption>
    使用样例 
  </figcaption> 
 </figure> 
</div> 
<h4 id="%C2%A03.3.6%C2%A0%E5%8E%BB%E9%99%A4%E9%87%8D%E5%A4%8D%E8%AE%B0%E5%BD%95"> <strong>3.3.6 去除重复记录</strong></h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>根据已经排序好的输入流去除重复的记录。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>       为了展示出组件的效果，我们结合表输入组件一起使用，根据t_test表中的sex字段进行去除重复记录。</p> 
 <p>1.双击&lt;去除重复记录&gt;组件</p> 
 <p>2.编辑数据对话框</p> 
 <p>3.运行转换。</p> 
</blockquote> 
<p style="text-align:center;">根据sex字段去重 </p> 
<p class="img-center"><img alt="" height="391" src="https://images2.imgbox.com/1f/f5/PS7Hs4Pw_o.png" width="673"></p> 
<blockquote> 
 <p> 点击确定弹出提示，要求我们在去重之前需要先根据去重字段排序：</p> 
</blockquote> 
<p class="img-center"><img alt="" height="187" src="https://images2.imgbox.com/f4/e3/2cHKTe0P_o.png" width="521"></p> 
<p> <strong>3.注意事项</strong></p> 
<blockquote> 
 <p>1.在使用去重组件时一定要先根据去重字段进行排序，组件不关心排序是否升序或降序。</p> 
 <p>2.如果需要根据多个字段进行去重，则数据流也必须先根据对应字段进行排序。</p> 
 <p>3.如果数据量比较大，不建议使用kettle自带的排序功能组件，因为这样会阻塞数据流，且排序速度不理想。</p> 
</blockquote> 
<h4 id="%C2%A0%C2%A03.3.7%20%E5%80%BC%E6%98%A0%E5%B0%84"><strong>3.3.7 值映射</strong></h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>把一个字段的值映射为另一个值，常用来做字典翻译功能。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>       为了展示出组件的效果，我们结合表输入组件一起使用，根据t_test表中的sex字段进行字典翻译。</p> 
 <p>1.双击&lt;值映射&gt;组件</p> 
 <p>2.编辑数据对话框</p> 
 <p>3.运行转换。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="602" src="https://images2.imgbox.com/25/e7/1jF1AeO5_o.png" width="832"></p> 
<h3 id="3.4%20%E5%BA%94%E7%94%A8%E6%A8%A1%E5%9D%97">3.4 应用模块</h3> 
<h4 id="3.4.1%C2%A0%E6%9B%BF%E6%8D%A2NULL%E5%80%BC">3.4.1 替换NULL值</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>给一个为NULL的字段值设置一个默认值。在实际使用过程中尝尝用来给数据填充默认值。</p> 
</blockquote> 
<p><strong>2.用法:</strong></p> 
<blockquote> 
 <p>       为了展示出组件的效果，我们结合表输入组件一起使用，根据t_test表中的sex字段进行设置默认值。</p> 
 <p>1.双击&lt;替换NULL值&gt;组件</p> 
 <p>2.编辑数据对话框</p> 
 <p>3.运行转换。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="615" src="https://images2.imgbox.com/bd/5f/vmhGCLZM_o.png" width="748"></p> 
<p><strong> 3.注意事项</strong></p> 
<blockquote> 
 <p>&lt;替换所有字段的null值&gt;、&lt;值类型&gt;、&lt;字段&gt;三个输入框同时只能有一个生效。通过选择蓝色线框的复选框来确定哪个输入框生效。</p> 
</blockquote> 
<p><strong>3.4.2 写日志</strong></p> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>把信息写到日志中。在调试中经常会用到这个功能组件。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>       为了展示出组件的效果，我们结合表输入组件一起使用，把t_test表中的字段写入到日志中。</p> 
 <p>1.双击&lt;写日志&gt;组件</p> 
 <p>2.编辑数据对话框</p> 
 <p>3.运行转换。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="720" src="https://images2.imgbox.com/f1/f0/g6AMrSmJ_o.png" width="903"></p> 
<h3 id="%C2%A03.5%C2%A0%E6%B5%81%E7%A8%8B%E6%A8%A1%E5%9D%97"> 3.5 流程模块</h3> 
<blockquote> 
 <p>在转换中同样可以调用转换或者job，但目前用还没用到，等用到之后，再来详细记录。</p> 
</blockquote> 
<h3 id="%C2%A03.6%C2%A0%E8%84%9A%E6%9C%AC%E6%A8%A1%E5%9D%97">3.6 脚本模块</h3> 
<h4 id="3.6.1%20java%20%E4%BB%A3%E7%A0%81"><strong>3.6.1 java 代码</strong></h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>java脚本就是使用java语言通过代码编程来完成对数据流的操作。内置了很多函数可以直接使用。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>为了展示出组件的效果，我们结合表输入组件一起使用。</p> 
</blockquote> 
<p>1.双击 &lt;java 代码组件&gt; 打开功能对话框。可以看到代码编辑区展示空白。</p> 
<p class="img-center"><img alt="" height="641" src="https://images2.imgbox.com/46/e0/eSDy60qD_o.png" width="892"></p> 
<p> 2.点击 Code Snippites 左边的箭头，展开下一级，看到二级分类菜单，打开Common use 如下：</p> 
<p><img alt="" height="777" src="https://images2.imgbox.com/93/1f/WwO48tzU_o.png" width="1200"></p> 
<p>3.双击Main 图标 将在右侧出现代码片段，我们主要在processRow(...)方法中编辑代码逻辑。</p> 
<p><img alt="" height="778" src="https://images2.imgbox.com/d3/56/AkWyDr8a_o.png" width="1200"></p> 
<p><strong> 4.常用方法介绍：</strong></p> 
<p><strong>4.1 main方法</strong></p> 
<pre><code class="language-java">/*
main 方法对应于processRow(..)方法。
主要用来处理单行数据，如对数据进行加工或添加字段
另外，我们也可以在方法外部定义变量。
*/

public boolean processRow(StepMetaInterface smi, StepDataInterface sdi) throws KettleException {
  if (first) {
    first = false;

    /* TODO: Your code here. (Using info fields)

    FieldHelper infoField = get(Fields.Info, "info_field_name");

    RowSet infoStream = findInfoRowSet("info_stream_tag");

    Object[] infoRow = null;

    int infoRowCount = 0;

    // Read all rows from info step before calling getRow() method, which returns first row from any
    // input rowset. As rowMeta for info and input steps varies getRow() can lead to errors.
    while((infoRow = getRowFrom(infoStream)) != null){

      // do something with info data
      infoRowCount++;
    }
    */
  }

  Object[] r = getRow();

  if (r == null) {
    setOutputDone();
    return false;
  }

  // It is always safest to call createOutputRow() to ensure that your output row's Object[] is large
  // enough to handle any new fields you are creating in this step.
  r = createOutputRow(r, data.outputRowMeta.size());

  /* TODO: Your code here. (See Sample)

  // 从流中获取字段对应的值，如果字段名不存在，会抛出异常
  String foobar = get(Fields.In, "a_fieldname").getString(r);

  foobar += "bar";
    
  // 把数据设置到对应字段中，如果output_fieldname字段不存在，则可以在代码编辑区的下方字段设置框中设置字段信息。详情看下图：
  get(Fields.Out, "output_fieldname").setValue(r, foobar);

  */
  // Send the row on to the next step.
  putRow(data.outputRowMeta, r);

  return true;
}</code></pre> 
<p style="text-align:center;"> 设置输出字段信息：</p> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" height="167" src="https://images2.imgbox.com/fd/f2/CwS2Wt4b_o.png" width="457"> 
  <figcaption>
    设置输出字段信息 
  </figcaption> 
 </figure> 
</div> 
<p></p> 
<p><strong> 4.2 Implement init</strong></p> 
<pre><code class="language-java">/*
组件被启动时，执行一次，常用来初始化一些资源数据
*/
public boolean init(StepMetaInterface stepMetaInterface, StepDataInterface stepDataInterface) {
  return parent.initImpl(stepMetaInterface, stepDataInterface);
}
</code></pre> 
<p><strong>4.3 Implement dispose</strong></p> 
<pre><code class="language-java">/*
流结束时，被调用一次，常用来销毁资源，或做一些后置处理，通知消息等操作
*/
public void dispose(StepMetaInterface smi, StepDataInterface sdi) {
  parent.disposeImpl(smi, sdi);
}</code></pre> 
<p><strong>4.4 getVariable</strong></p> 
<pre><code class="language-java">// 用来获取环境变量的值
String getVariable = getVariable(variableName, defaultValue);</code></pre> 
<p><strong>3.小技巧</strong></p> 
<blockquote> 
 <p>1. 在脚本中还可以通过 Step logging 中的方法来设置日志，方便调试。</p> 
 <p>2.可以通过左边 Input files / Output files 快速生成 获取流中的字段值或设置流中的字段值 的相关代码，详情看下图。</p> 
</blockquote> 
<p></p> 
<p style="text-align:center;">设置字段值快捷方式：</p> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" height="477" src="https://images2.imgbox.com/0c/a3/nLAIeTM6_o.png" width="1093"> 
  <figcaption>
    设置字段值快捷方式 
  </figcaption> 
 </figure> 
</div> 
<h3 id="%C2%A03.7%C2%A0%E8%BF%9E%E6%8E%A5%E6%A8%A1%E5%9D%97"> 3.7 连接模块</h3> 
<h4 id="3.7.1%20%E8%AE%B0%E5%BD%95%E9%9B%86%E8%BF%9E%E6%8E%A5">3.7.1 记录集连接</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>根据关键字段连接连个流数据。类似于数据库中的连接操作(INNER JOIN ,LEFT OUT JOIN ,RIGHT OUT JOIN ,FULL OUT JOIN )</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>       为了展示出组件的效果，我们结合表输入组件一起使用，把t_test表中数据与t_test_2表中的数据进行关联。</p> 
 <p>1.双击&lt;记录集连接&gt;组件</p> 
 <p>2.编辑数据对话框</p> 
 <p>3.运行转换。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="550" src="https://images2.imgbox.com/a2/76/MuEzcoaR_o.png" width="735"></p> 
<p style="text-align:center;"> 弹出对话框提示我们需要把连接字段进行排序</p> 
<p class="img-center"><img alt="" height="203" src="https://images2.imgbox.com/e6/99/K16oWIL6_o.png" width="522"></p> 
<p><strong> 3.注意事项：</strong></p> 
<blockquote> 
 <p>1.在使用连接组件前连个数据源一定要先根据相同的规则排序，如果存在多个连接字段，要对多个字段同时排序。</p> 
</blockquote> 
<h4 id="3.7.2%C2%A0%E5%90%88%E5%B9%B6%E8%AE%B0%E5%BD%95">3.7.2 合并记录</h4> 
<p><strong>1. 作用：</strong></p> 
<blockquote> 
 <p>根据已经排序的字段合并两个数据流，并标识出结果集中的数据的状态： new(新建) deleted(删除) changed(改变) identical(相等)。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>       为了展示出组件的效果，我们结合表输入组件一起使用，把t_test表中数据与t_test_1表中的数据（id，name，age）进行合并。</p> 
 <p>1.双击&lt;合并记录&gt;组件</p> 
 <p>2.编辑数据对话框</p> 
 <p>3.运行转换。</p> 
</blockquote> 
<p style="text-align:center;">输入数据：</p> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" height="838" src="https://images2.imgbox.com/0a/35/CbgWSyTj_o.png" width="1015"> 
  <figcaption>
    输入数据 
  </figcaption> 
 </figure> 
</div> 
<p></p> 
<p></p> 
<p class="img-center"><img alt="" height="540" src="https://images2.imgbox.com/15/9c/QJOYjVD3_o.png" width="915"></p> 
<p></p> 
<p style="text-align:center;"> 输出结果：</p> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" height="216" src="https://images2.imgbox.com/a7/1a/H2BoGrSa_o.png" width="345"> 
  <figcaption>
    输出结果预览 
  </figcaption> 
 </figure> 
</div> 
<h3 id="3.8%C2%A0%E7%BB%9F%E8%AE%A1%E6%A8%A1%E5%9D%97">3.8 统计模块</h3> 
<h4 id="3.8.1%20%E8%81%9A%E5%90%88">3.8.1 聚合</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>根据已经排序的分组字段，对结果进行聚合。相当于SQL 语句中的 SELECT 聚合函数() FORM TABLE GROUP BY FIELD ;</p> 
</blockquote> 
<p><strong>2.用法:</strong></p> 
<blockquote> 
 <p>       为了展示出组件的效果，我们结合表输入组件一起使用，把t_test表中的数据根据sex字段进行分组，并对组内数据中的age字段进行求和，对组内数据中的name字段进行逗号拼接。</p> 
 <p>1.双击&lt;聚合&gt;组件</p> 
 <p>2.编辑数据对话框</p> 
 <p>3.运行转换。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="651" src="https://images2.imgbox.com/1d/9f/NNYdoZAj_o.png" width="954"></p> 
<p style="text-align:center;"></p> 
<p style="text-align:center;"> 分组前需要先根据分组字段排序</p> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" height="501" src="https://images2.imgbox.com/fe/a8/hA0zVmDj_o.png" width="653"> 
  <figcaption>
    分组前需要先根据分组字段排序 
  </figcaption> 
 </figure> 
</div> 
<p> <strong>3.注意事项</strong></p> 
<blockquote> 
 <p> 使用分组功能前一定要对数据进行排序。如果存在多个分组字段，则对应的字段都应该被排序。</p> 
</blockquote> 
<h3 id="3.9%C2%A0%E4%BD%9C%E4%B8%9A%E6%A8%A1%E5%9D%97">3.9 作业模块</h3> 
<h4 id="3.9.1%20%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F">3.9.1 设置变量</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>把变量设置到指定的环境变量中。常与脚本组合使用，来生成动态变量。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>       为了展示出组件的效果，我们结合生成记录组件，java代码组件一起使用。我们打算把字段：test_variable  值：test_value 设置为变量。</p> 
</blockquote> 
<p>2.1 设置生成记录组件。只有当有数据流入组件时，组件才会工作。所以我们需要创建一条记录来启动java代码组件。</p> 
<p class="img-center"><img alt="" height="484" src="https://images2.imgbox.com/f9/60/BHazgoiV_o.png" width="787"></p> 
<p>2. 2 设置java代码组件。</p> 
<p class="img-center"><img alt="" height="670" src="https://images2.imgbox.com/24/a1/ULAiegtb_o.png" width="1061"></p> 
<p>2.3 设置变量</p> 
<p class="img-center"><img alt="" height="492" src="https://images2.imgbox.com/dd/1d/KDgH22OZ_o.png" width="1131"></p> 
<p>弹出框出现提示语：</p> 
<blockquote> 
 <p>我们设置的变量，现在还不能直接使用，如果想使用我们设置的变量，可以先在任务的第一个转换里设置变量。 </p> 
</blockquote> 
<p></p> 
<p class="img-center"><img alt="" height="397" src="https://images2.imgbox.com/83/ea/eO6oQKkb_o.png" width="808"></p> 
<p> <strong>3.注意事项</strong></p> 
<blockquote> 
 <p>如果我们在生成记录组件中 设置生成两条数据，则设置变量组件会报错。错误信息如下：</p> 
</blockquote> 
<p class="img-center"><img alt="" height="625" src="https://images2.imgbox.com/74/7f/rBGxhyQV_o.png" width="907"></p> 
<h3 id="3.10%C2%A0%E8%BD%AC%E6%8D%A2%E4%B8%AD%E7%9A%84%E9%80%9A%E7%94%A8%E6%8A%80%E5%B7%A7">3.10 转换中的通用技巧</h3> 
<h4 id="3.10.1%E5%8D%A0%E4%BD%8D%E7%AC%A6">3.10.1占位符</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>有些场景需要在组件中使用参数，此时可以通过占位符获取数据。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p> 通过${key}的方式获取变量。使用示例如下：</p> 
</blockquote> 
<p class="img-center"><img alt="" height="431" src="https://images2.imgbox.com/0a/e8/tTVoONFW_o.png" width="625"></p> 
<blockquote> 
 <p> 在转换调试过程中可以先设置sex_variable的默认值。双击空白处，弹出如下编辑框，在命名参数tab页可以设置命名参数默认值。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="371" src="https://images2.imgbox.com/32/74/egv7ZvDP_o.png" width="753"></p> 
<blockquote> 
 <p> 也可以在数据库配置输入框中使用占位符</p> 
</blockquote> 
<p class="img-center"><img alt="" height="631" src="https://images2.imgbox.com/ae/02/PHKHI8Uk_o.png" width="1019"></p> 
<h4 id="%C2%A03.10.2%20%E6%9F%A5%E7%9C%8B%E6%98%BE%E7%A4%BA%E8%BE%93%E5%85%A5%E5%AD%97%E6%AE%B5%EF%BC%8C%E6%98%BE%E7%A4%BA%E8%BE%93%E5%87%BA%E5%AD%97%E6%AE%B5"> 3.10.2 查看显示输入字段，显示输出字段</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>在调试过程中有可能需要查看组件的输入与输出数据类型，遇到这种场景可以通过显示输入/输出字段功能查看。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>鼠标选择组件，点击右键弹出选择框：</p> 
</blockquote> 
<p class="img-center"><img alt="" height="611" src="https://images2.imgbox.com/1a/6e/Jx6XWujY_o.png" width="410"></p> 
<p style="text-align:center;">输入字段详细信息：</p> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" height="365" src="https://images2.imgbox.com/fc/55/dHnuRZQd_o.png" width="938"> 
  <figcaption>
    输入字段详细信息 
  </figcaption> 
 </figure> 
</div> 
<p style="text-align:center;"> 输出字段详细信息：</p> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" height="325" src="https://images2.imgbox.com/b3/f4/FJD01cgq_o.png" width="935"> 
  <figcaption>
     输出字段详细信息： 
  </figcaption> 
 </figure> 
</div> 
<h4 id="%C2%A03.10.3%20%E6%95%B0%E6%8D%AE%E5%8F%91%E9%80%81"> 3.10.3 数据发送</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>数据是以什么方式流向下一个组件。目前仅支持轮询和复制发送两种发送方式。</p> 
</blockquote> 
<p><strong>2.用法：</strong> </p> 
<p class="img-center"><img alt="" height="232" src="https://images2.imgbox.com/9a/c5/Y5OdF2Ni_o.png" width="527"></p> 
<h4 id="%C2%A03.10.4%20%E6%94%B9%E5%8F%98%E5%BC%80%E5%A7%8B%E5%A4%8D%E5%88%B6%E7%9A%84%E6%95%B0%E9%87%8F"> 3.10.4 改变开始复制的数量</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>控制启动组件的组件的个数，常用于表输出组件，提高输出效率。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<p><img alt="" height="308" src="https://images2.imgbox.com/ac/fe/MxsyzWAb_o.png" width="1050"></p> 
<h4 id="3.10.5%20hop%2F%E8%BF%9E%E6%8E%A5%E7%BA%BF%2F%E8%B7%B3">3.10.5 hop/连接线/跳</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>控制数据的流向。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>鼠标放置到连线上，右键弹出选项框。选项框提供了连接线的常用功能。如果选择&lt;使节点连接失效&gt;则连接线会变灰，同时数据不会流向下一个组件。<strong>需要注意的是单击连接线也会使结点在失效和生效之间转换，在使用时需要注意误操作。</strong></p> 
</blockquote> 
<p class="img-center"><img alt="" height="252" src="https://images2.imgbox.com/0f/17/Gyo56xum_o.png" width="465"></p> 
<h2 id="%E5%9B%9B%E3%80%81%E4%BB%BB%E5%8A%A1%E4%B8%AD%E7%9A%84%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6">四、任务中的常用组件</h2> 
<blockquote> 
 <p>         任务（作业）侧重于对步骤的编排。作业按照一定的顺序完成，因为转换以并行方式执行的，就需要一个可以串行执行的作业来处理一系列按照顺序完成的操作。一个作业包括一个或者多个作业项，这些作业项以某种顺序来执行。作业执行顺序由作业项之间的跳（job hop）和每个作业项的执行结构来决定。</p> 
</blockquote> 
<h3 id="4.1%20%E9%80%9A%E7%94%A8%E6%A8%A1%E5%9D%97">4.1 通用模块</h3> 
<h4 id="4.1.1%20start">4.1.1 start</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>表示一个任务的开始，提供了定时调度能力。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>1.拖动 start 图标到编辑区。</p> 
 <p>2.双击Start图标，设置开始组件。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="340" src="https://images2.imgbox.com/99/0d/bjG5vLar_o.png" width="510"></p> 
<p> <strong>3.注意点：</strong></p> 
<blockquote> 
 <p>虽然kettle的start组件提供了定时调度功能，但是功能比较弱，kettle官方也不推荐使用自带的调度功能，反而建议使用操作系统自带的定时任务。</p> 
</blockquote> 
<h4 id="4.1.2%20%E8%BD%AC%E6%8D%A2">4.1.2 转换</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>调用一个已经存在的转换。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>1.拖动 转换 图标到编辑区。</p> 
 <p>2.双击 转换 图标。</p> 
</blockquote> 
<p style="text-align:center;">选择转换文件： </p> 
<p class="img-center"><img alt="" height="589" src="https://images2.imgbox.com/c1/71/VcQtTMBQ_o.png" width="756"></p> 
<p></p> 
<p style="text-align:center;">选择转换文件：</p> 
<p><img alt="" height="642" src="https://images2.imgbox.com/dd/dc/7wjGyrJG_o.png" width="949"></p> 
<p class="img-center"><img alt="" height="600" src="https://images2.imgbox.com/f8/0b/We2jq92C_o.png" width="742"></p> 
<blockquote> 
 <p> 3.需要注意的是，现在的任务还不能直接看到效果。如果需要使组件运行，需要通过连接线进行连接。运行后，组件右上角展示的绿色对号表示正确运行结束。</p> 
</blockquote> 
<div class="img-center"> 
 <figure class="image"> 
  <img alt="" height="174" src="https://images2.imgbox.com/28/64/OhNqXoOV_o.png" width="248"> 
  <figcaption>
    成功运行 
  </figcaption> 
 </figure> 
</div> 
<p></p> 
<h4 id="4.1.2%20%E4%BD%9C%E4%B8%9A">4.1.2 作业</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>调用一个已经存在的任务。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>用法与转换组件相似，这里就不重复介绍了。</p> 
</blockquote> 
<h4 id="4.1.3%20%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F">4.1.3 设置变量</h4> 
<h4 id="1.%E4%BD%9C%E7%94%A8%EF%BC%9A">1.作用：</h4> 
<blockquote> 
 <p>从文件中获取变量，常用来读取配置文件。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>1.拖动 设置变量 图标到编辑区。</p> 
 <p>2.双击 设置变量 图标。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="508" src="https://images2.imgbox.com/a6/e3/lbifAOBW_o.png" width="906"></p> 
<p><strong> 3.注意事项：</strong></p> 
<blockquote> 
 <p>1.在这里设置的变量，可以通过组件中的占位符(${})获取，也可以在java代码中通过String getVariable = getVariable(variableName, defaultValue)方法获取。</p> 
 <p>2.设置时注意变量的有效范围。</p> 
 <p><strong>3.配置文件的文本格式应该设置为 UTF-8 格式</strong></p> 
</blockquote> 
<p><strong>4.小技巧：</strong></p> 
<blockquote> 
 <p>鼠标放置到 &lt;S&gt;处 ，可以看到提示信息，根据提示信息可以查看系统内置的变量。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="494" src="https://images2.imgbox.com/97/af/npcvYWGj_o.png" width="737"></p> 
<p class="img-center"><img alt="" height="499" src="https://images2.imgbox.com/c6/7e/FPSSnp3U_o.png" width="736"></p> 
<h4 id="4.1.4%20%E6%88%90%E5%8A%9F">4.1.4 成功</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>没有实际用处，仅仅表示任务执行到了 成功 节点。可以存在多个 成功 节点。</p> 
</blockquote> 
<h3 id="4.2%C2%A0%E8%84%9A%E6%9C%AC%E6%A8%A1%E5%9D%97%C2%A0">4.2 脚本模块 </h3> 
<h4 id="4.2.1%20SQL">4.2.1 SQL</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>用于执行一个sql脚本。</p> 
</blockquote> 
<p> <strong>2.用法：</strong></p> 
<p></p> 
<blockquote> 
 <p>1.拖动  SQL 图标到编辑区。</p> 
 <p>2.双击 SQL 图标。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="621" src="https://images2.imgbox.com/74/44/xjQHzLUP_o.png" width="834"></p> 
<h3 id="4.3%C2%A0%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97">4.3 文件管理模块</h3> 
<h4 id="4.3.1%20%E7%AD%89%E5%BE%85%E6%96%87%E4%BB%B6">4.3.1 等待文件</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>1.等待一个文件，常用来做任务是否完成的标志。当某一个任务完成后，可以创建一个标志文件，当其他任务检测到该文件时，就会知道某一个任务已经完成。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>1.拖动 等待文件 图标到编辑区。</p> 
 <p>2.双击 等待文件 图标。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="330" src="https://images2.imgbox.com/ad/1a/TLkciehV_o.png" width="756"></p> 
<h3 id="4.4%20%E4%BB%BB%E5%8A%A1%E4%B8%AD%E7%9A%84%E9%80%9A%E7%94%A8%E6%8A%80%E5%B7%A7%C2%A0">4.4 任务中的通用技巧 </h3> 
<h4 id="4.3.1%C2%A0hop%2F%E8%BF%9E%E6%8E%A5%E7%BA%BF%2F%E8%B7%B3">4.4.1 hop/连接线/跳</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>决定下一个数据的流向，确定数据流入下一个组件的条件或者是否流向下一个组件。</p> 
</blockquote> 
<p><strong>2.用法：</strong></p> 
<blockquote> 
 <p>任务中的连接线与转换中的连接线类似。但多了&lt;评价&gt;选项。评价功能用来决定当上一个组件执行完后是否执行下一个组件(每一个组件执行完后都有一个是否执行成功的标识true/false)。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="229" src="https://images2.imgbox.com/4c/55/xbNSGdec_o.png" width="566"></p> 
<h4 id="%C2%A04.3.2%20%E5%B9%B6%E8%A1%8C"> 4.4.2 并行</h4> 
<p><strong>1.作用：</strong></p> 
<blockquote> 
 <p>使下游的组件以并行的方式运行。常用来运行多个互不影响的任务。</p> 
</blockquote> 
<p id="%E6%80%BB%E7%BB%93"><a id="_45"></a><strong>2.使用：</strong></p> 
<blockquote> 
 <p>选中一个组件右键选择 Run Next Entiries in Parallel （以并行的方式处理下一个节点）即可。</p> 
</blockquote> 
<p class="img-center"><img alt="" height="402" src="https://images2.imgbox.com/68/39/BO4N1Dza_o.png" width="505"></p> 
<p></p> 
<p style="text-align:center;">设置完成后连接线变为虚线且有等于号： </p> 
<p class="img-center"><img alt="" height="251" src="https://images2.imgbox.com/82/14/dkNVMTv0_o.png" width="362"></p> 
<p><strong>3.注意事项：</strong></p> 
<p><strong>当设置并行时，会出现下面提示框：</strong></p> 
<p class="img-center"><img alt="" height="313" src="https://images2.imgbox.com/e7/8e/WvfkMAHT_o.png" width="532"></p> 
<p> 翻译结果如下：</p> 
<blockquote> 
 <p>        当前并行执行作业项的实现根本不执行任何并发检查。至少可以考虑使用文件锁定或任何其他基本或高级系统自己执行。<br> 还请注意，因为作业是通过回溯执行的，所以不仅下一个作业条目是并行启动的，而且后续的作业条目也是并行启动的。<br> 请不要再显示此警告。</p> 
</blockquote> 
<p> 针对翻译的个人理解：</p> 
<blockquote> 
 <p>1.并行的节点之间没有并发安全性的设计。如果涉及到各个节点之间的安全性，需要自己实现。</p> 
 <p>2.并发节点之后的所有节点都是并发的，这就意味着如果分支之间再去合并，合并后的节点依然是并发的。</p> 
</blockquote> 
<h2 id="%E6%80%BB%E7%BB%93">总结</h2> 
<p>以上就是kettle任务的使用入门。如有疑问欢迎留言。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/e7522499e1e03cb4833917d7d44459e7/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">（05）VUE/JS 保留小数方法合集 (保留两位为例)</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/1b8c633b5857e120e264d56b0229aaf7/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">字符串流stringstream--＜sstream＞</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>