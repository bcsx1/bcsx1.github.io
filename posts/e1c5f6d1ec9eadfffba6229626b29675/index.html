<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>【Python】—日志模块logging使用详解1 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="【Python】—日志模块logging使用详解1" />
<meta property="og:description" content="文章目录 1、日志级别2、logging流程3、几个重要的类3.1 Logger类1) 最常用的配置方法2) 创建`Logger`对象`logging.getLogger([name])` 3.2 `Handler`类3.3 `Filter`类3.4 `Formatter`类 4. 使用示例4.1 直接调用`logging`接口4.2 使用`basicConfig()`函数4.3 一步步配置`Logger`4.4 通过`dictConfig`配置4.4.1 `dictConfig()`4.4.2 配置规则4.4.3 配置示例 开发部署项目时，不可能将所有的信息都输出到控制台中，因此我们将这些信息记录到日志文件中，不仅方便查看程序运行的情况，也可以在项目出现故障时根据该运行时产生的日志快速定位问题。 Python中提供了日志模块logging，可以方便的记录日志信息。
本文主要分析了logging模块的相关知识及具体使用。
当前介绍该日志模块的文章有很多，之所以还要进行记录，一方面是因为没有看到系统的介绍，二是通过梳理此部分内容，做到不止会用，还明白内部函数调用。
1、日志级别 Python标准库logging用做记录日志，默认分为五种日志级别：
DEBUG(10)：详细信息，调试问题时所需INFO(20)：证明事情可按预期工作WARNING(30)：有意外，将来可能发生问题，但依然可用ERROR(40)：严重问题，程序不能执行一些功能CRITICAL(50)：严重错误 我们自定义日志级别时注意不要和默认的日志级别数值型相同（这是什么意思呢），logging执行时输出大于等于设置的值日级别的日志信息，如设置级别为INFO，则INFO, WARNING, ERROR, CRITICAL级别的日志都会输出。
5种等级分别对应5种日志打印方法：debug, info, warning, error, critical。
默认的是WARNING，即当等级大于等于WARNING才被跟踪。
2、logging流程 官方的logging模块工作流程图如下：
logging流程图 从上图中可以看到这几种python类型，Logger, LogRecord, Filter, Handler, Formatter。
类型说明
Logger：日志，暴露函数给应用程序，基于日志记录器和过滤器级别决定哪些日志有效。LogRecord：日志记录器，将日志传到相应的处理器处理。Handler：处理器，将（日志记录器产生的）日志记录发送至合适的目的地。Filter：过滤器，提供了更好的粒度控制，它可以决定输出哪些日志记录。Formatter：格式化器，指明了最终输出中日志记录的布局。 基本流程:
判断Logger对象对于设置的级别是否可用，如果可用，则往下执行，否则，流程结束。创建LogRecord对象，如果注册到Logger对象中的Filter对象过滤后返回False， 则不记录日志，流程结束，否则，向下执行。LogRecord对象将Handler对象传入当前的Logger对象，（图中子流程）如果Handler对象的日志级别大于设置的日记级别，再判断注册到Handler对象中的Filter对象过滤后是否返回True而放行输出日志信息，否则不放行，流程结束。如果传入的Handler大于Logger中设置的级别，也即Handler有效，则往下执行，否则，流程结束。判断这个Logger对象是否还有父Logger对象，如果没有（代表当前Logger对象是最顶层的Logger对象root Logger），流程结束。否则将Logger对象设置为它的父Logger对象，重复上面3,4两步，输出父类Logger对象中的日志输出，直到是root Logger对象。 3、几个重要的类 前面讲logging流程的时候，提到几个概念：Logger，Handler，Filter，Formatter。
3.1 Logger类 Logger对象有3个任务要做：
向应用程序代码暴露info, debug等方法，使应用程序可以在运行时记录日志消息基于日志级别（默认的过滤设施）或Filter对象来决定要对哪些日志进行后续处理将日志消息传送给所有感兴趣的日志handlers 一个系统只有一个根Logger对象，并且该对象不能被直接实例化。
通过调用logging.getLogger(name)函数创建Logger类对象。
Logger对象最常用的方法有两类：（1）配置方法，（2）消息发送方法
Logger对象可以设置多个Handler对象和Filter对象，Handler对象可以设置Formatter对象。
Formatter对象用来设置消息的具体输出格式。
1) 最常用的配置方法 方法描述Logger.setLevel设置日志器将会处理的日志消息的最低严重级别Logger.addHandler()为该Logger对象添加一个handler对象Logger.removeHandler为该Logger对象移除一个handler对象Logger.addFilter()和Logger.removeFilter()为该Logger对象添加 和 移除一个filter对象 logger对象配置完成后，可使用下面的方法来创建日志记录：
Logger.debug(), Logger." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/e1c5f6d1ec9eadfffba6229626b29675/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-01-02T17:18:35+08:00" />
<meta property="article:modified_time" content="2020-01-02T17:18:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">【Python】—日志模块logging使用详解1</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>文章目录</h4> 
 <ul><li><ul><li><a href="#1_8" rel="nofollow">1、日志级别</a></li><li><a href="#2logging_20" rel="nofollow">2、logging流程</a></li><li><a href="#3_39" rel="nofollow">3、几个重要的类</a></li><li><ul><li><a href="#31_Logger_42" rel="nofollow">3.1 Logger类</a></li><li><ul><li><a href="#1__57" rel="nofollow">1) 最常用的配置方法</a></li><li><a href="#2_LoggerlogginggetLoggername_81" rel="nofollow">2) 创建`Logger`对象`logging.getLogger([name])`</a></li></ul> 
    </li><li><a href="#32_Handler_122" rel="nofollow">3.2 `Handler`类</a></li><li><a href="#33_Filter_161" rel="nofollow">3.3 `Filter`类</a></li><li><a href="#34_Formatter_181" rel="nofollow">3.4 `Formatter`类</a></li></ul> 
   </li><li><a href="#4___216" rel="nofollow">4. 使用示例</a></li><li><ul><li><a href="#41_logging_228" rel="nofollow">4.1 直接调用`logging`接口</a></li><li><a href="#42_basicConfig_341" rel="nofollow">4.2 使用`basicConfig()`函数</a></li><li><a href="#43_Logger_432" rel="nofollow">4.3 一步步配置`Logger`</a></li><li><a href="#44_dictConfig_491" rel="nofollow">4.4 通过`dictConfig`配置</a></li><li><ul><li><a href="#441_dictConfig_497" rel="nofollow">4.4.1 `dictConfig()`</a></li><li><a href="#442__520" rel="nofollow">4.4.2 配置规则</a></li><li><a href="#443__551" rel="nofollow">4.4.3 配置示例</a></li></ul> 
   </li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<br> 开发部署项目时，不可能将所有的信息都输出到控制台中，因此我们将这些信息记录到日志文件中，不仅方便查看程序运行的情况，也可以在项目出现故障时根据该运行时产生的日志快速定位问题。 
<p></p> 
<p><code>Python</code>中提供了日志模块<code>logging</code>，可以方便的记录日志信息。</p> 
<blockquote> 
 <p>本文主要分析了<code>logging</code>模块的相关知识及具体使用。<br> 当前介绍该日志模块的文章有很多，之所以还要进行记录，一方面是因为没有看到系统的介绍，二是通过梳理此部分内容，做到不止会用，还明白内部函数调用。</p> 
</blockquote> 
<h3><a id="1_8"></a>1、日志级别</h3> 
<p><code>Python</code>标准库<code>logging</code>用做记录日志，默认分为五种日志级别：</p> 
<ul><li><code>DEBUG(10)</code>：详细信息，调试问题时所需</li><li><code>INFO(20)</code>：证明事情可按预期工作</li><li><code>WARNING(30)</code>：有意外，将来可能发生问题，但依然可用</li><li><code>ERROR(40)</code>：严重问题，程序不能执行一些功能</li><li><code>CRITICAL(50)</code>：严重错误</li></ul> 
<p>我们自定义日志级别时注意不要和默认的日志级别数值型相同（<mark>这是什么意思呢</mark>），<code>logging</code>执行时输出<strong>大于等于</strong>设置的值日级别的日志信息，如设置级别为INFO，则INFO, WARNING, ERROR, CRITICAL级别的日志都会输出。<br> 5种等级分别对应5种日志打印方法：<code>debug, info, warning, error, critical</code>。<br> 默认的是<code>WARNING</code>，即当等级大于等于<code>WARNING</code>才被跟踪。</p> 
<h3><a id="2logging_20"></a>2、logging流程</h3> 
<p>官方的<code>logging</code>模块工作流程图如下：<br> <img src="https://images2.imgbox.com/da/30/Oj42yr9x_o.png" alt="logging流程图"></p> 
<center> 
 <strong>logging流程图</strong> 
</center> 
<p></p> 
<p>从上图中可以看到这几种python类型，<code>Logger, LogRecord, Filter, Handler, Formatter</code>。<br> <strong>类型说明</strong></p> 
<ul><li><code>Logger</code>：<strong>日志</strong>，暴露函数给应用程序，基于日志记录器和过滤器级别决定哪些日志有效。</li><li><code>LogRecord</code>：<strong>日志记录器</strong>，将日志传到相应的处理器处理。</li><li><code>Handler</code>：<strong>处理器</strong>，将（日志记录器产生的）日志记录发送至合适的目的地。</li><li><code>Filter</code>：<strong>过滤器</strong>，提供了更好的粒度控制，它可以决定输出哪些日志记录。</li><li><code>Formatter</code>：<strong>格式化器</strong>，指明了最终输出中日志记录的布局。</li></ul> 
<p><strong>基本流程</strong>:</p> 
<ul><li>判断<code>Logger</code>对象对于设置的级别是否可用，如果可用，则往下执行，否则，流程结束。</li><li>创建<code>LogRecord</code>对象，如果注册到<code>Logger</code>对象中的<code>Filter</code>对象过滤后返回False， 则不记录日志，流程结束，否则，向下执行。</li><li><code>LogRecord</code>对象将<code>Handler</code>对象传入当前的<code>Logger</code>对象，（图中子流程）如果<code>Handler</code>对象的日志级别大于设置的日记级别，再判断注册到<code>Handler</code>对象中的<code>Filter</code>对象过滤后是否返回True而放行输出日志信息，否则不放行，流程结束。</li><li>如果传入的<code>Handler</code>大于<code>Logger</code>中设置的级别，也即<code>Handler</code>有效，则往下执行，否则，流程结束。</li><li>判断这个<code>Logger</code>对象是否还有父<code>Logger</code>对象，如果没有（代表当前<code>Logger</code>对象是最顶层的<code>Logger</code>对象<code>root Logger</code>），流程结束。否则将<code>Logger</code>对象设置为它的父<code>Logger</code>对象，重复上面3,4两步，输出父类<code>Logger</code>对象中的日志输出，直到是<code>root Logger</code>对象。</li></ul> 
<h3><a id="3_39"></a>3、几个重要的类</h3> 
<p>前面讲<code>logging</code>流程的时候，提到几个概念：<code>Logger</code>，<code>Handler</code>，<code>Filter</code>，<code>Formatter</code>。</p> 
<h4><a id="31_Logger_42"></a>3.1 Logger类</h4> 
<p><code>Logger</code>对象有3个任务要做：</p> 
<ul><li>向应用程序代码暴露<code>info, debug</code>等方法，使应用程序可以在运行时记录日志消息</li><li>基于日志级别（默认的过滤设施）或<code>Filter</code>对象来决定要对哪些日志进行后续处理</li><li>将日志消息传送给所有感兴趣的日志<code>handlers</code></li></ul> 
<p>一个系统只有一个根<code>Logger</code>对象，并且<strong>该对象不能被直接实例化</strong>。</p> 
<blockquote> 
 <p>通过调用<code>logging.getLogger(name)</code>函数创建<code>Logger</code>类对象。</p> 
</blockquote> 
<p><code>Logger</code>对象最常用的方法有两类：（1）配置方法，（2）消息发送方法</p> 
<p><code>Logger</code>对象可以设置多个<code>Handler</code>对象和<code>Filter</code>对象，<code>Handler</code>对象可以设置<code>Formatter</code>对象。<br> <code>Formatter</code>对象用来设置消息的具体输出格式。</p> 
<h5><a id="1__57"></a>1) 最常用的配置方法</h5> 
<table><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td><code>Logger.setLevel</code></td><td>设置日志器将会处理的日志消息的最低严重级别</td></tr><tr><td><code>Logger.addHandler()</code></td><td>为该<code>Logger</code>对象添加一个<code>handler</code>对象</td></tr><tr><td><code>Logger.removeHandler</code></td><td>为该<code>Logger</code>对象移除一个<code>handler</code>对象</td></tr><tr><td><code>Logger.addFilter()和Logger.removeFilter()</code></td><td>为该<code>Logger</code>对象添加 和 移除一个<code>filter</code>对象</td></tr></tbody></table> 
<p><code>logger</code>对象配置完成后，可使用下面的方法来创建日志记录：</p> 
<ul><li><code>Logger.debug(), Logger.info(), Logger.warning(), Logger.error(), Logger.critical()</code>：创建一个与他们的方法名对应等级的日志记录</li><li><code>Logger.exception()</code>：创建一个类似于<code>Logger.error()</code>的日志消息</li><li><code>Logger.log()</code>：需要获取一个明确的日志level参数来创建一个日志记录</li></ul> 
<p><strong>1. 获取<code>Logger</code>对象</strong><br> 通常是通过<code>--logging.getLogger()</code>的方法。该方法有一个可选参数<code>name</code>,该参数表示将要返回的日志器的名称标识，如果不提供该参数，则其值为<code>root</code>。<br> 若以相同的<code>name</code>参数值多次调用<code>getLogger()</code>方法，将会返回指向同一个<code>Logger</code>对象的引用。</p> 
<p><strong>2. logger的层级结构与有效等级</strong></p> 
<ul><li> <p><code>logger</code>的名称是一个<font color="blue">以<code>'.'</code>分割</font>的层级结构，每个<code>'.'</code>后面的<code>logger</code>都是’.'前面的logger的<code>children</code>，例如，有一个名称为 <code>foo</code> 的<code>logger</code>，其它名称分别为<code>foo.bar, foo.bar.baz</code>和 <code>foo.bam</code>都是 <code>foo</code> 的后代。</p> </li><li> <p><code>logger</code>有一个"<strong>有效等级（<code>effective level</code>）</strong>"的概念。<strong>如果一个logger上没有被明确设置一个level，那么该logger就是使用它parent的level</strong>;如果它的<code>parent</code>也没有明确设置<code>level</code>则继续向上查找<code>parent</code>的<code>parent</code>的有效<code>level</code>，依次类推，直到找到个一个明确设置了<code>level</code>的祖先为止。需要说明的是，<strong><code>root logger</code>总是会有一个明确的<code>level</code>设置（默认为 <code>WARNING</code>）</strong>。当决定是否去处理一个已发生的事件时，<code>logger</code>的有效等级将会被用来决定是否将该事件传递给该<code>logger</code>的<code>handlers</code>进行处理。</p> </li><li> <p><code>child loggers</code>在完成对日志消息的处理后，默认会将日志消息传递给与它们的祖先<code>loggers</code>相关的<code>handlers</code>。因此，我们<font color="red">不必为一个应用程序中所使用的所有loggers定义和配置handlers</font>，<strong>只需要为一个顶层的<code>logger</code>配置<code>handlers</code></strong>，然后按照需要创建child loggers就可足够了。我们也可以通过将一个logger的propagate属性设置为False来关闭这种传递机制。</p> </li></ul> 
<h5><a id="2_LoggerlogginggetLoggername_81"></a>2) 创建<code>Logger</code>对象<code>logging.getLogger([name])</code></h5> 
<p>日志记录的工作主要由<code>Logger</code>对象来完成。前面讲到一个系统只有一个根<code>Logger</code>对象，并且<strong>该对象不能被直接实例化</strong>。</p> 
<p>需要通过<code>logging.getLogger([name])</code>来获取<code>Logger</code>对象。<br> 在调用<code>getLogger</code>时要提供<code>Logger</code>的名称（<mark>多次使用相同名称来调用getLogger，返回的是同一个对象的引用。</mark>），<code>Logger</code>实例之间有层次关系，这些关系通过<code>Logger</code>名称来体现。</p> 
<pre><code class="prism language-py">p <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span>“root”<span class="token punctuation">)</span>
c1 <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span>“root<span class="token punctuation">.</span>c1”<span class="token punctuation">)</span>
c2 <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span>“root<span class="token punctuation">.</span>c2”<span class="token punctuation">)</span>
</code></pre> 
<p>例子中，<code>p</code>是<code>父logger</code>, <code>c1,c2</code>分别是p的<code>子logger</code>。<code>c1, c2</code>将继承<code>p</code>的设置。如果省略了<code>name</code>参数, <code>getLogger</code>将返回日志对象层次关系中的<code>根Logger</code>。</p> 
<p>每个<code>Logger</code>对象都可以设置一个名字，如果设置<code>logger = logging.getLogger(__name__)</code>，<code>__name__</code>是<code>Python</code>中的一个特殊内置变量，他代表当前模块的名称（默认为<code>__main__</code>）。</p> 
<p>该函数内部根据是否指定名称返回对应的<strong>Logger对象</strong>。</p> 
<pre><code class="prism language-py">root <span class="token operator">=</span> RootLogger<span class="token punctuation">(</span>WARNING<span class="token punctuation">)</span>
Logger<span class="token punctuation">.</span>root <span class="token operator">=</span> root
Logger<span class="token punctuation">.</span>manager <span class="token operator">=</span> Manager<span class="token punctuation">(</span>Logger<span class="token punctuation">.</span>root<span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">getLogger</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Return a logger with the specified name, creating it if necessary.
    If no name is specified, return the root logger.
    """</span>
    <span class="token keyword">if</span> name<span class="token punctuation">:</span>
        <span class="token keyword">return</span> Logger<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> root
</code></pre> 
<p><strong>示例：</strong></p> 
<pre><code class="prism language-py"><span class="token keyword">import</span> logging
logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span>
logger<span class="token punctuation">.</span>warning<span class="token punctuation">(</span><span class="token string">'this is a warning info'</span><span class="token punctuation">)</span>
<span class="token comment"># 输出</span>
WARNING<span class="token punctuation">:</span>test<span class="token punctuation">:</span>this <span class="token keyword">is</span> a warning info
</code></pre> 
<h4><a id="32_Handler_122"></a>3.2 <code>Handler</code>类</h4> 
<p><code>Handler</code>对象的作用是（基于日志消息的等级）将消息分发到<code>handler</code>指定的位置（文件、网络、邮件等）。<code>Logger</code>对象可以通过<code>addHandler()</code>方法为自己添加<code>handler</code>对象。</p> 
<blockquote> 
 <p>应用程序代码不应该直接实例化和使用<code>Handler</code>实例。因为<code>Handler</code>是一个基类，只<strong>定义了所有<code>handlers</code>都应该有的接口</strong>，同时提供了一些子类可以直接使用或覆盖的默认行为。</p> 
 <p><strong>常用接口</strong>有：</p> 
 <ul><li><code>setLevel()</code></li><li><code>setFormatter()</code></li><li><code>set_name()</code></li></ul> 
</blockquote> 
<p>常用的<code>Handler</code>：</p> 
<table><thead><tr><th>Handler</th><th>描述</th></tr></thead><tbody><tr><td><code>logging.StreamHandler</code></td><td>将日志消息发送到输出到<code>Stream</code>，如<code>std.out, std.err</code>或任何<code>file-like</code>对象。</td></tr><tr><td><code>logging.FileHandler</code></td><td>将日志消息发送到<strong>磁盘文件</strong>，默认情况下<strong>文件大小会无限增长</strong></td></tr><tr><td><code>logging.handlers.RotatingFileHandler</code></td><td>将日志消息发送到<strong>磁盘文件</strong>，并支持日志文件<strong>按大小切割</strong></td></tr><tr><td><code>logging.hanlders.TimedRotatingFileHandler</code></td><td>将日志消息发送到<strong>磁盘文件</strong>，并支持日志文件<strong>按时间切割</strong></td></tr><tr><td><code>logging.handlers.HTTPHandler</code></td><td>将日志消息以<code>GET</code>或<code>POST</code>的方式发送给一个<code>HTTP</code>服务器</td></tr><tr><td><code>logging.handlers.SMTPHandler</code></td><td>将日志消息发送给一个<strong>指定的email地址</strong></td></tr><tr><td><code>logging.NullHandler</code></td><td>该<code>Handler</code>实例会忽略<code>error messages</code>，通常被想使用<code>logging</code>的<code>library</code>开发者使用来避免<code>'No handlers could be found for logger XXX'</code>信息的出现。</td></tr></tbody></table> 
<p><strong>类之间的继承关系</strong>如下：<br> <img src="https://images2.imgbox.com/5e/81/sXcifB7e_o.png" alt="在这里插入图片描述"></p> 
<p>示例：</p> 
<pre><code class="prism language-py"><span class="token keyword">import</span> logging

logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogging<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 获取Logger对象</span>
handler <span class="token operator">=</span> logging<span class="token punctuation">.</span>FileHandler<span class="token punctuation">(</span><span class="token string">'output.log'</span><span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'a'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> delay<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
formatter <span class="token operator">=</span> logging<span class="token punctuation">.</span>Formatter<span class="token punctuation">(</span><span class="token string">'%(asctime)s - %(name)s - %(levelname)s - %(message)s'</span><span class="token punctuation">,</span>
                              datefmt<span class="token operator">=</span><span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">,</span>
                              style<span class="token operator">=</span><span class="token string">'%'</span><span class="token punctuation">)</span>
handler<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span> <span class="token comment"># handler对象设置格式</span>
handler<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span><span class="token comment"># handler设置日志级别</span>

logger<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>handler<span class="token punctuation">)</span> <span class="token comment"># 添加handler对象</span>
</code></pre> 
<h4><a id="33_Filter_161"></a>3.3 <code>Filter</code>类</h4> 
<p><code>Filter</code>实例用于执行日志记录的任意筛选。<br> <code>Loggers</code>和<code>Handlers</code>可以根据需要使用筛选器实例筛选记录.<br> <code>logging</code>标准库只提供了一个<code>base filter</code>，其构造函数<code>__init__</code>接收<code>name</code>，默认的行为是名为<code>name</code>的<code>logger</code>及其子<code>logger</code>的消息能通过过滤器，其余的被过滤掉。</p> 
<pre><code class="prism language-py"><span class="token keyword">class</span> <span class="token class-name">Filter</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Filter instances are used to perform arbitrary filtering of LogRecords.
    """</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""
        Initialize a filter.

        Initialize with the name of the logger which, together with its
        children, will have its events allowed through the filter. If no
        name is specified, allow every event.
        """</span>
        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name
        self<span class="token punctuation">.</span>nlen <span class="token operator">=</span> <span class="token builtin">len</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
</code></pre> 
<h4><a id="34_Formatter_181"></a>3.4 <code>Formatter</code>类</h4> 
<p><code>Formatter</code>对象用于配置日志信息的最终顺序、结构和内容。与<code>logging.Handler</code>基类不同的是，应用代码可以直接实例化<code>Formatter</code>类。</p> 
<p><code>Formatter</code>类的构造方法定义如下：<br> <code>logging.Formatter.__init__(fmt=None, datefmt=None, style='%')</code></p> 
<p>该方法可接收3个可选参数：</p> 
<ul><li><code>fmt</code>：指定消息格式化字符串，如果不指定该参数则默认使用<code>message</code>的原始值</li><li><code>datefmt</code>：指定日期格式字符串，如果不指定，则默认使用<code>"%Y-%m-%d %H:%M:%S"</code></li><li><code>style</code>：可取值为<code>'%', '{'和'$'</code>，如果不指定，则默认使用<code>'%'</code></li></ul> 
<table><thead><tr><th>格式</th><th>含义</th></tr></thead><tbody><tr><td><code>%(levelno)s</code></td><td>打印日志级别的数值</td></tr><tr><td><code>%(levelname)s</code></td><td>打印日志级别名称</td></tr><tr><td><code>%(pathname)s</code></td><td>打印当前执行程序的路径</td></tr><tr><td><code>%(filename)s</code></td><td>打印当前执行程序名</td></tr><tr><td><code>%(funcName)s</code></td><td>打印日志的当前函数</td></tr><tr><td><code>%(lineno)d</code></td><td>打印日志的当前行号</td></tr><tr><td><code>%(asctime)s</code></td><td>打印日志的时间</td></tr><tr><td><code>%(thread)d</code></td><td>打印线程ID</td></tr><tr><td><code>%(message)s</code></td><td>打印日志信息</td></tr><tr><td><code>%(process)s</code></td><td>当前进程，进程ID</td></tr><tr><td><code>%(module)s</code></td><td>调用日志输出函数的模块名，<code>filename</code>的名称部分，不包含后缀</td></tr><tr><td><code>%(msecs)d</code></td><td>日志事件发生事件的毫秒部分。<code>logging.basicConfig()</code>中用参数<code>datefmt</code>将会去掉<code>asctime</code>中产生的毫秒部分，可以用这个加上。</td></tr></tbody></table> 
<p>一般直接使用<code>logging.Formatter(fmt, datefmt)</code></p> 
<pre><code class="prism language-py"><span class="token keyword">import</span> logging
fmt <span class="token operator">=</span> <span class="token string">"%(asctime)s [%(filename)s:%(lineno)d] %(levelname)s: %(message)s"</span>
datefmt<span class="token operator">=</span><span class="token string">"%Y-%m-%d %H:%M:%S"</span>
logFormatter <span class="token operator">=</span> logging<span class="token punctuation">.</span>Formatter<span class="token punctuation">(</span>fmt<span class="token punctuation">,</span> datefmt<span class="token punctuation">)</span>
</code></pre> 
<h3><a id="4___216"></a>4. 使用示例</h3> 
<blockquote> 
 <p>该部分主要展示如何使用<code>logging</code>模块记录日志信息的使用方法。</p> 
</blockquote> 
<p><strong>默认的输出格式</strong>如下：<br> <img src="https://images2.imgbox.com/1e/41/IH5xdWyq_o.png" alt="在这里插入图片描述" width="500" height="90"><br> <strong>示例：</strong><br> <img src="https://images2.imgbox.com/4a/f7/vxWn37uE_o.png" alt="在这里插入图片描述"><br> <code>logging</code>模块如何使用呢？下面介绍几种常用的使用方式：</p> 
<p>一是使用<code>logging</code>的对外函数接口；二是使用<code>basicConfig()</code>方法，该方法能够满足基本的使用需求；三是通过创建<code>Logger</code>对象，可以进行更加复杂的处理。</p> 
<h4><a id="41_logging_228"></a>4.1 直接调用<code>logging</code>接口</h4> 
<p>最简单的使用方法，就是直接调用<code>logging</code>标准库的接口，如<code>logging.debug()</code>，<code>logging.info()</code>等函数。<br> 默认的日志级别是<code>WARNING</code>，当等级大于等于<code>WARNING</code>才被跟踪。</p> 
<blockquote> 
 <p>内部默认调用的是<code>root.log(level, mas)</code>函数</p> 
</blockquote> 
<p>接口函数如下：</p> 
<ul><li><code>debug()</code></li><li><code>info()</code></li><li><code>warning()</code></li><li><code>error()</code></li><li><code>critical()</code></li></ul> 
<p>也可以直接使用同一接口<code>logging.log()</code>，输入级别及具体信息。</p> 
<ul><li><code>log(level, msg)</code>：<code>level</code>表示日志级别，输入日志级别对应的整数或代码，如下：<pre><code class="prism language-py">CRITICAL <span class="token operator">=</span> <span class="token number">50</span>
FATAL <span class="token operator">=</span> CRITICAL
ERROR <span class="token operator">=</span> <span class="token number">40</span>
WARNING <span class="token operator">=</span> <span class="token number">30</span>
WARN <span class="token operator">=</span> WARNING
INFO <span class="token operator">=</span> <span class="token number">20</span>
DEBUG <span class="token operator">=</span> <span class="token number">10</span>
NOTSET <span class="token operator">=</span> <span class="token number">0</span>
</code></pre> </li></ul> 
<p>这些接口函数内部<strong>实际调用的都是<code>Logger</code>类的对应函数</strong>。如果<code>logger</code>没有<code>handler</code>时，可默认调用<code>basicConfig()</code>添加控制台<code>handler</code>。<br> 如，<code>logging.info()</code>函数内部调用<code>root.info()</code>函数，如下</p> 
<pre><code class="prism language-py"><span class="token keyword">def</span> <span class="token function">info</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""
    Log a message with severity 'INFO' on the root logger. If the logger has
    no handlers, call basicConfig() to add a console handler with a pre-defined
    format.
    """</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>handlers<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>
        basicConfig<span class="token punctuation">(</span><span class="token punctuation">)</span>
    root<span class="token punctuation">.</span>info<span class="token punctuation">(</span>msg<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
</code></pre> 
<p>示例如下：</p> 
<pre><code class="prism language-py"><span class="token keyword">import</span> logging
logging<span class="token punctuation">.</span>warning<span class="token punctuation">(</span><span class="token string">'this is a warning info.'</span><span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">'this is a error info.'</span><span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">'this is a debuginfo.'</span><span class="token punctuation">)</span>
<span class="token comment"># 输出</span>
WARNING<span class="token punctuation">:</span>root<span class="token punctuation">:</span>this <span class="token keyword">is</span> a warning info<span class="token punctuation">.</span>
ERROR<span class="token punctuation">:</span>root<span class="token punctuation">:</span>this <span class="token keyword">is</span> a error info<span class="token punctuation">.</span>

logging<span class="token punctuation">.</span>log<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'this is a info msg.'</span><span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>log<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">'this is a warn msg.'</span><span class="token punctuation">)</span>
<span class="token comment"># 输出：</span>
WARNING<span class="token punctuation">:</span>root<span class="token punctuation">:</span>this <span class="token keyword">is</span> a warn msg<span class="token punctuation">.</span>
</code></pre> 
<p><strong>记录具体异常信息</strong></p> 
<p>当发生异常时，直接使用无参数的<code>debug(), info(), warning(), error(), critical()</code>方法并不能记录异常信息。</p> 
<p><strong>我们看一下各个接口的定义及参数：</strong></p> 
<pre><code class="prism language-py"><span class="token comment"># 普通接口</span>
<span class="token keyword">def</span> <span class="token function">warning</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
<span class="token comment"># 内部调用如下函数：</span>
self<span class="token punctuation">.</span>_log<span class="token punctuation">(</span>WARNING<span class="token punctuation">,</span> msg<span class="token punctuation">,</span> args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>

<span class="token comment"># 统一接口</span>
<span class="token keyword">def</span> <span class="token function">log</span><span class="token punctuation">(</span>level<span class="token punctuation">,</span> msg<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
<span class="token comment"># 内部调用如下函数：</span>
self<span class="token punctuation">.</span>_log<span class="token punctuation">(</span>level<span class="token punctuation">,</span> msg<span class="token punctuation">,</span> args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>

<span class="token comment"># exception函数，参数中默认exc_info为True</span>
<span class="token keyword">def</span> <span class="token function">exception</span><span class="token punctuation">(</span>msg<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> exc_info<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
   error<span class="token punctuation">(</span>msg<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> exc_info<span class="token operator">=</span>exc_info<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
<span class="token comment"># 内部调用如下函数：</span>
self<span class="token punctuation">.</span>_log<span class="token punctuation">(</span>ERROR<span class="token punctuation">,</span> msg<span class="token punctuation">,</span> args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span>
</code></pre> 
<p>由上面代码可见，其内部都是调用函数<code>Logger._log(level, msg, args, **kwargs)</code>。不同的是参数，如<code>level</code>日志级别。<br> 函数<code>Logger._log()</code>的定义如下：</p> 
<pre><code class="prism language-py"><span class="token keyword">def</span> <span class="token function">_log</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> level<span class="token punctuation">,</span> msg<span class="token punctuation">,</span> args<span class="token punctuation">,</span> exc_info<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> extra<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> stack_info<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
</code></pre> 
<p>可见，其除了<code>level</code>， <code>msg</code>以外，还有参数<code>exc_info</code>。该参数用来控制是否打印具体信息。</p> 
<p><strong>函数<code>exception()</code>就等于<code>error(msg, exc_info=True)</code></strong></p> 
<p>因此：<br> <strong>记录异常信息的方法</strong>：</p> 
<ul><li>设置<code>exc_info</code>参数为<code>True</code>，指示是否打印执行信息</li><li>或者使用<code>exception()</code>方法，同时记录当前的堆栈追踪（仅从异常处理程度调用此方法）</li><li>还可以使用<code>log()</code>方法，但是要设置日志级别和<code>exce_info</code>参数。</li></ul> 
<p><code>logger.log(level, msg, exc_info=True)</code>是各个接口函数的统一调用方式。</p> 
<p><strong>示例代码：</strong></p> 
<pre><code class="prism language-py"><span class="token keyword">import</span> logging

logging<span class="token punctuation">.</span>basicConfig<span class="token punctuation">(</span>filename<span class="token operator">=</span><span class="token string">"test.log"</span><span class="token punctuation">,</span> filemode<span class="token operator">=</span><span class="token string">"w"</span><span class="token punctuation">,</span> <span class="token builtin">format</span><span class="token operator">=</span><span class="token string">"%(asctime)s %(name)s:%(levelname)s:%(message)s"</span><span class="token punctuation">,</span> datefmt<span class="token operator">=</span><span class="token string">"%d-%M-%Y %H:%M:%S"</span><span class="token punctuation">,</span> level<span class="token operator">=</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span>
a <span class="token operator">=</span> <span class="token number">5</span>
b <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    c <span class="token operator">=</span> a <span class="token operator">/</span> b
<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    <span class="token comment"># 下面三种方式三选一，推荐使用第一种</span>
    logging<span class="token punctuation">.</span>exception<span class="token punctuation">(</span><span class="token string">"Exception occurred"</span><span class="token punctuation">)</span>
    logging<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">"Exception occurred"</span><span class="token punctuation">,</span> exc_info<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    logging<span class="token punctuation">.</span>log<span class="token punctuation">(</span>level<span class="token operator">=</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">,</span> msg<span class="token operator">=</span><span class="token string">"Exception occurred"</span><span class="token punctuation">,</span> exc_info<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre> 
<p>输出文件<code>test.log</code>的内容:<br> <img src="https://images2.imgbox.com/7a/6c/EmKYJpuf_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="42_basicConfig_341"></a>4.2 使用<code>basicConfig()</code>函数</h4> 
<p>使用<code>basicConfig()</code>方法就能够满足基本的使用需要，如果方法没有传入参数，会根据默认的配置创建<code>Logger</code>对象，默认的日志级别被设置为 <mark><strong>WARNING</strong></mark> 。<br> 默认的日志输出格式：</p> 
<table><thead><tr><th>WARNING</th><th>root</th><th>message</th></tr></thead><tbody><tr><td>日志级别</td><td><code>Logger</code>实例</td><td>日志信息</td></tr></tbody></table> 
<p><strong>函数定义：</strong><br> <code>def basicConfig(**kwargs)</code></p> 
<p>该函数<strong>可选的参数</strong>如下表所示：</p> 
<table><thead><tr><th align="center">参数名称</th><th align="center">参数描述</th></tr></thead><tbody><tr><td align="center"><code>filename</code></td><td align="center">日志输出到文件的文件名</td></tr><tr><td align="center"><code>filemode</code></td><td align="center">文件模式，<code>r[+]</code>、<code>w[+]</code>、<code>a[+]</code></td></tr><tr><td align="center"><code>format</code></td><td align="center">日志输出的格式</td></tr><tr><td align="center"><code>datefmt</code></td><td align="center">日志附带日期时间的格式</td></tr><tr><td align="center"><code>style</code></td><td align="center">格式占位符，默认为<code>“%”</code>和<code>“{}”</code></td></tr><tr><td align="center"><code>level</code></td><td align="center">设置日志输出级别</td></tr><tr><td align="center"><code>stream</code></td><td align="center">定义输出流，用来初始化 <code>StreamHandler</code>对象，不能和 <code>filename</code>参数一起使用，否则会<code>ValueError</code>异常</td></tr><tr><td align="center"><code>handles</code></td><td align="center">定义处理器，用来创建<code>Handler</code>对象，不能和<code>filename，stream</code>参数一起使用，否则也会抛出<code>ValueError</code>异常</td></tr></tbody></table> 
<blockquote> 
 <ul><li><code>stream</code>输出流不与<code>filename</code>输出文件一起使用</li><li><code>handler</code>处理器不与<code>stream</code>输出流或<code>filename</code>输出文件一起用</li><li>即<code>stream</code>、<code>filename</code>和<code>handler</code>互相排斥</li><li>若想将日志信息同时输出到文件和控制台，则需要使用<code>Logger</code>处理器增加对应的处理方法。</li></ul> 
</blockquote> 
<p><code>basicConfig()</code>方法可以实现将日志信息输出到文件中<strong>或者</strong>输出到定义的输出流中。</p> 
<ul><li><strong>输出到文件中</strong>，可以通过<code>filename</code>参数，或者通过<code>handler</code>处理器创建相应文件对象实现 
  <ul><li>内部创建<code>FileHandle()</code>对象</li></ul> </li><li><strong>打印到输出流</strong>中，使用默认参数即可 
  <ul><li>内部创建<code>StreamHandler()</code>对象</li></ul> </li></ul> 
<p>其中，<code>format</code>指定输出的格式和内容，<code>format</code>可以输出很多有用信息，具体格式见<code>Formatter类</code>。</p> 
<p>对 <code>basicConfig()</code>的调用应该在 <code>debug()</code>， <code>info()</code> 等的前面。因为它被设计为一次性的配置，只有第一次调用会进行操作，随后的调用不会产生有效操作。</p> 
<p>该方法相当于显示调用<code>basicConfig()</code>进行参数的配置，而直接调用<code>logging.info()</code>接口函数，若没有<code>handler</code>时，是隐式调用<code>basicConfig()</code>的默认参数形式。</p> 
<p><strong>1）日志信息打印到输出流</strong></p> 
<pre><code class="prism language-py"><span class="token keyword">import</span> logging
<span class="token comment"># 直接调用basicConfig()函数，使用默认参数</span>
logging<span class="token punctuation">.</span>basicConfig<span class="token punctuation">(</span><span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">'This is a debug message'</span><span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'This is an info message'</span><span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>warning<span class="token punctuation">(</span><span class="token string">'This is a warning message'</span><span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">'This is an error message'</span><span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>critical<span class="token punctuation">(</span><span class="token string">'This is a critical message'</span><span class="token punctuation">)</span>

<span class="token comment"># 输出：(默认级别是WARNING)</span>
WARNING<span class="token punctuation">:</span>root<span class="token punctuation">:</span>This <span class="token keyword">is</span> a warning message
ERROR<span class="token punctuation">:</span>root<span class="token punctuation">:</span>This <span class="token keyword">is</span> an error message
CRITICAL<span class="token punctuation">:</span>root<span class="token punctuation">:</span>This <span class="token keyword">is</span> a critical message
</code></pre> 
<p><strong>2）格式化输出</strong></p> 
<p><strong>格式化输出时间：</strong><br> 通过<code>datefmt</code>参数可以格式化输出<code>log</code>的时间。</p> 
<p><strong>常用的输出格式</strong>如下：<br> <code>format = '%(asctime)s - %(filename)s[line:%(lineno)d]- %(levelname)s: %(message)s'</code><br> 该格式可以输出日志的打印时间，输出模块及行号，日志级别和输出的日志内容。</p> 
<pre><code class="prism language-py"><span class="token keyword">import</span> logging
logging<span class="token punctuation">.</span>basicConfig<span class="token punctuation">(</span><span class="token builtin">format</span><span class="token operator">=</span><span class="token string">'%(asctime)s %(message)s'</span><span class="token punctuation">,</span> datefmt <span class="token operator">=</span> <span class="token string">'%Y-%m-%d %I:%M:%S %p'</span><span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>warning<span class="token punctuation">(</span><span class="token string">'is when this event was occurred.'</span><span class="token punctuation">)</span>

<span class="token comment"># 输出结果</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">15</span> <span class="token number">04</span><span class="token punctuation">:</span><span class="token number">03</span><span class="token punctuation">:</span><span class="token number">17</span> PM <span class="token keyword">is</span> when this event was occurred<span class="token punctuation">.</span>
</code></pre> 
<p><strong>3） 将日志输出到指定文件</strong><br> 指定<code>filename</code>， <code>filemode</code>参数，可将日志内容输出到指定文件，示例代码如下：</p> 
<pre><code class="prism language-py"><span class="token keyword">import</span> logging

logging<span class="token punctuation">.</span>basicConfig<span class="token punctuation">(</span>filename<span class="token operator">=</span><span class="token string">'test.log'</span><span class="token punctuation">,</span> filemode<span class="token operator">=</span><span class="token string">'w'</span><span class="token punctuation">,</span> <span class="token builtin">format</span><span class="token operator">=</span><span class="token string">"%(asctime)s %(name)s:%(levelname)s:%(message)s"</span><span class="token punctuation">,</span> datefmt<span class="token operator">=</span><span class="token string">"%d-%M-%Y %H:%M:%S"</span><span class="token punctuation">,</span> level<span class="token operator">=</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">'This is a debug message'</span><span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">'This is an info message'</span><span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>warning<span class="token punctuation">(</span><span class="token string">'This is a warning message'</span><span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">'This is an error message'</span><span class="token punctuation">)</span>
</code></pre> 
<p>生成的日志文件<code>test.log</code>，内容如下：<br> <img src="https://images2.imgbox.com/60/89/lQHzBZT1_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="43_Logger_432"></a>4.3 一步步配置<code>Logger</code></h4> 
<p><code>basicConfig</code>函数提供了一种较为简便的使用日志的方式，如果想要获取更加复杂的使用，则需要自己一步步配置来实现。</p> 
<p><strong>配置逻辑：</strong></p> 
<ul><li>一个<code>logger</code>对象可以添加多个<code>handler</code>对象，通过<code>addHandler()</code>函数</li><li>每个<code>handler</code>对象可以有一个<code>Formatter</code>对象来指定格式，通过<code>setFormatter()</code>函数</li><li><code>handler</code>和<code>logger</code>对象都需要设置一个日志等级，通过<code>setLevel()</code>函数</li><li>根据需要<code>logger</code>和<code>handler</code>对象可以添加多个<code>Filter</code>对象，通过<code>addFilter()</code>函数</li></ul> 
<p><strong>示例：</strong></p> 
<pre><code class="prism language-py"><span class="token keyword">import</span> logging

logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>
logger<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>level<span class="token operator">=</span>logging<span class="token punctuation">.</span>INFO<span class="token punctuation">)</span>

handler <span class="token operator">=</span> logging<span class="token punctuation">.</span>FileHandler<span class="token punctuation">(</span><span class="token string">'output.log'</span><span class="token punctuation">,</span> mode<span class="token operator">=</span><span class="token string">'a'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> delay<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
formatter <span class="token operator">=</span> logging<span class="token punctuation">.</span>Formatter<span class="token punctuation">(</span><span class="token string">'%(asctime)s - %(name)s - %(levelname)s - %(message)s'</span><span class="token punctuation">,</span>
								datefmt<span class="token operator">=</span><span class="token string">'%Y-%m-%d %H:%M:%S'</span><span class="token punctuation">,</span>
								style<span class="token operator">=</span><span class="token string">'%'</span><span class="token punctuation">)</span>
handler<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>
handler<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span>
handler<span class="token punctuation">.</span>set_name<span class="token punctuation">(</span><span class="token string">'output-log'</span><span class="token punctuation">)</span>

logger<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>handler<span class="token punctuation">)</span>

a<span class="token operator">=</span><span class="token number">0</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    res <span class="token operator">=</span> <span class="token number">100</span> <span class="token operator">/</span> a
<span class="token keyword">except</span><span class="token punctuation">:</span>
    logger<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">'Divisor is equal to 0.'</span><span class="token punctuation">,</span> exc_info<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre> 
<p><strong>将日志同时输出到屏幕和文件</strong></p> 
<pre><code class="prism language-py"><span class="token keyword">import</span> logging
logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span>
logger<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>level <span class="token operator">=</span> logging<span class="token punctuation">.</span>DEBUG<span class="token punctuation">)</span>
handler <span class="token operator">=</span> logging<span class="token punctuation">.</span>FileHandler<span class="token punctuation">(</span><span class="token string">"log.txt"</span><span class="token punctuation">)</span>
handler<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>INFO<span class="token punctuation">)</span>
formatter <span class="token operator">=</span> logging<span class="token punctuation">.</span>Formatter<span class="token punctuation">(</span><span class="token string">'%(asctime)s - %(name)s - %(message)s'</span><span class="token punctuation">)</span>
handler<span class="token punctuation">.</span>setFormatter<span class="token punctuation">(</span>formatter<span class="token punctuation">)</span>

console <span class="token operator">=</span> logging<span class="token punctuation">.</span>StreamHandler<span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span>setLevel<span class="token punctuation">(</span>logging<span class="token punctuation">.</span>INFO<span class="token punctuation">)</span>

logger<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>handler<span class="token punctuation">)</span>
logger<span class="token punctuation">.</span>addHandler<span class="token punctuation">(</span>console<span class="token punctuation">)</span>

logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">"Start print log"</span><span class="token punctuation">)</span>
logger<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">"Do something"</span><span class="token punctuation">)</span>
logger<span class="token punctuation">.</span>warning<span class="token punctuation">(</span><span class="token string">"Something maybe fail."</span><span class="token punctuation">)</span>
logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">"Finish"</span><span class="token punctuation">)</span>
</code></pre> 
<p>在<code>log.txt</code>文件和控制台均可看到输出，控制台的输出，其中文件中内容（有格式）如下：<br> <img src="https://images2.imgbox.com/2d/91/ICEe1LM2_o.png" alt="在这里插入图片描述"><br> 通过这段代码可以看出，<code>logging</code>有一个日志处理的主对象(<code>logger=logging.getLogger()</code>)，其他的处理方法均是通过<code>addHandler</code>添加进去。</p> 
<h4><a id="44_dictConfig_491"></a>4.4 通过<code>dictConfig</code>配置</h4> 
<p>通过<code>dictConfig</code>配置方法是通过python代码构建一个<code>dict</code>对象，也可以通过<code>JSON</code>或<code>yaml</code>文件来进行配置。<br> 这种方式使用起来更加灵活，强大。我们可以把很多的数据转换成自字典形式，然后将他们填充到一个配置字典中。</p> 
<p>具体如何转换可以参考<code>logging.config.py</code>文件。</p> 
<h5><a id="441_dictConfig_497"></a>4.4.1 <code>dictConfig()</code></h5> 
<p>该函数可以从一个字典对象中获取日志配置信息，<code>config</code>参数就是这个字典对象。</p> 
<p>定义如下：</p> 
<pre><code class="prism language-py"><span class="token keyword">def</span> <span class="token function">dictConfig</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""Configure logging using a dictionary."""</span>
    dictConfigClass<span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">.</span>configure<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> 
<p>如使用<code>YAML</code>格式的文件类配置(配置内容见下方示例)，则使用示例：</p> 
<pre><code class="prism language-py"><span class="token keyword">import</span> logging
<span class="token keyword">import</span> logging<span class="token punctuation">.</span>config
<span class="token keyword">import</span> yaml

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'logging.yml'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f_config<span class="token punctuation">:</span>
	dict_cfg <span class="token operator">=</span> yaml<span class="token punctuation">.</span>load<span class="token punctuation">(</span>f_config<span class="token punctuation">)</span>
logging<span class="token punctuation">.</span>config<span class="token punctuation">.</span>dictConfig<span class="token punctuation">(</span>dict_cfg<span class="token punctuation">)</span>

logger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token string">'console'</span><span class="token punctuation">)</span>
logger<span class="token punctuation">.</span>debug<span class="token punctuation">(</span><span class="token string">'debug msg'</span><span class="token punctuation">)</span>
</code></pre> 
<h5><a id="442__520"></a>4.4.2 配置规则</h5> 
<table><thead><tr><th>key名称</th><th>描述</th></tr></thead><tbody><tr><td><code>version</code></td><td>必选项，整数值，表示配置格式版本，当前唯一可用值是<code>1</code></td></tr><tr><td><code>formatters</code></td><td>可选项，其值是字典对象，该字典对象每个元素的<code>key</code>为要定义的格式器名称，<code>value</code>为格式器的配置信息组成的<code>dict</code>。一般会配置<code>format</code>，用于指定输出字符串的格式，<code>datefmt</code>用于指定输出的时间字符串格式，默认为<code>%Y-%m-%d %H:%M:%S</code>。</td></tr><tr><td><code>filters</code></td><td>可选项，其值是字典对象，该字典对象每个元素的<code>key</code>为要定义的过滤器名称，<code>value</code>为过滤器的配置信息组成的<code>dict</code>。</td></tr><tr><td><code>handlers</code></td><td>可选项，其值是字典对象，该字典对象每个元素的<code>key</code>为要定义的处理器名称，<code>value</code>为处理器的配置信息组成的<code>dict</code>。如<code>class</code>（必选项）, <code>formatter</code>, <code>filters</code>。其他配置信息将会传递给<code>class</code>所指定的处理器类的构造函数。如使用<code>logging.handlers.RotatingFileHandler</code>，使用<code>maxBytes</code>, <code>backupCount</code>等参数。</td></tr><tr><td><code>loggers</code></td><td>可选项，其值是字典对象，该字典对象每个元素的<code>key</code>为要定义的日志器名称，<code>value</code>为日志器的配置信息组成的<code>dict</code>。如<code>level, handler, filter</code>等</td></tr><tr><td><code>root</code></td><td>可选项，这是<code>root logger</code>的配置项，其值是字典对象。除非在定义其它<code>logger</code>时明确指定<code>propagate</code>值为no，否则<code>root logger</code>定义的<code>handlers</code>都会被作用到其它<code>logger</code>上。</td></tr><tr><td><code>incremental</code></td><td>可选项，默认值为<code>False</code>。该选项的意义在于，如果这里定义的对象已经存在，那么这里对这些对象的定义是否应用到已存在的对象上。值为<code>False</code>表示，已存在的对象将会被重新定义。</td></tr></tbody></table> 
<p><strong>具体配置结构如下所示：</strong></p> 
<ul><li><code>version</code>： 必要参数，必须为<code>1</code></li><li><code>incremental</code>：是否将此配置文件解释为现有配置的增量, 默认为<code>False</code></li><li><code>disable_existing_loggers</code>：是否要禁用现有的非 <code>root logger</code>，默认为<code>True</code></li><li><code>handlers</code>：字典形式 
  <ul><li><code>class</code>：必须有，所使用的<code>handler</code>类，如<code>logging.handlers.RotatingFileHandler</code></li><li><code>level</code>：（可选），<code>handler</code>的等级</li><li><code>formatter</code>：（可选），当前<code>handler</code>的<code>formatter</code>的<code>id</code></li><li><code>filters</code>：（可选），当前<code>handler</code>的<code>filters</code>的<code>id</code>列表</li></ul> </li><li><code>loggers</code>：字典形式 
  <ul><li><code>level</code>：（可选），<code>logger</code>的等级</li><li><code>propagate</code>：（可选）：默认值为1，表示将消息传递给父<code>logger</code>的<code>handler</code>进行处理。</li><li><code>filters</code>：（可选）</li><li><code>handlers</code>：（可选） ，当前<code>logger</code>的<code>handlers</code>的<code>id</code>列表</li><li><code>qualname</code>：代码中使用<code>logging.getLogger()</code>时，读取的就是<code>qualname</code>这个选项。</li></ul> </li><li><code>root</code>：这是<code>root logger</code>的配置项 
  <ul><li><code>level</code>：日志等级</li><li><code>handlers</code> ：当前<code>root logger</code>的<code>handlers</code>的<code>id</code>列表</li></ul> </li></ul> 
<h5><a id="443__551"></a>4.4.3 配置示例</h5> 
<pre><code class="prism language-yml">version<span class="token punctuation">:</span><span class="token number">1</span>
<span class="token key atrule">root</span><span class="token punctuation">:</span>
	level<span class="token punctuation">:</span>DEBUG
	handlers<span class="token punctuation">:</span><span class="token punctuation">[</span>filehandler<span class="token punctuation">,</span> <span class="token punctuation">]</span>
<span class="token key atrule">loggers</span><span class="token punctuation">:</span>
	<span class="token key atrule">console</span><span class="token punctuation">:</span>
		level<span class="token punctuation">:</span>WARNING
		handlers<span class="token punctuation">:</span><span class="token punctuation">[</span>consolehandler<span class="token punctuation">,</span><span class="token punctuation">]</span>
		propagate<span class="token punctuation">:</span><span class="token number">1</span>
<span class="token key atrule">handlers</span><span class="token punctuation">:</span>
	<span class="token key atrule">filehandler</span><span class="token punctuation">:</span>
		class<span class="token punctuation">:</span>logging.FileHandler
		filename<span class="token punctuation">:</span>logs/sys.log
		level<span class="token punctuation">:</span>WARNING
		formatter<span class="token punctuation">:</span>fileformatter
	<span class="token key atrule">consolehandler</span><span class="token punctuation">:</span>
		class<span class="token punctuation">:</span>logging.StreamHandler
		stream<span class="token punctuation">:</span>ext<span class="token punctuation">:</span>//sys.stdout
		level<span class="token punctuation">:</span>DEBUG
		formatter<span class="token punctuation">:</span>consoleformatter
<span class="token key atrule">formatters</span><span class="token punctuation">:</span>
	<span class="token key atrule">fileformatter</span><span class="token punctuation">:</span>
		format<span class="token punctuation">:</span><span class="token string">'%(asctime)s [%(name)s][%(levelname)s]：%(message)s'</span>
	<span class="token key atrule">consoleformatter</span><span class="token punctuation">:</span>
		format<span class="token punctuation">:</span><span class="token string">'%(asctime)s[%(levelname)s]:%(message)s'</span>
</code></pre> 
<blockquote> 
 <p>外部对象访问：外部对象是指不能直接进行访问，需要<code>import</code>导入的对象，这时候需要加一个<code>ext://</code>前缀以便识别，然后系统就会<code>import</code>这个前缀后面的内容。</p> 
</blockquote> 
<p><strong>参考资料：</strong><br> <a href="https://cloud.tencent.com/developer/article/1354396" rel="nofollow">Python日志库logging总结-可能是目前为止将logging库总结的最好的一篇文章</a><br> <a href="https://www.cnblogs.com/louis-w/p/8567434.html" rel="nofollow">python基础学习十 logging模块详细使用【转载】 - louis_w - 博客园</a><br> <a href="https://www.cnblogs.com/Nicholas0707/p/9021672.html" rel="nofollow">Python之路(第十七篇)logging模块 - Nicholas- - 博客园</a></p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/697ac523bbc79571505350e8ecde7f68/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">python--列表、字符串、字典、元组之间的转换</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/65177ad4ba987e91ba2de44254cd8e1f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">ECharts入门</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>