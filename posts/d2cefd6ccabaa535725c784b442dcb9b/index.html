<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>OpenWRT之UCI系统 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="OpenWRT之UCI系统" />
<meta property="og:description" content="网络条件允许的还是建议去https://openwrt.org/自己查看资料。
目录 UCI系统 共同原则 配置文件 文件语法 编辑器插件 命令行实用程序 用法 UCI数据/对象模型 元素 例子 UCI默认值 将UCI移植到其他Linux发行版 损坏的配置 UCI系统 缩写UCI代表“Unified Configuration Interface”(统一配置界面)的缩写，是集中的OpenWrt的服务配置的系统。 UCI是白俄文系列的OpenWrt中基于NVRAM的配置的继承者，并且是最重要的系统设置的主要配置用户界面。例如，例如主网络接口配置，无线设置，日志记录功能和远程访问配置。 此外，OpenWrt存储库中的许多软件包已与UCI系统兼容。 通过根据相应UCI文件中选择的设置简单地写入原始配置文件（由程序读取），即可使应用程序与UCI兼容。这是在中运行初始化脚本时完成的/etc/init.d/。有关更多信息，请参见初始化脚本(Init scripts)。因此，在使用兼容UCI的初始化脚本启动守护程序时，应注意该程序的原始配置文件将被覆盖。例如，在Samba / CIFS的情况下，文件/etc/samba/smb.conf被覆盖从UCI配置文件UCI设置/etc/config/samba运行时/etc/init.d/samba start。此外，应用程序的配置文件通常存储在RAM中而不是闪存中，因为它不需要存储在非易失性存储器中，并且每次更改后都会基于UCI文件进行重写。万一您想调整无法通过UCI获得的原始配置文件中的设置，可以使用一些禁用UCI的方法，例如，在cifs.server中，您可以看到如何为samba禁用UCI。 对于那些不兼容UCI的程序，有一些您可能希望使用的非UCI配置文件的便捷列表。请注意，对于大多数第三方程序，您应该查阅程序自己的文档。 共同原则 OpenWrt的中央配置被分成/etc/config/目录中的几个文件。每个文件都与它所配置的系统部分有关。您可以使用文本编辑器编辑配置文件，也可以使用命令行实用程序对其进行修改uci。还可以通过各种编程API（例如Shell，Lua和C）修改UCI配置文件，这也是Web接口（例如LuCI）如何更改UCI文件的方式。 更改UCI配置文件时，无论是通过文本编辑器还是通过命令行，都必须通过init.d调用(init.d call)（重新启动）（或在某些情况下只需重新加载）受影响的服务或可执行文件，以便更新的UCI配置将应用于它们。通过使init.d脚本写入其特定于软件的标准配置文件，可以使许多程序与UCI兼容。首先，init.d脚本会将此类配置文件正确写入软件的预期位置，然后通过重新启动可执行文件再次读取该配置文件。请注意，仅直接（重新）启动可执行文件而不进行init.d调用不会导致UCI更新以将UCI配置委托给程序的预期配置文件。文件中的更改/etc/config/ 然后不起作用。 作为修改UCI配置的示例，假设您要将设备的IP地址从默认值更改192.168.1.1为192.168.2.1。为此，请使用任何文本编辑器（例如vi）更改行 option ipaddr	192.168.1.1 在文件/etc/config/network中： option ipaddr	192.168.2.1 接下来，通过运行来提交设置 /etc/init.d/network restart 在这种情况下，请记住您必须使用SSH重新登录，因为现在可以使用其新IP地址访问该设备！ 配置文件 文件 描述 基本的 /etc/config/dhcp Dnsmasq和odhcpd设置：DNS，DHCP，DHCPv6 /etc/config/dropbear SSH服务器选项 /etc/config/firewall NAT，数据包过滤器，端口转发等 /etc/config/network 交换机，接口和路由配置：
基础知识，IPv4，IPv6，路由，规则，WAN，别名，交换机，VLAN，IPv4 / IPv6过渡，隧道 /etc/config/system 杂项 系统设置 /etc/config/wireless 无线设置和wifi网络定义 IPv6 /etc/config/ahcpd 临时配置协议（AHCP）服务器和转发器配置 /etc/config/dhcp6c WIDE-DHCPv6客户端 /etc/config/dhcp6s WIDE-DHCPv6服务器 /etc/config/gw6c GW6c客户端配置 其他 /etc/config/babeld 功能配置 /etc/config/bbstored BoxBackup服务器配置 /etc/config/ddns 动态DNS配置（ddns脚本） /etc/config/dnscrypt-proxy DNSCrypt代理 /etc/config/etherwake 局域网唤醒：以太网唤醒 /etc/config/freifunk_p2pblock 使用iptables layer7，ipp2p和最近模块阻止p2p /文件共享流量 /etc/config/fstab 挂载点和交换 /etc/config/hd-idle 另一个用于连接硬盘的空闲守护程序 /etc/config/httpd Web服务器选项（Busybox httpd，已弃用） /etc/config/ipset-dns 配置https://git." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/d2cefd6ccabaa535725c784b442dcb9b/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-08-05T16:31:35+08:00" />
<meta property="article:modified_time" content="2020-08-05T16:31:35+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">OpenWRT之UCI系统</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-light">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>网络条件允许的还是建议去https://openwrt.org/自己查看资料。</p> 
<div class="page group"> 
 <div id="dw__toc" class="dw__toc"> 
  <h4 class="toggle open"><strong></strong>目录</h4> 
  <div> 
  </div> 
 </div> 
</div> 
<ul class="toc"><li class="level1"> 
  <div class="li"> 
   <a href="#the_uci_system" rel="nofollow">UCI系统</a> 
  </div> 
  <ul class="toc"><li class="level2"> 
    <div class="li"> 
     <a href="#common_principles" rel="nofollow">共同原则</a> 
    </div></li><li class="level2"> 
    <div class="li"> 
     <a href="#configuration_files" rel="nofollow">配置文件</a> 
    </div></li><li class="level2"> 
    <div class="li"> 
     <a href="#file_syntax" rel="nofollow">文件语法</a> 
    </div></li><li class="level2"> 
    <div class="li"> 
     <a href="#editor_plugins" rel="nofollow">编辑器插件</a> 
    </div></li><li class="level2"> 
    <div class="li"> 
     <a href="#command_line_utility" rel="nofollow">命令行实用程序</a> 
    </div> 
    <ul class="toc"><li class="level3"> 
      <div class="li"> 
       <a href="#usage" rel="nofollow">用法</a> 
      </div></li></ul> </li><li class="level2"> 
    <div class="li"> 
     <a href="#uci_dataobject_model" rel="nofollow">UCI数据/对象模型</a> 
    </div> 
    <ul class="toc"><li class="level3"> 
      <div class="li"> 
       <a href="#elements" rel="nofollow">元素</a> 
      </div></li><li class="level3"> 
      <div class="li"> 
       <a href="#examples" rel="nofollow">例子</a> 
      </div></li><li class="level3"> 
      <div class="li"> 
       <a href="#uci_defaults" rel="nofollow">UCI默认值</a> 
      </div></li></ul> </li><li class="level2"> 
    <div class="li"> 
     <a href="#porting_uci_to_a_different_linux_distribution" rel="nofollow">将UCI移植到其他Linux发行版</a> 
    </div></li><li class="level2"> 
    <div class="li"> 
     <a href="#corrupted_configs" rel="nofollow">损坏的配置</a> 
    </div></li></ul></li></ul> 
 
<h2 class="sectionedit1" id="the_uci_system">UCI系统</h2> 
<div class="level1"> 
</div> 
<p> 缩写<a href="/docs/techref/uci" rel="nofollow" class="wikilink1" title="docs：techref：uci">UCI</a>代表<em><strong><em class="u">“Unified Configuration Interface”(统一配置界面)的缩写</em></strong></em>，是集中的OpenWrt的服务配置的系统。 </p> 
<p> UCI是白俄文系列的OpenWrt中基于NVRAM的配置的继承者，并且是最重要的系统设置的主要配置用户界面。例如，例如主网络接口配置，无线设置，日志记录功能和远程访问配置。 </p> 
<p> 此外，OpenWrt存储库中的许多软件包已与UCI系统兼容。 </p> 
<p> 通过根据相应UCI文件中选择的设置简单地写入原始配置文件（由程序读取），即可使应用程序与UCI兼容。这是在中运行初始化脚本时完成的<code>/etc/init.d/</code>。有关更多信息，请参见<a href="https://openwrt.org/docs/techref/initscripts" rel="nofollow">初始化脚本(Init scripts)</a>。因此，在使用兼容UCI的初始化脚本启动守护程序时，应注意该程序的原始配置文件将被覆盖。例如，在<a href="https://openwrt.org/docs/guide-user/services/nas/cifs.server" rel="nofollow">Samba / CIFS</a>的情况下，文件<code>/etc/samba/smb.conf</code>被覆盖从UCI配置文件UCI设置<code>/etc/config/samba</code>运行时<code>/etc/init.d/samba start</code>。此外，应用程序的配置文件通常存储在RAM中而不是闪存中，因为它不需要存储在非易失性存储器中，并且每次更改后都会基于UCI文件进行重写。万一您想调整无法通过UCI获得的原始配置文件中的设置，可以使用一些禁用UCI的方法，例如，在<a href="https://openwrt.org/docs/guide-user/services/nas/cifs.server" rel="nofollow">cifs.server</a>中，您可以看到如何为samba禁用UCI。 </p> 
<p> 对于那些不兼容UCI的程序，有一些您可能希望使用的<a href="https://openwrt.org/docs/guide-user/base-system/notuci.config" rel="nofollow">非UCI配置文件</a>的便捷列表。请注意，对于大多数第三方程序，您应该查阅程序自己的文档。 </p> 
<h3 class="sectionedit2" id="common_principles">共同原则</h3> 
<div class="level2"> 
</div> 
<p> OpenWrt的中央配置被分成<code>/etc/config/</code>目录中的几个文件。每个文件都与它所配置的系统部分有关。您可以使用文本编辑器编辑配置文件，也可以使用命令行实用程序对其进行修改<code>uci</code>。还可以通过各种编程API（例如Shell，Lua和C）修改UCI配置文件，这也是Web接口（例如<a href="https://openwrt.org/docs/guide-user/luci/luci.essentials" rel="nofollow">LuCI</a>）如何更改UCI文件的方式。 </p> 
<p> 更改UCI配置文件时，无论是通过文本编辑器还是通过命令行，都必须通过<a href="https://openwrt.org/docs/techref/initscripts" rel="nofollow">init.d调用(init.d call)</a>（重新启动）（或在某些情况下只需重新加载）受影响的服务或可执行文件，以便更新的UCI配置将应用于它们。通过使init.d脚本写入其特定于软件的标准配置文件，可以使许多程序与UCI兼容。首先，init.d脚本会将此类配置文件正确写入软件的预期位置，然后通过重新启动可执行文件再次读取该配置文件。请注意，仅直接（重新）启动可执行文件而不进行init.d调用不会导致UCI更新以将UCI配置委托给程序的预期<a href="https://en.wikipedia.org/wiki/Configuration_file" rel="nofollow">配置文件</a>。文件中的更改<code>/etc/config/</code> 然后不起作用。 </p> 
<p> 作为修改UCI配置的示例，假设您要将设备的<abbr title="互联网协议">IP</abbr>地址从默认值更改<code>192.168.1.1</code>为<code>192.168.2.1</code>。为此，请使用任何文本编辑器（例如vi）更改行 </p> 
<pre class="code bash">option ipaddr	192.168.1.1</pre> 
<p> 在文件<code>/etc/config/network</code>中： </p> 
<pre class="code bash">option ipaddr	192.168.2.1</pre> 
<p> 接下来，通过运行来提交设置 </p> 
<pre class="code bash">/etc/init.d/network restart</pre> 
<p> 在这种情况下，请记住您必须使用<abbr title="安全壳">SSH</abbr>重新登录，因为现在可以使用其新<abbr title="互联网协议">IP</abbr>地址访问该设备！ </p> 
<h3 class="sectionedit3" id="configuration_files">配置文件</h3> 
<div class="level2"> 
 <div class="table sectionedit4"> 
  <table class="inline"><thead><tr class="row0"><th class="col0"> 文件 </th><th class="col1"> 描述 </th></tr><tr class="row1"><th class="col0" colspan="2"> 基本的 </th></tr></thead><tbody><tr class="row2"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/base-system/dhcp" rel="nofollow">/etc/config/dhcp</a> </td><td class="col1"> <a href="https://openwrt.org/docs/guide-user/base-system/dhcp.dnsmasq" rel="nofollow">Dnsmasq</a>和<a href="https://openwrt.org/docs/techref/odhcpd" rel="nofollow">odhcpd</a>设置：<abbr title="域名系统">DNS</abbr>，<abbr title="动态主机配置协议">DHCP</abbr>，DHCPv6</td></tr><tr class="row3"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/base-system/dropbear" rel="nofollow">/etc/config/dropbear</a> </td><td class="col1"> <abbr title="安全壳">SSH</abbr>服务器选项</td></tr><tr class="row4"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/firewall/firewall_configuration" rel="nofollow">/etc/config/firewall</a> </td><td class="col1"> <abbr title="网络地址解读">NAT</abbr>，数据包过滤器，端口转发等</td></tr><tr class="row5"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/network/ucicheatsheet" rel="nofollow">/etc/config/network</a> </td><td class="col1">交换机，接口和路由配置：<br> <a href="https://openwrt.org/docs/guide-user/base-system/basic-networking" rel="nofollow">基础知识</a>，<a href="https://openwrt.org/docs/guide-user/network/ipv4/start" rel="nofollow">IPv4</a>，<a href="https://openwrt.org/docs/guide-user/network/ipv6/start" rel="nofollow">IPv6</a>，<a href="https://openwrt.org/docs/guide-user/network/routes_configuration" rel="nofollow">路由</a>，<a href="https://openwrt.org/docs/guide-user/network/ip_rules" rel="nofollow">规则</a>，<a href="https://openwrt.org/docs/guide-user/network/wan/wan_interface_protocols" rel="nofollow">WAN</a>，<a href="https://openwrt.org/docs/guide-user/network/network_interface_alias" rel="nofollow">别名</a>，<a href="https://openwrt.org/docs/guide-user/base-system/basic-networking" rel="nofollow">交换机</a>，<a href="https://openwrt.org/docs/guide-user/network/vlan/switch_configuration" rel="nofollow">VLAN</a>，<a href="https://openwrt.org/docs/guide-user/network/ipv6_ipv4_transitioning" rel="nofollow">IPv4 / IPv6过渡</a>，<a href="https://openwrt.org/docs/guide-user/network/tunneling_interface_protocols" rel="nofollow">隧道</a> </td></tr><tr class="row6"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/base-system/system_configuration" rel="nofollow">/etc/config/system</a> </td><td class="col1">杂项 系统设置</td></tr><tr class="row7"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/network/wifi/basic" rel="nofollow">/etc/config/wireless</a> </td><td class="col1"> 无线设置和wifi网络定义 </td></tr><tr class="row8"><th class="col0" colspan="2"> <abbr title="互联网协议版本6">IPv6</abbr> </th></tr><tr class="row9"><td class="col0"> <a href="https://openwrt.org/doc/uci/ahcpd" rel="nofollow">/etc/config/ahcpd</a> </td><td class="col1"> 临时配置协议（AHCP）服务器和转发器配置 </td></tr><tr class="row10"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/network/ipv6/dhcp6c" rel="nofollow">/etc/config/dhcp6c</a> </td><td class="col1"> WIDE-DHCPv6客户端 </td></tr><tr class="row11"><td class="col0"> <a href="https://openwrt.org/doc/uci/dhcp6s" rel="nofollow">/etc/config/dhcp6s</a> </td><td class="col1"> WIDE-DHCPv6服务器 </td></tr><tr class="row12"><td class="col0"> <a href="https://openwrt.org/doc/uci/gw6c" rel="nofollow">/etc/config/gw6c</a> </td><td class="col1"> GW6c客户端配置 </td></tr><tr class="row13"><th class="col0" colspan="2"> 其他 </th></tr><tr class="row14"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/babeld" rel="nofollow">/etc/config/babeld</a> </td><td class="col1"> 功能配置 </td></tr><tr class="row15"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/bbstored" rel="nofollow">/etc/config/bbstored</a> </td><td class="col1"> BoxBackup服务器配置 </td></tr><tr class="row16"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/base-system/ddns" rel="nofollow">/etc/config/ddns</a> </td><td class="col1">动态<abbr title="域名系统">DNS</abbr>配置（ddns脚本）</td></tr><tr class="row17"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/dns/dnscrypt-proxy" rel="nofollow">/etc/config/dnscrypt-proxy</a> </td><td class="col1"> DNSCrypt代理 </td></tr><tr class="row18"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/w_o_l/etherwake" rel="nofollow">/etc/config/etherwake</a> </td><td class="col1"> 局域网唤醒：以太网唤醒 </td></tr><tr class="row19"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/firewall/freifunk_p2pblock" rel="nofollow">/etc/config/freifunk_p2pblock</a> </td><td class="col1"> 使用iptables layer7，ipp2p和最近模块阻止p2p /文件共享流量 </td></tr><tr class="row20"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/storage/fstab" rel="nofollow">/etc/config/fstab</a> </td><td class="col1"> 挂载点和交换 </td></tr><tr class="row21"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/storage/hd-idle" rel="nofollow">/etc/config/hd-idle</a> </td><td class="col1"> 另一个用于连接硬盘的空闲守护程序 </td></tr><tr class="row22"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/base-system/httpd" rel="nofollow">/etc/config/httpd</a> </td><td class="col1"> Web服务器选项（Busybox httpd，已弃用） </td></tr><tr class="row23"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/dns/ipset-dns" rel="nofollow">/etc/config/ipset-dns</a> </td><td class="col1">配置<a href="https://git.zx2c4.com/ipset-dns/about/" rel="nofollow">https://git.zx2c4.com/ipset-dns/about/</a> </td></tr><tr class="row24"><td class="col0"> <a href="https://openwrt.org/doc/uci/luci" rel="nofollow">/etc/config/luci</a> </td><td class="col1"> 基本LuCI配置 </td></tr><tr class="row25"><td class="col0"> <a href="https://openwrt.org/doc/uci/luci_statistics" rel="nofollow">/etc/config/luci_statistics</a> </td><td class="col1"> 统计数据包的配置</td></tr><tr class="row26"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/snmp/mini_snmpd" rel="nofollow">/etc/config/mini_snmpd</a> </td><td class="col1"> mini_snmpd设置 </td></tr><tr class="row27"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/media_server/minidlna" rel="nofollow">/etc/config/minidlna</a> </td><td class="col1"> MiniDLNA设置 </td></tr><tr class="row28"><td class="col0"> <a href="/doc/uci/mjpg-streamer" rel="nofollow" class="wikilink2" title="doc：uci：mjpg-streamer">/etc/config/mjpg-streamer</a> </td><td class="col1"> 适用于Linux-UVC兼容网络摄像头的流应用程序 </td></tr><tr class="row29"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/storage/mountd" rel="nofollow">/etc/config/mountd</a> </td><td class="col1"> OpenWrt自动挂载守护程序 </td></tr><tr class="row30"><td class="col0"> <a href="https://openwrt.org/doc/uci/mroute" rel="nofollow">/etc/config/mroute</a> </td><td class="col1">多个<abbr title="广域网">WAN</abbr>路由的配置文件</td></tr><tr class="row31"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/network/wan/multiwan/multiwan_package" rel="nofollow">/etc/config/multiwan</a> </td><td class="col1">简单的多<abbr title="广域网">WAN</abbr>配置</td></tr><tr class="row32"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/network/wan/multiwan/mwan3" rel="nofollow">/etc/config/mwan3</a> </td><td class="col1">具有负载平衡和故障转移的多<abbr title="广域网">WAN</abbr>配置</td></tr><tr class="row33"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/captive-portal/nodogsplash" rel="nofollow">/etc/config/nodogsplash</a> </td><td class="col1"> nodogsplash配置 </td></tr><tr class="row34"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/ntp/client" rel="nofollow">/etc/config/ntpclient</a> </td><td class="col1"> 得到正确的时间 </td></tr><tr class="row35"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/ups/software.nut" rel="nofollow">/etc/config/nut_server</a> </td><td class="col1"> 控制UPS（不间断电源）和/或与其他主机共享 </td></tr><tr class="row36"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/ups/software.nut" rel="nofollow">/etc/config/nut_monitor</a> </td><td class="col1"> 从远程主机或本地nut服务器监视UPS（不间断电源） </td></tr><tr class="row37"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/ups/software.nut" rel="nofollow">/etc/config/nut_cgi</a> </td><td class="col1"> NUT的Web UI（仅在UCI中查看） </td></tr><tr class="row38"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/print_server/p910nd" rel="nofollow">/etc/config/p910nd</a> </td><td class="col1">非假脱机打印机守护程序<a href="https://openwrt.org/docs/guide-user/services/print_server/p910nd.server" rel="nofollow">p910nd.server的配置</a> </td></tr><tr class="row39"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/nas/pure-ftpd" rel="nofollow">/etc/config/pure-ftpd</a> </td><td class="col1"> 纯FTPd服务器配置 </td></tr><tr class="row40"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/network/traffic-shaping/traffic_shaping" rel="nofollow">/etc/config/qos</a> </td><td class="col1">实施<em>上传</em>的服务质量<em></em> </td></tr><tr class="row41"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/vpn/ipsec/racoon/basic" rel="nofollow">/etc/config/racoon</a> </td><td class="col1"> racoon(浣熊)IPsec守护程序 </td></tr><tr class="row42"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/nas/samba" rel="nofollow">/etc/config/samba</a> </td><td class="col1"> Microsoft文件和打印服务守护程序的设置 </td></tr><tr class="row43"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/snmp/snmpd" rel="nofollow">/etc/config/snmpd</a> </td><td class="col1"> SNMPd(snmp服务进程) 配置 </td></tr><tr class="row44"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/network/traffic-shaping/sqm_configuration" rel="nofollow">/etc/config/sqm</a> </td><td class="col1"> SQM设置 </td></tr><tr class="row45"><td class="col0"> <a href="https://openwrt.org/start?id=docs/guide-user/services/ssh/sshtunnel" rel="nofollow">/etc/config/sshtunnel</a> </td><td class="col1"> 配置 <code>sshtunnel</code> </td></tr><tr class="row46"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/voip/stund" rel="nofollow">/etc/config/stund</a> </td><td class="col1"> STUN服务器配置 </td></tr><tr class="row47"><td class="col0"> <a href="https://openwrt.org/doc/uci/tinc" rel="nofollow">/etc/config/tinc</a> </td><td class="col1"> <a href="/https://openwrt.org/docs/guide-user/services/vpn/tinc" rel="nofollow">tinc</a>软件包配置</td></tr><tr class="row48"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/downloading_and_filesharing/transmission" rel="nofollow">/etc/config/transmission</a> </td><td class="col1"> BitTorrent配置 </td></tr><tr class="row49"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/webserver/uhttpd" rel="nofollow">/etc/config/uhttpd</a> </td><td class="col1"> Web服务器选项（uHTTPd） </td></tr><tr class="row50"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/firewall/upnp/miniupnpd" rel="nofollow">/etc/config/upnpd</a> </td><td class="col1"> miniupnpd UPnP服务器设置 </td></tr><tr class="row51"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/base-system/users" rel="nofollow">/etc/config/users</a> </td><td class="col1"> 不同服务的用户数据库 </td></tr><tr class="row52"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/media_server/ushare" rel="nofollow">/etc/config/ushare</a> </td><td class="col1"> uShare UPnP服务器设置 </td></tr><tr class="row53"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/vblade" rel="nofollow">/etc/config/vblade</a> </td><td class="col1"> vblade用户空间AOE目标 </td></tr><tr class="row54"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/network_monitoring/vnstat" rel="nofollow">/etc/config/vnstat</a> </td><td class="col1"> vnstat下载器设置 </td></tr><tr class="row55"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/network/wifi/wifi_toggle" rel="nofollow">/etc/config/wifitoggle</a> </td><td class="col1"> 按下按钮即可切换WiFi </td></tr><tr class="row56"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/w_o_l/wol" rel="nofollow">/etc/config/wol</a> </td><td class="col1"> 局域网唤醒：狼 </td></tr><tr class="row57"><td class="col0"> <a href="https://openwrt.org/docs/guide-user/services/proxy/znc" rel="nofollow">/etc/config/znc</a> </td><td class="col1"> ZNC保镖配置 </td></tr></tbody></table> 
 </div> 
</div> 
<h3 class="sectionedit5" id="file_syntax">文件语法</h3> 
<div class="level2"> 
</div> 
<p> UCI配置文件通常包含一个或多个<code>config</code>语句，即所谓的节，其中包含一个或多个用于定义实际值的选项语句。 </p> 
<p> A <code>#</code>以通常的方式开始评论。具体来说，如果一行包含<code>#</code>字符串文字的外部内容，则该行及其后面的所有字符都将被视为注释并被忽略。 </p> 
<p> 以下是一个简单配置文件的示例（另请参见<a href="#uci_dataobject_model" rel="nofollow" title="docs：guide-user：base-system：uci↵" class="wikilink1">uci_dataobject_model</a>）： </p> 
<pre class="code bash">package <span class="st_h">'example'</span>
 
config <span class="st_h">'example'</span> <span class="st_h">'test'</span>
        option   <span class="st_h">'string'</span>      <span class="st_h">'some value'</span>
        option   <span class="st_h">'boolean'</span>     <span class="st_h">'1'</span>
        list     <span class="st_h">'collection'</span>  <span class="st_h">'first item'</span>
        list     <span class="st_h">'collection'</span>  <span class="st_h">'second item'</span></pre> 
<ul><li class="level1"> 
  <div class="li"> 
   该 
   <code>config 'example' 'test</code> 
   “语句定义与类型一节的开始 
   <code>example</code> 
   和名称 
   <code>test</code> 
   。也可能有所谓的匿名部分，仅具有类型，但没有名称标识符。类型对于处理程序决定如何处理所附选项非常重要。 
  </div> </li></ul> 
<ul><li class="level1"> 
  <div class="li"> 
   的 
   <code>option 'string' 'some value</code> 
   “和 
   <code>option 'boolean' '1</code> 
   ”线的截面内限定简单的值。请注意，文本选项和布尔选项之间在语法上没有区别。按照约定，布尔选项可以具有值'0'，'no'，'off'，'false'或'disabled'之一，以指定false值或'1'，'yes'，'on'，'true '或'启用'以指定一个真值。 
  </div> </li></ul> 
<ul><li class="level1"> 
  <div class="li"> 
   在以 
   <code>list</code> 
   关键字开头的行中，定义了具有多个值的选项。在我们的示例中，所有 
   <code>list</code> 
   共享相同名称的语句 
   <code>collection</code> 
   将被组合为一个值列表，其配置顺序与配置文件中的顺序相同。 
  </div> </li></ul> 
<ul><li class="level1"> 
  <div class="li"> 
    
   <code>option</code> 
   和 
   <code>list</code> 
   语句的缩进是为了提高配置文件的可读性的约定，但是在语法上不是必需的。 
  </div> </li></ul> 
<ul><li class="level1"> 
  <div class="li"> 
   如果缺少选项并且不需要，则使用默认值。如果不存在并且是必需的，则可能会触发应用程序中的错误或其他不良行为。 
  </div> </li></ul> 
<ul><li class="level1"> 
  <div class="li"> 
   禁用没有 
   <code>enabled</code> 
   禁用选项的配置节的一种方法是将配置节标识符（在这种情况下 
   <code>example</code> 
   为类型）重命名为使用这些值的进程无法识别的值。通常，一个 
   <code>disabled_identifier</code> 
   as config section type / identifier就足够了。 
  </div> </li></ul> 
<p> 通常，您不需要将标识符或值括在引号中。仅当包含的值包含空格或制表符时，才需要使用引号。在键入配置选项时，使用双引号而不是单引号也是合法的。 </p> 
<p> 以下所有示例都是有效的UCI语法： </p> 
<pre class="code bash">option  example   value
option  example  <span class="st0">"value"</span>
option <span class="st_h">'example'</span>  value
option <span class="st_h">'example'</span> <span class="st0">"value"</span>
option <span class="st0">"example"</span> <span class="st_h">'value'</span></pre> 
<p> 相反，以下示例不是有效的UCI语法： </p> 
<pre class="code bash"><span class="co0"># missing quotes around the value</span>
option  example   v_a l u-e
<span class="co0"># unbalanced quotes</span>
option <span class="st_h">'example" "value'</span></pre> 
<p> 重要的是要知道，UCI标识符和配置文件名可能只包含字符是非常重要的<code>a-z</code>，<code>0-9</code>和<code>_</code>。例如，不允许使用连字符（<code>-</code>）。选项值可以包含任何字符（只要正确加引号即可）。 </p> 
<h3 class="sectionedit6" id="editor_plugins">编辑器插件</h3> 
<div class="level2"> 
</div> 
<p> 语法高亮显示和在vim中（略）更多：<a href="https://github.com/cmcaine/vim-uci" class="urlextern" title="https://github.com/cmcaine/vim-uci" rel="ugc nofollow">vim-uci-</a>与sshfs（需要openssh-sftp-server）一起很好地工作。 </p> 
<h3 class="sectionedit7" id="command_line_utility">命令行实用程序</h3> 
<div class="level2"> 
</div> 
<p> 为了调整设置，通常可以直接更改UCI配置文件。但是，出于脚本目的，还可以使用<code>uci</code>命令行实用程序读取和更改所有UCI配置。对于需要自动解析UCI配置的开发人员，因此使用<code>awk</code>和<code>grep</code>解析OpenWrt的配置文件是多余的，不明智的且效率低下的。该<code>uci</code>实用程序提供了有关修改和解析UCI的所有功能。 </p> 
<p> 以下是用法，以及一些有关如何使用此强大实用程序的有用示例。 </p> 
<div class="wrap_important plugin_wrap"> 
 <p> 当使用<code>uci</code>写配置文件，该文件总是重写全部并省略不识别的命令。这意味着将删除文件中的所有多余行，例如注释。如果您拥有自己编辑的UCI配置文件，并且想要保留自己的注释和空白行，则不应使用命令行实用程序，而应正常编辑文件。请注意，首次安装应用程序时，某些文件（例如uHTTPd配置文件）已经包含许多注释。另外，请注意，某些应用程序（例如<a href="https://openwrt.org/docs/techref/luci" rel="nofollow">LuCI）</a>也使用该<code>uci</code>实用程序，因此可能会重写UCI配置文件。 </p> 
</div> 
<p> 当多个规则彼此相邻时，UCI支持它们的类似数组的引用。如果在中定义了8台<abbr title="网络时间协议">NTP</abbr>服务器<code>/etc/config/system</code>，UCI将允许您参考<code>system.@timeserver[0]</code>第一个或<code>system.@timeserver[7]</code>最后一个服务器的部分。您还可以使用负索引，例如<code>system.@timeserver[-1]</code>。“ -1”表示最后一个，“-2”表示倒数第二，依此类推。将新规则附加到列表末尾时，这非常方便。请参阅下面的示例。 </p> 
<h4 class="sectionedit10" id="usage">用法</h4> 
<div class="level3"> 
 <pre class="code"># uci
Usage: uci [&lt;options&gt;] &lt;command&gt; [&lt;arguments&gt;]
</pre> 
</div> 
<p>Commands:<br> batch<br> export [&lt;config&gt;]<br> import [&lt;config&gt;]<br> changes [&lt;config&gt;]<br> commit [&lt;config&gt;]<br> add &lt;config&gt; &lt;section-type&gt;<br> add_list &lt;config&gt;.&lt;section&gt;.&lt;option&gt;=&lt;string&gt;<br> del_list &lt;config&gt;.&lt;section&gt;.&lt;option&gt;=&lt;string&gt;<br> show [&lt;config&gt;[.&lt;section&gt;[.&lt;option&gt;]]]<br> get &lt;config&gt;.&lt;section&gt;[.&lt;option&gt;]<br> set &lt;config&gt;.&lt;section&gt;[.&lt;option&gt;]=&lt;value&gt;<br> delete &lt;config&gt;[.&lt;section[.&lt;option&gt;]]<br> rename &lt;config&gt;.&lt;section&gt;[.&lt;option&gt;]=&lt;name&gt;<br> revert &lt;config&gt;[.&lt;section&gt;[.&lt;option&gt;]]<br> reorder &lt;config&gt;.&lt;section&gt;=&lt;position&gt;</p> 
<p>Options:<br> -c &lt;path&gt; set the search path for config files (default: /etc/config)<br> -d &lt;str&gt; set the delimiter for list values in uci show<br> -f &lt;file&gt; use &lt;file&gt; as input instead of stdin<br> -m when importing, merge data into an existing package<br> -n name unnamed sections on export (default)<br> -N don’t name unnamed sections<br> -p &lt;path&gt; add a search path for config change files<br> -P &lt;path&gt; add a search path for config change files and use as default<br> -q quiet mode (don’t print error messages)<br> -s force strict mode (stop on parser errors, default)<br> -S disable strict mode<br> -X do not use extended syntax on ‘show’<br> </p> 
<div class="sortable"> 
 <div class="table sectionedit11"> 
  <table class="inline"><thead><tr class="row0"><th class="col0"> <code>Command</code> </th><th class="col1"> 目标 </th><th class="col2"> 描述 </th></tr></thead><tbody><tr class="row1"><td class="col0"> <code>commit</code> </td><td class="col1"> <code>[&lt;config&gt;]</code> </td><td class="col2">将给定配置文件的更改（如果未给出任何更改，则将所有配置文件）写入文件系统。所有“ uci集”，“ uci添加”，“ uci重命名”和“ uci删除”命令都暂存到一个临时位置，并通过“ uci commit”一次写入闪存。使用文本编辑器编辑配置文件后，不需要此操作，但是对于脚本，GUI和直接与UCI文件一起使用的其他程序，则不需要这样做。</td></tr><tr class="row2"><td class="col0"> <code>batch</code> </td><td class="col1"> -- </td><td class="col2">执行多行UCI脚本，该脚本通常包装在<em>here</em>文档语法中。</td></tr><tr class="row3"><td class="col0"> <code>export</code> </td><td class="col1"> <code>[&lt;config&gt;]</code> </td><td class="col2">以机器可读格式导出配置。它在内部用于将配置文件评估为Shell脚本。</td></tr><tr class="row4"><td class="col0"> <code>import</code> </td><td class="col1"> <code>[&lt;config&gt;]</code> </td><td class="col2"> 以UCI语法导入配置文件。 </td></tr><tr class="row5"><td class="col0"> <code>changes</code> </td><td class="col1"> <code>[&lt;config&gt;]</code> </td><td class="col2"> 列出对给定配置文件或所有给定配置文件的暂存更改。 </td></tr><tr class="row6"><td class="col0"> <code>add</code> </td><td class="col1"> <code>&lt;config&gt; &lt;section-type&gt;</code> </td><td class="col2">将匿名类型的部分添加<code>section-type</code>到给定的配置中。</td></tr><tr class="row7"><td class="col0"> <code>add_list</code> </td><td class="col1"> <code>&lt;config&gt;.&lt;section&gt;.&lt;option&gt;=&lt;string&gt;</code> </td><td class="col2"> 将给定的字符串添加到现有列表选项。 </td></tr><tr class="row8"><td class="col0"> <code>del_list</code> </td><td class="col1"> <code>&lt;config&gt;.&lt;section&gt;.&lt;option&gt;=&lt;string&gt;</code> </td><td class="col2"> 从现有列表选项中删除给定的字符串。 </td></tr><tr class="row9"><td class="col0"> <code>show</code> </td><td class="col1"> <code>[&lt;config&gt;[.&lt;section&gt;[.&lt;option&gt;]]]</code> </td><td class="col2"> 以压缩符号显示给定的选项，部分或配置。 </td></tr><tr class="row10"><td class="col0"> <code>get</code> </td><td class="col1"> <code>&lt;config&gt;.&lt;section&gt;[.&lt;option&gt;]</code> </td><td class="col2"> 获取给定选项的值或给定节的类型。 </td></tr><tr class="row11"><td class="col0"> <code>set</code> </td><td class="col1"> <code>&lt;config&gt;.&lt;section&gt;[.&lt;option&gt;]=&lt;value&gt;</code> </td><td class="col2"> 设置给定选项的值，或添加类型设置为给定值的新部分。 </td></tr><tr class="row12"><td class="col0"> <code>delete</code> </td><td class="col1"> <code>&lt;config&gt;[.&lt;section[.&lt;option&gt;]]</code> </td><td class="col2"> 删除给定的部分或选项。 </td></tr><tr class="row13"><td class="col0"> <code>rename</code> </td><td class="col1"> <code>&lt;config&gt;.&lt;section&gt;[.&lt;option&gt;]=&lt;name&gt;</code> </td><td class="col2"> 将给定的选项或部分重命名为给定的名称。 </td></tr><tr class="row14"><td class="col0"> <code>revert</code> </td><td class="col1"> <code>&lt;config&gt;[.&lt;section&gt;[.&lt;option&gt;]]</code> </td><td class="col2"> 还原给定的选项，节或配置文件。 </td></tr><tr class="row15"><td class="col0"> <code>reorder</code> </td><td class="col1"> <code>&lt;config&gt;.&lt;section&gt;=&lt;position&gt;</code> </td><td class="col2"> 将节移到另一个位置。 </td></tr></tbody></table> 
 </div> 
</div> 
<h3 class="sectionedit12" id="uci_dataobject_model">UCI数据/对象模型</h3> 
<div class="level2"> 
</div> 
<h4 class="sectionedit13" id="elements">元素</h4> 
<div class="level3"> 
</div> 
<p> UCI模型中的元素是： </p> 
<ul><li class="level1"> 
  <div class="li"> 
   <strong>config</strong> 
   ：主要配置组，如 
   <strong>网络</strong> 
   ， 
   <strong>系统</strong> 
   ， 
   <strong>防火墙</strong> 
   。每个配置组在<strong>/ etc / config中</strong>都有其自己的文件 
   <strong></strong> 
  </div> </li><li class="level1"> 
  <div class="li"> 
   <strong>sections</strong> 
   ：配置分为几个部分。节可以 
   <strong>命名</strong> 
   或 
   <strong>不命名</strong> 
   。 
  </div> </li><li class="level1"> 
  <div class="li"> 
   <strong>类型</strong> 
   ：一个节可以有一个类型。例如，在网络配置中，我们通常具有“接口”类型的4个部分。这些部分是“ lan”，“ wan”，“ loopback”和“ wan6” 
  </div> </li><li class="level1"> 
  <div class="li"> 
   <strong>选项</strong> 
   ：每个部分都有一些选项，您可以在其中设置配置值 
  </div> </li><li class="level1"> 
  <div class="li"> 
   <strong>值</strong> 
   ：期权的价值 
  </div> </li></ul> 
<h5 id="sections_naming">节命名</h5> 
<div class="level4"> 
</div> 
<p> 在命名方面，各节应有一些额外的解释。节可以<em>命名</em>或<em>不命名</em>。未命名的部分将获得<strong>自动生成的ID / CFGID(autogenerated ID/CFGID)</strong>（例如“ cfg073777”），并显示一个<strong>匿名名称(anonymous-name)</strong>（例如“ @switch [0]”） </p> 
<p><strong>匿名名称</strong> 示例： </p> 
<pre class="code bash"><span class="co0"># uci show network</span>
...
network.<span class="sy0">@</span>switch<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>=switch
network.<span class="sy0">@</span>switch<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.name=<span class="st_h">'switch0'</span>
network.<span class="sy0">@</span>switch<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.reset=<span class="st_h">'1'</span>
network.<span class="sy0">@</span>switch<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.enable_vlan=<span class="st_h">'1'</span>
...</pre> 
<p><strong>自动生成的ID / CFGID</strong> 示例： </p> 
<pre class="code bash"><span class="co0"># uci show network.@switch[0]</span>
network.cfg073777=switch
network.cfg073777.name=<span class="st_h">'switch0'</span>
network.cfg073777.reset=<span class="st_h">'1'</span>
network.cfg073777.enable_vlan=<span class="st_h">'1'</span></pre> 
<h5 id="different_presentation">不同的介绍</h5> 
<div class="level4"> 
</div> 
<p> 相同的配置部分可以以不同的方式呈现： </p> 
<ul><li class="level1"> 
  <div class="li"> 
    人性化：如配置文件中所示或使用命令“ uci export &lt;config&gt;”显示 
  </div> </li><li class="level1"> 
  <div class="li"> 
    可编程的：如命令“ uci show &lt;config&gt;”所示 
  </div> </li></ul> 
<div class="table sectionedit14"> 
 <table class="inline"><thead><tr class="row0"><th class="col0" colspan="3"> 不同的模型展示 </th></tr></thead><tbody><tr class="row1"><td class="col0"> <strong>人性化的</strong>命名部分（“ uci出口网络”）</td><td class="col1"> <strong>人性化</strong>，未命名的部分（“ uci出口网络”）</td><td class="col2"> </td></tr><tr class="row2"><td class="col0"> <img src="https://images2.imgbox.com/ed/c6/yOXLjk8Y_o.png" alt=""> </td><td class="col1"> <img src="https://images2.imgbox.com/78/cc/sMEynv7X_o.png" alt=""> </td><td class="col2"> </td></tr><tr class="row3"><td class="col0"> <strong>可编程的</strong>命名部分（“ uci show network.wan”）</td><td class="col1"> <strong>可编程的</strong>，未命名的部分，匿名名称（“ uci show network”）</td><td class="col2"> <strong>可编程的</strong>未命名部分，CFGID（“ uci show network。@ switch [0]”）</td></tr><tr class="row4"><td class="col0"> <img src="https://images2.imgbox.com/59/81/yp6piRkI_o.png" alt=""> </td><td class="col1"> <img src="https://images2.imgbox.com/06/ea/tKUATR0v_o.png" alt=""> </td><td class="col2"> <img src="https://images2.imgbox.com/c6/ba/XFL9MFIW_o.png" alt=""> </td></tr></tbody></table> 
</div> 
<h4 class="sectionedit15" id="examples">例子</h4> 
<div class="level3"> 
</div> 
<h5 id="setting_a_value">设定值</h5> 
<div class="level4"> 
</div> 
<p> 如果要将<a href="https://openwrt.org/docs/guide-user/services/webserver/http.uhttpd" rel="nofollow">uHTTPd Web服务器</a>的侦听端口从80更改为8080，请在<code>/etc/config/uhttpd</code>以下位置更改配置： </p> 
<pre class="code bash">uci <span class="kw1">set</span> uhttpd.main.listen_http=<span class="st_h">'8080'</span>
uci commit uhttpd
<span class="sy0">/</span>etc<span class="sy0">/</span>init.d<span class="sy0">/</span>uhttpd restart</pre> 
<p> 完成，现在配置文件已更新，uHTTPd侦听端口8080。 </p> 
<h5 id="export_an_entire_configuration">导出整个配置</h5> 
<div class="level4"> 
 <pre class="code bash">uci <span class="kw3">export</span> SUBSYSTEM_NAME</pre> 
</div> 
<p> 可用的子系统包括：<strong>默认值</strong>，<strong>dnsmasq</strong>，<strong>dropbear</strong>，<strong>防火墙</strong>，<strong>fstab</strong>，<strong>net</strong>，<strong>qos</strong>，<strong>samba</strong>，<strong>system</strong>，<strong>wireless</strong>。 </p> 
<h5 id="show_the_a_subsystem_s_current_configuration">显示子系统的当前配置</h5> 
<div class="level4"> 
 <pre class="code bash">uci show SUBSYSTEM_NAME</pre> 
</div> 
<p> 这里是一个例子： </p> 
<pre class="code bash"><span class="co0"># uci show system </span>
system.<span class="sy0">@</span>system<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>=system 
system.<span class="sy0">@</span>system<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.hostname=<span class="st_h">'OpenWrt'</span> 
system.<span class="sy0">@</span>system<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.timezone=<span class="st_h">'UTC'</span> 
system.ntp=timeserver 
system.ntp.server=<span class="st_h">'0.openwrt.pool.ntp.org'</span> <span class="st_h">'1.openwrt.pool.ntp.org'</span> <span class="st_h">'2.openwrt.pool.ntp.org'</span> <span class="st_h">'3.openwrt.pool.ntp.org'</span> 
system.ntp.enabled=<span class="st_h">'1'</span> 
system.ntp.enable_server=<span class="st_h">'0'</span></pre> 
<h5 id="display_just_the_value_of_an_option">仅显示选项的值</h5> 
<div class="level4"> 
 <pre class="code bash">uci get httpd.<span class="sy0">@</span>httpd<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.port</pre> 
</div> 
<h5 id="append_an_entry_to_a_list">将条目追加到列表</h5> 
<div class="level4"> 
 <pre class="code bash">uci add_list system.ntp.server = <span class="st_h">'0.de.pool.ntp.org'</span></pre> 
</div> 
<h5 id="replace_a_list_completely">完全替换列表</h5> 
<div class="level4"> 
 <pre class="code bash">uci delete system.ntp.server
uci add_list system.ntp.server=<span class="st_h">'0.de.pool.ntp.org'</span>
uci add_list system.ntp.server=<span class="st_h">'1.de.pool.ntp.org'</span>
uci add_list system.ntp.server=<span class="st_h">'2.de.pool.ntp.org'</span></pre> 
</div> 
<h5 id="adding_a_new_section_to_subsystem_configuration">在子系统配置中添加新部分</h5> 
<div class="level4"> 
 <pre class="code bash">uci add SUBSYSTEM_NAME SECTION_NAME</pre> 
</div> 
<p> 它将在名为SUBSYSTEM_NAME的子系统内生成一个名为SECTION_NAME的新节。之后，您可以像往常一样向此部分添加密钥。它将打印一个字母数字代码，您可以将其用作“部分”以进一步向其添加密钥。 </p> 
<p> 请参阅以下示例： </p> 
<pre class="code bash">uci add firewall rule
uci <span class="kw1">set</span> firewall.<span class="sy0">@</span>rule<span class="br0">[</span>-<span class="nu0">1</span><span class="br0">]</span>.src=<span class="st_h">'wan'</span></pre> 
<h5 id="showing_the_not-yet-saved_modified_values">显示尚未保存的修改值</h5> 
<div class="level4"> 
 <pre class="code bash">uci changes</pre> 
</div> 
<h5 id="saving_modified_values_of_a_single_subsystem">保存单个子系统的修改值</h5> 
<div class="level4"> 
 <pre class="code bash">uci commit SUBSYSTEM_NAME 
reload_config</pre> 
</div> 
<h5 id="saving_all_modified_values">保存所有修改的值</h5> 
<div class="level4"> 
 <pre class="code bash">uci commit
reload_config</pre> 
</div> 
<h5 id="generating_a_full_uci_section_with_a_simple_copy-paste">通过简单的复制粘贴生成完整的uci部分</h5> 
<div class="level4"> 
</div> 
<p> 当您添加新的部分（见上文）时，此代码块将捕获uci打印的代码，并在您要在其后添加的所有新键中重复使用。这将使非常有趣的键入或复制粘贴作业自动化。您也可以在脚本中执行此操作。 </p> 
<p> 通用版本： </p> 
<pre class="code bash"><span class="re2">rule_name</span>=$<span class="br0">(</span>uci add <span class="sy0">&lt;</span>config<span class="sy0">&gt;</span> <span class="sy0">&lt;</span>section-type<span class="sy0">&gt;</span><span class="br0">)</span> 
uci batch <span class="co2">&lt;&lt; EOF
set &lt;config&gt;.$rule_name.&lt;option1&gt;='value'
set &lt;config&gt;.$rule_name.&lt;option2&gt;='value'
set &lt;config&gt;.$rule_name.&lt;option3&gt;='value'
...
EOF</span>
uci commit</pre> 
<p> 一个工作示例： </p> 
<pre class="code bash"><span class="re2">rule_name</span>=$<span class="br0">(</span>uci add firewall rule<span class="br0">)</span> 
uci batch <span class="co2">&lt;&lt; EOF
set firewall.$rule_name.enabled='1'
set firewall.$rule_name.target='ACCEPT'
set firewall.$rule_name.src='wan'
set firewall.$rule_name.proto='tcp udp'
set firewall.$rule_name.dest_port='111'
set firewall.$rule_name.name='NFS_share'
EOF</span>
uci commit</pre> 
<h5 id="create_a_new_named_section_of_a_given_type">创建给定类型的新命名节</h5> 
<div class="level4"> 
</div> 
<p> 创建一个新的blah类型的_anonymous_部分： </p> 
<pre class="code bash">uci add blah</pre> 
<p> 例： </p> 
<pre class="code bash"><span class="co0"># uci import playapp &lt; /dev/null</span>
<span class="co0"># uci show playapp</span>
<span class="co0"># uci add playapp blah</span>
<span class="co0"># uci commit</span>
<span class="co0"># uci show playapp</span>
playapp.<span class="sy0">@</span>blah<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>=blah</pre> 
<p> 例如，如果您实际上想要该类型的命名节， </p> 
<pre class="code bash">config blah this_name
    option xxx yyy
config blah other_name
    option xxx zzz</pre> 
<p> 然后<code>uci add</code>不能使用，而是使用以下语法： </p> 
<pre class="code bash"><span class="co0"># uci import playapp &lt; /dev/null</span>
<span class="co0"># uci set playapp.myname=mysectiontype</span>
<span class="co0"># uci set playapp.othername=mysectiontype</span>
<span class="co0"># uci commit</span>
<span class="co0"># uci show playapp</span>
playapp.myname=mysectiontype
playapp.othername=mysectiontype</pre> 
<h5 id="uci_paths">UCI路径</h5> 
<div class="level4"> 
</div> 
<p> 考虑以下示例配置文件： </p> 
<pre class="code bash">config bar <span class="st_h">'first'</span>
	option name	<span class="st_h">'Mr. First'</span>
config bar
	option name	<span class="st_h">'Mr. Second'</span>
config bar <span class="st_h">'third'</span>
	option name	<span class="st_h">'Mr. Third'</span></pre> 
<p> 那么下面的路径在每个组中是相等的： </p> 
<pre class="code bash"><span class="co0"># Mr. First</span>
uci get foo.<span class="sy0">@</span>bar<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.name
uci get foo.<span class="sy0">@</span>bar<span class="br0">[</span>-<span class="nu0">0</span><span class="br0">]</span>.name
uci get foo.<span class="sy0">@</span>bar<span class="br0">[</span>-<span class="nu0">3</span><span class="br0">]</span>.name
uci get foo.first.name
 
<span class="co0"># Mr. Second</span>
uci get foo.<span class="sy0">@</span>bar<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span>.name
uci get foo.<span class="sy0">@</span>bar<span class="br0">[</span>-<span class="nu0">2</span><span class="br0">]</span>.name
<span class="co0"># uci get foo.second.name won't work; label 'second' undefined</span>
 
<span class="co0"># Mr. Third</span>
uci get foo.<span class="sy0">@</span>bar<span class="br0">[</span><span class="nu0">2</span><span class="br0">]</span>.name
uci get foo.<span class="sy0">@</span>bar<span class="br0">[</span>-<span class="nu0">1</span><span class="br0">]</span>.name
uci get foo.third.name</pre> 
<p> 如果显示它，您将得到： </p> 
<pre class="code bash"><span class="co0"># uci show foo</span>
foo.first=bar
foo.first.name=<span class="st_h">'Mr. First'</span>
foo.<span class="sy0">@</span>bar<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>=bar
foo.<span class="sy0">@</span>bar<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.name=<span class="st_h">'Mr. Second'</span>
foo.third=bar
foo.third.name=<span class="st_h">'Mr. Third'</span></pre> 
<p> 但是，如果您使用<code>uci show foo.@bar[0]</code>，则会看到： </p> 
<pre class="code bash"><span class="co0"># uci show foo.@bar[0]</span>
foo.first=bar
foo.first.name=<span class="st_h">'Mr. First'</span></pre> 
<h5 id="add_a_firewall_rule">添加防火墙规则</h5> 
<div class="level4"> 
</div> 
<p> 这是添加防火墙规则以转发<abbr title="传输控制协议">TCP </abbr> <abbr title="安全壳">SSH</abbr>端口以及uci所使用的负（-1）语法的一个很好的示例。 </p> 
<pre class="code bash">uci add firewall rule
uci <span class="kw1">set</span> firewall.<span class="sy0">@</span>rule<span class="br0">[</span>-<span class="nu0">1</span><span class="br0">]</span>.src=<span class="st_h">'wan'</span>
uci <span class="kw1">set</span> firewall.<span class="sy0">@</span>rule<span class="br0">[</span>-<span class="nu0">1</span><span class="br0">]</span>.target=<span class="st_h">'ACCEPT'</span>
uci <span class="kw1">set</span> firewall.<span class="sy0">@</span>rule<span class="br0">[</span>-<span class="nu0">1</span><span class="br0">]</span>.proto=<span class="st_h">'tcp'</span>
uci <span class="kw1">set</span> firewall.<span class="sy0">@</span>rule<span class="br0">[</span>-<span class="nu0">1</span><span class="br0">]</span>.dest_port=<span class="st_h">'22'</span>
uci commit firewall
<span class="sy0">/</span>etc<span class="sy0">/</span>init.d<span class="sy0">/</span>firewall restart</pre> 
<h5 id="get_wan_interface">获取WAN接口</h5> 
<div class="level4"> 
 <pre class="code bash"><span class="co0"># Runtime configuration</span>
. <span class="sy0">/</span>lib<span class="sy0">/</span>functions<span class="sy0">/</span>network.sh
network_flush_cache
network_find_wan NET_IF
network_find_wan6 NET_IF6
network_get_device NET_DEV <span class="st0">"<span class="es3">${NET_IF}</span>"</span>
network_get_device NET_DEV6 <span class="st0">"<span class="es3">${NET_IF6}</span>"</span>
<span class="kw3">echo</span> <span class="st0">"<span class="es3">${NET_DEV}</span>"</span>
<span class="kw3">echo</span> <span class="st0">"<span class="es3">${NET_DEV6}</span>"</span>
 
<span class="co0"># Persistent configuration</span>
uci get network.wan.ifname
uci get network.wan6.ifname</pre> 
</div> 
<h5 id="get_wan_ip_address">获取WAN IP地址</h5> 
<div class="level4"> 
 <pre class="code bash"><span class="co0"># Runtime configuration</span>
. <span class="sy0">/</span>lib<span class="sy0">/</span>functions<span class="sy0">/</span>network.sh
network_flush_cache
network_find_wan NET_IF
network_find_wan6 NET_IF6
network_get_ipaddr NET_ADDR <span class="st0">"<span class="es3">${NET_IF}</span>"</span>
network_get_ipaddr6 NET_ADDR6 <span class="st0">"<span class="es3">${NET_IF6}</span>"</span>
<span class="kw3">echo</span> <span class="st0">"<span class="es3">${NET_ADDR}</span>"</span>
<span class="kw3">echo</span> <span class="st0">"<span class="es3">${NET_ADDR6}</span>"</span>
 
<span class="co0"># Persistent static configuration</span>
uci get network.wan.ipaddr
uci get network.wan6.ip6addr</pre> 
</div> 
<h5 id="get_wan_gateway">获取WAN网关</h5> 
<div class="level4"> 
 <pre class="code bash"><span class="co0"># Runtime configuration</span>
. <span class="sy0">/</span>lib<span class="sy0">/</span>functions<span class="sy0">/</span>network.sh
network_flush_cache
network_find_wan NET_IF
network_find_wan6 NET_IF6
network_get_gateway NET_GW <span class="st0">"<span class="es3">${NET_IF}</span>"</span>
network_get_gateway6 NET_GW6 <span class="st0">"<span class="es3">${NET_IF6}</span>"</span>
<span class="kw3">echo</span> <span class="st0">"<span class="es3">${NET_GW}</span>"</span>
<span class="kw3">echo</span> <span class="st0">"<span class="es3">${NET_GW6}</span>"</span>
 
<span class="co0"># Persistent static configuration</span>
uci get network.wan.gateway
uci get network.wan6.ip6gw</pre> 
</div> 
<h5 id="get_ssid">获取SSID</h5> 
<div class="level4"> 
 <pre class="code bash">uci get wireless.<span class="sy0">@</span>wifi-iface<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.ssid</pre> 
</div> 
<h4 class="sectionedit16" id="uci_defaults">UCI默认值</h4> 
<div class="level3"> 
</div> 
<p> 要在设备首次启动时设置一些系统默认值，请在文件夹中创建一个脚本<code>/etc/uci-defaults/</code>。 </p> 
<p> 该文件夹中的所有脚本均由脚本自动执行，<code>/etc/init.d/boot</code>并且如果它们<em class="u">随后</em>以代码0 <em class="u">删除</em>而退出（未以代码0退出的脚本不会被删除，并且在下次启动期间将被重新执行，直到它们也成功退出）。 </p> 
<p> 在实时路由器中，您可以在中看到现有的uci-defaults脚本<code>/rom/etc/uci-defaults</code>，因为<code>/etc/uci-defaults</code>它本身通常是空的（在所有脚本运行正常并被删除之后）。 </p> 
<p> 这是在首次启动时更改默认IP的简单示例。 </p> 
<pre class="code bash"><span class="co0">#!/bin/sh</span>
uci <span class="kw1">set</span> network.lan.ipaddr=<span class="st_h">'192.168.178.1'</span>
uci commit network
<span class="kw3">exit</span> <span class="nu0">0</span></pre> 
<p> 这是更改默认SSID并在首次启动时打开WiFi的简单示例。 </p> 
<pre class="code bash"><span class="co0">#!/bin/sh</span>
uci <span class="kw1">set</span> wireless.<span class="sy0">@</span>wifi-device<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.disabled=<span class="st_h">'0'</span>
uci <span class="kw1">set</span> wireless.<span class="sy0">@</span>wifi-iface<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.ssid=<span class="st_h">'OpenWrt0815'</span>
uci commit wireless
<span class="kw3">exit</span> <span class="nu0">0</span></pre> 
<p> 在固件中包括uci-defaults脚本的最简单方法可能是作为自定义文件。请参阅<a href="https://openwrt.org/docs/guide-developer/build-system/use-buildsystem#custom_files" rel="nofollow">Buildroot-自定义文件</a>或<a href="https://openwrt.org/docs/guide-user/additional-software/imagebuilder#files_variable" rel="nofollow">Image Generator-自定义文件</a> </p> 
<h3 class="sectionedit17" id="porting_uci_to_a_different_linux_distribution">将UCI移植到其他Linux发行版</h3> 
<div class="level2"> 
</div> 
<p> 请参阅<a href="https://openwrt.org/docs/techref/uci#usage_outside_of_openwrt" rel="nofollow">UCI（统一配置接口）–技术参考</a> </p> 
<h3 class="sectionedit18" id="corrupted_configs">损坏的配置</h3> 
<div class="level2"> 
</div> 
<p> 如果您在中手动编辑了配置<code>/etc/config/</code>，则其中某些配置可能由于拼写错误而损坏。 </p> 
<pre class="code bash"><span class="co0"># uci show fstab</span>
uci: Parse error <span class="br0">(</span>invalid <span class="kw3">command</span><span class="br0">)</span> at line <span class="nu0">20</span>, byte <span class="nu0">0</span></pre> 
<p> 运行以下命令以查找损坏的配置。 </p> 
<pre class="code bash"><span class="kw1">for</span> CONF <span class="kw1">in</span> <span class="sy0">/</span>etc<span class="sy0">/</span>config<span class="sy0">/*</span> ; <span class="kw1">do</span> uci show <span class="st0">"<span class="es3">${CONF##*/}</span>"</span> <span class="sy0">&gt;</span> <span class="sy0">/</span>dev<span class="sy0">/</span>null <span class="sy0">||</span> <span class="kw3">echo</span> <span class="st0">"<span class="es3">${CONF}</span>"</span>; <span class="kw1">done</span></pre>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/46d5a496f27113bd4b50a99937651e15/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">多视图几何（2）----相机模型概述</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/4a631b3de291af4761e8be16a97c1f1f/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">Latex 表格中使用 \toprule、\midrule、\bottomrule，出现 undefined control sequence</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>