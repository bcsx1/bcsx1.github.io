<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>计算机网络实验报告 - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="计算机网络实验报告" />
<meta property="og:description" content="目录 一、验证性实验1.ipconfig2.ping3.tracert4.ARP5.DHCP6.netstat7.DNS8.cache 二、Wireshark实验1.数据链路层2.网络层3.传输层应用层 Cisco Packet Tracer 实验用交换机构建 LAN交换机接口地址列表虚拟局域网 VLAN 一、验证性实验 1.ipconfig ipconfig 是微软操作系统的计算机上用来控制网络连接的一个命令行工具。它的主要用来显示当前网络连接的配置信息
/all
执行ipconfig /all
可以看到当前我的IP地址，子网掩码Subnet Mask，网关Gateway，当前网络号为10.160.0.0
下面是另一台电脑ipconfig的信息，其网络号为172.20.10.0，显然可见，两台电脑处于不同子网
2.ping PING （Packet Internet Groper），因特网包探索器，用于测试网络连接量的程序 。ping 是工作在 TCP/IP 网络体系结构中应用层的一个服务命令， 主要是向特定的目的主机发送 ICMP（Internet Control Message Protocol 因特网报文控制协议）Echo 请求报文，测试目的站是否可达及了解其有关状态。
如图，执行ping baidu.com 数据信息包含
baidu.com的ip：39.156.69.79
大小：32字节
到达时间：**ms
TTL：生存周期（即能够经历多少个路由器）这里的50指这个包能传输50个路由器，即能活50跳
更多ping选项和命令
ping/? ✎ TroubleShooting
假设你不能 ping 通某计算机或 IP，但你确定该计算机和你之间的网络是连通的，那么可能的原因是什么？该如何处理能保证 ping 通？
逐级检查连通性，即ping命令从本机开始到子网内部，到网关，到目标地址。
1）ping127.0.0.1，测试自己计算机的连通性，如果可以，说明本机网络软件硬件工作正常，否则，问题在本机，检查本机 TCP/IP配置即网卡状态等
2）ping子网内部任一主机，测试子网内连通性，如果可以，说明本子网内部工作正常，否则，问题在本机网络出口到交换机之间，检查本机网卡到交换机的连线等
3）ping网关，测试网关的连通性，如果可以，说明本子网出口工作正常，否则，问题在网关，需要报告给有权限的人来搞定
4）ping目标地址，测试目标地址的连通性，如果可以，那就完成工作，否则，问题在网关以外，需要报告给有权限的人来搞定
✎ TroubleShooting
假设在秘籍中进行的网络排查中，ping 百度的 IP 即 ping 14.215.177.39 没问题，但 ping 百度的域名即 ping www." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/753fbbf6fce08d11defaaab89f08147c/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-12-22T20:02:22+08:00" />
<meta property="article:modified_time" content="2020-12-22T20:02:22+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">计算机网络实验报告</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p></p> 
<div class="toc"> 
 <h4>目录</h4> 
 <ul><li><a href="#_1" rel="nofollow">一、验证性实验</a></li><li><ul><li><ul><li><a href="#1ipconfig_2" rel="nofollow">1.ipconfig</a></li><li><a href="#2ping_13" rel="nofollow">2.ping</a></li><li><a href="#3tracert_47" rel="nofollow">3.tracert</a></li><li><a href="#4ARP_81" rel="nofollow">4.ARP</a></li><li><a href="#5DHCP_111" rel="nofollow">5.DHCP</a></li><li><a href="#6netstat_133" rel="nofollow">6.netstat</a></li><li><a href="#7DNS_146" rel="nofollow">7.DNS</a></li><li><a href="#8cache_169" rel="nofollow">8.cache</a></li></ul> 
  </li></ul> 
  </li><li><a href="#Wireshark_177" rel="nofollow">二、Wireshark实验</a></li><li><ul><li><ul><li><a href="#1_178" rel="nofollow">1.数据链路层</a></li><li><a href="#2_264" rel="nofollow">2.网络层</a></li><li><a href="#3_330" rel="nofollow">3.传输层</a></li><li><a href="#_375" rel="nofollow">应用层</a></li></ul> 
  </li></ul> 
  </li><li><a href="#Cisco_Packet_Tracer__426" rel="nofollow">Cisco Packet Tracer 实验</a></li><li><ul><li><ul><li><a href="#_LAN_433" rel="nofollow">用交换机构建 LAN</a></li><li><a href="#_476" rel="nofollow">交换机接口地址列表</a></li><li><a href="#_VLAN_489" rel="nofollow">虚拟局域网 VLAN</a></li></ul> 
  </li></ul> 
 </li></ul> 
</div> 
<p></p> 
<h2><a id="_1"></a>一、验证性实验</h2> 
<h4><a id="1ipconfig_2"></a>1.ipconfig</h4> 
<p>ipconfig 是微软操作系统的计算机上用来控制网络连接的一个命令行工具。它的主要用来显示当前网络连接的配置信息<br> /all</p> 
<p><img src="https://images2.imgbox.com/37/f7/9Sx9QRuc_o.png" alt="在这里插入图片描述"></p> 
<p>执行ipconfig /all<br> 可以看到当前我的IP地址，子网掩码Subnet Mask，网关Gateway，当前网络号为10.160.0.0<br> <img src="https://images2.imgbox.com/c1/21/ITHOzn3D_o.png" alt="在这里插入图片描述"><br> 下面是另一台电脑ipconfig的信息，其网络号为172.20.10.0，显然可见，两台电脑处于不同子网<br> <img src="https://images2.imgbox.com/2b/26/LbKtURW3_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="2ping_13"></a>2.ping</h4> 
<p>PING （Packet Internet Groper），因特网包探索器，用于测试网络连接量的程序 。ping 是工作在 TCP/IP 网络体系结构中应用层的一个服务命令， 主要是向特定的目的主机发送 ICMP（Internet Control Message Protocol 因特网报文控制协议）Echo 请求报文，测试目的站是否可达及了解其有关状态。<br> 如图，执行ping baidu.com 数据信息包含<br> baidu.com的ip：39.156.69.79<br> 大小：32字节<br> 到达时间：**ms<br> TTL：生存周期（即能够经历多少个路由器）这里的50指这个包能传输50个路由器，即能活50跳<br> <img src="https://images2.imgbox.com/e5/6d/FPYqNLLQ_o.png" alt="在这里插入图片描述"><br> 更多ping选项和命令</p> 
<pre><code>ping/?
</code></pre> 
<p><img src="https://images2.imgbox.com/48/38/3W3aCtTx_o.png" alt="在这里插入图片描述"><br> ✎ TroubleShooting</p> 
<p>假设你不能 ping 通某计算机或 IP，但你确定该计算机和你之间的网络是连通的，那么可能的原因是什么？该如何处理能保证 ping 通？<br> 逐级检查连通性，即ping命令从本机开始到子网内部，到网关，到目标地址。</p> 
<blockquote> 
 <p>1）ping127.0.0.1，测试自己计算机的连通性，如果可以，说明本机网络软件硬件工作正常，否则，问题在本机，检查本机 TCP/IP配置即网卡状态等<br> 2）ping子网内部任一主机，测试子网内连通性，如果可以，说明本子网内部工作正常，否则，问题在本机网络出口到交换机之间，检查本机网卡到交换机的连线等<br> 3）ping网关，测试网关的连通性，如果可以，说明本子网出口工作正常，否则，问题在网关，需要报告给有权限的人来搞定<br> 4）ping目标地址，测试目标地址的连通性，如果可以，那就完成工作，否则，问题在网关以外，需要报告给有权限的人来搞定</p> 
</blockquote> 
<p>✎ TroubleShooting</p> 
<p>假设在秘籍中进行的网络排查中，ping 百度的 IP 即 ping 14.215.177.39 没问题，但 ping 百度的域名即 ping www.baidu.com 不行，那么可能的原因是什么？如何进行验证和解决？<br> 可能原因：</p> 
<blockquote> 
 <p>1）TCP/IP协议中“DNS设置”不对，重新设置DNS <br> 2）DNS缓存有误，可在命令行窗口下执行：<code>ipconfig /flushdns</code><br> 注：ping域名实质是dns服务器解析域名为IP地址再ping这个IP，相关文件：（C:\windows\system32\drivers\etc\host）</p> 
</blockquote> 
<h4><a id="3tracert_47"></a>3.tracert</h4> 
<p>TRACERT (Trace Route 的组合缩写)，也称为路由追踪，该命令行程序可用于跟踪 Internet 协议 （IP） 数据包传送到目标地址时经过的路径。<br> 例：<code>tracert baidu.com</code><br> <img src="https://images2.imgbox.com/1c/c5/Sre2qwNY_o.png" alt="在这里插入图片描述"><br> 可通过网站 http://ip.cn 查看这些节点位于何处，奇怪的是我这台计算机到百度经过了几个内网，剩下貌似全是移动的ip（我用的是电信宽带）<br> <img src="https://images2.imgbox.com/a3/db/5NjsgkRU_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/43/7a/EAtVamCx_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/1e/e2/ft7mzVqV_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/9a/3b/Aodg9H4R_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/bc/3f/sQSNnsYi_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/68/d8/MId65aw5_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/d5/08/Z5HGokoV_o.png" alt="在这里插入图片描述"><br> ping.pe 这个网站可以探测从全球主要的 ISP 到某站点如 https://qige.io 的线路状态，当然也包括各线路到该主机的路由情况。请使用浏览器访问 http://ping.pe/qige.io 进行了解。<br> <img src="https://images2.imgbox.com/ac/69/rRUvyrsn_o.png" alt="在这里插入图片描述"><br> ✎ 问题一</p> 
<p>tracert 能告诉我们路径上的节点以及大致的延迟等信息，那么它背后的原理是什么？本问题可结合第二部分的 Wireshark 实验进行验证。</p> 
<blockquote> 
 <p>原理是向目标地址发送不同生存时间（TTL）的ICMP包，Tracert诊断程序确定到目标采取的路由。<br> 因为路径上的每一个路由器在转发数据包之前至少将数据包上的 TTL 递减1，数据包上的 TTL 减为 0 时，路由器应该将“ICMP 已超时”的消息发回源系统。<br> Tracert 先发送 TTL 为1的回应数据包，并在随后的每次发送过程将TTL递增 1，直到目标响应或 TTL 达到最大值，从而确定路由。通过检查中间路由器发回的“ICMP已超时”的消息确定路由。某些路由器不经询问直接丢弃 TTL 过期的数据包，这在Tracert 实用程序中看不到。</p> 
</blockquote> 
<p>✎ 问题二</p> 
<p>在以上两个实作中，如果你留意路径中的节点，你会发现无论是访问百度还是棋歌教学网，路径中的第一跳都是相同的，甚至你应该发现似乎前几个节点都是相同的，你的解释是什么？</p> 
<blockquote> 
 <p>因为我们都处于子网中，所以当我们访问外网时，第一步都是访问网关，然后由网关给我i们进行下一步连接，所以，访问外网的路径中的第一跳都是相同的，即所在子网的网关。</p> 
</blockquote> 
<p>✎ 问题三</p> 
<p>在追踪过程中，你可能会看到路径中某些节点显示为 * 号，这是发生了什么？</p> 
<blockquote> 
 <p>因为某些路由器对于TTL为零的数据包没有发出“ICMP已超时”的消息，不经询问直接丢弃 TTL 过期的数据包，导致某些路径显示*号。</p> 
</blockquote> 
<h4><a id="4ARP_81"></a>4.ARP</h4> 
<p>ARP（Address Resolution Protocol）即地址解析协议，是用于根据给定网络层地址即 IP 地址，查找并得到其对应的数据链路层地址即 MAC地址的协议。 ARP 协议定义在 1982 年的 RFC 826。</p> 
<p>arp -a 命令查看当前的 arp 缓存<br> <img src="https://images2.imgbox.com/9b/2d/f650tNkW_o.png" alt="在这里插入图片描述"><br> 如果再次ping一个在缓存里不存在的ip，那么缓存就会多出一个动态缓存</p> 
<p>更多选项：<code>arp /？</code><br> <img src="https://images2.imgbox.com/14/2e/YhtZ09Qz_o.png" alt="在这里插入图片描述"><br> 实作三<br> 一般而言，arp 缓存里常常会有网关的缓存，并且是动态类型的。</p> 
<p>假设当前网关的 IP 地址是 192.168.0.1，MAC 地址是 5c-d9-98-f1-89-64，请使用 arp -s 192.168.0.1 5c-d9-98-f1-89-64 命令设置其为静态类型的。<br> <img src="https://images2.imgbox.com/de/fe/sXO3FJcL_o.png" alt="在这里插入图片描述"></p> 
<p>🗣 TroubleShooting</p> 
<p>你可能会在实作三的操作中得到 “ARP 项添加失败: 请求的操作需要提升” 这样的信息，表示命令没能执行成功，你该如何解决？<br> 参考：<a href="https://zhidao.baidu.com/question/183261977.html" rel="nofollow">https://zhidao.baidu.com/question/183261977.html</a><br> ✎ 问题</p> 
<p>在实作三中，为何缓存中常常有网关的信息？</p> 
<p>我们将网关或其它计算机的 arp 信息设置为静态有什么优缺点？</p> 
<blockquote> 
 <p>将网关或其它计算机的arp信息设置为静态需要手动指定配置和维护，静态arp表项不会被老化，不会被动态ARP表项覆盖。<br> 配置静态ARP表项可以增加通信的安全性。静态ARP表项可以限制和指定IP地址的设备通信时只使用指定的MAC地址，此时攻击报文无法修改此表项的IP地址和MAC地址的映射关系，从而保护了本设备和指定设备间的正常通信。</p> 
</blockquote> 
<h4><a id="5DHCP_111"></a>5.DHCP</h4> 
<p>DHCP（Dynamic Host Configuration Protocol）即动态主机配置协议，是一个用于 IP 网络的网络协议，位于 OSI 模型的应用层，使用 UDP 协议工作，主要有两个用途：</p> 
<p>用于内部网或网络服务供应商自动分配 IP 地址给用户<br> 用于内部网管理员对所有电脑作中央管理<br> 简单的说，DHCP 可以让计算机自动获取/释放网络配置。</p> 
<p>实作一<br> 一般地，我们自动获取的网络配置信息包括：IP 地址、子网掩码、网关 IP 以及 DNS 服务器 IP 等。使用 ipconfig/release 命令释放自动获取的网络配置，并用 ipconfig/renew 命令重新获取，了解 DHCP 工作过程和原理。</p> 
<p>在我释放我的网络配置后，就断网了<br> <img src="https://images2.imgbox.com/b1/40/qRNJhO0U_o.png" alt="在这里插入图片描述"><br> 在我重新获取网络配置后网络恢复正常<br> <img src="https://images2.imgbox.com/1d/83/LuvqXNo1_o.png" alt="在这里插入图片描述"></p> 
<p>✎ 问题</p> 
<p>在Windows系统下，如果由于某种原因计算机不能获取 DHCP 服务器的配置数据，那么Windows将会根据某种算法自动配置为 169.254.x.x 这样的 IP 地址。显然，这样的 IP 以及相关的配置信息是不能让我们真正接入 Internet 的，为什么？既然不能接入 Internet，那么Winodws系统采用这样的方案有什么意义？</p> 
<blockquote> 
 <p>因为自动配置的IP地址和信息只是短暂性的解决计算机不能获取 DHCP<br> 服务器的配置数据的问题，要真正的接入Internet还是得本身计算机的正确IP地址。</p> 
</blockquote> 
<h4><a id="6netstat_133"></a>6.netstat</h4> 
<p>无论是使用 TCP 还是 UDP，任何一个网络服务都与特定的端口（Port Number）关联在一起。因此，每个端口都对应于某个通信协议/服务。</p> 
<p>netstat（Network Statistics）是在内核中访问网络连接状态及其相关信息的命令行程序，可以显示路由表、实际的网络连接和网络接口设备的状态信息，以及与 IP、TCP、UDP 和 ICMP 协议相关的统计数据，一般用于检验本机各端口的网络服务运行状况。<br> 实作一<br> Windows 系统将一些常用的端口与服务记录在 C:\WINDOWS\system32\drivers\etc\services 文件中，请查看该文件了解常用的端口号分配。<br> <img src="https://images2.imgbox.com/92/bd/Dg2VLxQy_o.png" alt="在这里插入图片描述"></p> 
<p>实作二<br> 使用 netstat -an 命令，查看计算机当前的网络连接状况。</p> 
<p><img src="https://images2.imgbox.com/d6/2c/xmgofiK1_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="7DNS_146"></a>7.DNS</h4> 
<p>DNS（Domain Name System）即域名系统，是互联网的一项服务。它作为将域名和 IP 地址相互映射的一个分布式数据库，能够使人更方便地访问互联网。DNS 使用 TCP 和 UDP 的 53 号端口。</p> 
<p>实作一<br> Windows 系统将一些固定的/静态的 DNS 信息记录在 C:\WINDOWS\system32\drivers\etc\hosts 文件中，如我们常用的 localhost 就对应 127.0.0.1 。请查看该文件看看有什么记录在该文件中。<br> <img src="https://images2.imgbox.com/ec/41/Uy0E3XAw_o.png" alt="在这里插入图片描述"></p> 
<p>实作二<br> 解析过的 DNS 记录将会被缓存，以利于加快解析速度。请使用 ipconfig /displaydns 命令查看。我们也可以使用 ipconfig /flushdns 命令来清除所有的 DNS 缓存。<br> <img src="https://images2.imgbox.com/e5/66/OxYEIh2a_o.png" alt="在这里插入图片描述"></p> 
<p>实作三<br> 使用 nslookup qige.io 命令，将使用默认的 DNS 服务器查询该域名。当然你也可以指定使用 CloudFlare（1.1.1.1）或 Google（8.8.8.8） 的全球 DNS 服务器来解析，如：nslookup qige.io 8.8.8.8，当然，由于你懂的原因，这不一定会得到正确的答案。<br> <img src="https://images2.imgbox.com/06/b9/7QsVMrg0_o.png" alt="在这里插入图片描述"><br> 🗣 TroubleShooting</p> 
<p>上面秘籍中我们提到了使用插件或自己修改 hosts 文件来屏蔽广告，思考一下这种方式为何能过滤广告？如果某些广告拦截失效，那么是什么原因？你应该怎样进行分析从而能够成功屏蔽它？</p> 
<blockquote> 
 <p>原理是再hosts文件中将广告域名对应的ip写为本机（0.0.0.0）。<br> 如果某些广告拦截失效，可能是这个广告域名改了，而我们的hosts文件中有没有写入这个新域名对应本机，所以拦截失败，这是就需要向hosts文件中写入这个新域名对应为本机，这样就可以屏蔽这个之前屏蔽失败的广告了</p> 
</blockquote> 
<h4><a id="8cache_169"></a>8.cache</h4> 
<p>cache 即缓存，是 IT 领域一个重要的技术。我们此处提到的 cache 主要是浏览器缓存。</p> 
<p>浏览器缓存是根据 HTTP 报文的缓存标识进行的，是性能优化中简单高效的一种优化方式了。一个优秀的缓存策略可以缩短网页请求资源的距离，减少延迟，并且由于缓存文件可以重复利用，还可以减少带宽，降低网络负荷。<br> <img src="https://images2.imgbox.com/e6/30/K2blEGNq_o.png" alt="在这里插入图片描述"><br> 实作二<br> 接下来仍在 Network 面板，选择 Disable cache 选项框，表明当前不使用 cache，页面数据全部来自于 Internet，刷新页面，再次在开发者工具底部查看加载该页面花费的时间。你可比对与有 cache 时的加载速度差异。<br> <img src="https://images2.imgbox.com/47/a2/Lmw4wedt_o.png" alt="在这里插入图片描述"></p> 
<h2><a id="Wireshark_177"></a>二、Wireshark实验</h2> 
<h4><a id="1_178"></a>1.数据链路层</h4> 
<p>实作一 熟悉 Ethernet 帧结构<br> 使用 Wireshark 任意进行抓包，熟悉 Ethernet 帧的结构，如：目的 MAC、源 MAC、类型、字段等。<br> <img src="https://images2.imgbox.com/22/b0/T1SghXzF_o.png" alt="在这里插入图片描述"><br> ✎ 问题</p> 
<p>你会发现 Wireshark 展现给我们的帧中没有校验字段，请了解一下原因。</p> 
<blockquote> 
 <p>因为一般来说校验和会由网卡计算，这时wireshark抓到的本机发送的数据包的校验和是错误的，所以WireShark默认关闭了自己的校验。</p> 
</blockquote> 
<p>实作二 了解子网内/外通信时的 MAC 地址<br> 1.ping 你旁边的计算机（同一子网），同时用 Wireshark 抓这些包（可使用 icmp 关键字进行过滤以利于分析），记录一下发出帧的目的 MAC 地址以及返回帧的源 MAC 地址是多少？这个 MAC 地址是谁的？</p> 
<p><img src="https://images2.imgbox.com/99/ae/HFFL5Y3k_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/47/e7/aroc3g0B_o.png" alt="在这里插入图片描述"><br> 显然可见，目的mac是我ping的主机的mac地址，源mac是我自己的主机的mac地址<br> <img src="https://images2.imgbox.com/e9/c5/NHSO6GOr_o.png" alt="在这里插入图片描述"></p> 
<p>2.然后 ping qige.io （或者本子网外的主机都可以），同时用 Wireshark 抓这些包（可 icmp 过滤），记录一下发出帧的目的 MAC 地址以及返回帧的源 MAC 地址是多少？这个 MAC 地址是谁的？<br> <img src="https://images2.imgbox.com/bf/c7/7HI2QDuc_o.png" alt="在这里插入图片描述"><br> 此时目的mac是自己主机所在子网的网关的mac地址，源mac依然是自己主机的mac地址<br> <img src="https://images2.imgbox.com/31/99/obgnB1lk_o.png" alt="在这里插入图片描述"></p> 
<p>3.再次 ping www.cqjtu.edu.cn （或者本子网外的主机都可以），同时用 Wireshark 抓这些包（可 icmp 过滤），记录一下发出帧的目的 MAC 地址以及返回帧的源 MAC 地址又是多少？这个 MAC 地址又是谁的？<br> <img src="https://images2.imgbox.com/63/ff/KWz6AWxe_o.png" alt="在这里插入图片描述"><br> 此时目的mac是自己主机所在子网的网关的mac地址，源mac还是自己主机的mac地址<br> <img src="https://images2.imgbox.com/bd/20/w1db5tch_o.png" alt="在这里插入图片描述"><br> ✎ 问题</p> 
<p>通过以上的实验，你会发现：</p> 
<p>访问本子网的计算机时，目的 MAC 就是该主机的<br> 访问非本子网的计算机时，目的 MAC 是网关的<br> 请问原因是什么？</p> 
<blockquote> 
 <p>访问本子网的计算机时，可以直接访问。<br> 访问非本子网的计算机时，需要通过网关，网关负责下一步的发送和接受，因为网关是一个子网内主机访问外网的出入口</p> 
</blockquote> 
<p>实作三 掌握 ARP 解析过程<br> 1.为防止干扰，先使用 arp -d * 命令清空 arp 缓存<br> <img src="https://images2.imgbox.com/c8/48/MsmEOJwJ_o.png" alt="在这里插入图片描述"></p> 
<p>2.ping 你旁边的计算机（同一子网），同时用 Wireshark 抓这些包（可 arp 过滤），查看 ARP 请求的格式以及请求的内容，注意观察该请求的目的 MAC 地址是什么。再查看一下该请求的回应，注意观察该回应的源 MAC 和目的 MAC 地址是什么。<br> <img src="https://images2.imgbox.com/53/15/LB16nrTC_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/84/d0/2RBDRqXj_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/60/4f/kU50Opd2_o.png" alt="在这里插入图片描述"></p> 
<p>~ 硬件类型：占两字节，表示ARP报文可以在哪种类型的网络上传输，值为1时表示为以太网地址。<br> ~上层协议类型：占两字节，表示硬件地址要映射的协议地址类型，映射IP地址时的值为0x0800。<br> ~ MAC地址长度：占一字节，标识MAC地址长度，以字节为单位，此处为6。<br> ~ IP协议地址长度：占一字节，标识IP得知长度，以字节为单位，此处为4。<br> ~ 操作类型：占2字节，指定本次ARP报文类型。1标识ARP请求报文，2标识ARP应答报文。<br> ~ 源MAC地址：占6字节，标识发送设备的硬件地址。 源IP地址：占4字节，标识发送方设备的IP地址。<br> ~ 目的MAC地址：占6字节，表示接收方设备的硬件地址，在请求报文中该字段值全为0，即00-00-00-00-00-00，表示任意地址，因为现在不知道这个MAC地址。<br> ~ 目的IP地址：占4字节，表示接受方的IP地址。</p> 
<p>以太网帧头的三个字段：<br> 目的MAC地址：占6字节，如果是ARP请求帧，因为它是一个广播帧，所以要填上广播MAC地址（FF-FF-FF-FF-FF-FF），其目标主机是网络上的所有主机。<br> 源MAC地址：占6字节，这是发送ARP帧的节点MAC地址。<br> 帧类型：占两字节，这里用来标识帧封装的上层协议，因为本帧的数据部分是ARP报文，所以直接用ARP的协议号0x0806表示就可以了。</p> 
<p>3.再次使用 arp -d * 命令清空 arp 缓存<br> <img src="https://images2.imgbox.com/4f/23/1Zg4bZDl_o.png" alt="在这里插入图片描述"></p> 
<p>4.然后 ping qige.io （或者本子网外的主机都可以），同时用 Wireshark 抓这些包（可 arp 过滤）。查看这次 ARP 请求的是什么，注意观察该请求是谁在回应。<br> 观察可知，这次arp请求的是网关的ip地址，该请求是网关在回应<br> <img src="https://images2.imgbox.com/e7/cd/YrPgLjAL_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/f9/a3/wEIxukCA_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/cd/54/j0qTHNm9_o.png" alt="在这里插入图片描述"><br> ✎ 问题</p> 
<p>通过以上的实验，你应该会发现，</p> 
<p>ARP 请求都是使用广播方式发送的<br> 如果访问的是本子网的 IP，那么 ARP 解析将直接得到该 IP 对应的 MAC；如果访问的非本子网的 IP， 那么 ARP 解析将得到网关的 MAC。<br> 请问为什么？</p> 
<blockquote> 
 <p>询问的目的是为了在网络上找到拟送信息的目标，在无法确定的时候会发起询问广播。等待目标主机的回答建立通信。<br> 访问本子网内的主机时，本机发送arp请求报文，目标主机可以直接收到，目标主机则可以直接应答，所以arp解析将直接得到该 IP 对应的<br> MAC；如果访问的非本子网的<br> ip时，本机发送arp报文，会在网关处停下，网关直接回应本机，后续找到外网地址的工作将由网关完成，这时arp报文发送出去，目的ip则是网关，回应的也是网关，所以arp解析将得到网关的mac</p> 
</blockquote> 
<h4><a id="2_264"></a>2.网络层</h4> 
<p>实作一 熟悉 IP 包结构<br> 使用 Wireshark 任意进行抓包（可用 ip 过滤），熟悉 IP 包的结构，如：版本、头部长度、总长度、TTL、协议类型等字段。<br> <img src="https://images2.imgbox.com/86/ec/8fvQFqMe_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>版本号（Version）：长度4比特。标识目前采用的IP协议的版本号。一般的值为0100（IPv4），IPv6的值（0110）</p> 
</blockquote> 
<blockquote> 
 <p>IP包头长度（Header Length）：长度4比特。这个字段的作用是为了描述IP包头的长度，因为在IP包头中有变长的可选部分。IP包头最小长度为20字节，由于变长的可选部分最大长度可能会变成24字节。</p> 
</blockquote> 
<blockquote> 
 <p>服务类型（Type of Service）：长度8比特。这个子段可以拆分成两个部分：Precedence和TOS。TOS目前不太使用。而Precedence则用于QOS应用。（TOS字段的详细描述RFC<br> 1340 1349）</p> 
</blockquote> 
<blockquote> 
 <p>IP包总长（Total Length）：长度16比特。IP包最大长度65535字节。</p> 
</blockquote> 
<blockquote> 
 <p>标识符（Identifier）:长度16比特。该字段和Flags和Fragment Offest字段联合使用，对大的上层数据包进行分段（fragment）操作。</p> 
</blockquote> 
<blockquote> 
 <p>标记（Flags）：长度3比特。该字段第一位不使用。第二位是DF位，DF位设为1时表明路由器不能对该上层数据包分段。如果一个上层数据包无法在不分段的情况下进行转发，则路由器会丢弃该上层数据包并返回一个错误信息。第三位是MF位，当路由器对一个上层数据包分段，则路由器会在除了最后一个分段的IP包的包头中将MF位设为1。</p> 
</blockquote> 
<blockquote> 
 <p>分段序号（Fragment Offset）：长度13比特。该字段对包含分段的上层数据包的IP包赋予序号。由于IP包在网络上传送的时候不一定能按顺序到达，这个字段保证了目标路由器在接受到IP包之后能够还原分段的上层数据包。到某个包含分段的上层数据包的IP包在传送是丢失，则整个一系列包含分段的上层数据包的IP包都会被要求重传。</p> 
</blockquote> 
<blockquote> 
 <p>生存时间（TTL）：长度8比特。当IP包进行传送时，先会对该字段赋予某个特定的值。当IP包经过每一个沿途的路由器的时候，每个沿途的路由器会将IP包的TTL值减少1。如果TTL减少为0，则该IP包会被丢弃。这个字段可以防止由于故障而导致IP包在网络中不停被转发。</p> 
</blockquote> 
<blockquote> 
 <p>协议（Protocol）：长度8比特。标识了上层所使用的协议。</p> 
</blockquote> 
<blockquote> 
 <p>头部校验（Header Checksum）：长度16位，由于IP包头是变长的，所以提供一个头部校验来保证IP包头中信息的正确性。</p> 
</blockquote> 
<blockquote> 
 <p>起源和目标地址（Source and Destination Addresses ）：这两个地段都是32比特。标识了这个IP包的起源和目标地址。</p> 
</blockquote> 
<p>✎ 问题</p> 
<p>为提高效率，我们应该让 IP 的头部尽可能的精简。但在如此珍贵的 IP 头部你会发现既有头部长度字段，也有总长度字段。请问为什么？</p> 
<blockquote> 
 <p>用来确定ip包数据的大小</p> 
</blockquote> 
<p>实作二 IP 包的分段与重组<br> 根据规定，一个 IP 包最大可以有 64K 字节。但由于 Ethernet 帧的限制，当 IP 包的数据超过 1500 字节时就会被发送方的数据链路层分段，然后在接收方的网络层重组。</p> 
<p>缺省的，ping 命令只会向对方发送 32 个字节的数据。我们可以使用 ping 202.202.240.16 -l 2000 命令指定要发送的数据长度。此时使用 Wireshark 抓包（用 ip.addr == 202.202.240.16 进行过滤），了解 IP 包如何进行分段，如：分段标志、偏移量以及每个包的大小等</p> 
<p><img src="https://images2.imgbox.com/f5/0a/zEgIt1Xr_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/35/37/u4vhhwlr_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/41/df/RWuoClbj_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/b7/d1/z3iSIEc5_o.png" alt="在这里插入图片描述"><br> ✎ 问题</p> 
<p>分段与重组是一个耗费资源的操作，特别是当分段由传送路径上的节点即路由器来完成的时候，所以 IPv6 已经不允许分段了。那么 IPv6 中，如果路由器遇到了一个大数据包该怎么办？</p> 
<blockquote> 
 <p>转发至能支持该数据报的出链路上</p> 
</blockquote> 
<p>实作三 考察 TTL 事件<br> 在 IP 包头中有一个 TTL 字段用来限定该包可以在 Internet上传输多少跳（hops），一般该值设置为 64、128等。</p> 
<p>在验证性实验部分我们使用了 tracert 命令进行路由追踪。其原理是主动设置 IP 包的 TTL 值，从 1 开始逐渐增加，直至到达最终目的主机。</p> 
<p>请使用 tracert www.baidu.com 命令进行追踪，此时使用 Wireshark 抓包（用 icmp 过滤），分析每个发送包的 TTL 是如何进行改变的，从而理解路由追踪原理。<br> <img src="https://images2.imgbox.com/6b/73/mfceBrqL_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/99/cd/XJU6Xj3C_o.png" alt="在这里插入图片描述"><br> ✎ 问题</p> 
<p>在 IPv4 中，TTL 虽然定义为生命期即 Time To Live，但现实中我们都以跳数/节点数进行设置。如果你收到一个包，其 TTL 的值为 50，那么可以推断这个包从源点到你之间有多少跳？</p> 
<blockquote> 
 <p>假设设置TTL时大小为64，则推断这个包从源点到我之间有64-50=14跳</p> 
</blockquote> 
<h4><a id="3_330"></a>3.传输层</h4> 
<p>实作一 熟悉 TCP 和 UDP 段结构</p> 
<ol><li>用 Wireshark 任意抓包（可用 tcp 过滤），熟悉 TCP 段的结构，如：源端口、目的端口、序列号、确认号、各种标志位等字段。</li><li>用 Wireshark 任意抓包（可用 udp 过滤），熟悉 UDP 段的结构，如：源端口、目的端口、长度等。</li></ol> 
<p>tcp包结构<br> <img src="https://images2.imgbox.com/5a/cf/mFQTDVHd_o.png" alt="在这里插入图片描述"><br> udp包结构<br> <img src="https://images2.imgbox.com/d3/26/r6HfoWPQ_o.png" alt="在这里插入图片描述"><br> ✎ 问题</p> 
<p>由上大家可以看到 UDP 的头部比 TCP 简单得多，但两者都有源和目的端口号。请问源和目的端口号用来干什么？</p> 
<blockquote> 
 <p>用来给指定的应用程序发送和接受数据</p> 
</blockquote> 
<p>实作二 分析 TCP 建立和释放连接</p> 
<ol><li>打开浏览器访问 qige.io 网站，用 Wireshark 抓包（可用 tcp 过滤后再使用加上 Follow TCP Stream），不要立即停止 Wireshark 捕获，待页面显示完毕后再多等一段时间使得能够捕获释放连接的包。</li><li>请在你捕获的包中找到三次握手建立连接的包，并说明为何它们是用于建立连接的，有什么特征。</li><li>请在你捕获的包中找到四次挥手释放连接的包，并说明为何它们是用于释放连接的，有什么特征。</li></ol> 
<blockquote> 
 <ol start="2"><li>tcp建立连接时发送的包为syn包，前两次握手时发送的包syn位为1，最后一次握手syn为0，可以作为tcp建立连接时的标识</li></ol> 
</blockquote> 
<p><img src="https://images2.imgbox.com/b6/e4/OFlQeRbH_o.png" alt="在这里插入图片描述"></p> 
<p><img src="https://images2.imgbox.com/55/a0/blMaHgWs_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>3.抓包没有成功<br> 挥手释放包即fin包，因为tcp连接时是全双工的，因此，每个方向都必须要单独进行关闭。<br> 1）首先客户端发送一个fin值为1的包，用来关闭客户机到服务端的数据传送，<br> 2）服务端收到这个fin包，发回一个ack包，表示收到这个请求<br> 3）服务端发送一个fin包，用来关闭服务端到客户机的数据传送<br> 4）客户机收到这个fin包，发回一个ack包</p> 
</blockquote> 
<p>去掉 Follow TCP Stream，即不跟踪一个 TCP 流，你可能会看到访问 qige.io 时我们建立的连接有多个。请思考为什么会有多个连接？作用是什么？</p> 
<blockquote> 
 <p>多个连接可以加快数据的传输效率，使我们上网更流畅，同时资源消耗也比单单建立一个tcp连接要大</p> 
</blockquote> 
<p>我们上面提到了释放连接需要四次挥手，有时你可能会抓到只有三次挥手。原因是什么？</p> 
<blockquote> 
 <p>上面挥手的第三步和第四步可能会被服务端和并发送，即当服务端没有数据要发送时，服务端收到来自客户机的fin包后，会发送一个ack和fin同时为1的包</p> 
</blockquote> 
<h4><a id="_375"></a>应用层</h4> 
<p>实作一 了解 DNS 解析</p> 
<ol><li>先使用 ipconfig /flushdns 命令清除缓存，再使用 nslookup qige.io 命令进行解析，同时用</li><li>Wireshark 任意抓包（可用 dns 过滤）。 你应该可以看到当前计算机使用 UDP，向默认的 DNS 服务器的 53号端口发出了查询请求，而 DNS 服务器的 53 号端口返回了结果。</li><li>可了解一下 DNS 查询和应答的相关字段的含义</li></ol> 
<p>主机向dns服务器发送的查询请求（抓包错误，这里不是查询的qige.io）<br> <img src="https://images2.imgbox.com/7b/02/PPtaldEo_o.png" alt="在这里插入图片描述"></p> 
<p>dns服务器返回的结果，多了一个answer字段<br> <img src="https://images2.imgbox.com/03/8f/MVpuDJN2_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a7/9d/pI5DSHr5_o.png" alt="在这里插入图片描述"><br> ✎ 问题</p> 
<p>你可能会发现对同一个站点，我们发出的 DNS 解析请求不止一个，思考一下是什么原因？</p> 
<blockquote> 
 <p>通过下面两个图片，我认为是因为请求问题不一样，同一个站点，我们会请求它的ipv4地址和ipv6地址</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/40/a9/zCCQaJdC_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/a3/d2/wSWAM4gx_o.png" alt="在这里插入图片描述"></p> 
<p>实作二 了解 HTTP 的请求和应答</p> 
<ol><li>打开浏览器访问 qige.io 网站，用 Wireshark 抓包（可用http 过滤再加上 Follow TCPStream），不要立即停止 Wireshark 捕获，待页面显示完毕后再多等一段时间以将释放连接的包捕获。 请在你捕获的包中找到</li><li>HTTP 请求包，查看请求使用的什么命令，如：GET, POST。并仔细了解请求的头部有哪些字段及其意义。</li><li>请在你捕获的包中找到HTTP 应答包，查看应答的代码是什么，如：200, 304, 404 等。并仔细了解应答的头部有哪些字段及其意义。</li></ol> 
<blockquote> 
 <p>一个HTTP请求报文由四个部分组成：请求行、请求头部、空行、请求数据。<br> HTTP响应报文也由三部分组成：响应行、响应头、响应体<br> 详细：<a href="https://blog.csdn.net/weixin_43195445/article/details/84639239">https://blog.csdn.net/weixin_43195445/article/details/84639239</a></p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/a6/95/fH5r5Qgq_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/ff/33/cY06w7mk_o.png" alt="在这里插入图片描述"><br> ✎ 问题</p> 
<p>刷新一次 qige.io 网站的页面同时进行抓包，你会发现不少的 304 代码的应答，这是所请求的对象没有更改的意思，让浏览器使用本地缓存的内容即可。那么服务器为什么会回答 304 应答而不是常见的 200 应答？</p> 
<blockquote> 
 <p>当用户第一次请求index.html时，服务器会添加一个名为Last-Modified响应头，这个头说明了index.html的最后修改时间，<br> 浏览器会把index.html内容，以及最后响应时间缓存下来。当用户第二次请求index.html时，在请求中包含一个名为If-Modified-Since请求头，<br> 它的值就是第一次请求时服务器通过Last-Modified响应头发送给浏览器的值，即index.html最后的修改时间，<br> If-Modified-Since请求头就是在告诉服务器，我这里浏览器缓存的index.html最后修改时间是这个，<br> 您看看现在的index.html最后修改时间是不是这个，如果还是，那么您就不用再响应这个index.html内容了，<br> 我会把缓存的内容直接显示出来。而服务器端会获取If-Modified-Since值，与index.html的当前最后修改时间比对，<br> 如果相同，服务器会发响应码304，表示index.html与浏览器上次缓存的相同，无需再次发送(节省传输成本)，<br> 浏览器可以显示自己的缓存页面，如果比对不同，那么说明index.html已经做了修改，服务器会响应200。<br> 来自：<a href="https://www.cnblogs.com/chenyablog/p/9197305.html" rel="nofollow">https://www.cnblogs.com/chenyablog/p/9197305.html</a></p> 
</blockquote> 
<h2><a id="Cisco_Packet_Tracer__426"></a>Cisco Packet Tracer 实验</h2> 
<p>直接连接两台 PC 构建 LAN<br> 将两台 PC 直接连接构成一个网络。注意：直接连接需使用交叉线。</p> 
<p>进行两台 PC 的基本网络配置，只需要配置 IP 地址即可，然后相互 ping 通即成功。<br> <img src="https://images2.imgbox.com/3d/e2/DFRzx6LR_o.png" alt="在这里插入图片描述"><br> <img src="https://images2.imgbox.com/72/89/UxLbcYjC_o.png" alt="在这里插入图片描述"></p> 
<h4><a id="_LAN_433"></a>用交换机构建 LAN</h4> 
<ul><li> <p><strong>机器名—IP------------------子网掩码</strong></p> <p>PC2 -----192.168.1.1------255.255.255.0</p> <p>PC3 -----192.168.1.2------255.255.255.0</p> <p>PC2 -----192.168.2.1------255.255.255.0</p> <p>PC3 -----192.168.2.2------255.255.255.0</p> </li></ul> 
<p><img src="https://images2.imgbox.com/35/1c/erGbBK95_o.png" alt="在这里插入图片描述"></p> 
<p>✎ 问题</p> 
<p>PC2 能否 ping 通 PC3、PC4、PC5 ？<br> PC5 能否 ping 通 PC2、PC3、PC4 ？为什么？<br> 将 4 台 PC 的掩码都改为 255.255.0.0 ，它们相互能 ping 通吗？为什么？<br> 使用二层交换机连接的网络需要配置网关吗？为什么？</p> 
<blockquote> 
 <p>如图，pc2只能ping通pc3，ping不通pc4和pc5</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/a2/c8/vrVbUWNx_o.png" alt="在这里插入图片描述"></p> 
<blockquote> 
 <p>同理，pc5只能ping同pc4，ping不通pc2和pc3，因为pc2，pc3处于一个子网内，pc4，pc5处于同一个子网内，pc只设置了ip和掩码，所以只能子网内通信</p> 
</blockquote> 
<blockquote> 
 <p>当4台pc掩码都改为255.255.0.0后，处于同一个子网下，所以都能互相通信<br> <img src="https://images2.imgbox.com/b2/18/OyajV7OD_o.png" alt="在这里插入图片描述"></p> 
</blockquote> 
<p>✎ 试一试</p> 
<p>集线器 Hub 是工作在物理层的多接口设备，它与交换机的区别是什么？请在 CPT 软件中用 Hub 构建网络进行实际验证。</p> 
<blockquote> 
 <p>一、本质区别：<br> 交换机可以分割冲突域， HUB不可以分割冲突域 这是他们最本质的区别 hub连N台电脑，他们共享在一个区域里，如果这个区域里有冲突，所有电脑都受影响。 交换机连n台电脑，每个交换机端口是一个独立的区域，即使有冲突，冲突也局限在相对应的交换机端口，不影响其他电脑。<br> 二、资源占用区别：<br> 比如一个100M的交换机，对每一个连接在交换机的计算机都是100M的速度，而Hub是瓜分100M的资源。而且Hub是通过广播来通信，很占网络资源。<br> 三、类型上的区别：<br> HUB是广播数据包，交换机是隔离数据包，HUB比交换机卡，是因为几台电脑接HUB上网就像是排队上网一样，一个先上接着轮下一个 交换机则是自由的上网，不用排队。</p> 
</blockquote> 
<h4><a id="_476"></a>交换机接口地址列表</h4> 
<p>二层交换机是一种即插即用的多接口设备，它对于收到的帧有 3 种处理方式：广播、转发和丢弃（请弄清楚何时进行何种操作）。那么，要转发成功，则交换机中必须要有接口地址列表即 MAC 表，该表是交换机通过学习自动得到的！</p> 
<p>仍然构建上图的拓扑结构，并配置各计算机的 IP 在同一个一个子网，使用工具栏中的放大镜点击某交换机如左边的 Switch3，选择 MAC Table，可以看到最初交换机的 MAC 表是空的，也即它不知道该怎样转发帧（那么它将如何处理？），用 PC0 访问（ping）PC1 后，再查看该交换机的 MAC 表，现在有相应的记录，请思考如何得来。随着网络通信的增加，各交换机都将生成自己完整的 MAC 表，此时交换机的交换速度就是最快的！</p> 
<blockquote> 
 <p>此时可见，交换机的mac地址表内多了三个mac地址，原理是pc4发送一个icmp包，交换机收到，此时交换机的mac地址表为空，不知道收到的来自pc4的包的目的地是哪，所以向所有连接的设备广播这个icmp包，然后所有收到广播的设备返回信息，就收集到所有与交换机直接连接的设备的mac地址</p> 
</blockquote> 
<p><img src="https://images2.imgbox.com/01/66/64NrzD2f_o.png" alt="在这里插入图片描述"><br> 现在交通大学内的各 PC 及网关相互能 ping 通，重庆大学也类似。但不能从交大的 PC ping 通重大的 PC，反之亦然，也即不能跨子网。为什么？</p> 
<blockquote> 
 <p>Rounter2和Rounter3之间没有配置路由协议，即当不同子网的主机想发送数据到另一个子网时，先发送到网关，即路由器一端接口，而此时路由不知道下一步应该把数据交给谁</p> 
</blockquote> 
<h4><a id="_VLAN_489"></a>虚拟局域网 VLAN</h4> 
<p>功能：将同一物理网络分成几个逻辑子网<br> 为何不同 VLAN 中的 PC 不能通信？网关在此起什么作用？我们的网关又在何处？如何发起广播测试？</p> 
<blockquote> 
 <p>此时不同vlan中的pc不能通信时由于他们处于不同的子网，网关起到了信息拦截的作用，此时网关应为相同子网下与交换机连接的端口，广播测试：ping一个不同子网下ip</p> 
</blockquote>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/3ebaf130e96fa4240852e53644809ebd/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">开发官网问题总结-更新中</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/d8a056a2a9b8fe484b9a20b08765c17d/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">cin不支持输入空格解决办法</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>