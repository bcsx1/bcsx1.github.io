<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>mx-framework前端框架使用经验积累(SG-UAP) - 编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="mx-framework前端框架使用经验积累(SG-UAP)" />
<meta property="og:description" content="在使用SG-UAPV2.8及mx-framework前台框架开发项目的过程中，积累了一些前端框架的使用技巧，基本上涵盖了大部分常用点。如有需要可以打开“阅读更多”后，直接全文搜索你想知道的问题。若未查询到可以留言告诉我，我也会尽力解答。
**
1.布局控件 **
创建一个布局控件主要包括以下步骤： 导入js类 创建实例 将实例添加到容器中
导入所需的js类。
创建实例。
将实例添加到容器中。
**
## 1.1上下分割窗口布局
**
//1.导入类代码
$import(&#34;mx.containers.HSplit&#34;); //2. 创建实例
me.hsplit = new mx.containers.HSplit({ rows: “300, auto“ ,//窗口的两部分大小 borderThick:”0px”//设置边框粗细 }); //3.将实例添加到容器中
me.addControl(me.hsplit); **
1.2左右分割窗口布局
**
//1.导入类代码
$import(&#34;mx.containers.VSplit&#34;); //2. 创建实例
me.vsplit = new mx.containers.VSplit({ cols: “300, auto“ //窗口的两部分大小 }); //3.将实例添加到容器中
me.addControl(me.vsplit); 1.3手风琴式菜单
//1.导入类代码
$import(&#34;mx.containers.Accordion&#34;); //2. 创建菜单实例
me.accordion = new mx.containers.Accordion( { &#34;height&#34;:&#34;60%&#34;, &#34;width&#34;:&#34;20%&#34;, panels:[ { title: &#34;综合评价&#34;, name: &#34;zhpj&#34; }, { title: &#34;" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/d10164fe31314ad88267fea6844d4fbc/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-03-13T16:37:18+08:00" />
<meta property="article:modified_time" content="2019-03-13T16:37:18+08:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">mx-framework前端框架使用经验积累(SG-UAP)</h1>
			
		</header>
		<div class="content post__content clearfix">
			
<div id="content_views" class="markdown_views prism-atom-one-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                        <path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path>
                    </svg>
                    <p>在使用SG-UAPV2.8及mx-framework前台框架开发项目的过程中，积累了一些前端框架的使用技巧，基本上涵盖了大部分常用点。如有需要可以打开“阅读更多”后，直接全文搜索你想知道的问题。若未查询到可以留言告诉我，我也会尽力解答。<br> **</p> 
<h3><a id="1_3"></a>1.布局控件</h3> 
<p>**<br> 创建一个布局控件主要包括以下步骤： 导入js类 创建实例 将实例添加到容器中<br> 导入所需的js类。<br> 创建实例。<br> 将实例添加到容器中。</p> 
<p>**</p> 
<p><strong>## 1.1上下分割窗口布局</strong></p> 
<p>**<br> //1.导入类代码</p> 
<pre><code>$import("mx.containers.HSplit");
</code></pre> 
<p>//2. 创建实例</p> 
<pre><code> me.hsplit = new mx.containers.HSplit({
                  rows: “300, auto“ ,//窗口的两部分大小
    borderThick:”0px”//设置边框粗细
                 });
</code></pre> 
<p>//3.将实例添加到容器中</p> 
<pre><code>me.addControl(me.hsplit);
</code></pre> 
<p>**</p> 
<p><strong>1.2左右分割窗口布局</strong></p> 
<p>**<br> //1.导入类代码</p> 
<pre><code>$import("mx.containers.VSplit"); 
</code></pre> 
<p>//2. 创建实例</p> 
<pre><code>me.vsplit = new mx.containers.VSplit({
          cols: “300, auto“ //窗口的两部分大小
         });
</code></pre> 
<p>//3.将实例添加到容器中</p> 
<pre><code>me.addControl(me.vsplit);
</code></pre> 
<p><strong>1.3手风琴式菜单</strong><br> //1.导入类代码</p> 
<pre><code>$import("mx.containers.Accordion");
</code></pre> 
<p>//2. 创建菜单实例</p> 
<pre><code>me.accordion = new mx.containers.Accordion(
      { 
        "height":"60%", 
        "width":"20%",
        panels:[ 
           { title: "综合评价", name: "zhpj" }, 
           { title: "参建队伍", name: "cjdw" } 
           ],
     onselectionchanged:me.controller.accordionChanged
       }
     );        
</code></pre> 
<p>//3.将实例添加到容器中</p> 
<pre><code> me.addControl(me.accordion);
</code></pre> 
<p><strong>1.4Tab页</strong></p> 
<pre><code>var tabControl = new mx.containers.TabControl({ 
	 	pages:[  { text: "常规", name: "general" }, 
				{ text: "角色", name: "role" } ],
 		onselectionchanging: _selection_changing, 
		 onselectionchanged: _selection_changed 
	}); 
	
function _selection_changing(e) {
	  if (!confirm("确定需要更改选择项?")) 
	 { 
			 e.cancel = true; 
	 } };
	 
 function _selection_changed() {
 		alert("选择页发生了改变，当前选择项为：" + tabControl.selection.text); 
 	}
 	
//除第1个tab页pages[0] 视图加载 需要 先初始化
me.tabControl.pages[1].init();
me.tabControl.pages[1].addControl(me.depDetailView);
</code></pre> 
<p>**</p> 
<h3><a id="2__110"></a>2. 创建表格</h3> 
<p>**<br> 创建一个表格主要也包括以下步骤：<br> 导入创建表格所需的js类。<br> 定义与表格交互数据的服务器url。<br> 创建表格数据容器。<br> 创建表格实例<br> 调用表格load方法。<br> 将表格添加到容器中。</p> 
<p>//1.导入类代码</p> 
<pre><code>$import("mx.datacontainers.GridEntityContainer");
$import("mx.datacontrols.DataGrid");
</code></pre> 
<p>//2.定义服务端url</p> 
<pre><code>	    var restUrl = "~/mxdemo/rest/uapsb/";
        /* 初始化表单数据容器EntityContainer */        
          me.gridEntityContainer = new     mx.datacontainers.GridEntityContainer({
                      baseUrl : restUrl,
	    			primaryKey: "objId"
        });
</code></pre> 
<p>//3. 创建表格实例</p> 
<pre><code>me.dataGrid = new mx.datacontrols.DataGrid({   
            columns:[
       		{name: "objId", caption: "主键" , editorType: "TextEditor"},
        	{name: "mc", caption: "设备名称      " , editorType: "TextEditor"},
        	{name: "sbxh", caption: " 设备型号" , editorType: "TextEditor"},
        	{name: "bdz", caption: "变电站 " , editorType: "TextEditor"},
        	{name: "jgdy", caption: "间隔单元" , editorType: "TextEditor"},
        	{name: "azrq", caption: "安装日期" , editorType: "TextEditor"},
        	{name: "sblx", caption: "设备类型" , editorType: "DropDownEditor"},
     	  	{name: "sfzy", caption: "是否在用" , editorType: "DropDownEditor"},
    	   	{name: "ssbm", caption: "所属部门" , editorType: "DropDownEditor"},
      		{name: "sfwx", caption: " 是否已维修" , editorType: "DropDownEditor"},
      	 	{name: "sysm", caption: "使用说明" , editorType: "TextEditor"}
            ],
          displayCheckBox: true,
          displayPrimaryKey:false,//列表是否显示主键
          allowEditing: true,    //列表默认不可编辑
          entityContainer: me.gridEntityContainer，
		  onitemclick ：me.controller._dataGrid_onClick  //定义 表格点击事件     
     });
</code></pre> 
<p>//5.调用表格load方法</p> 
<pre><code>me.dataGrid.load();
</code></pre> 
<p>//6.将表格添加到页面上</p> 
<pre><code>me.addControl(me.dataGrid);
</code></pre> 
<p><strong>2.1隐藏searchBox</strong><br> //将searchBox置为空白 setDisplay or setVisible</p> 
<pre><code>me.projunitDetailView.getDataGrid().searchBox.setDisplay("none");
</code></pre> 
<p>//将searchBox高度设为空</p> 
<pre><code>me.projunitDetailView.getDataGrid().searchBox.resizeTo("100%", "0%");
</code></pre> 
<p>//调整高度</p> 
<pre><code>me.projunitDetailView.getDataGrid().$grid.animate({top : 26},"fast");
</code></pre> 
<p><strong>2.2单元格浮动提示框</strong><br> //表格加载完事件</p> 
<pre><code>me._dataGrid_onLoad = function(p_item, $p_cell)
{ 
   //鼠标移动时的提示狂
	me.qxmsDiv = $("&lt;div style='padding:2px;background-color:#ffffff;border:1px solid;position:absolute'&gt;&lt;/div&gt;");
	me.view.append(me.qxmsDiv);
   
//绑定鼠标经过移出事件	me.view.getDataGrid().$bodyTable.find('#biaoti').on("mouseover",me._jymsonmouseover);
		me.view.getDataGrid().$bodyTable.find('#biaoti').on("mouseout",me._jymsonmouseout);
    }
    //鼠标经过事件
    me._jymsonmouseover = function(e){
    	if(e.target.innerText!=null&amp;&amp;e.target.innerText.length&gt;0){
    		me.qxmsDiv[0].style.display = "";
            me.qxmsDiv[0].innerText = e.target.innerText;
            me.qxmsDiv[0].style.left=e.clientX+"px";
            me.qxmsDiv[0].style.top=e.clientY+"px";
    	}else{
    		me.qxmsDiv[0].style.display = "none";
    	}
    }
    //鼠标移出
    me._jymsonmouseout = function(e){
        me.qxmsDiv[0].style.display = "none";
    }
</code></pre> 
<p>**</p> 
<h3><a id="3_217"></a>3.创建表单</h3> 
<p>**<br> 创建一个表单主要包括以下步骤：<br> 导入创建表单所需的js类。<br> 定义与表单交互数据的服务器url。<br> 创建表单数据容器。<br> 创建表单实例。<br> 切记表单要load才能显示。<br> 将表单添加到容器中<br> //1.导入类代码</p> 
<pre><code>$import("mx.datacontrols.DataForm");
$import("mx.datacontainers.FormEntityContainer");
</code></pre> 
<p>//2.定义服务端url</p> 
<pre><code>var restUrl = "~/mxdemo/rest/uapsb/";
</code></pre> 
<p>//3.创建表单数据容器</p> 
<pre><code>     /* 初始化表单数据容器EntityContainer */        
me.formEntityContainer = new mx.datacontainers.FormEntityContainer({ 
		baseUrl : weblet的ID值.mappath(restUrl),primaryKey: "objId"
		 });
</code></pre> 
<p>//4. 创建表单实例</p> 
<pre><code>me.form = new mx.datacontrols.DataForm({
          fields: [
        			{name: "objId", caption: "主键",   editorType: "TextEditor", visible:false},
        			{name: "mc",    caption: "设备名称 ", editorType: "TextEditor"},
        			{name: "sbxh",  caption: "设备型号", editorType: "TextEditor"},
     			 	{name: "bdz",   caption: "变电站 ",  editorType: "TextEditor"},
      			 	{name: "jgdy",  caption: "间隔单元", editorType: "NumberEditor","width":"145px"},
       				{name: "azrq",  caption: "安装日期", editorType: "DateTimeEditor","width":"145px"},
      				{name: "sblx",  caption: "设备类型", editorType: "DropDownEditor","width":"145px"},
      				{name: "sfzy",  caption: "是否在用", editorType: "DropDownEditor","width":"145px"},
    			  	{name: "ssbm",  caption: "所属部门", editorType: "DropDownEditor","width":"145px"},
    				{name: "sysm",  caption: "使用说明", editorType: "TextEditor"}
    			  ],
            entityContainer: me.formEntityContainer
        });
</code></pre> 
<p>// 5.表单要load才能显示</p> 
<pre><code>me.form.load();
</code></pre> 
<p>//6.将表单添加到页面上</p> 
<pre><code> me.addControl(me.form);
</code></pre> 
<p><strong>3.1表单弹窗视图</strong><br> 列表显示数据。<br> 列表新增数据，以表单形式新增。<br> 列表编辑数据, 表单显示数据。</p> 
<p>新增数据:</p> 
<pre><code>// 新增按钮点击事件	
    me._btnNew_onclick = function()
    {
         //通过视图控制器获取视图对象
         var mvc = new form.views.FormDetailViewController();
         var _detailView = new mvc.getView();
        _detailView.objID = null;
        //将视图对象展现出来
        me._showView(_detailView);
    };

me._showView = function(p_view)
    {
       //TODO: 表单视图保存后事件处理。
	p_view.formEntityContainer.on("saved", function(e){
				mx.indicate("info","保存成功");
				me.view.dataGrid.load();
				me.view.hsplit.removeControl(p_view);
        });
        //加载详细信息页面对象。
        p_view.load();
        if(me.view.hsplit.controls.length&lt;3){
          		 //将表单视图对象添加到hsplit中
           		me.view.hsplit.addControl(p_view,1);
        }
    }
</code></pre> 
<p><strong>3.2表单皮肤</strong><br> 定制一个表单皮肤主要包括以下步骤：<br> 导入创建表单皮肤所需的js类。<br> 定义与表单交互数据的服务器url。<br> 创建表单数据容器。<br> 创建表单实例,注册皮肤所在目录url。<br> 切记表单要load才能显示。<br> 将表单添加到容器中。<br> //1.导入类代码</p> 
<pre><code>$import("mx.datacontainers.FormEntityContainer");
$import("mx.datacontrols.SkinDataForm");
</code></pre> 
<p>//2.定义服务端url</p> 
<pre><code>var restUrl = "~/mxdemo/rest/uapsb/";
</code></pre> 
<p>//3.创建表单数据容器</p> 
<pre><code>  /* 初始化表单数据容器EntityContainer */      
  
me.formEntityContainer = new mx.datacontainers.FormEntityContainer({ 
		baseUrl : weblet的ID值.mappath(restUrl),primaryKey: "objId" });
</code></pre> 
<p>//4. 创建表单皮肤实例</p> 
<pre><code>me.skinForm=new mx.datacontrols.SkinDataForm({
           skinUrl:“~/mxdemo/form/resources/skins/form.html”,   //参见项目文件
           entityContainer: me.formEntityContainer
      });   
        // 5.表单要load才能显示
 	 me. skinForm.load();    
  		 //6.将表单添加到页面上
 	 me.addControl(me. skinForm);
</code></pre> 
<p><strong>3.3在表单中 文件上传</strong><br> JavaScript 代码</p> 
<pre><code>var dataForm = new mx.datacontrols.DataForm( {
    fields: [ {
            name: "deptId",
            caption: "DEPT_ID",
            editorType: "TextEditor",
            visible: false
        }, {
            name: "deptName",
            caption: "DEPT_NAME",
            editorType: "FileEditor",//类型为文件编辑器
            type: "form",//类型声明为 form
            uploadMode: "file",//保存方式为file，文件会保存到服务器指定磁盘路径；为blob会保存到数据库的BLOB类型字段中。
            tableName: "DEPT",//数据对应的表名，必须是数据库中的物理表名
            primaryKey: "DEPT_ID",//数据表的主键字段名
            colName: "DEPT_NAME"//当前字段在数据库中的物理名称
        } ],
    entityContainer: me.formEntityContainer
});
</code></pre> 
<p>3.4加载 表单 赋值/ 赋 时间值</p> 
<pre><code>//MainView.js 
//员工 视图
me.empMvc = new emp.views.MainViewController();
me.empView = me.empMvc.getView();
//MainViewController.js
//树 节点 改变
me._tree_selectionchanged = function(e)
{
me.id = e.selection.id;
//员工 详细页面 me.ssbm 变量赋值
me.empDetailView = new me.view.depMvc._getDetailFromView;
me.empDetailView.ssbm = depId;
}   
//DetailView.js 
 me.load = function()
    {
    	//加载表单信息
    	_form.load(me.objID,
    			function ()
    			{
					//时间 赋值
					var date = new Date();
					var year = date.getFullYear();
					var month = date.getMonth()+1;
					var day = date.getDate();
					var time = year+"-"+month+"-"+day;

    				_form.editors.skmc.setValue(me.skmc);
    				_form.editors.ksrq.setValue(time);
    				_form.editors.jsrq.setValue(time);
					//不可修改
     				_form.editors.skmc.setReadOnly(true);   
    				_form.entityContainer.setValue("skmc",me.skmc);
    				_form.entityContainer.setValue("ksrq",time);
    				_form.entityContainer.setValue("jsrq",time);  			
    			}
    	);
}
</code></pre> 
<p>3.5表单打印</p> 
<pre><code>var printCon = new mx.utils.PrintUtil({
			   	dataControl : me.view.getForm(),
			   	maxCols : 2,
			   	printHideFields : true
			  });
		 printCon.printControl(); 
</code></pre> 
<p>3.6表单验证</p> 
<pre><code>Var numberEditor = new mx.editors.NumberEditor({ 
         min: 10, 
         increment: 1, 
         onchanged: _numberEditor_changed 
     }); 
_form = new mx.datacontrols.DataForm({ 
            width: 500, 
            fields: 
            [ { name: "bdzbh", caption: "变电站编号", readOnly: true , nullable: false} ], 
            onvalidate : form_validate, 
            entityContainer: formEntityContainer // 绑定表单数据容器 
      }); 
function  form_validate()  { 
 		 alert("validate:" + mx.utils.CheckUtil.isEmail(_form.editors["bdzbh"].value)); 
	 }



{name: "note", caption: "备注" , editorType: "NumberEditor", formatString:"0.00",	
customValidate:function(p_editor){
	        var check = new mx.utils.CheckUtilClass();
	        var result = check. isDigit (p_editor.value);
	        return { successful: result, hint:"验证失败！" }
	  }	
 },
{name: "email", caption: "邮箱", editorType: "TextEditor", validType:"EMAIL",validateMessage :"请输入有效邮箱"},
{name: "phone", caption: "手机", editorType: "TextEditor", validType:"MOBILE",lineBreak:false},
{name: "identitycardId", caption: "身份证号", editorType: "TextEditor",validType:"IDCARD",onchanged:birth}//自定义方法

   //身份证 号码 改变事件
function birth(e)
{
    	var idcard = e.target.value;
    	var year = idcard.substring(6,10);
    	var mouth = idcard.substring(10,12);
    	var day = idcard.substring(12,14);
    	var birthday = year+"-"+mouth+"-"+day;
    	_form.editors.birthday.setValue(birthday);
		_form.entityContainer.setValue("birthday",birthday);
 }   
</code></pre> 
<p>3.7表单样式设置</p> 
<pre><code>&lt;DIV class=container style=\"MARGIN-LEFT: 15px; MARGIN-RIGHT: 5px\"&gt;
&lt;LABEL title=图例位置: style=\"WIDTH: 120px\"&gt;图例位置:&lt;/LABEL&gt;\r\n
&lt;DIV class=editor style=\"MARGIN-LEFT: 120px\"&gt;\r\n
&lt;DIV class=comboEditor style=\"HEIGHT: 21px; WIDTH: 100%\" &gt;\r\n
&lt;DIV id=inputContainer&gt;&lt;INPUT type=text value=图形上方 &gt;&lt;/DIV&gt;
	//加载表单信息
    	_form.load(me.objID,function(){
    		//设置 行 高度
    		_form.$e.find("td").css({
    	     	"padding-top":"12px",
    	     	"text-align":"left"
    	     });
    		//右边距
    		_form.$e.find("td&gt;div").css({
    		     	"margin-right":"20px"
    		    });
    		//上边距
    		_form.$e.find("td:eq(1)").css({
    		     	"padding-top":"30px",
    		    });
    		//文字标题
    		_form.$e.find("label").css({
    	     	"width":"105px",
    	     	"text-align":"right"
    	     });
    		//输入框
    		_form.$e.find(".editor").css({
    	     	"width":"130px",
    	     	"margin-left": "110px"
    		});
    	});
</code></pre> 
<p>**</p> 
<h3><a id="4_506"></a>4.创建树</h3> 
<p>**<br> 创建一棵树主要包括以下步骤：<br> 导入所需的js类。<br> 定义与树交互数据的服务器url。<br> 调用树的load方法。<br> 将树实例添加到容器中。<br> //1.导入类代码</p> 
<pre><code>$import("mx.datacontainers.TreeEntityContainer");
$import("mx.datacontrols.DataTree");
</code></pre> 
<p>//2.定义服务端url</p> 
<pre><code>var restUrl = "~/mxdemo/rest/uapbm/tree”;//路径为树场景 生成的java 后台方法
</code></pre> 
<p>//3. 创建树实例</p> 
<pre><code> me.treeView = new mx.datacontrols.DataTree({
      baseUrl: restUrl,
      displayCheckBox: true,  // 是否需要在树中显示选中框
      onselectionchanged: me.controller._tree_selectionchanged
         });
</code></pre> 
<p>//4. 调用树的load方法</p> 
<pre><code> me.treeView.load();
</code></pre> 
<p>//5.将树实例添加到页面上</p> 
<pre><code> me.addControl(me.treeView);

/******** 树节点选中事件 **********/
    me._tree_selectionchanged = function(e)
    {
    	if(e.selection.hasChildren){   //如果选中节点有子节点,则展开该节点
    	e.selection.expand();     //展开该节点
    }
    switch(e.selection.itemType)     //根据返回的itemType，设置不同的业务逻辑
    {
     	 case “uapbm”:               //选中节点为部门节点,则初始化部门表
        _initDepartView(e.selection.id);
     	 break;
    	 case “uapsb”:           //选中节点为设备节点,则初始化设备视图
      	_initDeviceView(e.selection.id);
        break;
      }
  };
</code></pre> 
<p><strong>4.1实现树节点示例定位</strong><br> 实现树节点示例定位主要包括以下步骤：<br> 创建一颗树。<br> 前端发送输入请求数据到服务器端。<br> 服务器端接收数据并处理、返回。<br> 前端接收并处理</p> 
<p>前端发送请求数据到服务器端:</p> 
<pre><code>    me._btnLocate_click=function(){
       //获取输入值
        var nodeValue=me.view.textEditor.value;
       //创建ESTClient实例,用于发送请求
        var restClient=new mx.rpc.RESTClient();
        restClient.get(
        “~/mxdemo/rest/uapbm/tree/check”,     //请求url
        { nodeName: nodeValue},  // 将 appSuite 先转换为 JSON 字符串，然后作为 POST 参数   			                     传递到服务端
 function(p_context)      // 回调函数,p_context为返回数据
     { 
        if(p_context!=null){
        		for(var i=0;i&lt;p_context.length;i++){
             				var node = me.view.treeView.findNode(“#”+p_context[i]);      //查找节点
             				node.expand();  //展开节点
             				me.view.treeView.selectNode(node, false);                   //选中节点
     			 }
  		  }else{
       	 		alert("REST 服务调用失败。");
       	  }
     } // End of callback function
    );  // End of client.post
  }
</code></pre> 
<p>服务端Controller层接收并处理前端请求 :</p> 
<pre><code>@RequestMapping(value="/tree/check",method=RequestMethod.GET)
@RawResponseBody
public Object findNode(@RequestParam("nodeName") String nodeName){
  List idList = treeBizc.findNodeId(nodeName);
  if(idList.size()!=0){
 	 return idList;
  }
 else{
          return null;
  }
}
</code></pre> 
<p>服务端Biz层访问数据库:</p> 
<pre><code> public List findNodeId(String nodeName){
  	String sql="select obj_id from uap_bm where bmmc like    	'%"+nodeName+"%'";
  	List idList = hibernateDao.executeSqlQuery(sql);
   	return idList;
}
</code></pre> 
<p>mx.utils.CheckUtilClass提供一个检查字符串格式的工具类。该类在运行时唯一静态实例是 mx.utils.CheckUtil 对象。</p> 
<pre><code>$import("mx.utils.CheckUtilClass");

check=new mx.utils.CheckUtilClass();
  alert(check.isEmail(a));
  alert(check.isDigit(a));
  if(check.isDigit(a)==true){
      me.view.form.save();
    }else{
 		   alert("注册资金必须是数字");
		   me.view.form.getEditor("regMoney").focus();
	}
</code></pre> 
<p><strong>4.2树节点刷新</strong></p> 
<pre><code>me.view._depTree.getNode(selId).refresh();
//    	me.view._depTree.getNode(selId).expand();		
//    	me.view._depTree.selection.parent.refresh();
//    	me.view._depTree.selection.parent.expand();
//    	me.view._depTree.selection.refresh();
//    	me.view._depTree.selection.select();  		
    	me.view._depTree.selection.refresh();
    	me.view._depTree.selection.select()
</code></pre> 
<p>**</p> 
<h3><a id="5_644"></a>5.方法</h3> 
<p>**<br> <strong>5.1树表联动 tab页切换</strong></p> 
<pre><code>//定义 全局变量 
Var selId = null; //方法外定义变量 或 方法内定义 me.selId
  me._tree_selectionchanged = function(e) 
{
    	//节点 id
    	selId = e.selection.id;
    	//树节点 员工
    	if(e.selection.itemType == "emp")
		{
    		var empId = e.selection.id;
    		
    		me.view.tabControl.pages[1].hide();
    		me.view.tabControl.pages[0].show();
    		me.view.tabControl.selectPage(me.view.tabControl.pages[0]);
    		//员工 详细信息 显示
	me.view.tabControl.pages[0].removeControl(me.view.depDetailView);
   me.view.tabControl.pages[0].addControl(me.view.empDetailView);
        	//加载 员工详细信息
        	me.view.empDetailView.objID = empId;
        	me.view.empDetailView.load();
		}
      	//树节点 部门
    	if(e.selection.itemType == "dept")
    	{
    		me.view.tabControl.pages[0].show();
    		me.view.tabControl.pages[1].show();	

    		var depId = e.selection.id;
        	var text = e.selection.text;
        	//部门视图 上级部门 变量
        	me.view.depDetailView.ssbm = depId;
        	
    		var tabControl = me.view.tabControl.selection;

	      	if(tabControl.name == "emp")
	    	{
	        	//员工列表 显示
	    	me.view.tabControl.pages[1].addControl(me.view.empView);
	    		
	      		me.view.empView.getDataGrid().setFilter({ssbm:depId});
	        	me.view.empView.getDataGrid().load();
	    	}
	      	else
	      	{
	    		me.view.tabControl.pages[0].removeControl(me.view.empDetailView);
	me.view.tabControl.pages[0].addControl(me.view.depDetailView);
	      		//加载 部门详细信息
	        	me.view.depDetailView.objID = depId;
	        	me.view.depDetailView.load();
	      	}
    	}
} 
</code></pre> 
<p><strong>5.2Toolbar方法</strong></p> 
<p>5.2.1重置新建方法 新建插入行</p> 
<pre><code>//重新定义新建事件
me.empGrid.toolBar.items["#new"].off("click", me.controller._btnNew_onclick);
me.empGrid.toolBar.items["#new"].on("click", me.controller._btnNew1_onclick);
//去除新建按钮
		me.empView.getDataGrid().toolBar.removeByIndex(0);
		me.empView.getDataGrid().toolBar.removeByName("new");
		//插入新建按钮
		me.empView.getDataGrid().toolBar.insertItem(0,"-",true);
		me.empView.getDataGrid().toolBar.insertItem(0,{ 
			name: "new", 
			text: mx.msg("NEW"), 
			toolTip: mx.msg("NEW"), 
			imageKey : "new", 
			onclick: me.controller._empView_onclick},true);
//新建 插入行
    me._empView_onclick = function()
{
	//selId 树节点Id 
    	var _ssbm = selId;
   		//插入行 所属部门 赋值
    	me.view.empView.getDataGrid().appendItem({
			"ssbm" : _ssbm
			});
    }
</code></pre> 
<p>5.2.2添加导出按键</p> 
<pre><code>me.empView.getDataGrid().onload.addEventListener(me.controller._empView_onload);
me.empDetView.getForm().entityContainer.onsaved.addEventListener(me.controller._empDetView_saved);

_dataGrid.searchBox.searchButton.onclick.clear();
_dataGrid.searchBox.searchButton.onclick.addEventListener(me.controller.searchButtom_onClick);
//添加导出按键
		me.empView.getDataGrid().toolBar.insertItem(10, "-", true);
		me.empView.getDataGrid().toolBar.insertItem(11,{ 
				name : "exportExcel",
				text : "导出",
				toolTip : "导出",
				//imageKey : "export",
imageUrl :"~/main/resources/images/excel.gif",//图片
				onclick : me.controller. _idxinfoView_exportExcel
			}, true);

//导出表格
 me._idxinfoView_exportExcel = function()
    {
    	me.view.idxinfoView.getDataGrid().exportExcel({
    		tableName:" mw_app.mwt_yyjc_idx_tab",
    		columnNames:"IDX_NODE_CODE,IDX_NODE_NAME,DUTY_DEPT_NAME,IDX_FREQ,CALC_FORMU",
    		columnCaptions:"指标编码,指标名称,责任部门名称,指标频度,计算公式",
    		filter:"grp_id = '"+me.selId+"'",
    		fileName:"指标信息"});
}

//查询 多表导出 字段前不能 用表 别名 
   me._btnEdit_exportExcel = function()
    {
    	me.view.empView.getDataGrid().exportExcel({
    		tableName:"emp,dept",
    		columnNames:" emp.obj_id, emp.mc, emp.sex, emp.ssbm,d.mc, emp.createtime",
    		columnCaptions:"编号,姓名,性别,所属部门,时间",
    		filter:" emp.ssbm='"+selId+"' and emp.ssbm = dept.obj_id",
    		fileName:"部门员工"});
    }
</code></pre> 
<p>5.2.3添加按键</p> 
<pre><code>	var btnSend = _toolBar.appendItem("cancel", "中止");
	btnSend.setImageKey("moveDown");
//btnSend.setImageUrl(mx.mappath("~/todo/resources/images/draw.png"));
    btnSend.on("click", btnClick);
    _toolBar.appendSeparator();
</code></pre> 
<p><strong>5.3自定义 查询</strong></p> 
<p>//引入包</p> 
<pre><code>$import("mx.rpc.RESTClient");
me._btnSearch_onclick = function()
    {
    	var nodeValue = me.view.textEditor1.value;
    	var nodeValue2 = me.view.dropDownEditor.value;
    	if(nodeValue2 == null)
    	{
    		nodeValue2 = "";
    	}
		//封装 变量
    	var params=new Object();
     	params.items=new Array();
     	params.items.push({"mc":nodeValue},{"ssbm":nodeValue2});

    	//创建ESTClient实例,用于发送请求
    	var restClient = new mx.rpc.RESTClient();
    	restClient.post(
    			main.mappath("~/rest/emp/search"),//main 为当前视图ID
    			JSON.stringify(params),
    			function(p_context) //回调函数，p_context为返回数据
    			{
    				if(p_context.successful)
    				{
    					 var items=p_context.resultValue.items;
						//返回数据 为普通集合 需要 重新组装 赋给表格
//    			  		 var data=[];
//    	  	    		 for(i=0;i&lt;items.length;i++)
//    	  	    		 {
//    	  	    			 var obj=new Object();
//    	  	    			 obj.objId=items[i][0];
//    		    			 obj.mc=items[i][1];
//    		    			 obj.sex=items[i][2];
//    		    			 obj.ssbm=items[i][3];
//    		    			 obj.createtime=items[i][4];;
//    		    			 data.push(obj);
//    	  	    		 }
//    		    		me.view.empView.getDataGrid().setItems(data);
						//按照 一定格式返回的集合 直接赋予表格
    		    		me.view.empView.getDataGrid().setItems(items);

    				}
    				else{
    					mx.indicate("fail", "无此节点！");
    				}
    			}
    	);
 }
</code></pre> 
<p>//控制层</p> 
<pre><code>@RequestMapping(value = "/search2", method = RequestMethod.POST)
public @ItemResponseBody
QueryResultObject search(@ItemsRequestBody List&lt;Map&gt; list) 
{
	QueryResultObject query = new QueryResultObject();
	List&lt;Emp&gt; idList = empdbcjBizc.searchEmp(list);
	query.setItems(idList);
	return query;
}
</code></pre> 
<p>//接口</p> 
<pre><code>public List&lt;Emp&gt; searchEmp(List&lt;Map&gt; list);
</code></pre> 
<p>//逻辑层</p> 
<pre><code>@SuppressWarnings("unchecked")
	public List&lt;Emp&gt; searchEmp(List&lt;Map&gt; list) {

		QueryCriteria qc = new QueryCriteria();
		List&lt;Emp&gt; result = null;

		qc.addFrom(Emp.class);
		if (list != null) 
		{
			String mc = (String) list.get(0).get("mc");
			String ssbm = (String) list.get(1).get("ssbm");
			if(mc != "")
			{
				qc.addWhere(" mc like '%"+mc+"%' ");
			}
			if(ssbm != "")
			{
				qc.addWhere(" ssbm = '"+ssbm+"'");
			}
			result = hibernateDao.findAllByCriteria(qc);
	}
</code></pre> 
<p><strong><strong>5.4模糊查询</strong> 更改系统查询方法<br> 逻辑层 查询方法</strong></p> 
<pre><code> /**
    	 * 根据输入条件查询记录
    	 * @param queryCondition
    	 * @return
    	 */
public QueryResultObject query(RequestCondition queryCondition) {

		QueryCriteria qc = new QueryCriteria();
		List&lt;MwtYyjcIdxTab&gt; result = null;
		int count = 0;
		qc.addFrom(MwtYyjcIdxTab.class);
		if (queryCondition != null) {
			qc = wrapQuery(queryCondition, qc);
			count = getRecordCount(qc);
			qc = wrapPage(queryCondition, qc);
			result = hibernateDao.findAllByCriteria(qc);

		} else {
			result = hibernateDao.findAllByCriteria(qc);
			count = getRecordCount(qc);
		}
		return RestUtils.wrappQueryResult(result, count).addDicItems(wrapDictList());
		
		
	}
	private QueryCriteria wrapQuery(RequestCondition queryCondition,
			QueryCriteria qc) {
		List&lt;QueryFilter&gt; wheres = queryCondition.getQueryFilter(MwtYyjcIdxTabVO.class);
		if (wheres != null &amp;&amp; wheres.size() &gt; 0) {
			//解析 wheres条件 更改 内容
			int	 size = wheres.size();
			for(int i=0;i&lt;size;i++)
			{
String filedName = (String)wheres.get(i).getFieldName();
				if("grpId".equals(filedName))
				{
					String value = (String) wheres.get(i).getValue();	
					if("CD8E302C-4345-4236-A4EA-64D76BB700A7-01579".equals(value))
					{
						wheres.get(i).setValue("null");
						wheres.get(i).setOperator("!=");
					}
				}
				if("idxNodeName".equals(filedName))
				{
					String value = (String) wheres.get(i).getValue();	
					value = "%"+value+"%";
					wheres.get(i).setValue(value);
					wheres.get(i).setOperator("like");
				}
				if("idxNodeCode".equals(filedName))
				{
					//简便方法 与上一个同样结果
wheres.get(i).setOperator("like");
				}
			}	
	CrudUtils.addQCWhere(qc, wheres, MwtYyjcIdxTab.class.getName());
		}

		String orders = queryCondition.getSorter();
		if (orders != null) {
			qc.addOrder(orders.replaceAll("&amp;", ","));
		}
		return qc;
	}
</code></pre> 
<p>weblet引用</p> 
<pre><code>$import("xmjc.views.MainViewController");
mx.weblets.WebletManager.register({
    id: "xmjc",
    name: "",
    requires: ["chart","promgr","rightgrid"],
    onload: function(e)
    { },
});
</code></pre> 
<p>5.5后台定义数据字典<br> //query 方法</p> 
<pre><code>RestUtils.wrappQueryResult(result,count).addDicItems(wrapDictList());
</code></pre> 
<p>/**<br> * 初始化字典值<br> *</p> 
<pre><code> * @return QueryResultObject
	 */
	public QueryResultObject initDict() {
		QueryResultObject query = new QueryResultObject();
		return query.addDicItems(wrapDictList());
	}
</code></pre> 
<p>// 将字典对象封装为list</p> 
<pre><code>private List&lt;DicItems&gt; wrapDictList() {
		List&lt;DicItems&gt; dicts = new ArrayList&lt;DicItems&gt;();

    dicts.add(translateFromDB("mc", "com.sguap.empdbcj.po.Emp", "mc", "mc"));
    dicts.add(translateFromFile("sex", "EMP.SEX"));
	return dicts;
}
</code></pre> 
<p>// 从属性文件中查询字典</p> 
<pre><code>private DicItems translateFromFile(String fieldName, String dicId) {
		List&lt;Map&lt;String, String&gt;&gt; list = dataDictionaryBizC.translateFromFile(
				dicId, "value", "text");
		DicItems dict = new DicItems();
		dict.setName(fieldName);
		dict.setValues(list);
		return dict;
	}
</code></pre> 
<p>// 从数据库中查询字典</p> 
<pre><code>private DicItems translateFromDB(String fieldName, String poName,String keyField, String valueField) {
		List&lt;Map&lt;String, String&gt;&gt; list = dataDictionaryBizC.translateFromDB(
				poName, "value", "text", keyField, valueField,"1=1");
		DicItems dict = new DicItems();
		dict.setName(fieldName);
		dict.setValues(list);
		return dict;
	}
</code></pre> 
<p>/**<br> *注入数据字典构件<br> *</p> 
<pre><code> * @param dataDictionaryBizC
	 */
	public void setDataDictionaryBizC(IDataDictionaryBizC dataDictionaryBizC) {
		this.dataDictionaryBizC = dataDictionaryBizC;
	}
</code></pre> 
<p><strong>5.6 前后台 交互 传参</strong></p> 
<p><em><strong>1集合：</strong></em><br> 前台js：</p> 
<pre><code>var params = new Object();
			params.items = new Array();    		
			params.items.push({"cdmc":me.view.cdmc.value,"deptid":_deptID});
			var restClient = new mx.rpc.RESTClient({async:false});
    		restClient.post(
    			zhutwh.mappath("~/rest/applychangeyd/getApplyInfo"),
    			JSON.stringify(params),
    			function(p_context) //回调函数，p_context为返回数据
    			{
    				var items = p_context.resultValue.items;
    				if(items.length &gt; 0){
    					mx.indicate("info","此要点的申请流程启动中");
		            	return;
    				}
    			});		
</code></pre> 
<p>后台java代码：</p> 
<pre><code>控制层：
/**
     * 根据id获取申请工作项信息 
     * @param recordid 申请修改业务主键
     * @return 申请修改业务信息
     */
  @RequestMapping(value = "/getApplyInfo", method = RequestMethod. POST)
    public @ItemResponseBody
    List getApplyInfo(@ItemsRequestBody List&lt;Map&gt; list) {
        return applychangeBizc.getApplyInfo(list);
}
逻辑层：
/**
     * 根据id获取申请工作项信息 
     * @param recordid 申请修改业务主键
     * @return 申请修改业务信息
     */
public List getApplyInfo(List&lt;Map&gt; list) {
List&lt;Map&lt;String,String&gt;&gt; result = new ArrayList&lt;Map&lt;String,String&gt;&gt;();
		if(list.size() &gt; 0){
			String idxCode = (String) list.get(0).get("idxCode");
			StringBuffer sql = new StringBuffer();
			sql.append(" select idx.idx_node_code ");
			sql.append(" from MWT_YYJC_IM_IDX ");
			sql.append(" where idx.idx_node_code = '"+idxCode+"' ");
			result = hibernateDao.queryForListWithSql(sql.toString());
		}
	    return result;	
}
</code></pre> 
<p><em><strong>2数组：</strong></em></p> 
<pre><code>前台js：
			var bd = new Array();
			bd.add(eddy);
			bd.add(dytz);
			var param = {params:bd.join(",")};
			var rest = new mx.rpc.RESTClient({baseUrl:"~/rest/condition"});
			rest.get("/save",param,function(p_context){
				if(p_context.successful){
					alert("测点新建成功！");
				}
			});
</code></pre> 
<p>后台java代码：</p> 
<pre><code>@RequestMapping("/save")
			public @ItemResponseBody 
				QueryResultObject save(@RequestParam(value="params") String[] params){
				String[] statis = params[0].split(",");
			}
</code></pre> 
<p><em><strong>3单个参数：</strong></em><br> 前台js：</p> 
<pre><code>var restClient = new mx.rpc.RESTClient({async:false});
restClient.get(main.mappath("~/rest/emp/search"),{emp:nodeValue},function(p_context) //回调函数，p_context为返回数据{})
</code></pre> 
<p>后台java代码：</p> 
<pre><code>@RequestMapping("/getZzxh")
			public @ItemResponseBody
			QueryResultObject queryZzxh(@RequestParam(value="emp",required=false) String emp)
</code></pre> 
<p><em>单个参数传参：</em><br> 前台：</p> 
<pre><code>var params={itemType:me.view.getForm().editors.yhm.value};//里面的
var client =new mx.rpc.RESTClient();
client.get(user.mappath("~/rest/testuser/yzxx"),
{params:JSON.stringify(params)},
function(p_context){//前面的params是固定的格式，后边括号内的params可以随意起名
    	});
</code></pre> 
<p>后台：</p> 
<pre><code>@RequestMapping(value = "/yzxx", method = RequestMethod.GET)
	public @RawResponseBody
	boolean yzxx(@ItemRequestParam("params") String itemType){}
</code></pre> 
<p>单个传参时，注意get或post用法(用post接收不到值)</p> 
<p><em><strong>4多个参数：</strong></em><br> 前台js：</p> 
<pre><code>var cdlb = "";
		var dydj = "";
		var param = {cdlb:cdlb,dydj:dydj};
</code></pre> 
<p>后台java代码：</p> 
<pre><code>@SuppressWarnings("unchecked")
			@RequestMapping("/getDydj")
			public @ItemResponseBody QueryResultObject queryDydj(@RequestParam(value="cdlb") String cdlb,@RequestParam(value="dydj") String dydj){}
</code></pre> 
<p><em><strong>5通过URL传递参数：</strong></em><br> 前台js：</p> 
<pre><code> me.treeView = new mx.datacontrols.DataTree({
			    baseUrl: "~/rest/mwtpdscdeps/tree/"+deptId+"",
			    displayCheckBox: false, // 是否需要在树中显示选中框
			    onselectionchanged: me.controller._tree_selectionchanged
			});
</code></pre> 
<p>后台java代码：</p> 
<pre><code>@RequestMapping(value = "/tree/{id}", method = RequestMethod.GET)
			public @TreeResponseBody
			List&lt;TreeNode&gt; getNodes(@PathVariable String id,
				@ItemRequestParam("params") String itemType
</code></pre> 
<p><strong>5.7Grid 单元格 方法</strong><br> <strong>1数值格式 两位小数</strong></p> 
<pre><code>//数值 两位小数
{	name: "zcsw", caption: "正常水位(米)" , editorType: "NumberEditor",valueType:"NUMBER",formatString :"0.00" },
//输入水位时检测输入的是不是数字，最大不能超过10位，精度最大为2
{	name: "fee", caption: "报销费用" , editorType: "NumberEditor",   
	            renderCell:function(p_item, $p_cell)
	        	{
	            	var value = p_item.getValue("fee");
	        		if(value != null)
	        		{
	        			if(me.empLevel != null)
	        			{
	        				if(me.empLevel == 0)
	        				{
	        					if(value &gt; 5000)
	        					{
	        						$p_cell[0].style.color="red";
	        					}
	        				}
	        				else if(me.empLevel == 1)
	        				{
	        					if(value &gt; 10000)
	        					{
	        						$p_cell[0].style.color="red";
	        					}
	        				}
	        			}	
		        		$p_cell.text(value);
	        		}
	        		else
	        		{
	        			$p_cell.text("");
	        		}	
				}	
	        
	        }
</code></pre> 
<p><strong>2数值改变 字体变红/值大小限定</strong></p> 
<pre><code>oncelledited:me.controller._feeGrid_oncelledited
  //费用 编辑 数字改变字体变为红色。 根据级别 限定 费用限度
    me._feeGrid_oncelledited = function(e)
    {
    	var column = e.column.name;
    	if(column == "fee")
    	{
// 数值 是否 改变
var changed = me.view.getDataGrid().entityContainer.changed;
    		if(changed)
    		{
    			var fee = e.item.values.fee;
    			if(fee != null)
    			{
    				if(me.view.empLevel != null)
    				{
        				if(me.view.empLevel == 0)
        				{
        					if(fee &gt; 5000)
        					{
        						alert("报销费用不能大于5000");
        						e.item.values.fee = 0;
        				e.target.entityContainer.editingItem.fee = 0;
        						return;
        					}
        					else
            				{
            	    			e.cell[0].style.color = "red";
            				}
        				}
        				if(me.view.empLevel == 1)
        				{
        					if(fee &gt; 10000)
        					{
        						e.cell[0].style.innerHTML= "";
        						e.cell[0].style.innerText= "";
        						alert("报销费用不能大于10000");
        						return;
        					}
        					else
            				{
            	    			e.cell[0].style.color = "red";
            				}
        				}
        				else
        				{
        	    			e.cell[0].style.color = "red";
        				}
    				}
    			}
    		}
me.view.getDataGrid().entityContainer.changed = false;
    	}
    }
</code></pre> 
<p><strong>3新建插入行 赋值 不可改变</strong></p> 
<pre><code>//新建插入行 员工ID 赋值 不可修改
   me.view.feeView.getDataGrid().appendItem({
			"empId" : empId
	});
   me.view.feeView.getDataGrid().columns.empId.readOnly = true;
</code></pre> 
<p><strong>4加链接</strong></p> 
<pre><code>//加链接
{	name: "mc", caption: "部门名称" , editorType: "LinkEditor", 
	            renderCell:function(p_item, $p_cell)
	        	{
	            	var value = p_item.getValue("mc");
	        		if(value != null)
	        		{
//	        		$p_cell[0].style.color="blue";
//	        		$p_cell[0].style.textDecoration="underline";
//	        		$p_cell[0].style.cursor="hand";	        								$p_cell.css({"color":"blue","cursor":"hand"});
		        		$p_cell[0].onclick=function(){
p_item.checked = true;		       me.controller._btnEdit_onclick(p_item.getValue("objId"));
		        		};
		        		$p_cell.text(value);
	        		}
	        		else
	        		{
	        			$p_cell.text("");
	        		}	
				}
	        },
me._btnEdit_onclick = function(selObj){}
</code></pre> 
<p><strong>5.8声明/重定义 方法</strong><br> <strong>1.列表点击事件</strong><br> MainView.js</p> 
<pre><code>_dataGrid = new mx.datacontrols.ComplexGrid({   
			。。。
	        create: me.controller._btnNew_onclick,
           remove: me.controller._btnDelete_onclick,
           onitemclick:me.controller._unitGid_onItemClick
        });    
MainViewController.js
me._unitGid_onItemClick = function()
{	
}
</code></pre> 
<p>//其他 视图 重新 定义方法</p> 
<pre><code>me.unitView.getDataGrid().onitemclick.clear();
me.unitView.getDataGrid().onitemclick.addEventListener(me.controller._unitGid_onItemClick);
</code></pre> 
<p><strong>2.列表选择事件</strong></p> 
<pre><code>//datagrid 定义事件
_dataGrid = new mx.datacontrols.ComplexGrid({   
	…
autoSelect:true,
   onselectionchanged:changed
})
function changed(e)
{
}
</code></pre> 
<p>//其他 视图 重新 定义方法</p> 
<pre><code>me.unitView.getDataGrid().onselectionchanged.clear();
me.unitView.getDataGrid().onselectionchanged.addEventListener(changed);
</code></pre> 
<p><strong>3.查询 方法 重写</strong></p> 
<pre><code>_dataGrid.searchBox.searchButton.onclick.clear();
_dataGrid.searchBox.searchButton.onclick.addEventListener(me.controller.searchButtom_onClick);
</code></pre> 
<p><strong>4.新建，编辑方法重写</strong><br> //去除新建按钮</p> 
<pre><code>me.chartrqView.getDataGrid().toolBar.removeByIndex(0);
me.chartrqView.getDataGrid().toolBar.removeByName("new");
</code></pre> 
<p>//插入新建按钮</p> 
<pre><code>me.chartrqView.getDataGrid().toolBar.insertItem(0,"-",true);
me.chartrqView.getDataGrid().toolBar.insertItem(0,{

name: "add",
text: mx.msg("NEW"),
toolTip: mx.msg("NEW"),
imageKey : "add",
onclick: me.controller._chartrqAdd_onclick},true);
</code></pre> 
<p>//重置 编辑方法</p> 
<pre><code>me.chartrqView.getDataGrid().toolBar.items["#edit"].onclick.clear();
me.chartrqView.getDataGrid().toolBar.items["#edit"].onclick.addEventListener(me.controller._chartrqEdit_onclick);
me.chartrqView.getDataGrid().toolBar.items["#edit"].on("click", me.controller._btnView_onclick);
</code></pre> 
<p>**</p> 
<p>**</p> 
<p><strong>5.9方法</strong></p> 
<p>**</p> 
<p>**<br> 1.统计周期时间判断</p> 
<pre><code>//统计周期 起始时间
    me._time1_changed = function(e)
    {
    	//清除 验证信息
    	e.target.$e.removeClass("error");
       e.target.$e.toolTip("destroy")
    	//yyyy-MM-dd
    	var time1 = e.target.value;
    	var searchDate1 = time1.replace(/\-/g,"");
		//今天
		var date = new Date();
		date = Date.format(date,"yyyyMMdd");
		if(searchDate1 &gt; date)
		{
			mx.indicate("info", "查询时间大于今天");
			e.target.markError(true, "查询时间大于今天");
			return;
		}
		var time2 = me.view.dataTimeEditor2.value;
		if($notEmpty(time2))
		{
			var searchDate2 = time2.replace(/\-/g,"");
	    	if(searchDate1 &gt; searchDate2)
			{
				mx.indicate("info", "起始时间小于终止时间");
				e.target.markError(true, "起始时间小于终止时间");
				return;
			}
		}
   }
</code></pre> 
<p>2.添加、清除验证信息</p> 
<pre><code>//添加 验证信息 
e.target.markError(true, "查询时间大于今天");
//清除 验证信息
       formEditors.xzhousj.$e.removeClass("error");
       formEditors.xzhousj.$e.toolTip("destroy")
</code></pre> 
<p>3.查询区，工具条 换位</p> 
<pre><code>// 把toolbar放在serachBox之后
_dataGrid.toolBar.$e.insertAfter(_dataGrid.searchBox.$e);
// 通过此方法的重写实现SearchBox收缩，无此方法，收缩后工具栏将看不到
ontoggleShowState : function(e) {
		_dataGrid.$grid.css("top", e.height + 26);
}
</code></pre> 
<p>此方法写在searchbox 里面</p> 
<p>4.隐藏 分页栏</p> 
<pre><code>me.idxdimView.getDataGrid().pageNaviBar.hide();
me.idxdimView.getDataGrid().$grid.css({bottom:0})
me.idxdimView.getDataGrid().toolBar.hide();
me.idxdimView.getDataGrid().toolBar.setVisible(false)
</code></pre> 
<p>5.弹窗 返回值 定义关闭事件</p> 
<pre><code>window.open(mx.mappath("http://localhost:9000/testuap/basemanager/zhutiydwh/index.jsp"),"显示窗口", "height=800, width=1200, top=0, left=0, toolbar=yes, menubar=yes, scrollbars=yes,"resizable=yes, location=yes, status=yes");
var options = {title:"指标与维度关系维护页面",reusable: true, displayMaxButton:true,width:450, height:600};
me.winDim = new mx.windows.WindowManager().create(options);
//me.winDim = jishifx.context.windowManager.create(options);

me.winDim.addControl(button);
me.winDim.setView(me.view.mainIdxdimView);
//返回值 回调函数 获取返回值
me.winDim.showDialog(
	function(p_dialog){
			var result = p_dialog.dialogResult.saved;
	}
);
//me.winDimVal.$e.find(".closeButton");
//窗口关闭me.winDimVal.$e.find("span")[1].attachEvent("onclick",_btnClose_onclick);
//返回值
me.winDimVal.setDialogResult({saved:me.saved	});		
//加载选择单表页面
    	var options = {title:"选择单表",reusable: true, width:"500", height:"70%",
    			displayMaxButton:true,resizable:false
    	};
    	me.winDimVal = new mx.windows.WindowManager().create(options);
    	//整个页面 上下分割
    	me.hSplit = new mx.containers.HSplit({
			rows:"90%,10%",
			borderThick:"0"
		})
    	me.winDimVal.addControl(me.hSplit);
    	
		me.hSplit.addControl(me.view.bjgView,0);
		me.view.bjgView.getDataGrid().load();
		
		var container = new mx.containers.Container({
			width:"100%",height:"100%"
		});
		var label = new mx.controls.Label({
			width:"30%",height:"100%"
		});
		var submit = new mx.controls.Button({
		    text: "确定",
		    onclick:next
		});
		var label2 = new mx.controls.Label({
			width:"100",height:"100%"
		});
		var cancel2 = new mx.controls.Button({
		    text: "取消"
		});
		cancel2.on("click", function()
		{
	    	me.winDimVal.hide();
		});
		me.hSplit.addControl(container,1);
		container.addControl(label);
		container.addControl(submit);
		container.addControl(label2);
		container.addControl(cancel2);

		me.winDimVal.showDialog();
</code></pre> 
<p>6.表头加复选框</p> 
<pre><code>me.chartrqView.getDataGrid().load(function(){
    		  var checkTd = $("&lt;div&gt;&lt;span id='checkBox2'/&gt;&lt;/div&gt;");
//    		  me.chartrqView.getDataGrid().$headTable.find("td")[2].firstChild.appendChild(checkTd[0]);
    		  me.chartrqView.getDataGrid().$headTable.find("td")[2].innerHTML = "&lt;div&gt;&lt;span&gt;&lt;input id='checkBox2' type='checkbox'/&gt;&lt;/SAPN&gt;&lt;SPAN id=caption&gt;高度&lt;/SPAN&gt;&lt;/div&gt;";
    		  me.chartrqView.getDataGrid().$e.on("click", "#checkBox2", _item_checkBox_click);
    	});
</code></pre> 
<p>7.表格第一列 分组 合并单元格</p> 
<pre><code>renderCell : function(p_item, $p_cell) {
		        				debugger;
		        				var value = p_item.values.fz;
		        				var newValue = null;
		        				var data = me.gridEntityContainer.data;
		        				if (typeof (value) != "undefined") {
		        					if (tempDept != value) 
		        					{
		        						// 统计相同记录条数
		        						for (i = 0; i &lt; data.length; i++) 
		        						{
		        							if (data[i].fz == value) {
		        								count++;
		        							}
			        						$p_cell.attr("rowspan", count);
			        						$p_cell.text(value);
			        						num = 1;
			        					}
		        					}
		        					if (tempDept == value &amp;&amp; num &gt;= 2) {
		        						$p_cell.hide();
		        						count = 0;
		        					}
		        					num += 1;
		        					$p_cell.css({
		        						"color" : "green",
		        						"background-color" : "#ADD8E6"
		        					});
		        				}
		        			}
</code></pre> 
<p>8.多表查询<br> 控制层 更改query 查询方法<br> 逻辑层 自定义查询方法myquery<br> （文件编码UTF-8）</p> 
<p>9.查询区 split 背景色修改</p> 
<pre><code>//查询区 改颜色
_dataGrid.$e.find(".dataGridSearchBox").css({"background-color":"#D1E9E9"});
_dataGrid.searchBox.$e.find("TD").css({"background-color":"#D1E9E9"});
 //split 单个分区 背景色
me.hsplit.$panel1.css({"background-color":"#D1E9E9"});
</code></pre> 
<p>10.日期时间转换</p> 
<pre><code>var searchDate =  new Date(temptime);
var firstDate = searchDate.addDays(-6); 
searchDate = Date.format(searchDate,"MM月dd日");
firstDate = Date.format(firstDate,"MM月dd日");
</code></pre> 
<p>11.清空容器</p> 
<pre><code>var container = me.view.rightContainer;
    	var length = container.controls.length;
   for(var i=0; i&lt;length; i++)
   {			    	
    	container.removeControl(container.controls[0]);
   }
</code></pre> 
<p>12.下拉树</p> 
<pre><code>{ 	name : "shangjizt",caption : "上级专题",
editorType : "DropDownTreeEditor",
url : zhuantifxwh.mappath("~/rest/tfxzhuantifx/tree"),
displayCheckBox : false }
</code></pre> 
<p>13.表格字段标题添加按键</p> 
<pre><code>me.view.getDataGrid().load(function(){
			
	    	var button = new mx.controls.Button({
	    	    text: "△",width:"10px",height:"20px"
	    	});
			me.view.getDataGrid().$head.find("#calendarDate #caption").width("60%");
//			var span = "&lt;SPAN width='20px' style='left:40px position:absolute width:20px'&gt;sdfsf&lt;/SPAN&gt;";
//			me.view.getDataGrid().$head.find("#calendarDate div").append($(span));
			me.view.getDataGrid().$head.find("#calendarDate div").append(button.$e);
});
</code></pre> 
<p>**</p> 
<h3><a id="_1598"></a>系统结构</h3> 
<p>**</p> 
<p>界面层：基于AJAX框架自主开发可复用的界面标签，可以灵活组合满足不同客户的需求。<br> 交互层：响应用户请求并将请求分发到不同展现构件，由展现构件组织逻辑层来协同处理这些请求，返回结果到界面层。<br> 逻辑层：提供通用组件，对通用业务逻辑、工具包以及公共套件提供的服务进行封装，以便业务逻辑的复用和组装。<br> 持久层：为业务系统与数据库的交互提供简单一致的接口，并优化了数据库操作性能。实现通用数据访问服务组件，支持多种形式的数据存取，实现数据库相关对象的OR Mapping机制及复杂的业务数据获取规则。</p> 
<p>MX展现框架可分为6部分：基础层、工具层、控件层、视图层、Weblet小程序以及可视化设计器。<br> 基础层：JavaScript语言扩展、JavaScript运行时扩展、国际化以及主题。<br> 工具层：通用工具库、安全机制和REST服务客户端。<br> 控件层：基础控件、编辑器控件、容器控件、数据控件以及数据实体容器。<br> 视图层包括视图、视图控制器、视图容器以及数据实体容器。<br> Weblet小程序：是web应用的最小逻辑单元，它将页面文件、脚本文件和资源文件按照一定的目录结构管理。<br> 可视化设计器：是为基于MX框架的二次开发人员提供的集成开发工具，方便开发人员快速构建一个web应用。<br> 层次<br> 持久层<br> 提供统一的接口IHibernateDao。<br> 接口中封装一系列的持久化方法。<br> 在逻辑层中调用持久层的方法完成对业务的逻辑操作。<br> 主要方法：findAll，saveOrUpdate，removeObject，getObject.<br> 逻辑层<br> 平台的逻辑层主要是编写逻辑构件 。<br> 一个逻辑构件是由接口，实现类和配置文件组成。<br> 例如：接口为IBizc,实现类为Bizc。配置文件为：</p> 
<pre><code>&lt;bizc:logic id="treeBizc"&gt;
	&lt;bizc:implementation type="java" 	target="com.sgcc.uap.test.bizc. Bizc" /&gt;
	&lt;bizc:service 	interface="com.sgcc.uap.test.bizc.IBizc"&gt;
	&lt;/bizc:service&gt;
&lt;/bizc:logic&gt;
</code></pre> 
<p>逻辑构件在控制层中调用，将逻辑构件注入到逻辑层。</p> 
<pre><code>@Autowired 
private ITreeBizc treeBizc;
</code></pre> 
<p>----配置文件中定义的逻辑构件的ID。<br> 控制层<br> 控制层主要是与前端进行交互。<br> 在控制层中定义与前端约定的请求URL地址，参数和请求方法，映射到具体控制类和方法中<br> 接收前端请求，将请求数据拦截通过注解将数据翻译为后台理解的信息，执行相应操作后将返回值翻译为前端理解信息返回给前端显示。</p> 
<p>配置文件<br> 控制类配置文件(testResource.xml)<br> 主要定义要扫描的package，package中存在有注解@Controller标记的java类。配置控制类路径。</p> 
<pre><code>&lt;beans xmlns="http://www.springframework.org/schema/beans"
	…
	&lt;context:component-scan base-package="com.sgcc.uap.test" /&gt; 
&lt;/beans&gt;
</code></pre> 
<p>逻辑构件配置文件（testBizc.xml）<br> 配置逻辑构件的接口和实现类，还可以进行事务配置。</p> 
<pre><code>&lt;bizc:logic id="bdqxBizc"&gt;
        &lt;!--配置逻辑构件的接口和实现类 --&gt;
		&lt;bizc:implementation type="java" target="com.sgcc.uap.test.bizc.TestBizc" /&gt;  
		&lt;bizc:service interface="com.sgcc.uap. test.bizc.ITestBizc"&gt;
		&lt;/bizc:service&gt;
	&lt;/bizc:logic&gt;
</code></pre> 
<p>持久层配置文件(moduleEntityPersistence.xml)</p> 
<pre><code>&lt;beans xmlns="http://www.springframework.org/schema/beans"
	…&gt;  
  &lt;module:entity id="testEntity" sessionFactory="sessionFactory"&gt;
   &lt;module:mappingFile&gt;
classpath:com/sgcc/uap/test/po/MwtUdSbdyxBdqxjl.hbm.xml
&lt;/module:mappingFile&gt;
  &lt;/module:entity&gt;
&lt;/beans&gt;
</code></pre> 
<p>配置持久化类的映射文件（***.hbm.xml）。</p> 
<pre><code>&lt;id name="objId" type="string" length="42"&gt;
	    &lt;column name="OBJ_ID"&gt;
    	    &lt;comment&gt;OBJ_ID&lt;/comment&gt;
	    &lt;/column&gt;
       &lt;generator class="assigned"/&gt;
&lt;/id&gt;     
&lt;property name="objDispidx" type="big_decimal"  length="22"  not-null="true"&gt;
	   &lt;column name="OBJ_DISPIDX"&gt;
           &lt;comment&gt;OBJ_DISPIDX&lt;/comment&gt;
	   &lt;/column&gt;
 &lt;/property&gt;  
</code></pre> 
<p>**</p> 
<h3><a id="_1690"></a>主题</h3> 
<p>**</p> 
<p>局部修改主题：在index.jsp中，&lt;mx:Framework theme=“default”/&gt;<br> 整体修改主题：UAP项目下platformconfig.properties添加MX_THEME=default</p> 
<p>名词 相关解释<br> SG-UAP SERVER 提供SG-UAP平台的模块，整个项目组共用一个，由项目管理人员统一维护，<br> 开发人员只需要知道SG-UAP平台服务端的地址。（简称“服务端”）<br> SG-UAP IDE SG-UAP集成开发工具（SG-UAP Development Environment）<br> UAP项目 依赖于SG-UAP平台服务端的标准的空的Web应用<br> 模块 具有OSGi规范（Open Service Gateway Initiative ，开放服务网关规范）<br> 特定描述的Java程序包，是OSGi规范定义的模块化实体单元。SG-UAP平台<br> 的动态模块框架对标准的OSGi模块进行扩展形成了动态模块，以上两者统<br> 称为模块。<br> Weblet 是种功能独立的部件，页面的最小组成单位。<br> VO对象 Value Object数据对象，也称为业务对象，存活在业务层的，供业务逻辑<br> 使用的。<br> PO对象 Persistence Object持久对象,是与数据库中表相映射的java对象。 是服务端的实体类，与VO对象相对应，两者是通过*Transfer.java建立关联的<br> 任务执行组件 每个任务执行步骤的业务操作的实现组件，具体可包括脚本和插件<br> 报表模板 报表模板由数据连接、数据查询、报表对象及布局信息组成，它在报表设计<br> 器中被创建，并且符合XML规范。<br> 报表项 页眉、页脚、数据首、数据体、数据尾、分组首、分组尾、文本、图片及图表。<br> 数据项 数据连接、数据集、参数、系统变量及合计<br> 报表项属性 边框、背景、绑定数据源、位置等几十种属性<br> 报表类型 自由报表、列表、表格、分组报表、交叉报表、图文混合报表等<br> 统一应用平台 State Grid Unified Application Platform，缩写SG-UAP，国家电网公司<br> 新一代应用开发与运维平台，提供一套技术统一、架构柔性、性能高效、安<br> 全可靠的企业级信息系统基础框架和公共套件集，支撑业务系统的设计、开<br> 发、测试、发布、运行的全过程。<br> Studio 统一应用平台的集成及可视化开发环境，集设计、编码、测试调试和部署于<br> 一体，为不同的开发阶段提供了指导和帮助，优化了软件开发过程和团队开<br> 发流程。<br> 统一应用平台模<br> 块仓库 提供不同版本的统一应用平台的模块，整个项目组公用一个，由项目管理人<br> 员统一维护，开发人员只需要知道SG-UAP平台模块仓库的地址。<br> 模块项目 为应用系统中相对独立的功能模块开发一个模块项目<br> 扩展模块 当需要对UAP开发平台的某个模块进行修改时，可以创建扩展模块，在扩展模块中对同路径同名资源进行修改。被扩展的模块称为主模块。<br> 持久模型 数据库中的表在Studio中的体现形式，按照Herbernate配置文件<br> 的规范对表进行了封装。<br> 持久模型文件 保存持久模型信息的文件，以.pm后缀结尾。<br> 场景 对用户常用的业务模块进行分析和抽象，发现这些模块的代码在结<br> 构上高度类似，具有通用性或定制批量生成特性，因此归纳出了以<br> 下常用场景：单表场景、主从表场景、树场景、Tab场景（多表场<br> 景）。<br> Web编辑器 编辑Jsp文件的一个可视化编辑器，用户可以通过拖放的方式来设<br> 计Jsp页面。<br> 平台基础设施 统一应用平台中最底层的部分，其中包含核心框架和平台微内核。<br> 平台公共套件 统一应用平台提供的各类公共服务：如任务调度、数据报表、数据<br> 缓存、信息通信等。<br> 一体化平台 门户、可视化体系、BPM、统一授权平台、数据中心等服务统称一<br> 体化平台。<br> 模块框架 一个控制、管理模块运行的框架。<br> 模块 系统中的某个独立的业务处理功能，可被复用。<br> 延迟加载/懒加载 延迟加载/懒加载（lazy load），为了避免无谓的性能开销，在真<br> 正需要数据的时候，才执行数据加载操作。<br> 比较常用的场景：树展现组件，先只加载父节点，展开父节点时再<br> 加载子节点； Hibernate3中关联关系对象默认的加载方式，只有<br> 在使用的时候，才会发出sql语句进行查询。<br> 透视图 在集成开发工具上的对某个插件的开发模式，如debug透视图。<br> 任务执行组件 每个任务执行步骤的业务操作的实现组件，具体可包括脚本和插件。</p>
                </div>
		</div>
	</article>
</main>


<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/posts/bd5ad4a5a90ac9ae7c91c6fa34f2790a/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[详细]Oracle新建数据库实例、创建用户和表空间及添加“本地Net服务名”</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/posts/87df6572bfdc7d4f67239b150e19ac43/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">关于SQL统计数值范围内人数的问题（工资范围，年龄范围）</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>