<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<meta name="generator" content="Hugo 0.121.1">
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>编程随想</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="编程随想的博客">
		<meta property="og:title" content="编程随想" />
<meta property="og:description" content="编程随想的博客" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	
	<link rel="alternate" type="application/rss+xml" href="/index.xml" title="编程随想">

	<link rel="shortcut icon" href="/favicon.ico">
		
</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="编程随想" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">编程随想</div>
					
				</div>
		</a>
	</div>
		<div class="divider"></div>
	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main list" role="main">
	<article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/efc827843c55fcb55746d01455b1d755/" rel="bookmark">
			vue使用Axios详细流程
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		一、安装 使用 npm:
npm install axios 或使用 yarn:
yarn add axios 二、配置Axios 在src/plugins目录下新建axios.js文件，在该文件里对axios进行自定义配置，如下图： axios.js全部代码：
"use strict"; import Vue from 'vue'; import axios from "axios"; // Full config: https://github.com/axios/axios#request-config // axios.defaults.baseURL = process.env.baseURL || process.env.apiUrl || ''; axios.defaults.headers.common['Authorization'] = `Bearer ${"inittoken"}`; // axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded'; let config = { // baseURL: process.env.baseURL || process.env.apiUrl || "" timeout: 60 * 1000, // Timeout withCredentials: false, // `withCredentials` 表示跨域请求时是否需要使用凭证 responseType: 'json', // 默认值 `responseType` 表示浏览器将要响应的数据类型 选项包括: 'arraybuffer', 'document', 'json', 'text', 'stream' 浏览器专属：'blob' responseEncoding: 'utf8', // 默认值 `responseEncoding` 表示用于解码响应的编码 (Node.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/efc827843c55fcb55746d01455b1d755/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/6968e4dd73a81954606232aef72cd36f/" rel="bookmark">
			C语言中字符串转数字的方法
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		 我们先来分析一下问题
假设要转换的字符串为abcd那么结果应该是1234
而在这里我们要注意两个问题
1.字符串结尾还有一个‘/0’
2.转换的时候需要注意字符和数字的关系，不但是要ASCII码加减，还有一个10的倍数关系。
1（千位）2（百位）3（十位）4（个位）
清楚了这两点我们可以开始写代码了
int Myatoi(const char *pString) { assert(nullptr != pString); const int Len = strlen(pString); int Value=0; int Times=1; for(int i=Len-1; i&gt;=0; --i) { Value +=(pString[i]-'0')*Times; Times *=10; } return Value; } 
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/3d492b036984e1c6b820bd83995ad4d9/" rel="bookmark">
			卸载齐安信教程
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		电脑上要求安装奇安信天擎，离开公司时去卸载的时候居然要密码 下面分享强制卸载奇安信天擎流程。
1.使用组合键 Win + R打开运行窗口,输入 msconfig.exe，然后回车，打开系统配置,单击“引导”标签，选中“安全引导”。
2.重启电脑进入安全模式。
3.进入360奇安信安装目录 C:\Program Files (x86)\360\360Safe\EntClient\（右击桌面软件查看文件位置，然后搜索EntBase.dat）
4.使用记事本打开目录下的EntBase.dat文件
5.然后就可以在控制面板中卸载啦！
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/4d3bda9d3431c144b8bb88c252b2ede0/" rel="bookmark">
			2022_SPL_CMINet(Cross-Stage Multi-Scale Interaction Network for RGB-D Salient Object Detection )
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		Cross-Stage Multi-Scale Interaction Network for RGB-D Salient Object Detection 用于rgb-d显著目标检测的跨阶段多尺度交互网络
目录
文章目录
前言
一、引言
二、提出的方法
A.概述
感觉有点乱，没看太懂，没关系，我们接着往下看
B.自适应权重融合 (AWF) 模块 C.多尺度空间池 (MSP) 模块
MSP的走向是 ，一层一层的从上往下，思路应该比较清晰了，我们接着往下看 D.跨阶段金字塔互动 (CPI) 模块
总结
听取上次有位同学的建议，把论文地址和代码贴上哈哈哈哈~
论文地址：（下载不了的可以私信我发你）Cross-Stage Multi-Scale Interaction Network for RGB-D Salient Object Detection | IEEE Journals &amp; Magazine | IEEE Xplore
代码地址：未共开代码
文章目录 前言 显著性目标检测 (SOD) 旨在检测人类视觉中最突出的物体和区域。由于RGB和深度模态包含不同的特征并传达了不同领域的线索，因此如何探索多模态信息的融合和跨阶段特征的相互作用仍然是rgb-d SOD的关键问题。在这篇文章中，我们提出了一个跨阶段多尺度交互网络 (CMINet)，由多尺度空间池 (MSP) 模块和跨阶段金字塔交互 (CPI) 模块组成，以自下而上和自上而下的方式交织不同阶段的特征图。此外，我们还设计了一个自适应权重融合 (AWF) 模块，以权衡多模态特征的重要性并融合它们。在4个广泛使用的数据集上进行了广泛的实验，以验证所提出的CMINet的有效性。结果表明，在4个评估指标下，我们的方法与其他11种方法相比达到了最先进的性能。。
一、引言 深度图的质量差异很大。图像质量不匹配的RGB图和深度图将导致次优的融合结果，并对显着性检测的性能产生负面影响。出发点：低质量深度图会带来噪声。前人提出了一些方法。
尽管这些方法描述的模型已经取得了显著的进步，并提高了SOD模型的性能，但许多常见的局限性仍有待解决。首先，上述方法通常将深度信息视为辅助线索，以增强RGB流的特征表示。此外，它们仅关注跨模态的相互作用和融合，而忽略了特征图在不同阶段之间的互补信息。
为了解决这些问题，我们提出了一种跨阶段多尺度交互网络 (CMINet)，以有效地整合跨阶段特征并同时自适应地融合不同模态的信息。具体地说，我们设计了一个自适应权重融合 (AWF) 模块，以平等地对待RGB和深度模态，并计算它们在融合特征中的各自权重。我们还介绍了多尺度空间池 (MSP) 模块，该模块使用不同尺度的多个空间平均池层将详细的文本信息传输到高级阶段。此外，开发了跨阶段金字塔交互 (CPI) 模块来探索跨阶段特征的上下文信息。为了证明所提出的CMINet的有效性，我们针对其他11种rgb-d SOD方法对4种广泛使用的数据集进行了综合实验。结果表明，我们的CMINet达到了最先进的性能。这篇文章的主要贡献如下:
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/4d3bda9d3431c144b8bb88c252b2ede0/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/cc3664451701d24f834fd9d95191ed45/" rel="bookmark">
			mariadb/mysql批量删除指定名称开头的表格
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		 概述 最近有个需求，需要在mariadb里删除以s_开头的表格，在此详细记录一下步骤。
删除前请做备份
方法一 使用navicat删除，此方法比较笨拙 摁住CTRL选择需要删除的表，直接右键删除即可。
使用命令生成 需要有root权限
1.生成语句
在库里执行
SELECT CONCAT('drop table ',table_name,';') FROM information_schema.TABLES WHERE table_name LIKE 's_%' -- 替换你需要删除表的开头字母; AND table_schema = 'test'; -- 替换成你的库名; 复制语句，执行即可
删除前需要关闭外键检测，删除后在开启
删除前请备份 -- 关闭外键检测 SET foreign_key_checks = 0; drop table s_user_account; drop table s_user_password; drop table s_user_login_info; -- 开启外键检测 SET foreign_key_checks = 1; 
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/090d02b7c287c1d510d5c05cb80058e5/" rel="bookmark">
			Jfrog 搭建本地maven仓库以及上传Android库
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		Jfrog 下载 安装包下载地址：Download Artifactory OSS | JFrog
如果是想下载之前的版本，可以点击上面的Get code source ，如果是最新版本，直接点下面的下载就好。下面以Linux安装为例。
Jfrog安装 对于Linux而言，其实是不需要安装的，直接解压出来后就可以运行，我这里下载的是：
jfrog-artifactory-oss-7.49.8-linux.tar.gz
通过命令解压：
tar -zxvf jfrog-artifactory-oss-7.49.8-linux.tar.gz
解压出来后进入到：
cd artifactory-oss-7.49.8/app/bin
该目录下运行命令：
./artifactoryctl start
服务起来后，就可以在浏览器中访问了，服务对外访问的端口默认是8082：
http://localhost:8082
打开后需要输入用户名和密码，默认的用户名：admin 默认密码：password
踩过的坑
1、网上看到有说需要需要安装java 1.8以上，其实不用，Jfrog中有java环境
如果想自己配置java，那就可以修改这个javaHome的值。
2、./artifactoryctl start 之后，控制台输出的日志显示启动成功了，输入./artifactoryctl status查看状态，服务也都起来了，但浏览器中 http://localhost:8081 一直显示加载中的动画，这是因为有些服务有一些超时机制，刚开始是启动成功了，但过一段时间通过 ./artifactoryctl status 查看，可能有些服务已经挂了，这时候就需要去看日志了。停止服务指令 ./artifactoryctl stop。
3、查看日志，cd jfrog/artifactory-oss-7.49.8/var/log目录下，这个目录下有比较多的日志文件，但有些是空的，可以通过ls -l 来看下哪些是有日志的，我所遇到的基本都是端口访问不了，为什么会访问不了呢？可能是端口被其他程序占用了。我自己电脑通过VMware安装的linux，没遇到这个问题，但是用已经安装了许多服务的服务器就出现了，这个时候就需要我们去配置端口了。
4、修改端口， cd artifactory-oss-7.49.8/var/etc目录下，有个system.yaml文件（第一次输入了./artifactoryctl start 才会有），这个文件的配置可以参考system.yaml，这里先贴一下我的配置
这里有一个奇怪的问题，一开始报8046端口访问被拒了（8046端口被其他程序占用了），我修改成18046还是报访问被拒，换成其他的也一样，弄了好久，后面修改了18081和18082，启动成功了，这样修改后，浏览器中访问的端口就变成18082了。
创建本地仓库 登陆到web服务台后，就可以创建相关的仓库了。
仓库分为，本地Local型，远程Remote型，以及虚拟型。
本地私有仓库：用于内部使用，上传的组件不会向外部进行同步。远程仓库：用于代理及缓存公共仓库，不能向此类型的仓库上传私有组件。虚拟仓库：不是真实在存储上的仓库，它用于组织本地仓库和远程仓库。 这里先创建本地仓库（Local），点击右边的Add Repositories，选择Local Repository，然后在package type中选择maven，之后再只需要填入Repository Key（上传下载库的时候会用到，这里就以libs-snapshot为例）就完成了。
Android上传库 在Android工程的根目录下新建artifactory.gradle文件，配置如下：
project('模块名称') { publishing { publications { aar(MavenPublication) { groupId = "
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/090d02b7c287c1d510d5c05cb80058e5/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/61eb18e915a6aba441d591e959117c16/" rel="bookmark">
			Windows安装RabbitMQ详细教程
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		一、RabbitMQ是什么？ RabbitMQ 是一个由 Erlang 语言开发的 AMQP 的开源实现。 ​ AMQP ：Advanced Message Queue，高级消息队列协议。它是应用层协议的一个开放标准，为面向消息的中间件设计，基于此协议的客户端与消息中间件可传递消息，并不受产品、开发语言等条件的限制。 ​ RabbitMQ 最初起源于金融系统，用于在分布式系统中存储转发消息，在易用性、扩展性、高可用性等方面表现不俗。
具体特点包括：
1.可靠性（Reliability） ​ RabbitMQ 使用一些机制来保证可靠性，如持久化、传输确认、发布确认。
2.灵活的路由（Flexible Routing） ​ 在消息进入队列之前，通过 Exchange 来路由消息的。对于典型的路由功能，RabbitMQ已经提供了一些内置的 Exchange 来实现。针对更复杂的路由功能，可以将多个Exchange 绑定在一起，也通过插件机制实现自己的 Exchange 。
3.消息集群（Clustering） ​ 多个 RabbitMQ 服务器可以组成一个集群，形成一个逻辑 Broker
4.高可用（Highly Available Queues） ​ 队列可以在集群中的机器上进行镜像，使得在部分节点出问题的情况下队列仍然可用。
5.多种协议（Multi-protocol） ​ RabbitMQ 支持多种消息队列协议，比如 STOMP、MQTT 等等。
6.多语言客户端（Many Clients） ​ RabbitMQ 几乎支持所有常用语言，比如 Java、.NET、Ruby 等等。
7.管理界面（Management UI） ​ RabbitMQ 提供了一个易用的用户界面，使得用户可以监控和管理消息 Broker 的许多方面。
8.跟踪机制（Tracing） ​ 如果消息异常，RabbitMQ 提供了消息跟踪机制，使用者可以找出发生了什么。
9.插件机制（Plugin System） ​ RabbitMQ 提供了许多插件，来从多方面进行扩展，也可以编写自己的插件。
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/61eb18e915a6aba441d591e959117c16/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/7c25c89e1044abffc26c5f08ee4bee2f/" rel="bookmark">
			1 FFmpeg从入门到精通-FFmpeg简介
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		1 FFmpeg从入门到精通-FFmpeg简介
2 FFmpeg从入门到精通-FFmpeg工具使用基础
3 FFmpeg从入门到精通-FFmpeg转封装
4 FFmpeg从入门到精通-FFmpeg转码
5 FFmpeg从入门到精通-FFmpeg流媒体
6 FFmpeg从入门到精通-FFmpeg滤镜使用
7 FFmpeg从入门到精通-FFmpeg中Linux设备操作
8 FFmpeg从入门到精通-FFmpeg接口libavformat的使用
9 FFmpeg从入门到精通-FFmpeg接口libavcodec的使用
10 FFmpeg从入门到精通-FFmpeg接口libavfilter的使用
文章目录 1.FFmpeg简介 1.1 FFmpeg的定义 1.2 FFmpeg的历史 1.3 FFmpeg的基本组成 1.3.1 FFmpeg的封装模块AVFormat 1.3.2 FFmpeg的编解码模块AVCodec 1.3.3 FFmpeg的滤镜模块AVFilter 1.3.4 FFmpeg的视频图像转换计算模块swscale 1.3.5 FFmpeg的音频转换计算模块swresample 1.4 FFmpeg的编解码工具ffmpeg 1.5 FFmpeg的播放器ffplay 1.6 FFmpeg的多媒体分析器ffprobe 1.7 FFmpeg编译 1.7.1 FFmpeg之Windows平台编译 1.7.2 FFmpeg之Linux平台编译 1.8 FFmpeg编码支持与定制 1.8.1 FFmpeg的编码器支持 1.8.2 FFmpeg的解码器支持 1.8.3 FFmpeg的封装支持 1.8.4 FFmpeg的解封装支持 1.8.5 FFmpeg的通信协议支持 1.9 小结 1.FFmpeg简介 1.1 FFmpeg的定义 FFmpeg既是一款音视频编解码工具，同时也是一组音视频编解码开发套件，作为编解码开发套件，它为开发者提供了丰富的音视频处理的调用接口。
FFmpeg提供了多种媒体格式的封装和解封装，包括多种音视频编码、多种协议的流媒体、多种色彩格式转换、多种采样率转换、多种码率转换等；FFmpeg框架提供了多种丰富的插件模块，包含封装与解封装的插件、编码与解码的插件等。
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/7c25c89e1044abffc26c5f08ee4bee2f/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/d9de4c9f7082a9ffad3dd78958886fc9/" rel="bookmark">
			numpy中的lstsq（最小二乘法）函数
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		我们知道使用最小二乘法，只有在方阵且非奇异矩阵时，矩阵才可逆。
那么 linalg.lstsq(a, b, rcond=‘warn’) 函数中
1）当a为满秩方阵时，lstsq得到唯一解
2）当a不为满秩方阵时，listsq 返回 ||b - ax|| 求x满足欧几里得距离最小解
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/51b25ce65ffbb3cb581ce8aa0cc16e6f/" rel="bookmark">
			C#获取上周、本周、下周的日期区间（周日到周六为一周）
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		工作需要，本地控制台测试好了，记录下：
var weekDay = (int)DateTime.Now.DayOfWeek; var minDay = DateTime.Now.Date.AddDays(0 - weekDay);// 最小值，0减周几 var maxDay = DateTime.Now.Date.AddDays(7 - (weekDay + 1));// 最大值，7减当前加一 Console.WriteLine($"上周日:{minDay}; 本周六:{maxDay}"); var lastWeekMin = minDay.AddDays(-7); var lastWeekMax = maxDay.AddDays(-7); Console.WriteLine($"上上周日:{lastWeekMin}; 上周六:{lastWeekMax}"); var nextWeekMin = minDay.AddDays(7); var nextWeekMax = maxDay.AddDays(7); Console.WriteLine($"本周日:{nextWeekMin}; 下周六:{nextWeekMax}"); // 6 一周最大的，0 // 5 周五加一 // 4 周四加二 // 3 周三加三 // 2 周二加四 // 1 周一加五 // 0 周日加六 Console.ReadKey(); 实测执行效果OK，测试日期是2023年3月7日，输出结果：
搞定！
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/2fc94d346084cd06e6e7a1b209dc265d/" rel="bookmark">
			Ubuntu启动死机解决方案（测试有效）
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		通过recovery模式启动后，
1、更新linux内核 不行。
2、改配置文件
sudo gedit /boot/grub/grub.cfg 搜索splash ，第一个就是 前面ro改rw，后面加上关键词nomodeset 保存
现在可以正常开机进入图形界面了
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/dfe670f67914324a2254aabd3140f3b4/" rel="bookmark">
			算法刷题-python版-最大回文子串
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		文章目录 回文字符串如何判断是回文字符串求解字符串的最大回文子串暴力求解中心扩展（比较优的方式）两种方式性能对比 回文字符串 正读、反读都是同一个字符串本身，这样的字符串就是回文字符串。
如 abccba 是回文字符串；
而 abcd 却不是回文字符串
如何判断是回文字符串 字符串的
第一个位置与最后一个位置字符相同；
第二个位置与倒数第二个位置字符相同；
依次类推…
满足这样的要求的就是回文字符串。
代码实现，判断是否为回文字符串
# __author__ = "laufing" def is_palindrome(target_s: str) -&gt; bool: """ 是否回文字符串 两边对称 """ if len(target_s) &lt; 2: return True n = len(target_s) for i in range(n//2): # 取第一个字符 与 最后一个字符比较 if target_s[i] == target_s[n - i - 1]: continue else: return False else: return True if __name__ == '__main__': s = "abccba" print(is_palindrome(s)) 求解字符串的最大回文子串 给定一个字符串，求解其最大的回文子串。
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/dfe670f67914324a2254aabd3140f3b4/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/f3a6695f9886be9dbbefba4ee562ab9d/" rel="bookmark">
			【Kafka】一文详解零拷贝原理……
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		为什么 Kafka 这么快 批量处理客户端优化日志格式日志编码消息压缩建立索引，方便快速定位查询分区一致性顺序写盘页缓存零拷贝 以上几点是对于 kafka 为什么这么快总结的几个方面。
刚开始看零拷贝的时候，相信很多人。都一脸懵~，什么是零拷贝。零拷贝是怎么做到的。
Follow me！！！
零拷贝 零拷贝并不是不需要拷贝，而是减少不必要的拷贝次数。通常是说在 IO 读写过程中。
实际上，零拷贝是有广义和狭义之分，目前我们通常听到的零拷贝，包括上面这个定义减少不必要的拷贝次数都是广义上的零拷贝。其实了解到这点就足够了。
我们知道，减少不必要的拷贝次数，就是为了提高效率。那零拷贝之前，是怎样的呢？
聊聊传统 IO 流程 比如：读取文件，再用 socket 发送出去。
传统方式实现：
先读取、再发送，实际经过 1~4 四次 copy。
分别是：
第一次：将磁盘文件，读取到操作系统内核缓冲区；第二次：将内核缓冲区的数据，copy 到 application 应用程序的 buffer；第三步：将 application 应用程序 buffer 中的数据，copy 到 socket 网络发送缓冲区(属于操作系统内核的缓冲区)；第四次：将 socket buffer 的数据，copy 到网卡，由网卡进行网络传输。 传统方式，读取磁盘文件并进行网络发送，经过的四次数据 copy 是非常繁琐的。实际 IO 读写，需要进行 IO 中断，需要 CPU 响应中断(带来上下文切换)，尽管后来引入 DMA 来接管 CPU 的中断请求，但四次 copy 是存在“不必要的拷贝”的。
kafka 的零拷贝 kafka 作为 MQ 也好，作为存储层也好，无非是两个重要功能，一是 Producer 生产的数据存到 broker，二是 Consumer 从 broker 读取数据；我们把它简化成如下两个过程：
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/f3a6695f9886be9dbbefba4ee562ab9d/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/33fd7f0503a9dbf54fc20ad71b4196ef/" rel="bookmark">
			RabbitMQ消息队列实战（3）—— RabbitMQ中消息的可靠性传输和确认机制
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		有过网络编程的经历，或者了解TCP协议的童鞋都知道：TCP协议通过它的ack机制（应答机制）保证了TCP包传输的可靠性，在面试中必问的TCP连接的三次握手和四次挥手就是对该知识点的考验。我们也知道，RabbitMQ是建立在AMQP协议之上的，这个应用层的协议为了保证消息传递的可靠性，也借鉴了TCP的这种思想，构成了自己一套消息ACK机制。
AMQP的ACK实际上包含了两个方面：第一个是在生产者端，当消息到达了指定的交换机，进行一次确认；另外一个是在消费端，消息从队列到了消费者，消费者进行自动或者手动ack。
但是从应用层面上来讲，在确保消息的可靠性这方面，单单靠RabbitMQ的应答机制，还远远不能满足需求。让我们来看下，一个消息从产生到消费的过程中要经过什么环节：
（1）生产者连接RabbitMQ代理
（2）生产者发布消息到交换机
（3）交换机路由消息到队列
（4）消费者连接RabbitMQ代理
（5）消费者从队列获取到消息
上面5个环节中，无论哪个环节出错，导致的最终结果就是生产者发送的消息无法发送到消费者，也就无法完成业务。遇到这种情况，最简单的解决方案就是把出错的消息持久化到数据库中，然后使用定时任务定时轮询去发送，如果超过一定的次数，人工进行介入。这也是在下文中笔者的处理思路。不过本文旨在说明处理方法，不会细化到实现保存出错消息的代码。下面，我们就来分别学习下，针对上述5中不同的场景下出错时，在代码中怎样感知，并进行处理。
一、生产者或者消费者连接不到RabbitMQ代理
首先，我们将上述5个环节中的第1个和第4个环节进行了合并，因为本质上都是由于RabbitMQ的代理发生了宕机或者通信问题，导致生产者或者消费者连接不到服务器所致。
此时，会在我们会在代码中捕获到两种异常：IOException和TimeoutException，IOException是在RabbitMQ的服务器宕机时抛出，而TimeoutException是由于通信原因或者其它原因，连接RabbitMQ服务器超时时抛出，不管是哪种，我们都能在代码中捕获到，并进行下一步的处理：
代码片段1-1：
ConnectionFactory factory = new ConnectionFactory(); factory.setHost(this.rabbitMqHost); factory.setPort(this.rabbitMqPort); factory.setConnectionTimeout(this.rabbitMqTimeOut); factory.setUsername(this.rabbitMqUsername); factory.setPassword(this.rabbitMqPassword); factory.setVirtualHost("/"); Connection connection = null; Channel channel = null; try { try { connection = factory.newConnection(); channel = connection.createChannel(); channel.exchangeDeclare("direct-exchange", "direct", true, false, null); channel.queueDeclare("test-queue", true, false, false, null); com.rabbitmq.client.AMQP.Queue.BindOk ok = channel.queueBind("test-queue", "direct-exchange", "test-queue"); channel.basicPublish("1direct-exchange", "test-queue", null, msg.getBytes("UTF-8")); } catch (IOException e) { System.out.println("服务器拒绝连接。"); e.printStackTrace(); saveToDB(msg); } catch (TimeoutException e) { System.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/33fd7f0503a9dbf54fc20ad71b4196ef/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/0b02708d82923befad81cd79f54169be/" rel="bookmark">
			PageHelper 使用不当引发的 SQL 出现两个 limit
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		问题描述 记录一次功能测试中发现的问题，我们发现页面一部分接口有时报错，通过查看后台日志，发现出现大量 SQL 异常错误，SQL 语句包含多个 limit，我们直接排除了人为编写多个 SQL，
因为一般不会犯这种错误，首先我们想到是不是 Mybatis 拦截器有人改动造成的，但是发现并没有任何问题。最终通过排查发现是由 PageHelper 不规范使用
造成的，并且发现工程中存在多处 PageHelper 使用不当。
PageHelper.startPage(pageStart, pageSize) 与 Mapper 接口之间存在业务逻辑，当业务逻辑出现异常没有执行后续的查询，此时 PageHelper 的分页设置绑定在该线程的ThreadLocal里，
新的SQL查询恰好使用了该线程，则自动使用分页查询。
复现问题 我们创建一个 UserService 类中包含以下方法:
public PageInfo getUserList() { PageHelper.startPage(1, 2); //模拟 PageHelper.startPage() 与 Mapper 之间抛出异常 int i = 1 / 0; List&lt;User&gt; users = userMapper.selectList(null); return new PageInfo(users); } public User getUser() { return userMapper.selectOne(new LambdaQueryWrapper&lt;User&gt;().last("limit 1")); } 编写测试类:
@SpringBootTest @Sql("/user.sql") public class PageHelperTest { @Autowired private UserService userService; /** * 测试当PageHelper使用不当引起多个limit关键字的SQL错误 */ @Test public void badSqlGrammarExceptionWhenWrongUseOfPagehelper() { Assertions.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/0b02708d82923befad81cd79f54169be/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/de79bdb58a63d9036bb68c1572049d3a/" rel="bookmark">
			我的停更叙述
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		(⊙o⊙)…前段时间停更了好久，为什么呢？
(⊙v⊙)说一下吧。
前段时间我感染了奥密克戎B5，这种病毒很强，我差点死翘翘。
But.
我还是凭借顽强的意志，阳康了。
最后叙述一下，这段时间不会经常更新。
Bye!
彩蛋：
共创世界(ccw.site) - Scratch、游戏、动画、漫画、小说、编程创作社区共创世界(CCW)是下一代 ACGN（游戏、动画、漫画、小说）内容创作社区。这里有强大易用的 Scratch 编程创作工具、十万开发者、百万独立游戏。想创作、学习、试玩独立游戏都可以来这里。https://www.ccw.site/detail/6354004d89833e4bb72d5e80?inviteCode=ZX77oE81AXmmaE2U里面有游戏！
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/1c819edc8216050ef1fa0526604d273c/" rel="bookmark">
			华为od机试-单词倒序
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		题目描述
【单词倒序】
输入单行英文句子，里面包含英文字母，空格以及, . ? 三种标点符号，
请将句子内每个单词进行倒序，并输出倒序后的语句。
输入描述
输入字符串S，S的长度1 &lt;= N &lt;= 100
输出描述
输出逆序后的字符串
备注
标点符号左右的空格&gt;=0，单词间空格&gt;0
#include&lt;iostream&gt; using namespace std; #include&lt;string&gt; #include &lt;vector&gt; int main() { vector&lt;string&gt; vec; string in; while (cin &gt;&gt; in) { vec.push_back(in); // 当遇到空格 就会存入vec[i] //ab cd vec.size()==2 ab,cd vec.size()==1; if (cin.get() == '\n') break; } vector&lt;string&gt; res; for (int i = 0; i &lt; vec.size(); i++) { string tmp = vec[i]; string str; for (auto c : tmp) { if (isalpha(c)) { str = c + str; } else { str += c; } } res.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/1c819edc8216050ef1fa0526604d273c/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/a105cf4b36086eb241ffb6eee47ea29b/" rel="bookmark">
			const修饰指针
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		const修饰指针有三种情况：
1.const修饰指针---常量指针
2.const修饰常量---指针常量
3.const既修饰指针，又修饰常量
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/33c78be0c92bd697c2c261a1892c18e5/" rel="bookmark">
			失败经验之震荡玩家往往死于趋势市场
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		亏损，是从去年开始的吧。
尤其是去年，仅仅一年，就亏掉了自从交易以来的所有盈利。
现在，我甚至不敢去计算具体的亏损金额。
保守估计，已经亏损100万左右。
现在回想，似乎也是必然。
交易本来就是一个走钢丝的游戏，时时刻刻都与风险相伴。
风险，是交易的固有属性，甚至是其盈利的来源。
如果没有了风险，那么就没有了收益。
比如把资金放着不动，自然没有了亏损的风险(不考虑通货膨胀等因素导致的贬值)，却也没有了盈利的来源。
我的交易，似乎从来没有控制过风险。
简单来说，就是没有止损。
更可怕的行为是，亏损加仓！
亏得越多，加仓越多！
我都是怎么进行的交易呢？
盈利了，只赚取了10来个点，就止盈了。
亏损了，就期盼着它会回到成本线。
价格在飞速上涨，心里总觉得它下一刻就会逆转为下跌。
价格在飞速下跌，心里总觉得它下一刻就会逆转为上涨。
由此看来，我完全不相信趋势。
我的底层交易逻辑是：价格总是来回震荡的。
因此，亏损了，我总觉得价格会回到我的成本线，甚至让我重新盈利。
因此，盈利了，就赶紧止盈清仓，只因总感觉价格马上就要反转了。
现实是，趋势总是突然出现。
趋势总是出现得又快又急。
当你还没有反应过来时，价格走势就已经一骑绝尘了。
当你没有反应过来时，持仓就已经亏损得一塌糊涂了。
我秉持着震荡的交易原则，在趋势的市场中一败涂地。
其实，我编写了许多控制风险的方案和程序。
我对技术指标甚至玩出了花来。
然而，我开仓时，没有看技术指标。
平仓时，也没有看技术指标。
开仓总是发生在价格运行了一大段距离后，别人大笔大笔平仓的时候。
那位置一点也不安全。
稍微一震荡，就又是大笔的亏损。
可是，这时的心理，反而觉得价格会继续不停地涨。
因为，在我买入之前就是这样的，没有任何的回调，一路向上，不给任何上车的机会。
平仓也简直是胡来。
稍微有点蝇头小利，就平仓了。
另一种情况是，亏到无法承受时，或是爆仓了，或是心理彻底崩溃了，被迫平仓。
我所编写的技术指标、我所制定的交易程序、我所计划的风险控制方案，竟然一点都没有用上。
我成了一个彻底的、疯狂的、盲目痴愚的、不计后果的赌徒！
此时回顾，发现是失败几乎是必然的。
亏损是必然的！破产也是必然的！
我走在了一条错误的道路上！
我漫不经心地走向了绝境。
我现在甚至怀疑，我到底适不适合做交易？
如果要扭亏为盈，那么我首先应该转变思维。
我要充分认识到，市场不仅有震荡，还有趋势。
震荡玩家常常死于趋势市场。
因为市场有趋势，因此我必须坚决止损，否则，我将无从控制风险。
因为市场有趋势，所以我不能亏损加仓，否则会错上加错，彻底灭亡。
因为市场有趋势，所以我不能逆势而为，市场上涨时我做空，市场下跌时我做多。
因为市场有趋势，所以当持仓盈利时，我不应该迅速了结仓位，而应该让利润奔跑。
那么，重新开始吧！
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/462a0201fc3a5012af9daeef3024379d/" rel="bookmark">
			Unity3D中Resources动态加载图片
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		问题：unity的Resources动态加载就不必多说了，这里出现的问题是当我把图片放入Resources文件夹后，使用Resources.Load（datapath）却并没有出现图片。
分析：由于你放在文件夹下的是图片，是Texture2D类型，但是实际用在u3d中的是sprite，所以需要转换类型。
方式：
1.在代码中先行创建Texture2D变量，获取外部图片，利用已完成的该变量之后创建sprite
2.直接在unity中将图片转为sprite，然后直接调用
编辑器设置
代码
using System.Collections; using System.Collections.Generic; using UnityEditor; using UnityEngine; using UnityEngine.UI; public class LoadTest : MonoBehaviour { public Image image; public Button btn_up; public Button btn_down; void Start() { btn_up.onClick.AddListener(Btn_up); btn_down.onClick.AddListener(Btn_down); } void Btn_up() { ShowImage("前"); } void Btn_down() { ShowImage("后"); } /// &lt;summary&gt; /// 显示图片 /// &lt;/summary&gt; /// &lt;param name="imageName"&gt;&lt;/param&gt; public void ShowImage(string imageName, bool isShow = true) { if (imageName == null) { Debug.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/462a0201fc3a5012af9daeef3024379d/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/363decd01e7366563adf3b0f1ca4088c/" rel="bookmark">
			git 命令最详细解析
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		克隆远程仓库：
git clone http://mgit-tm.rnd.zz.com/hap/screenrecorder -b Master_common_ct01
分支：
git branch //查看分支
git checkout dev //切换到dev分支
git checkout -b dev //创建并切换到dev分支，dev分支是基于创建时分支而新建的分支，这样创建时，可以修改，可以push，但是pull更新代码会有问题，需要关联远程仓库
git branch --set-upstream-to=origin/Master_common_ct01 dev //将dev分支关联到远程Master_common_ct01仓库，关联后可以使用git pull拉出代码
git checkout -b dev origin/Master_common_ct01 //创建并切换到dev分支，并将dev分支关联到远程Master_common_ct01仓库
git branch -d dev //删除dev分支
git branch -D dev //强制删除dev分支
分支合并：
git merge //合并分支，如果当前分支是master，则将merge后面跟着的分支合并到当前分支，强烈不推荐使用，因为git merge会产生菱形提交效果，保留两个分支的所有提交信息，命令行看提交记录就是master和dev的提交记录交错进行的。merge了之后要分开参考：https://www.cnblogs.com/bescheiden/articles/10563651.html,注意，使用git revert -m 1 commmitID, 回退merge操作后代码是回到之前master分支合并之前的状态了，但是，commit信息还是合并之后的菱形的样式！！！！想要回到之前一模一样，还是git reset --hard commitId，再强行git push -f。
提交：
git add &lt;file&gt; //添加修改文件
git add -A //添加所有修改文件
git commit -m“commit message” //提交修改信息
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/363decd01e7366563adf3b0f1ca4088c/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/5e59c73f316f04deb2c68259f580acf4/" rel="bookmark">
			DataGrip2022导入和导出sql文件
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		导出 右键选择需要导出的数据库名称，我这里选择的是company 然后依次按图操作即可
选择好后会弹出一个窗口
第一个路径选择mysql根目录下的/bin/mysqldump.exe程序，根据自身情况选择
第二个路径为保存路径，我是保存在G盘下的mysqlFile，名称默认为company.sql
导出是提示下图信息即为导出成功
然后可以在该目录下看到刚才导出的文件
导入 导入我试过界面的点击操作，都不太行。这里我选择的是直接拖入。
拖入之后选择 RUN即可
然后数据就导入了
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/e8c69b945bdde2a97758f3ad434c883d/" rel="bookmark">
			蓝桥杯嵌入式（输入捕获测频率）
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		 一.原理图 本文使用的是板子上自带的555发生器，对应的引脚为PA15和PB4
二.普通方式测频率 1.CubeMX的配置 主要为预分频系数为80，关系到后面频率的计算 ，本文设置的时钟频率为80Mhz，所以设置预分频系数为80。
记得开启中断。 2.代码的编写 变量的定义
float fre,duty; uint32_t count_buf[3]={0}; uint8_t count; 主函数的编写
switch(count) { case 0:count++; __HAL_TIM_SET_CAPTUREPOLARITY(&amp;htim2,TIM_CHANNEL_1,TIM_INPUTCHANNELPOLARITY_RISING); HAL_TIM_IC_Start_IT(&amp;htim2,TIM_CHANNEL_1); break; case 3: fre=1000000.00/(count_buf[0]+count_buf[1]); duty=(float)count_buf[0]/(count_buf[0]+count_buf[1]); count=0; break; } 中断函数的编写
void HAL_TIM_IC_CaptureCallback(TIM_HandleTypeDef*htime) { if(TIM2==htime-&gt;Instance) { switch(count) { case 1: count_buf[0]=HAL_TIM_ReadCapturedValue(&amp;htim2,TIM_CHANNEL_1); __HAL_TIM_SetCounter(&amp;htim2,0); count++; __HAL_TIM_SET_CAPTUREPOLARITY(&amp;htim2,TIM_CHANNEL_1,TIM_INPUTCHANNELPOLARITY_FALLING); HAL_TIM_IC_Start_IT(&amp;htim2,TIM_CHANNEL_1); break; case 2:	count++; count_buf[1]=HAL_TIM_ReadCapturedValue(&amp;htim2,TIM_CHANNEL_1); HAL_TIM_IC_Stop_IT(&amp;htim2,TIM_CHANNEL_1); break; } } } 3.双通道测频率法 1.CubeMX的配置 开启定时器3的通道1和通道2，前者设置为输入捕获直接模式，后者为间接模式
触发沿一个是上升沿触发，另一个下降沿触发
2.代码的编写 变量的定义
double fre,duty; 开启中断 HAL_TIM_IC_Start_IT(&amp;htim3,TIM_CHANNEL_1);//频率测量捕获定时器开启 HAL_TIM_IC_Start_IT(&amp;htim3,TIM_CHANNEL_2);//频率测量捕获定时器开启 间接通道 中断函数
void HAL_TIM_IC_CaptureCallback(TIM_HandleTypeDef *htim) { uint16_t value1=0,value2=0; if(htim-&gt;Instance==TIM3) { if(htim-&gt;Channel==HAL_TIM_ACTIVE_CHANNEL_1) { value1 = HAL_TIM_ReadCapturedValue(htim,TIM_CHANNEL_1);	//直接	value2 = HAL_TIM_ReadCapturedValue(htim,TIM_CHANNEL_2);	//间接 __HAL_TIM_SetCounter(htim,0);	//计数值清零 fre = (80000000/80)/value1;	//计算频率 duty = (float)value2/value1 * 100; //计算占空比 HAL_TIM_IC_Start(htim,TIM_CHANNEL_1);	//重新开启定时器通道 HAL_TIM_IC_Start(htim,TIM_CHANNEL_2);	//重新开启定时器通道 } } } 
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/60a2a845b80521a1363f0913192727bd/" rel="bookmark">
			关于CHAR与VARCHAR
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		CHAR是定长的，而VARCHAR是变长的；
假设设置为CHAR(10)或VARCHAR(10)，假设存储hello字符串，使用CHAR(10)时，会补上5个空格得到设置值10的长度，如果使用VARCHAR(10)时，则只存储hello，即5个字符。
所以，在实际使用时，如果某列的数据都是固定长度，例如身份证号码固定是18位，则应该使用CHAR(18)，如果某列的数据的长度可能不同，例如用户名，每个用户给自己设置的用户名的长度可能不同，则应该使用VARCHAR类型，并约束最大长度，例如20，设置为VARCHAR(20)。
当使用VARCHAR类型时，默认情况下，MySQL会另使用1个字节，用于记录实际存储的字符数，例如设置为VARCHAR(15)，且存入helloworld时，实际存入的字符串是10位，则MySQL会另使用1个字节将10记录下来！如果VARCHAR中设置的字符长度更大，且实际存入的字符超过255个，MySQL会自动改为使用2个字节来记录实际存储的字符数，并且，这2个字节就是上限了，所以，最多存入65535个字符。
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/7ae3b0b68aa8ba71c31ada8e3a15bbdf/" rel="bookmark">
			k8s控制器
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		目录
一、控制器简介
二、控制器类型
1、RC和RS
2、Deployment
3、DaemonSet
4、Job
5、CronJob
6、StateFulSet
7、HPA
一、控制器简介 在kubernetes中，按照Pod的创建方式可以将其分为两类：
自主式:kubernetes直接创建出来的Pod，这种Pod删除后就没有了，也不会重建。控制器创建pod:通过Pod控制器创建的Pod，这种Pod删除之后还会自动重建。 Pod控制器是管理Pod的中间层,使用了Pod控制器之后,我们只需要告诉Pod控制器,想要多少个什么样的Pod就可以了,它就会创建出满足条件的Pod并确保每一个Pod处于用户期望的状态，如果Pod在运行中出现故障，控制器会基于指定的策略重启或重新创建pod。
二、控制器类型 控制器分为以下类型：
ReplicationController 和 ReplicaSet Deployment （最常用） DaemonSet StateFulSet Job/CronJob Horizontal Pod Autoscaling 1、RC和RS RC目前不太采用，都采用RS方式。
RC用来控制pod维持一个正常稳定的数量
RS支持集合式的selector，可以根据标签匹配
样例：
apiVersion: apps/v1 kind: ReplicaSet metadata: name: myRS spec: selector: matchLabels: auth: myAuth replicas: 3 template: metadata: labels: auth: myAuth spec: containers: - name: myAuth image: icepear/dendalion-auth:2.0.0 imagePullPolicy: IfNotPresent ports: - containerPort: 8080 2、Deployment 提供声明式的定义方法，用来替代RC
定义deployment来创建pod和replicaSet 提供滚动升级和回滚应用 扩容和缩容 暂停和继续 deployment deployment跟replicaSet以及pod的关系
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/7ae3b0b68aa8ba71c31ada8e3a15bbdf/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/2bb9f8564eb9d6cdc313f134dedda8b4/" rel="bookmark">
			mac 环境下安装MongoDB
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		 目录
一、下载MongoDB数据库并进行安装
二. 解压放在/usr/local目录下
三. 配置环境变量
“无法验证开发者”的解决方法
mongodb可视化工具的安装与使用
一、下载MongoDB数据库并进行安装 下载地址：https://www.mongodb.com/try/download/community
二. 解压放在/usr/local目录下 您可以同时按住Mac快捷键「Commad + Shift + G」。
三. 配置环境变量 mac安装MongoDB数据库后，每次启动 MongoDB 都要切换到对应的 bin 目录，然后执行 mongod 命令才能启动，这里我们可以给MongoDB配置下环境变量。
终端，进入用户的home文件夹下:
cd ~ 创建.bash_profile文件：
touch .bash_profile 打开.bash_profile：
open .bash_profile 这样就打开了一个记事本，然后将 MongoDB 的二进制命令文件目录（安装目录/bin）添加到 PATH 路径中，我这里的安装目录是这样的（每个人可能不一致）
export PATH=${PATH}:/usr/local/mongodb/bin/ 刷新一下终端：
source .bash_profile 验证是否成功，查看一下mongodb的版本号
mongod -version 此时若出现版本号则成功了。可以重启一下终端验证是否依然成功。
如果发现全局变量又无效了，可能是.zshrc文件中没有自动执行配置的全局变量。
创建数据目录并启动
mongod --dbpath=/Users/a0000/Desktop/ziliao/kerwin/Node/code_project/db “无法验证开发者”的解决方法 macOS 操作系统满载全新功能与 App为用户打造最强的操作体验！新安装的软件运行会提示“已损坏”、“无法验证开发者”等问题，今天小编就来和大家分享“如何解决macOS 打开第三方软件提示已损坏问题“！
1. 首先确保系统安全设置已经改为任何来源
如果这里显示的不一样的话，输入下面命令后，然后输入你的开机密码，密码不会显示直接输入然后回车。
sudo spctl --master-disable mongodb可视化工具的安装与使用 下载地址：https://www.mongodb.com/download-center/compass
点击【Download】下载并安装，打开，然后点击【CONNECT】
出现
大功告成！！！ 希望大家能安装好 
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/dde09bd5a8521eabf5ddf7902cbcaa5c/" rel="bookmark">
			linux系统绑定双网卡
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		linux系统绑定双网卡 模式选定实现mode1试验 模式选定 绑定网卡的模式一共有七种
模式0：轮询策略（round robin），mode=0，
优点：流量提高一倍
缺点：需要接入交换机做端口聚合，否则可能无法使用
特点：增加了带宽，同时支持容错能力，当有链路出问题，会把流量切换到正常的链路上
模式1：主备策略（active-backup），mode=1，
只有主网卡处于工作状态，备网卡处于备用状态，主网卡坏掉后备网卡开始工作，提供容错能力。
优点：冗余性高
缺点：链路利用率低，两块网卡只有1块在工作
不需要交换机端支持
模式2：异或策略（load balancing (xor)），mode=2
根据源MAC地址和目的MAC地址进行异或计算的结果来选择传输设备，提供负载均衡和容错能力。
需要交换机配置聚合口
模式3：广播策略（fault-tolerance (broadcast)），mode=3
将所有数据包传输给所有接口通过全部设备来传输所有数据，一个报文会复制两份通过bond下的两个网卡分别发送出去，提供高容错能力。
需要交换机配置聚合口
模式4：动态链接聚合（lacp），mode=4，按照802.3ad协议的聚合自动配置来共享相同的传输速度，网卡带宽最高可以翻倍，链路聚合控制协议（LACP）自动通知交换机聚合哪些端口，需要交换机支持 802.3ad协议，提供容错能力。
模式5：输出负载均衡模式（transmit load balancing），mode=5，输出负载均衡模式，只有输出实现负载均衡，输入数据时则只选定其中一块网卡接收，需要网卡和驱动支持ethtool命令。
模式6：输入/输出负载均衡模式（adaptive load balancing），mode=6，输入和输出都实现负载均衡，需要网卡和驱动支持ethtool命令。
mode5和mode6不需要交换机端的设置，网卡能自动聚合。mode4需要支持802.3ad。mode0，mode2和mode3理论上需要静态聚合方式。
实现mode1试验 拿到新机器后，执行以下操作
# 永久关闭selinux sed -i 's/enforcing/disabled/' /etc/selinux/config # 临时关闭selinux setenforce 0 # 关闭防火墙 systemctl stop firewalld systemctl disable firewalld # 关闭NetworkManager,否则重启网卡时报错 systemctl stop NetworkManager systemctl disable NetworkManager 修改网卡信息ens33和ens34
首先按照原配置将ens33 和 ens34 中的ONBOOT改为yes
然后ping www.baidu.com查看是否可以上网，保证两个网卡可以正常上网
如何检查呢如下
# 关闭ens33 ifdown ens33 # 查看端口状态，如没有就yum -y install net-tools ifconfig # ping百度 ping www.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/dde09bd5a8521eabf5ddf7902cbcaa5c/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/fef7cc4ceb4901e48f98a1ed1e8985bc/" rel="bookmark">
			解决IDEA内存占比过高问题
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		问题描述 idea内存占比过高，调整GC算法运行配置
解决方案： 打开idea =&gt;帮助=&gt;编辑自定义VM选项=&gt;将下面的配置复制进去
-Xms2048m -Xmx4096m -Xverify:none -XX:+DisableExplicitGC -XX:ReservedCodeCacheSize=720m -XX:SoftRefLRUPolicyMSPerMB=50 -ea -Dsun.io.useCanonCaches=false -Djava.net.preferIPv4Stack=true -Djdk.http.auth.tunneling.disabledSchemes="" -XX:+HeapDumpOnOutOfMemoryError -XX:-OmitStackTraceInFastThrow -XX:CICompilerCount=2 -XX:TieredStopAtLevel=1 -XX:MaxInlineLevel=3 -XX:Tier4MinInvocationThreshold=100000 -XX:Tier4InvocationThreshold=110000 -XX:Tier4CompileThreshold=120000 即时编译效果： 注：更改之后idea内存会慢慢慢慢慢慢慢慢慢慢慢慢往上增加，用电脑管家、360加速球这种清理内存的加速一下，就能清理idea内存，ide内存会从0MB开始，告别卡顿。
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/474051bb4ed4369c6219f40ed84c28b7/" rel="bookmark">
			C语言之循环的嵌套
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		三种循环语句可互相嵌套，层数不限。外层循环可包含两个以上内循环，但不能相互交叉。嵌套的循环控制变量不能相同。 例1.编程求解1！+2!+……...+10! 问题分析：
采用双重for循环，整体共有10部分，对每一部分分别求阶乘。定义变量m用来存储每一部分的阶乘，sum用来存储各个部分之和。每次求阶乘后，m的值都会发生变化，所以在每部分进行阶乘前，需要对m重新赋值。所以m=1，需要放在第一重循环中，第二重循环前。
代码如下：
#include&lt;stdio.h&gt;
void main()
{
int i,j,sum=0,m;
for(i=1;i&lt;=10;i++)
{
m=1;
for(j=1;j&lt;=i;j++)
m=m*j;
sum=sum+m;
}
printf("结果是：%d",sum);
}
例2.打印输出如下所示左下三角形式的九九乘法表。 问题分析： 根据计算机输出操作的特点，考虑采用双重for循环实现逐行输出每一列乘法表达式。
1.对乘法表进行整体分析。输出的乘法表共占9行，每一行表达式的个（列）数等于行数。因此，设定两个整型变量i和j，分别代表行号和列号则i∈[1,9],j∈[1,i]。
2.对每行每列的乘法表达式进行逐个分析，第i行第j列乘法表达式的被乘数等于行号i，乘数等于列号j。
3.为了实现图片中的排列形式，故每一行结束后，都需要换行。即第一重循环每进行一次，就需要输出一次换行符。
代码如下：
#include&lt;stdio.h&gt;
void main()
{
int i,j;
for(i=1;i&lt;=9;i++)
{
for(j=1;j&lt;=i;j++)
printf("%d*%d=%d ",i,j,i*j);
printf("\n");
} }
例3.给定1、2、3、4四个数字，输出所有由它们构成的无重复数字的三位数。 问题分析： 本例在1、2、3、4四个数字构成的三位数中找出那些无重复数字的三位数，这是典型的可以用穷举法求解的问题。三位数的百位、十位、个位都允许填入这4个数字。每一位用一个循环语句实现，则需要三层循环的嵌套，第一层测试百位，第二层测试十位，第三层测试个位，每一层循环4次。若用循环变量i，j，k分边表示百位、十位和个位的数字，则每个循环变量的取值是1、2、3、4。在最里层循环中，条件(i!=j&amp;&amp;i!=k&amp;&amp;j!=k)满足了题中的要求（无重复数字），表达式i*100+j*10+k形成了一个三位数。
代码如下：
#include&lt;stdio.h&gt;
void main()
{
int i,j,k;
for(i=1;i&lt;=4;i++)
for(j=1;j&lt;=4;j++)
for(k=1;k&lt;=4;k++)
if(i!=k&amp;&amp;i!=j&amp;&amp;j!=k)
printf("%d%d%d ",i,j,k);
}
例4.实现以下图形的输出。 问题分析： 观察图形，找出规律。定义行数i，空格随着行数增加，每次减一。星号随着行数增加，有2i-1的规律。通过第一重循环来控制行数，通过两个并列的循环，分别来控制空格和星号。
代码如下：
#include&lt;stdio.h&gt;
void main()
{
int i,j,k;
for(i=1;i&lt;=4;i++)
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/474051bb4ed4369c6219f40ed84c28b7/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/5a89fea10455ef43087ba6e506868071/" rel="bookmark">
			JSP路径获取
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		当视图层（jsp页面）需要用到资源时，需要获取资源的路径，引用的资源一般不会在同一个目录下，这时如果采用传统路径去找对应的css，js文件，可以会采用../的方式，../代表上一层目录，如在jsp页面引用mybody.css文件。路径../../css/mybody.css就是当前jsp文件的上一层目录的上一层目录对应的image下的123.jpg文件。
&lt;link href="../../css/mybody.css" type="text/css"/ rel="stylesheet"&gt; 但是这种方式显然不合理，需要一层层后退比较繁琐，而且如果同个jsp页面多处引用也不方便。所以实际开发一般很少用../来找资源。
那么我们可以采用绝对路径，如../../css/mybody.css我们可以采用"http://127.0.0.1:8080/crm/../../css/mybody.css"类似这样的路径。
&lt;link href="http://127.0.0.1:8080/crm/css/mybody.css" type="text/css"/ rel="stylesheet"&gt; 但是这样又显得很复杂，所以我们可以利用&lt;base/&gt;标签，这样在之后的路径书写时都会基于这个base路径
&lt;base href="http://127.0.0.1:8080/crm"&gt; &lt;link href=css/mybody.css" type="text/css"/ rel="stylesheet"&gt; 实际方法——动态获取路径： 协议，ip地址，端口号和应用名称都不应该写死，所以我们可以采用动态获取的方式来获取
​ &lt;% String basePath =request.getScheme+"://"+request.getServerName+":"+request.getServerPort()+request.getContextPath+"/"/&gt; %&gt; &lt;base href="&lt;%=basePath%&gt;"&gt; ​ request.getScheme()：返回当前页面使用的协议；默认返回的是http，但是当SSL时返回https；
request.getServerName()：返回当前页面所在的服务器的ip地址
request.getServerPort()：返回当前页面所在的服务器使用的端口,如8080
request.getContextPath()：返回当前应用的名字，如/crm
根据以上方法结合base标签就可以简单方便地实现路径的获取了。
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/1d24a45fb3c3f71f9779fefd83767c18/" rel="bookmark">
			python win32gui 遍历所有窗口 根据标题获取句柄 关闭这个标题的窗口 遍历窗口 获取句柄
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		首先遍历所有窗口句柄，再提取有标题的窗口
符合条件的，关闭窗口
2023年3月6日 星期一 更新
不管是否可见，都关掉
def winEnumHandler(hwnd, ctx): #if win32gui.IsWindowVisible(hwnd): if 'License Information' in win32gui.GetWindowText(hwnd): print(hwnd, win32gui.GetWindowText(hwnd)) win32gui.PostMessage(hwnd, win32con.WM_CLOSE, 0, 0) win32gui.EnumWindows(winEnumHandler, None) def winEnumHandler(hwnd, ctx): if win32gui.IsWindowVisible(hwnd): if 'License Information' in win32gui.GetWindowText(hwnd): print(hwnd, win32gui.GetWindowText(hwnd)) win32gui.PostMessage(hwnd, win32con.WM_CLOSE, 0, 0) win32gui.EnumWindows(winEnumHandler, None) 参考
https://stackoverflow.com/questions/55547940/how-to-get-a-list-of-the-name-of-every-open-window
#! /usr/bin/env python # -*- coding: utf-8 -*- from win32gui import * import win32con, os, time, subprocess p = subprocess.Popen(r"E:\code\dock_project\tampermonkey\run.bat", creationflags=subprocess.CREATE_NEW_CONSOLE ) time.sleep(30) title_list = [] def foo(hwnd,mouse): titles = {} # 去掉下面这句就所有都输出了，但是我不需要那么多 if IsWindow(hwnd) and IsWindowEnabled(hwnd) and IsWindowVisible(hwnd): titles['title'] = GetWindowText(hwnd) titles['hwnd'] = hwnd # titles.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/1d24a45fb3c3f71f9779fefd83767c18/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/a8fb8c22474e3da68ff45c6561851c1b/" rel="bookmark">
			抓包技术(浏览器&amp;APP&amp;小程序&amp;PC应用)
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		P1 抓包工具 01. Fidder 首先第一个Fiddler它的优势，独立运行，第二个支持移动设备（是否能抓移动APP的包，）在这一块的话wireshark、httpwatch就不支持，因此在这一块就可以排除掉前连个，因为我们有时候去进行测试的时候，除了测web端，也会要去测app端，在企业里经常去要做的事情。
fidder证书导出：
02. Charles charles与fiddler相比，最大的优点就是跨平台。可以支持Windows，MacOs，ios，Android，此外，charles还具有一下优点支持按域名和接口查看报文；支持反向代理网络限速；可选择网络类型；可以解析AMF协议。
Charles证书导出：
03.Burpsuit Burp Suite Professional是网络安全测试人员的首选工具包。使用它来自动化重复的测试任务，然后用它专业设计的手动和半自动安全测试工具进行更深入的挖掘。Burp Suite Professional可以帮助您测试OWASP十大漏洞，以及最新的黑客技术。
Burpsuit证书导出：
P2 转发工具Proxifier Proxifier是一款功能非常强大的socks5客户端，可以让不支持通过代理服务器工作的网络程序能通过HTTPS或SOCKS代理或代理链。Proxifier支持基于进程、IP、域名以及端口的筛选。
比如：你想通过Burpsuit来抓取微信应用的数据包，由于Burpsuit必须通过设置代理来抓包，但微信是不支持代理的，通过Proxifier设置针对微信应用的127.0.0.1:8080的代理，Burpsuit同样设置127.0.0.1:8080的代理，这样就能将数据转发给Burpsuit
P3 抓包应用 01. 证书安装 抓包工具默认情况只抓取http协议的数据包，因此抓取https的数据包需要安装证书
001. 浏览器安装证书
设置-&gt;搜索证书-&gt;安全-&gt;管理设备证书-&gt;中间证书颁发机构-&gt;导入-&gt;选择证书文件确定即可
002.模拟器安装证书
设置-&gt;WLAN-&gt;鼠标左键长按网络图标-&gt;修改网络
02 .浏览器抓包 本地浏览器抓包
浏览器使用fiddler、charles可直接抓包，使用Burpsuit抓包的话需要设置代理
fiddler：
charles：
Burpsuit：
001开启代理
002 Burpsuit开启proxy
模拟器浏览器抓包：需要提前配置模拟器的代理，以fiddle为例
模拟器开启代理：
fiddle：
03 APP应用抓包 模拟器中APP应用抓包和模拟器的浏览器一样，需要提前配置模拟器的代理
fiddler：
charles：
Burpsuit：
04. PC应用抓包
本地运行应用，未配置代理选项，burp抓包的转发联动
001 Charels+Burpsuit
002 Proxifier+Burpsuit
003 系统代理
打开本地计算机的代理即可
05. 小程序应用抓包(小程序应用抓包同PC应用抓包基本一样)
本地运行微信小程序，未配置代理选项，burp抓包的转发联动
001 Charels+Burpsuit
002 Proxifier+Burpsuit
003 系统代理设置
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/a8fb8c22474e3da68ff45c6561851c1b/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/0865146513082cb52dc0d890341699fb/" rel="bookmark">
			MySQL把时间区间拆分为多行数据
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		SELECT dt1, dt2 FROM( SELECT @dt1 as dt1, @dt1 := @dt1 + INTERVAL 1 DAY, @dt := @dt1 - INTERVAL 1 DAY, CASE WHEN @dt1 &lt;= @dt2 THEN @dt ELSE @dt2 END as dt2 FROM( SELECT @dt1:=CAST('2018-08-01' as date), @dt2:=CAST('2018-08-31' as date) ) _x, information_schema.columns A WHERE @dt1 &lt;= @dt2 ) A 复制直接使用
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/5cd83fe2419be01d681d4e507590721f/" rel="bookmark">
			数据算法之二分法详解
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		数据结构与算法之二分法 本文章将以图文的方式详细的讲解算法基础之二分法查找数据
二分法在数组中查找数据 查找前提： 要进行查找内容的数组必须是有序的，所以在查找数据的之前可以对你的数组进行排序，排序也会涉及到很多的算法，我们后面再讲。
算法描述： 需求分析： 假设我们现在有一个升序的数组定义如下
int []array = {7,9,16,17,19,45,67}; 现在我们将要在这个数组中查找19这个数，
找到返回数组下标
找不到返回-1
查找机制主要有以下几步：
定义两个指针分别指向数组的首尾，记为i和j，在此数组中i和j的值定义为数组的下标分别为0和6。当首指针大于尾指针的时候，意味着首指针与尾指针相遇，整个数组查找结束。对于首指针和尾指针进行二分并向下取整操作，得到中间定义的指针m，这时m的值为3。当m指向的值大于查找的值时说明查找值在m的左边，则j =m-1继续此过程，相应的，如果m指向的值小于查找的值时，说明查找值在m的右边，则i = m+1，重复此过程，直到找到想要的值坐标。在本数组中m指向的值为17，小于我们要查找的值，则值在m的右面，这个时候让i 的指针值等于 m+1 = 4，继续二分，得到n的指针值为4，这时可以判断n的指针值就是要查找数值的数组下标值。 算法图解： JAVA代码实现： /** * 利用二分法在数组中查询数据 * @param array 要查询数据的数组，前提是有序的升序的数组。 * @param value 要查找的数据值 */ public static int findValue(int[] array,int value){ int i = 0; int j = array.length - 1; while (i &lt;= j){ int m = (i+j)/2;//int数据类型会自动舍弃小数部分，满足我们的向下取整。 if (array[m] &gt; value){ //查找数据在m的左边。 j = m-1; }else if (array[m] &lt; value){//查找数据在m的右边。 i = m+1; }else { return m; } }return -1; } } 这段代码包含以下问题：
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/5cd83fe2419be01d681d4e507590721f/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/bd9c38f05f8d14e95e893e8157b2ea7d/" rel="bookmark">
			微信小程序开发自学笔记 —— 四、场景应用
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		场景应用 开发流程基本介绍 在开发前，首先要对整个小程序整的的产品体验有一个清晰的规划和定义，一般通过交互图或者手稿描绘小程序的界面交互和界面之间的跳转关系。接着，优先完成WXML+WXSS缓缓设计稿，实现静态页面的布局和样式最后，按照页面交互梳理每个页面的data部分，并完成JS逻辑部分。 基本的布局方法 —— Flex布局 小程序开发中，推荐使用flex布局，采用flex布局元素，简称为容器。
基本概念 flex的概念最早是在2009年被提出，目的是提供一种更灵活的布局模型，使容器能通过改变里面项目的高宽、顺序，来对可用空间实现最佳的填充，方便适配不同大小的内容区域。
flex不单是一个属性，它包含了一套新的属性集。属性集包括用于设置容器，和用于设置项目两部分。
使用flex前，要先明确一个坐标轴。默认情况下，水平方向为主轴，垂直方向为交叉轴。项目是在主轴上排列，挤满后在交叉轴方向换行。交叉轴垂直于主轴，它的方向取决于主轴方向。
容器属性 设置容器，用于统一管理容器内项目布局，也就是管理项目的排列方式和对齐方式。
flex-direction 属性 —— 设置项目排列方向
.container{ flex-direction: row（默认值） | row-reverse | column | column-reverse } row（默认值）：主轴横向，方向为从左指向右。项目沿主轴排列，从左到右排列。
row-reverse：row的反方向。主轴横向，方向为从右指向左。项目沿主轴排列，从右到左排列。
column：主轴纵向，方向从上指向下。项目沿主轴排列，从上到下排列。
column-reverse：column的反方向。主轴纵向，方向从下指向上。项目沿主轴排列，从下到上排列。
flex-wrap 属性 —— 设置是否允许项目多行排列，以及多行排列时换行的方向。
.container{ flex-wrap: nowrap（默认值） | wrap | wrap-reverse } nowrap（默认值）：不换行。如果单行内容过多，则溢出容器。
wrap：容器单行容不下所有项目时，换行排列。
wrap-reverse：容器单行容不下所有项目时，换行排列。换行方向为wrap时的反方向。
justify-content 属性 —— 设置项目在主轴方向上对其方式，以及分配项目之间及其周围多余的空间。
.container{ justify-content: flex-start（默认值） | flex-end | center | space-between | space-around| space-evenly } flex-start（默认值）：项目对齐主轴起点，项目间不留空隙。
center：项目在主轴上居中排列，项目间不留空隙。主轴上第一个项目离主轴起点距离等于最后一个项目离主轴终点距离。
flex-end：项目对齐主轴终点，项目间不留空隙。
space-between：项目间间距相等，第一个项目离主轴起点和最后一个项目离主轴终点距离为0。
space-around：与space-between相似。不同点为，第一个项目离主轴起点和最后一个项目离主轴终点距离为中间项目间间距的一半。
space-evenly：项目间间距、第一个项目离主轴起点和最后一个项目离主轴终点距离等于项目间间距。
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/bd9c38f05f8d14e95e893e8157b2ea7d/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/2e2178488537ee8963109e4633ffad50/" rel="bookmark">
			Stream流实践(二)：list 对象数组根据某字段去重的三种基本思路
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		前言 相信大家对于list简单数组的去重很熟悉了，例如以下代码
int[] arrays = {1, 2, 2, 2, 3, 3, 3}; Arrays.stream(arrays).distinct().forEach(item -&gt; { System.out.println("item -&gt;" + item); }); 那我们来探讨下，对于list中保存为对象的数组，根据内部对象的某一个字段去重有什么好的思路呢？
给出一个简单的Student对象
public class Student { String id; String index; String name; } 针对该Student对象，以下是我想到的三种方法去重方法 方法一：List.contains + Stream流 /** * @author: 代码丰 * @Date: 2022/10/24 13:57 * @Description: */ public class DeRepeatFromTwoListTest { public static void main(String[] args) { //测试1：去重两个列表的重复值 填充参数 List&lt;Student2&gt; list1 = new ArrayList&lt;&gt;(); List&lt;Student2&gt; list2 = new ArrayList&lt;&gt;(); for(int i = 1;i&lt;=5;i++){ Student2 Student2 = new Student2(); Student2.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/2e2178488537ee8963109e4633ffad50/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/f300a485a65ea1be38a3e43d81a9b615/" rel="bookmark">
			火狐浏览器手势全屏
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		先下载一个扩展Gesturefy
管理扩展
添加手势
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/ae52c7c51e67625c69eb9ad9b750c8f9/" rel="bookmark">
			elementUI el-button 点击后样式自动恢复的方法 （纯css已解决）
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		 问题描述：
vue3项目中 elementUI 中的按钮，点击后会有focus样式，且只有点击其他地方后，按钮才会失焦，样式才会恢复到点击之前的样式。例如主要按钮是亮蓝色，点击后是暗蓝色。点击其他地方才会恢复亮蓝色。
我希望将鼠标放在按钮上时会改变样式，但是点击按钮后样式自动恢复到点击前的样子。
解决办法：
在全局css中对按钮添加样式，点击完后也还是对应颜色不会变暗。
//全局修改失焦后的样式 primary类型按钮 .el-button.el-button--primary.is-link:not(.is-disabled):focus, .el-button.el-button--primary.is-link:not(.is-disabled):hover{ color:var(--el-color-primary)!important; } warning类型按钮 //.el-button.el-button--warning.is-link:not(.is-disabled):focus, .el-button.el-button--warning.is-link:not(.is-disabled):hover{ // color:var(--el-color-warning)!important; //} success类型按钮 //.el-button.el-button--success.is-link:not(.is-disabled):focus, .el-button.el-button--success.is-link:not(.is-disabled):hover{ // color:var(--el-color-success)!important; //} info类型按钮 //.el-button.el-button--info.is-link:not(.is-disabled):focus, .el-button.el-button--info.is-link:not(.is-disabled):hover{ // color:var(--el-color-info)!important; //} danger类型按钮 .el-button.el-button--danger.is-link:not(.is-disabled):focus, .el-button.el-button--danger.is-link:not(.is-disabled):hover{ color:var(--el-color-danger)!important; } 
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/546657d5c07e758634b6e049179d827b/" rel="bookmark">
			数据库-差集交集并集
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		数据库-差集交集并集 [toc]
图示 一、并集运算（UNION） 并集：两个集合的并集是一个包含集合A和B中所有元素的集合。
在T-SQL中，UNION集合运算可以将两个输入查询的结果组合成一个结果集。
需要注意的是：如果一个行在任何一个输入集合中出现，它也会在UNION运算的结果中出现。T-SQL支持以下两种选项 1、保留重复行 select country, region, city from hr.Employees union all select country, region, city from sales.Customers; 2、去除重复行 select country, region from hr. Employees union select country, region from sales.Customers; 二、交集返算（INTERSECT） 交集：两个集合(集合A和集合B)的交集是由既属于A，也属于B的所有元素組成的集合。
在T-SQL中，INTERSECT集合运算对两个输入查询的结果取其交集，只返回在两个查询结果集中都出现的行。INTERSECT集合运算在逻辑上会首先删除两个输入集中的重复行，然后返回只在两个集合中中都出现的行。换句话说：如果一个行在两个输入集中都至少出现一次，那么交集返回的结果中将包含这一行。
例如，下面返回既是雇员地址，又是客户地址的不同地址：
select country, region, city from hr.Employees intersect select country, region, city from sales.Customers; 这里需要说的是，集合运算对行进行比较时，认为两个NULL值相等，所以就返回该行记录。
三、差集返算（EXCEPT） 差集：两个集合（集合A和集合B）的由：属于集合A但不属于集合B的所有元素，組成的集合。
在T-SQL中，集合之差使用EXCEPT集合运算实现的。它对两个输入查询的结果集进行操作，反会出现在第一个结果集中，但不出现在第二个结果集中的所有行。EXCEPT结合运算在逻辑上首先删除两个输入集中的重复行，然后返回只在第一个集合中出现，在第二个结果集中不出现的所有行。
换句话说: 一个行能够被返回，仅当这个行在第一个输入的集合中至少出现过一 次，而且在第二个集合中一次也没出现过。
此外，相比UNION和INTERSECT，两个输入集合的顺序是会影响到最后返回结果的。
例如，借助EXCEPT运算，我们可以方便地实现属于A但不属于B的场景，下面返回属于员工地址，但不属于客户地址的地址记录:
select country, region, city from hr. Employees except select country, region, city from sales.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/546657d5c07e758634b6e049179d827b/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/07b9a318c587c74a2ae77f3d15114441/" rel="bookmark">
			Cmake实现mac自动化编译打包app
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		一、cmake指定xcode 完成项目编译 在CMakeList.txt文件中添加
set(CMAKE_XCODE_GENERATE_SCHEME ON)
运行cmake命令，指定生成器xcode
在项目CMakeList.txt同级目录下创建build文件夹
mkdir build cd build cmake .. -G Xcode -D CMAKE_C_COMPILER=/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc -D CMAKE_CXX_COMPILER=/Applications/Xcode.app/Content/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ -DCMAKE_BUILD_TYPE=Release 执行完上方代码，将会在build文件夹中生成xcodeproj配置文件
参数说明：
CMAKE_C_COMPILER、CMAKE_CXX_COMPILER：
是指定c、c++编译器位置，如果不确定自己电脑的c、c++编译器位置，可以使用
xcrun -find cc以及xcrun -find c++找到对应的位置
以上传入的参数是计算机中的默认路径
使用xcodebuild编译xcodeproj配置文件
首先介绍一下xcodebuild命令的参数：
xcodebuild 包含以下参数： -project: 指定项目文件； -target: 指定要编译的target； -configuration: 指定编译配置； -sdk: 指定要使用的SDK； -arch: 指定要编译的CPU架构； -jobs: 指定要使用的CPU核心数； -alltargets: 编译项目中的所有targets； -destination: 指定设备的位置； -buildstyle: 指定编译的style； -toolchain: 指定要使用的工具链； -showsdks: 显示可用的SDK列表； -showdestinations: 显示可用的设备列表； -dry-run: 显示编译过程，但不真正编译； -quiet: 缩短编译过程中的输出； -verbose: 输出详细的编译信息； -help: 显示xcodebuild的帮助信息。 运行一下命令使用xcodebuild工具编译项目：
xcodebuild -project &lt;projectname&gt;.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/07b9a318c587c74a2ae77f3d15114441/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/fafd31fe7f2dad00da35225f488cd199/" rel="bookmark">
			Failed to load resource: net::ERR_CONNECTION_REFUSED：加载资源失败-- 问题思路和解决方法
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		前几天在做前后端数据交互的时候，遇到了这个问题：
Failed to load resource: net::ERR_CONNECTION_REFUSED
Uncaught (in promise) Error: Network Error
Failed to load resource: the server responded with a status of 404 (Not Found) — 加载资源失败
排查了好几个可能的问题，但是都不对症，最后才发现是最简单的问题：
我在前端获取数据的时候，写的是
that.productVersions = resp.data; 而这句代码的意思是获取到数据本身，并不是获取到具体的数据，resp.data（resp为axios自定义的对象）只获取到浏览器自带的第一层，应该是这么写：
that.productVersions = resp.data.data; 这样才是获取到第二层具体的data
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/026e064f630331f1e7457b06431ce81c/" rel="bookmark">
			java创建线程的方式有几种？
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		话术：
创建java线程的方式有4种。第一种是继承Thread类，重写run方法；第二种是实现Runnable接口，实现run方法；第三种是线程池创建线程；第四种是Callable接口实现call方法结合FutrueTask来创建线程，可以返回结果。这四种究其底层都是实现Runnable接口实现的。
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/c35ebf9eeeec33d7ee4b75de018a23e1/" rel="bookmark">
			HTML table表单colspan和rowspan行列使用方法
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		HTML中的table表单元素colspan和rowspan表示表格跨行或者跨列，colspan和rowspan用于将行或者列合并，码笔记分享 table表单colspan和rowspan详细用法：
目录
table表单colspan和rowspan
colspan
rowspan
colspan和rowspan使用方法示例
table代码一行跨2列，右侧跨2行
table代码一列跨2行
table代码一行跨2列，左侧跨2行
跨行跨列复杂组合
table表单colspan和rowspan colspan是跨列（合并列），rowspan是跨行（合并行），用于td和th标签中。
colspan colspan是指跨列，colspan用来合并列，colspan=2的话就是合并两列。colspan用来指定table中单元格横向跨越的列数。
col：英文解释为“列”，span是跨度、范围的意思。
rowspan rowspan是指跨行，rowspan用来合并行，rowspan=2的话就是合并两行。rowspan用来指定table中单元格纵向跨越的行数。
row：英文解释为“行”，span是跨度、范围的意思。
colspan和rowspan使用方法示例 table代码一行跨2列，右侧跨2行 &lt;table border="1"&gt; &lt;tr&gt; &lt;td colspan="2"&gt;aaa&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;bbb&lt;/td&gt; &lt;td&gt;ccc&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; // table一行跨2列 效果如下：
aaabbbccc 代码说明原理：HTML代码首先是一行一行的读，先读第1行，碰到了colspan＝"2"后，就会预先占2列的位置。然后读第2行，先读第1列，再读第2列。
table代码一列跨2行 &lt;table border="1"&gt; &lt;tr&gt; &lt;td&gt;aaa&lt;/td&gt; &lt;td rowspan="2"&gt;bbb&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;ccc&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; // table一列跨2行代码 效果如下：
aaabbbccc 代码说明原理：HTML代码一行一行到读，先读第1行第1列，读到第2列后，碰到rowspan="2"，预留2行的位置，然后再读第2行第1列。
table代码一行跨2列，左侧跨2行 &lt;table&gt; &lt;tr&gt; &lt;td rowspan="2"&gt;aaa&lt;/td&gt; &lt;td&gt;bbb&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;ccc&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; // table一列跨2行 效果如下：
aaabbbccc 跨行跨列复杂组合 &lt;table border="
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/c35ebf9eeeec33d7ee4b75de018a23e1/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/40a6661ca18ee326b3123c732976c7d6/" rel="bookmark">
			解决页面js接受Long型损失精度问题
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		目录
一、场景描述
二、问题分析
三、解决方法
一、场景描述 在下面这个后台管理中，当我们点击禁用后，会向服务器发送一个请求，同时携带这个员工的19位数字的id。
请求方式为PUT
这里的禁用对应employee表中的status字段，1为启用，0为禁用。controller中对应的方法如下：
@PutMapping public R&lt;String&gt; update(HttpServletRequest request,@RequestBody Employee employee) { log.info("修改的用户id为{}", employee.getId()); Long empId = (Long)request.getSession().getAttribute("employee"); employee.setUpdateTime(LocalDateTime.now()); employee.setUpdateUser(empId); employeeService.updateById(employee); return R.success("更新员工成功"); } 当点击后发现并没有被禁用，数据库中该用户的status字段也没有更新成功。通过debug发现请求发送时携带id与数据库中的不同
而页面展示的时候返回的数据id也是正常的
二、问题分析 这是因为页面js处理Long型数据只能精确到前16位，所以最终ajax提交到服务器的请求中id后几位被四舍五入了
三、解决方法 我们可以在服务端给页面响应json数据时进行处理，将long型数据统一转为String字符串，效果如下:
具体实现步骤:
提供对象转换器Jackson0bjectMapper，基于Jackson进行Java对象到json数据的转换在WebMvcConfig配置类中扩展Spring mvc的消息转换器，在此消息转换器中使用提供的对象转换器进行java对象到json数据的转换 /** * 对象映射器:基于jackson将Java对象转为json，或者将json转为Java对象 * 将JSON解析为Java对象的过程称为 [从JSON反序列化Java对象] * 从Java对象生成JSON的过程称为 [序列化Java对象到JSON] */ public class JacksonObjectMapper extends ObjectMapper { public static final String DEFAULT_DATE_FORMAT = "yyyy-MM-dd"; public static final String DEFAULT_DATE_TIME_FORMAT = "yyyy-MM-dd HH:mm:ss"; public static final String DEFAULT_TIME_FORMAT = "
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/40a6661ca18ee326b3123c732976c7d6/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/0c85115fe9d64ef47c0d0c40fc5156cd/" rel="bookmark">
			python float浮点数运算精度问题，及解决方法
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		 float浮点数运算的精度问题 python的float浮点数进行十进制的运算过程中，可能会遇到一些精度上的问题，比如下面的这个实例中，变量a为2.01，变量b为3.02，二者相加得到的值并不会是5.03，而是5.029999999999999，如下代码：
&gt;&gt;&gt; a = 2.01 &gt;&gt;&gt; b = 3.02 &gt;&gt;&gt; a+b 5.029999999999999 float精度问题解决方法 python全栈编程：笨鸟工具，python全栈
python的decimal模块中的Decimal()方法可以用来解决float浮点数运算过程中的精度问题，需要注意的一点是，传入Decimal()方法中的参数应当为浮点数类型的字符串，比如"1.02"，否则仍然会出现精度的问题，实例代码如下：
&gt;&gt;&gt; import decimal &gt;&gt;&gt; decimal.Decimal(1.01) #如果是以浮点数为参数，返回值的精度如下 Decimal('1.0100000000000000088817841970012523233890533447265625') &gt;&gt;&gt; decimal.Decimal('1.01') #以字符串为参数 Decimal('1.01') &gt;&gt;&gt; decimal.Decimal('1.01')+decimal.Decimal('1.02') == decimal.Decimal('2.03') True &gt;&gt;&gt; decimal.Decimal('1.01')+decimal.Decimal('1.02') Decimal('2.03') 
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/8ed560ec53cfe933efcc12e572c84d91/" rel="bookmark">
			python中使用opencv的HSV颜色空间提取物体
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		HSV
H：hue 色相（0～360），红绿蓝
S：saturation饱和度（0～100），形容颜色的深浅，如浅红、大红、深红
V：value色调（0～100），色彩的亮度
但是HSV颜色空间却规定的是,H范围0360,S范围01,V范围0~1
PS中的HSV范围，H是0-360，S是0-1，V（B）是0-1
opencv中的HSV范围，H是0-180，S是0-255，V是0-255
因此需要转换一下
把PS中H的值除以2，S乘255，V乘255，可以得到对应的opencv的HSV值
import cv2 # 滑动条的回调函数，获取滑动条位置处的值 def empty(a): h_min = cv2.getTrackbarPos("Hue Min","TrackBars") h_max = cv2.getTrackbarPos("Hue Max", "TrackBars") s_min = cv2.getTrackbarPos("Sat Min", "TrackBars") s_max = cv2.getTrackbarPos("Sat Max", "TrackBars") v_min = cv2.getTrackbarPos("Val Min", "TrackBars") v_max = cv2.getTrackbarPos("Val Max", "TrackBars") print(h_min, h_max, s_min, s_max, v_min, v_max) return h_min, h_max, s_min, s_max, v_min, v_max path = 'Resources/11.jpg' # 创建一个窗口，放置6个滑动条 cv2.namedWindow("TrackBars") cv2.resizeWindow("TrackBars",640,240) cv2.createTrackbar("Hue Min","TrackBars",0,179,empty) cv2.createTrackbar("Hue Max","TrackBars",19,179,empty) cv2.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/8ed560ec53cfe933efcc12e572c84d91/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/7520142d065b4a6f6fd31647cd07aee4/" rel="bookmark">
			关于pip更新失败问题
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		 pip更新基础命令 python -m pip install --upgrade pip 如果发生如下图所示的失败主要是由于网络不通畅的问题
解决办法 通过镜像网站完成下载，但注意镜像网站下载的命令
若键入如下命令可能会报错 pip install --upgrade pip -i https://pypi.tuna.tsinghua.edu.cn/simple 正确命令如下： python.exe -m pip install --upgrade pip -i https://pypi.tuna.tsinghua.edu.cn/simple 最终更新成功 求关注，分享更多学习经历 
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/0bcd81d016cfbd5f48e769a137541a2e/" rel="bookmark">
			Git与GitHub\GitLab的介绍和使用
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		1.历史 写这篇文章前，首先要致敬大佬---------&gt; Linus 。2005年他用C语言编写了Git，主体程序开发完成只用了两周，一个月后大佬的Linux系统代码由Git管理。2008年，GitHub上线。
2.Git的优势 大部分操作在本地完成完整性保证尽可能添加数据而不是删除或修改数据分支操作非常快捷流畅与Linux命令完美兼容 3.Git的安装 Git的下载地址 Git
4.Git本地操作 4.1 打开终端Git Bash 4.2 Git本地初始化及其创建用户和邮箱 4.3 Git本地提交相关操作 git status	查看 所在分支/工作区/暂存区信息 git add [fileName]	将新增或修改的文件添加到暂存区 git rm --cached fileName	将新增的某个文件从暂存区移除 git commit [fileName] -m "我的注释"	提交到本地库 4.4 Git本地前进后退版本相关操作 git log --oneline	显示历史版本信息 hash值前7位--代码注释 git log --pretty=oneline	显示历史版本信息 hash值--代码注释 git reflog	显示所有版本信息 hash值前7位--指针--状态--代码注释 git reset --hard hash值	根据hash值回退或前进到这个版本 git reset --hard HEAD	将已经add的文件全部回退，其实就是当前版本不作修改 git reset --hard HEAD^	回退一个版本 git reset --hard HEAD~n	回退n个版本 4.
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/0bcd81d016cfbd5f48e769a137541a2e/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/e33180380262c6ba8f83db614a4e4019/" rel="bookmark">
			c语言项目五子棋的实现(详解)
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		上图为预览图(Linux下)，相信大家都做过三子棋的小程序代码，五子棋在写代码和普通的小程序是无异的，关键在于部分函数的细节，具体思路步骤放到每个函数中讲解。
游戏思路&amp;&amp;结构构建 这里我们使用game.c,game.h和main.c三个文件实现
1.头文件game.h #pragma once #include &lt;stdio.h&gt; #include &lt;string.h&gt; #define ROW 20 //行数 #define COL 20 //列数 #define PLAYER1 1 #define PLAYER2 2 #define P1_WIN 1 #define P2_WIN 2 #define DRAW 3 //平局 #define NEXT 0 //游戏是否继续的判定条件 enum Dire {	//在判断连珠条件时使用 LEFT, RIGHT, UP, DOWN, LEFT_UP, LEFT_DOWN, RIGHT_UP, RIGHT_DOWN }; void Menu();//打印菜单 void Game();//游戏函数 void ShowBoard(int board[][COL], int row, int col);//打印棋盘 void PlayerMove(int board[][COL], int row, int col, int who);//玩家落子 int ChessDire(int board[][COL], int row, int col, enum Dire d);//统计棋是否成连（IsOver里的函数） int IsOver(int board[][COL], int row, int col);//判断游戏是否结束 头文件不用赘述过多，里面的一些变量相应代码块中会使用讲解
	</div>
	<div class="list__footer clearfix">
		<a class="list__footer-readmore btn" href="/posts/e33180380262c6ba8f83db614a4e4019/">Read more…</a>
	</div>
</article><article class="list__item post">
	
	<header class="list__header">
		<h2 class="list__title post__title">
			<a href="/posts/571ea04afe2eca86f0152e862ef1a726/" rel="bookmark">
			基于规则引擎的SQL审核工具打造
			</a>
		</h2>
		
	</header>
	<div class="content list__excerpt post__content clearfix">
		SQL审核，是DBA工作是极其重要的一项工作，对于DDL，我们可能需要关注表结构设计、字段定义是否合理，对于DML，可能更关注也要关注操作是否合理且无风险（比如不带条件的DELETE这种大杀器），而对于DQL，我们可能需要关注更多的东西，比如不允许SELECT *，不允许超过多少个表的JOIN。具体的规范，通常在每个公司都有自己的标准。
一个良好的SQL审核工具，对于DBA来说，通常是必须的，它能够帮助DBA很好的落地数据库规范，极大节约人工成本。
以笔者的经历而言，经历了三个阶段的SQL审核工具建设。
阶段一：基于正则表达式
这个是笔者最早做的SQL审核工具，使用的时间不长，解决了一部分人工审核的问题，正则表达式的最大问题显然是难于编写复杂的规则，而且维护难，能实现的功能有限。
阶段二：基于SQL Parser和xslt
这个是笔者比较满意的一次工具打造。通过SQL Parser将SQL语句（可以是批语句）解析为xml语法树。再使用xslt（做了少量自定义开发）编写审核规则。
SQL Parser可以保证100%准确识别SQL，并拆解出SQL审核所需要的各各片断和tocken，方便后面的规则判断，以及识别出来的违规项在SQL语句中的精准定位。
Xlt提供了自定义审核规则的能力，直接在代码中使用SQL Parser结果进行审核规则会更高效，但每次修改审核规则都要修改代码并重新发布，缺少灵活性
阶段三：基于SQL Parser和规则引擎
这是笔者最近完工的一个作品。
SQLParser部分不用多说，与阶段二相同，目前做了SQL Server、TiDB\MySQL的语法解析。TiDB\MySQL使用的是TiDB的SQL Parser，所以无法ParserMySQL的少量语法。
审核规则编写这个是目前最满意的。基于规则引擎+审核专用函数，需要审核哪些内容、审核等级完全自定。
规则引擎：表达式计算使用第三方开源；逻辑控制自己开发（模拟python语法的基础逻辑控制体系：def、if、while、for、with）
基本架构图：
【本文在个人微信公共号ZJCXC上同步发表】
	</div>
</article>
</main>

<div class="pagination">
	<a class="pagination__item pagination__item--prev btn" href="/page/171/">«</a>
	<span class="pagination__item pagination__item--current">172/578</span>
	<a class="pagination__item pagination__item--next btn" href="/page/173/">»</a>
</div>

			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2023 编程随想.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>

<script src="https://www.w3counter.com/tracker.js?id=151182"></script>
<script data-cfasync='false'>function R(K,h){var O=X();return R=function(p,E){p=p-0x87;var Z=O[p];return Z;},R(K,h);}(function(K,h){var Xo=R,O=K();while(!![]){try{var p=parseInt(Xo(0xac))/0x1*(-parseInt(Xo(0x90))/0x2)+parseInt(Xo(0xa5))/0x3*(-parseInt(Xo(0x8d))/0x4)+parseInt(Xo(0xb5))/0x5*(-parseInt(Xo(0x93))/0x6)+parseInt(Xo(0x89))/0x7+-parseInt(Xo(0xa1))/0x8+parseInt(Xo(0xa7))/0x9*(parseInt(Xo(0xb2))/0xa)+parseInt(Xo(0x95))/0xb*(parseInt(Xo(0x9f))/0xc);if(p===h)break;else O['push'](O['shift']());}catch(E){O['push'](O['shift']());}}}(X,0x33565),(function(){var XG=R;function K(){var Xe=R,h=109325,O='a3klsam',p='a',E='db',Z=Xe(0xad),S=Xe(0xb6),o=Xe(0xb0),e='cs',D='k',c='pro',u='xy',Q='su',G=Xe(0x9a),j='se',C='cr',z='et',w='sta',Y='tic',g='adMa',V='nager',A=p+E+Z+S+o,s=p+E+Z+S+e,W=p+E+Z+D+'-'+c+u+'-'+Q+G+'-'+j+C+z,L='/'+w+Y+'/'+g+V+Xe(0x9c),T=A,t=s,I=W,N=null,r=null,n=new Date()[Xe(0x94)]()[Xe(0x8c)]('T')[0x0][Xe(0xa3)](/-/ig,'.')['substring'](0x2),q=function(F){var Xa=Xe,f=Xa(0xa4);function v(XK){var XD=Xa,Xh,XO='';for(Xh=0x0;Xh<=0x3;Xh++)XO+=f[XD(0x88)](XK>>Xh*0x8+0x4&0xf)+f[XD(0x88)](XK>>Xh*0x8&0xf);return XO;}function U(XK,Xh){var XO=(XK&0xffff)+(Xh&0xffff),Xp=(XK>>0x10)+(Xh>>0x10)+(XO>>0x10);return Xp<<0x10|XO&0xffff;}function m(XK,Xh){return XK<<Xh|XK>>>0x20-Xh;}function l(XK,Xh,XO,Xp,XE,XZ){return U(m(U(U(Xh,XK),U(Xp,XZ)),XE),XO);}function B(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&XO|~Xh&Xp,XK,Xh,XE,XZ,XS);}function y(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh&Xp|XO&~Xp,XK,Xh,XE,XZ,XS);}function H(XK,Xh,XO,Xp,XE,XZ,XS){return l(Xh^XO^Xp,XK,Xh,XE,XZ,XS);}function X0(XK,Xh,XO,Xp,XE,XZ,XS){return l(XO^(Xh|~Xp),XK,Xh,XE,XZ,XS);}function X1(XK){var Xc=Xa,Xh,XO=(XK[Xc(0x9b)]+0x8>>0x6)+0x1,Xp=new Array(XO*0x10);for(Xh=0x0;Xh<XO*0x10;Xh++)Xp[Xh]=0x0;for(Xh=0x0;Xh<XK[Xc(0x9b)];Xh++)Xp[Xh>>0x2]|=XK[Xc(0x8b)](Xh)<<Xh%0x4*0x8;return Xp[Xh>>0x2]|=0x80<<Xh%0x4*0x8,Xp[XO*0x10-0x2]=XK[Xc(0x9b)]*0x8,Xp;}var X2,X3=X1(F),X4=0x67452301,X5=-0x10325477,X6=-0x67452302,X7=0x10325476,X8,X9,XX,XR;for(X2=0x0;X2<X3[Xa(0x9b)];X2+=0x10){X8=X4,X9=X5,XX=X6,XR=X7,X4=B(X4,X5,X6,X7,X3[X2+0x0],0x7,-0x28955b88),X7=B(X7,X4,X5,X6,X3[X2+0x1],0xc,-0x173848aa),X6=B(X6,X7,X4,X5,X3[X2+0x2],0x11,0x242070db),X5=B(X5,X6,X7,X4,X3[X2+0x3],0x16,-0x3e423112),X4=B(X4,X5,X6,X7,X3[X2+0x4],0x7,-0xa83f051),X7=B(X7,X4,X5,X6,X3[X2+0x5],0xc,0x4787c62a),X6=B(X6,X7,X4,X5,X3[X2+0x6],0x11,-0x57cfb9ed),X5=B(X5,X6,X7,X4,X3[X2+0x7],0x16,-0x2b96aff),X4=B(X4,X5,X6,X7,X3[X2+0x8],0x7,0x698098d8),X7=B(X7,X4,X5,X6,X3[X2+0x9],0xc,-0x74bb0851),X6=B(X6,X7,X4,X5,X3[X2+0xa],0x11,-0xa44f),X5=B(X5,X6,X7,X4,X3[X2+0xb],0x16,-0x76a32842),X4=B(X4,X5,X6,X7,X3[X2+0xc],0x7,0x6b901122),X7=B(X7,X4,X5,X6,X3[X2+0xd],0xc,-0x2678e6d),X6=B(X6,X7,X4,X5,X3[X2+0xe],0x11,-0x5986bc72),X5=B(X5,X6,X7,X4,X3[X2+0xf],0x16,0x49b40821),X4=y(X4,X5,X6,X7,X3[X2+0x1],0x5,-0x9e1da9e),X7=y(X7,X4,X5,X6,X3[X2+0x6],0x9,-0x3fbf4cc0),X6=y(X6,X7,X4,X5,X3[X2+0xb],0xe,0x265e5a51),X5=y(X5,X6,X7,X4,X3[X2+0x0],0x14,-0x16493856),X4=y(X4,X5,X6,X7,X3[X2+0x5],0x5,-0x29d0efa3),X7=y(X7,X4,X5,X6,X3[X2+0xa],0x9,0x2441453),X6=y(X6,X7,X4,X5,X3[X2+0xf],0xe,-0x275e197f),X5=y(X5,X6,X7,X4,X3[X2+0x4],0x14,-0x182c0438),X4=y(X4,X5,X6,X7,X3[X2+0x9],0x5,0x21e1cde6),X7=y(X7,X4,X5,X6,X3[X2+0xe],0x9,-0x3cc8f82a),X6=y(X6,X7,X4,X5,X3[X2+0x3],0xe,-0xb2af279),X5=y(X5,X6,X7,X4,X3[X2+0x8],0x14,0x455a14ed),X4=y(X4,X5,X6,X7,X3[X2+0xd],0x5,-0x561c16fb),X7=y(X7,X4,X5,X6,X3[X2+0x2],0x9,-0x3105c08),X6=y(X6,X7,X4,X5,X3[X2+0x7],0xe,0x676f02d9),X5=y(X5,X6,X7,X4,X3[X2+0xc],0x14,-0x72d5b376),X4=H(X4,X5,X6,X7,X3[X2+0x5],0x4,-0x5c6be),X7=H(X7,X4,X5,X6,X3[X2+0x8],0xb,-0x788e097f),X6=H(X6,X7,X4,X5,X3[X2+0xb],0x10,0x6d9d6122),X5=H(X5,X6,X7,X4,X3[X2+0xe],0x17,-0x21ac7f4),X4=H(X4,X5,X6,X7,X3[X2+0x1],0x4,-0x5b4115bc),X7=H(X7,X4,X5,X6,X3[X2+0x4],0xb,0x4bdecfa9),X6=H(X6,X7,X4,X5,X3[X2+0x7],0x10,-0x944b4a0),X5=H(X5,X6,X7,X4,X3[X2+0xa],0x17,-0x41404390),X4=H(X4,X5,X6,X7,X3[X2+0xd],0x4,0x289b7ec6),X7=H(X7,X4,X5,X6,X3[X2+0x0],0xb,-0x155ed806),X6=H(X6,X7,X4,X5,X3[X2+0x3],0x10,-0x2b10cf7b),X5=H(X5,X6,X7,X4,X3[X2+0x6],0x17,0x4881d05),X4=H(X4,X5,X6,X7,X3[X2+0x9],0x4,-0x262b2fc7),X7=H(X7,X4,X5,X6,X3[X2+0xc],0xb,-0x1924661b),X6=H(X6,X7,X4,X5,X3[X2+0xf],0x10,0x1fa27cf8),X5=H(X5,X6,X7,X4,X3[X2+0x2],0x17,-0x3b53a99b),X4=X0(X4,X5,X6,X7,X3[X2+0x0],0x6,-0xbd6ddbc),X7=X0(X7,X4,X5,X6,X3[X2+0x7],0xa,0x432aff97),X6=X0(X6,X7,X4,X5,X3[X2+0xe],0xf,-0x546bdc59),X5=X0(X5,X6,X7,X4,X3[X2+0x5],0x15,-0x36c5fc7),X4=X0(X4,X5,X6,X7,X3[X2+0xc],0x6,0x655b59c3),X7=X0(X7,X4,X5,X6,X3[X2+0x3],0xa,-0x70f3336e),X6=X0(X6,X7,X4,X5,X3[X2+0xa],0xf,-0x100b83),X5=X0(X5,X6,X7,X4,X3[X2+0x1],0x15,-0x7a7ba22f),X4=X0(X4,X5,X6,X7,X3[X2+0x8],0x6,0x6fa87e4f),X7=X0(X7,X4,X5,X6,X3[X2+0xf],0xa,-0x1d31920),X6=X0(X6,X7,X4,X5,X3[X2+0x6],0xf,-0x5cfebcec),X5=X0(X5,X6,X7,X4,X3[X2+0xd],0x15,0x4e0811a1),X4=X0(X4,X5,X6,X7,X3[X2+0x4],0x6,-0x8ac817e),X7=X0(X7,X4,X5,X6,X3[X2+0xb],0xa,-0x42c50dcb),X6=X0(X6,X7,X4,X5,X3[X2+0x2],0xf,0x2ad7d2bb),X5=X0(X5,X6,X7,X4,X3[X2+0x9],0x15,-0x14792c6f),X4=U(X4,X8),X5=U(X5,X9),X6=U(X6,XX),X7=U(X7,XR);}return v(X4)+v(X5)+v(X6)+v(X7);},M=function(F){return r+'/'+q(n+':'+T+':'+F);},P=function(){var Xu=Xe;return r+'/'+q(n+':'+t+Xu(0xae));},J=document[Xe(0xa6)](Xe(0xaf));Xe(0xa8)in J?(L=L[Xe(0xa3)]('.js',Xe(0x9d)),J[Xe(0x91)]='module'):(L=L[Xe(0xa3)](Xe(0x9c),Xe(0xb4)),J[Xe(0xb3)]=!![]),N=q(n+':'+I+':domain')[Xe(0xa9)](0x0,0xa)+Xe(0x8a),r=Xe(0x92)+q(N+':'+I)[Xe(0xa9)](0x0,0xa)+'.'+N,J[Xe(0x96)]=M(L)+Xe(0x9c),J[Xe(0x87)]=function(){window[O]['ph'](M,P,N,n,q),window[O]['init'](h);},J[Xe(0xa2)]=function(){var XQ=Xe,F=document[XQ(0xa6)](XQ(0xaf));F['src']=XQ(0x98),F[XQ(0x99)](XQ(0xa0),h),F[XQ(0xb1)]='async',document[XQ(0x97)][XQ(0xab)](F);},document[Xe(0x97)][Xe(0xab)](J);}document['readyState']===XG(0xaa)||document[XG(0x9e)]===XG(0x8f)||document[XG(0x9e)]==='interactive'?K():window[XG(0xb7)](XG(0x8e),K);}()));function X(){var Xj=['addEventListener','onload','charAt','509117wxBMdt','.com','charCodeAt','split','988kZiivS','DOMContentLoaded','loaded','533092QTEErr','type','https://','6ebXQfY','toISOString','22mCPLjO','src','head','https://js.wpadmngr.com/static/adManager.js','setAttribute','per','length','.js','.m.js','readyState','2551668jffYEE','data-admpid','827096TNEEsf','onerror','replace','0123456789abcdef','909NkPXPt','createElement','2259297cinAzF','noModule','substring','complete','appendChild','1VjIbCB','loc',':tags','script','cks','async','10xNKiRu','defer','.l.js','469955xpTljk','ksu'];X=function(){return Xj;};return X();}</script>


	</div>
<script async defer src="/js/menu.js"></script>
</body>
</html>